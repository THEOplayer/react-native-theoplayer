/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2023.1.0 (4.6.0)
 Created: 2023-01-11T13:49:05.742Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,a=t.setTimeout,h=t.clearTimeout,c=t.setInterval,f=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),w=t.Math,_=t.parseInt,g=t.parseFloat,y=t.isNaN,m=t.Uint8Array,k=t.Worker,p=(t.WorkerGlobalScope,t.XMLHttpRequest);function A(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function b(t,n,i){return n&&A(t.prototype,n),i&&A(t,i),l.defineProperty(t,"prototype",{writable:!1}),t}function T(t,n){return(T=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function S(t,n){t.prototype=l.create(n.prototype),t.prototype.constructor=t,T(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.M="chromecast"}(e||(e={}));var E=o?o.userAgent:"",I=E.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),R=E.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),N=E.match(/Android ([0-9\.]+)/i),D=E.match(/Windows NT ([0-9\.]+)/i),C=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),O=E.match(/Firefox\/([0-9\.]+)/i),P=E.match(/OPR\/(\d+\.\d+)/i),B=E.match(/Tizen ([0-9\.]+)/i),L=E.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),x=function(){function n(){this.U=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.F=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.V=/Windows NT/i.test(E),this.G=D?g(D[1]):0,this.Y=/Android/i.test(E),this.j=N?g(N[1]):0,this.Z=/windows phone (8|8\.1)/i.test(E),this.J=/iPhone/i.test(E),this.K=/iPad/i.test(E),this.nt=this.F&&this.U&&!this.K,this.ut=/iPod/i.test(E),this.ot=/Mobile Safari/i.test(E),this.ct=/EOSSTB/i.test(E),this.ft=(this.J||this.K||this.nt||this.ut)&&!this.Z,this.vt=L?g(L[2]):0,this.dt=this.Z||this.ft||this.Y||this.ot,this.wt=/CriOS/i.test(E),this._t=Boolean(t.chrome&&/google/i.test(o.vendor))||this.wt,this.yt=this._t&&/Edg\//i.test(o.userAgent),this.kt=R?_(R[1],10):0,this.At=Boolean(t.chrome||/Chrome/i.test(E)||/CriOS/i.test(E)),this.bt=I?_(I[1],10):0,this.Tt=/SMART-TV.*Tizen/i.test(E),this.St=B?g(B[1]):0,this.Et=/webos|web0s/i.test(E),this.It=/Edge\/\d+/i.test(E),this.Rt=/Trident/i.test(E),this.Nt=this.Rt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Dt=/Vivaldi/i.test(E),this.Ct=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this.Ot=O?g(O[1]):0,this.Pt=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.Z&&!this.Tt,this.Bt=C?g(C[2]):0,this.Lt=Boolean(P),this.xt=P?g(P[1]):0,this.Mt=/CrKey/.test(E),this.Ut=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(E),this.Ft="ios"===e.I,this.Ht="ios"===e.g,this.Xt=this.Ht||this.Ft,this.Vt="ios"===e.R,this.zt="ios"===e.N,this.Gt="ios"===e.M}return b(n,[{key:"Wt",get:function(){return this.U}},{key:"qt",get:function(){return this.F}},{key:"Yt",get:function(){return this.V}},{key:"jt",get:function(){return this.G}},{key:"Qt",get:function(){return this.Y}},{key:"Zt",get:function(){return this.j}},{key:"Jt",get:function(){return this.Z}},{key:"Kt",get:function(){return this.J}},{key:"$t",get:function(){return this.K}},{key:"in",get:function(){return this.nt}},{key:"un",get:function(){return this.ut}},{key:"hn",get:function(){return this.ft}},{key:"cn",get:function(){return this.vt}},{key:"fn",get:function(){return this.ct}},{key:"vn",get:function(){return this.ot}},{key:"dn",get:function(){return this.dt}},{key:"wn",get:function(){return this.wt}},{key:"_n",get:function(){return this._t}},{key:"yn",get:function(){return this.bt}},{key:"pn",get:function(){return this.yt}},{key:"An",get:function(){return this.kt}},{key:"Tn",get:function(){return this.Tt}},{key:"Sn",get:function(){return this.St}},{key:"En",get:function(){return this.Et}},{key:"In",get:function(){return this.It}},{key:"Rn",get:function(){return this.Rt}},{key:"Nn",get:function(){return this.Nt}},{key:"Dn",get:function(){return this.Dt}},{key:"Cn",get:function(){return this.Ct}},{key:"On",get:function(){return this.Ot}},{key:"Pn",get:function(){return this.Pt}},{key:"Bn",get:function(){return this.Bt}},{key:"Ln",get:function(){return this.Lt}},{key:"xn",get:function(){return this.xt}},{key:"Mn",get:function(){return this.Mt}},{key:"Un",get:function(){return this.Ut}},{key:"Fn",get:function(){return!(!this.En&&!this.Tn)&&this.yn<=56}},{key:"Hn",get:function(){return this.Ft}},{key:"Xn",get:function(){return this.Ht}},{key:"Vn",get:function(){return this.Xt}},{key:"zn",get:function(){return this.Vt}},{key:"Gn",get:function(){return this.zt}},{key:"Wn",get:function(){return this.Gt}},{key:"qn",get:function(){return this.At}}]),n}();x.Yn=new x;var M=x.Yn,U={}.hasOwnProperty,F={}.toString;function H(t){return null!=t}function X(t){return void 0===t}var V=Array.isArray||function(t){return"[object Array]"===F.call(t)};function z(t){return G(t)&&U.call(t,"length")&&Z(t.length)}function G(t){return"object"==typeof t&&null!==t}function W(t){return G(t)&&t.constructor&&t.constructor===l}function q(t){return"string"==typeof t}function Y(t){return"boolean"==typeof t}function j(t){return Boolean(t)&&"function"==typeof t.then}function Q(t){return"[object Date]"===F.call(t)}function Z(t){return"number"==typeof t}var J=function(){},K=function(t){return t};function $(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var a=this,h=e&&!r;void 0!==r&&i.jn(r),r=i.Qn(function(){r=void 0,e||t.apply(a,u)},n),h&&t.apply(a,u)}}var tt=!(M.Rn&&!M.Nn),nt=t.console;function it(t){if(G(t))try{return JSON.stringify(t)}catch(t){}return t}function et(t){return t.map(it).join(" ")}function rt(t){var n=nt&&nt[t];return n?n.bind&&tt?n.bind(nt):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];nt[t](et(i))}:void 0}var st,ut=rt("log")||J,ot=rt("warn")||ut.bind(void 0,"WARNING:"),at=rt("error")||ut.bind(void 0,"ERROR:"),ht=(st=nt&&nt.assert)?st.bind&&tt?st.bind(nt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];nt.assert(t,et(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];at.apply(void 0,["Assertion failed:"].concat(i))}},ct=null;try{ct=new WebAssembly.Instance(new WebAssembly.Module(new m([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function ft(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function vt(t){return!0===(t&&t.Zn)}function dt(t){var n=w.clz32(t&-t);return t?31-n:n}ft.prototype.Zn,l.defineProperty(ft.prototype,"Zn",{value:!0}),ft.isLong=vt;var lt={},wt={};function _t(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=wt[t])?e:(i=yt(t,0,!0),r&&(wt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=lt[t])?e:(i=yt(t,t<0?-1:0,!1),r&&(lt[t]=i),i)}function gt(t,n){if(y(t))return n?It:Et;if(n){if(t<0)return It;if(t>=bt)return Ot}else{if(t<=-Tt)return Pt;if(t+1>=Tt)return Ct}return t<0?gt(-t,n).neg():yt(t%At|0,t/At|0,n)}function yt(t,n,i){return new ft(t,n,i)}ft.fromInt=_t,ft.fromNumber=gt,ft.fromBits=yt;var mt=w.pow;function kt(t,n,i){if(0===t.length)throw v("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?It:Et;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw v("interior hyphen");if(0===e)return kt(t.substring(1),n,i).neg();for(var r=gt(mt(i,8)),s=Et,u=0;u<t.length;u+=8){var o=w.min(8,t.length-u),a=_(t.substring(u,u+o),i);if(o<8){var h=gt(mt(i,o));s=s.mul(h).add(gt(a))}else s=(s=s.mul(r)).add(gt(a))}return s.unsigned=n,s}function pt(t,n){return"number"==typeof t?gt(t,n):"string"==typeof t?kt(t,n):yt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}ft.fromString=kt,ft.fromValue=pt;var At=4294967296,bt=At*At,Tt=bt/2,St=_t(1<<24),Et=_t(0);ft.ZERO=Et;var It=_t(0,!0);ft.UZERO=It;var Rt=_t(1);ft.ONE=Rt;var Nt=_t(1,!0);ft.UONE=Nt;var Dt=_t(-1);ft.NEG_ONE=Dt;var Ct=yt(-1,2147483647,!1);ft.MAX_VALUE=Ct;var Ot=yt(-1,-1,!0);ft.MAX_UNSIGNED_VALUE=Ot;var Pt=yt(0,-2147483648,!1);ft.MIN_VALUE=Pt;var Bt=ft.prototype;Bt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Bt.toNumber=function(){return this.unsigned?(this.high>>>0)*At+(this.low>>>0):this.high*At+(this.low>>>0)},Bt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Pt)){var n=gt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=gt(mt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},Bt.getHighBits=function(){return this.high},Bt.getHighBitsUnsigned=function(){return this.high>>>0},Bt.getLowBits=function(){return this.low},Bt.getLowBitsUnsigned=function(){return this.low>>>0},Bt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Pt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Bt.isZero=function(){return 0===this.high&&0===this.low},Bt.eqz=Bt.isZero,Bt.isNegative=function(){return!this.unsigned&&this.high<0},Bt.isPositive=function(){return this.unsigned||this.high>=0},Bt.isOdd=function(){return 1==(1&this.low)},Bt.isEven=function(){return 0==(1&this.low)},Bt.equals=function(t){return vt(t)||(t=pt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Bt.eq=Bt.equals,Bt.notEquals=function(t){return!this.eq(t)},Bt.neq=Bt.notEquals,Bt.ne=Bt.notEquals,Bt.lessThan=function(t){return this.comp(t)<0},Bt.lt=Bt.lessThan,Bt.lessThanOrEqual=function(t){return this.comp(t)<=0},Bt.lte=Bt.lessThanOrEqual,Bt.le=Bt.lessThanOrEqual,Bt.greaterThan=function(t){return this.comp(t)>0},Bt.gt=Bt.greaterThan,Bt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Bt.gte=Bt.greaterThanOrEqual,Bt.ge=Bt.greaterThanOrEqual,Bt.compare=function(t){if(vt(t)||(t=pt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Bt.comp=Bt.compare,Bt.negate=function(){return!this.unsigned&&this.eq(Pt)?Pt:this.not().add(Rt)},Bt.neg=Bt.negate,Bt.add=function(t){vt(t)||(t=pt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=0,h=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,h+=(c+=e+o)>>>16,a+=(h+=i+u)>>>16,a+=n+s,yt((c&=65535)<<16|(f&=65535),(a&=65535)<<16|(h&=65535),this.unsigned)},Bt.subtract=function(t){return vt(t)||(t=pt(t)),this.add(t.neg())},Bt.sub=Bt.subtract,Bt.multiply=function(t){if(this.isZero())return this;if(vt(t)||(t=pt(t)),ct)return yt(ct.mul(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned);if(t.isZero())return this.unsigned?It:Et;if(this.eq(Pt))return t.isOdd()?Pt:Et;if(t.eq(Pt))return this.isOdd()?Pt:Et;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(St)&&t.lt(St))return gt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=65535&t.low,h=0,c=0,f=0,v=0;return f+=(v+=r*a)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=r*o)>>>16,h+=(c+=i*a)>>>16,c&=65535,h+=(c+=e*o)>>>16,c&=65535,h+=(c+=r*u)>>>16,h+=n*a+i*o+e*u+r*s,yt((f&=65535)<<16|(v&=65535),(h&=65535)<<16|(c&=65535),this.unsigned)},Bt.mul=Bt.multiply,Bt.divide=function(t){if(vt(t)||(t=pt(t)),t.isZero())throw v("division by zero");var n,i,e;if(ct)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?yt((this.unsigned?ct.div_u:ct.div_s)(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?It:Et;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return It;if(t.gt(this.shru(1)))return Nt;e=It}else{if(this.eq(Pt))return t.eq(Rt)||t.eq(Dt)?Pt:t.eq(Pt)?Rt:(n=this.shr(1).div(t).shl(1)).eq(Et)?t.isNegative()?Rt:Dt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Pt))return this.unsigned?It:Et;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Et}for(i=this;i.gte(t);){n=w.max(1,w.floor(i.toNumber()/t.toNumber()));for(var r=w.ceil(w.log(n)/w.LN2),s=r<=48?1:mt(2,r-48),u=gt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=gt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Rt),e=e.add(u),i=i.sub(o)}return e},Bt.div=Bt.divide,Bt.modulo=function(t){return vt(t)||(t=pt(t)),ct?yt((this.unsigned?ct.rem_u:ct.rem_s)(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Bt.mod=Bt.modulo,Bt.rem=Bt.modulo,Bt.not=function(){return yt(~this.low,~this.high,this.unsigned)},Bt.countLeadingZeros=function(){return this.high?w.clz32(this.high):w.clz32(this.low)+32},Bt.clz=Bt.countLeadingZeros,Bt.countTrailingZeros=function(){return this.low?dt(this.low):dt(this.high)+32},Bt.ctz=Bt.countTrailingZeros,Bt.and=function(t){return vt(t)||(t=pt(t)),yt(this.low&t.low,this.high&t.high,this.unsigned)},Bt.or=function(t){return vt(t)||(t=pt(t)),yt(this.low|t.low,this.high|t.high,this.unsigned)},Bt.xor=function(t){return vt(t)||(t=pt(t)),yt(this.low^t.low,this.high^t.high,this.unsigned)},Bt.shiftLeft=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?yt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):yt(0,this.low<<t-32,this.unsigned)},Bt.shl=Bt.shiftLeft,Bt.shiftRight=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?yt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):yt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Bt.shr=Bt.shiftRight,Bt.shiftRightUnsigned=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?yt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):yt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Bt.shru=Bt.shiftRightUnsigned,Bt.shr_u=Bt.shiftRightUnsigned,Bt.rotateLeft=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?yt(this.high,this.low,this.unsigned):t<32?(n=32-t,yt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),yt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Bt.rotl=Bt.rotateLeft,Bt.rotateRight=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?yt(this.high,this.low,this.unsigned):t<32?(n=32-t,yt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),yt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Bt.rotr=Bt.rotateRight,Bt.toSigned=function(){return this.unsigned?yt(this.low,this.high,!1):this},Bt.toUnsigned=function(){return this.unsigned?this:yt(this.low,this.high,!0)},Bt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Bt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Bt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},ft.fromBytes=function(t,n,i){return i?ft.fromBytesLE(t,n):ft.fromBytesBE(t,n)},ft.fromBytesLE=function(t,n){return new ft(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},ft.fromBytesBE=function(t,n){return new ft(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Lt=9007199254740991,xt=w.pow(2,-52);function Mt(t,n,i){return w.min(w.max(t,n),i)}function Ut(t,n,i){return t===n||w.abs(t-n)<=i}function Ft(t,n){if(t===n)return!0;var i=w.abs(t-n);return i<xt||i<w.max(w.abs(t),w.abs(n))*xt}function Ht(t){return t!=t}function Xt(t,n){return t===n||Ht(t)&&Ht(n)}function Vt(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function zt(t){return!y(t.getTime())}function Gt(){return Date.now()||(new Date).getTime()}function Wt(t){return t/1e3}function qt(t){return 1e3*t}var Yt,jt=ft.fromNumber(Lt);function Qt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(jt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Zt(t){return t.Jn===Yt.Kn}function Jt(t){return t.Jn===Yt.$n}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Kn=1]="Kn",t[t.ni=2]="ni",t[t.$n=3]="$n",t[t.ei=4]="ei",t[t.ri=9]="ri"}(Yt||(Yt={}));var $t=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};($t.prototype=l.create(v.prototype)).constructor=$t;var tn=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,v.captureStackTrace&&v.captureStackTrace(Kt(e),e.constructor),e}return S(n,t),b(n,[{key:"name",get:function(){return"BaseError"}}]),n}($t),nn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return S(n,t),n}(tn),en=function(){function t(){}return t.prototype.oi=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new nn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new nn;return new cn(n)},t}(),rn=function(){function t(t){this.ai=void 0,this.ai=t}var n=t.prototype;return n.ci=function(t){return this.ai.isEqualNode(t.ai)},n.di=function(n){return new t(this.ai.cloneNode(n))},b(t,[{key:"Jn",get:function(){return Yt.ni}},{key:"wi",get:function(){var t;return null!=(t=this.ai.localName)?t:dn(this.ai.nodeName)}},{key:"_i",get:function(){return this.ai.nodeName}},{key:"gi",get:function(){var t;return null!=(t=this.ai.namespaceURI)?t:void 0}},{key:"Ai",get:function(){var t;return null!=(t=this.ai.prefix)?t:void 0}},{key:"Ti",get:function(){return this.ai.nodeValue}}]),t}(),sn=function(){function t(t){this.Si=void 0,this.Ei=void 0,this.Si=t}var n=t.prototype;return n.Ii=function(t){return this.Ri.filter(function(n){return fn(n)&&n.Ni===t})},n.Di=function(t,n){return this.Ri.filter(function(i){return fn(i)&&i.wi===n&&i.gi===t})},n.Ci=function(t){this.Si.appendChild(t.Oi),this.Ei&&this.Ei.push(t)},n.ci=function(t){return this.Si.isEqualNode(t.Oi)},b(t,[{key:"Ri",get:function(){return void 0===this.Ei&&(this.Ei=function(t){for(var n=[],i=0;i<t.length;i++){var e=vn(t.item(i));e&&n.push(e)}return n}(this.Si.childNodes)),this.Ei}},{key:"Pi",get:function(){return this.Ri.filter(fn)}},{key:"Oi",get:function(){return this.Si}}]),t}(),un=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Bi=function(t){if(this.Si.hasAttribute(t))return this.Si.getAttribute(t)},i.Li=function(t,n){if(this.Si.hasAttributeNS(t,n))return this.Si.getAttributeNS(t,n)},i.xi=function(t){this.Si.removeAttribute(t)},i.Mi=function(t,n){this.Si.removeAttributeNS(t,n)},i.Ui=function(t,n){this.Si.setAttribute(t,n)},i.Fi=function(t,n,i){this.Si.setAttributeNS(t,n,i)},i.di=function(t){return new n(this.Si.cloneNode(t))},b(n,[{key:"Jn",get:function(){return Yt.Kn}},{key:"wi",get:function(){var t;return null!=(t=this.Si.localName)?t:dn(this.Si.nodeName)}},{key:"gi",get:function(){var t;return null!=(t=this.Si.namespaceURI)?t:void 0}},{key:"Ai",get:function(){var t;return null!=(t=this.Si.prefix)?t:void 0}},{key:"Ni",get:function(){return this.Si.nodeName}},{key:"Hi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new rn(t.item(i)));return n}(this.Si.attributes)}},{key:"Xi",get:function(){return this.Si.textContent}}]),n}(sn),on=function(){function t(t){this.Si=void 0,this.Si=t}return t.prototype.ci=function(t){return this.Vi===t.Vi},b(t,[{key:"Vi",get:function(){return this.Si.nodeValue}},{key:"Oi",get:function(){return this.Si}}]),t}(),an=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.di=function(t){return new n(this.Si.cloneNode(t))},b(n,[{key:"Jn",get:function(){return Yt.$n}}]),n}(on),hn=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.di=function(t){return new n(this.Si.cloneNode(t))},b(n,[{key:"Jn",get:function(){return Yt.ei}}]),n}(on),cn=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.di=function(t){return new n(this.Si.cloneNode(t))},b(n,[{key:"Jn",get:function(){return Yt.ri}},{key:"zi",get:function(){return new un(this.Si.documentElement)}}]),n}(sn);function fn(t){return Zt(t)}function vn(t){switch(t.nodeType){case Yt.Kn:return new un(t);case Yt.$n:return new an(t);case Yt.ei:return new hn(t)}}function dn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function ln(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function wn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){_n(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&_n(i,null,t.length,t),t}function _n(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(r=0;r<h;r+=f)for(u=(s=r+i)+i,s>h&&(s=h),u>h&&(u=h),o=r,a=s;;)if(o<s&&a<u)n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<s)e[c++]=t[o++];else{if(!(a<u))break;e[c++]=t[a++]}}var gn=/[a-zA-Z]/,yn=/[0-9]/,mn=/[0-9a-fA-F]/,kn=/^0x/i,pn=/^[0-9]+$/,An=/^[0-9a-fA-F]+$/,bn=/^[0-7]+$/,Tn=l.prototype.toString,Sn=Array.isArray||function(t){return"[object Array]"===Tn.call(t)},En="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function In(t){return Sn(t)?t:Array.from(t)}function Rn(t){return t>=65&&t<=90}function Nn(t){return Rn(t)||function(t){return t>=97&&t<=122}(t)}function Dn(t){return t>=48&&t<=57}function Cn(t){return Dn(t)||Nn(t)}function On(t){return Dn(t)||t>=65&&t<=70||t>=97&&t<=102}function Pn(t){return Rn(t)?t+32:t}function Bn(t){return Dn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Ln(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var xn=w.min,Mn=String.fromCharCode,Un=16384;function Fn(t){for(var n=t.length,i=[],e=0;e<n;e+=Un){var r=xn(e+Un,n);i.push(Mn.apply(null,t.slice(e,r)))}return i.join("")}var Hn=/[^\0-\x7E]/,Xn=/[\x2E\u3002\uFF0E\uFF61]/g,Vn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},zn=w.floor,Gn=String.fromCharCode;function Wn(t){throw new RangeError(Vn[t])}function qn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var Yn,jn,Qn,Zn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Jn=function(t,n,i){var e=0;for(t=i?zn(t/700):t>>1,t+=zn(t/n);t>455;e+=36)t=zn(t/35);return zn(e+36*t/(t+38))},Kn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Xn,".")).split("."),n).join(".");return e+r}(t,function(t){return Hn.test(t)?"xn--"+function(t){for(var n=[],i=(t=qn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var a=o[u];a<128&&n.push(Gn(a))}var h=n.length,c=h;for(h&&n.push("-");c<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<f&&(f=l)}var w=c+1;f-e>zn((2147483647-r)/w)&&Wn("overflow"),r+=(f-e)*w,e=f;for(var _=0,g=t;_<g.length;_++){var y=g[_];if(y<e&&++r>2147483647&&Wn("overflow"),y==e){for(var m=r,k=36;;k+=36){var p=k<=s?1:k>=s+26?26:k-s;if(m<p)break;var A=m-p,b=36-p;n.push(Gn(Zn(p+A%b,0))),m=zn(A/b)}n.push(Gn(Zn(m,0))),s=Jn(r,w,c==h),r=0,++c}}++r,++e}return n.join("")}(t):t})};function $n(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Fn(n)}function ti(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ni(t,n){return t>>n&63|128}function ii(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ti(t),n.push(t>>12&15|224),n.push(ni(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ni(t,12)),n.push(ni(t,6))),n.push(63&t|128)):n.push(t)}function ei(t){for(var n=[],i=0;i<t.length;i++){ii(t[i],n)}return n}function ri(){if(Qn>=jn)throw new v("Invalid byte index");var t=255&Yn[Qn];if(Qn++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function si(){var t,n;if(Qn>jn)throw new v("Invalid byte index");if(Qn===jn)return!1;if(t=255&Yn[Qn],Qn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ri())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ri()<<6|ri())>=2048)return ti(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ri()<<12|ri()<<6|ri())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function ui(t){return[37,Ln(t>>4),Ln(15&t)]}function oi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function ai(t){return oi(t)||32===t||34===t||60===t||62===t||96===t}function hi(t){return ai(t)||35===t||63===t||123===t||125===t}function ci(t){return hi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function fi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function vi(t){return fi(t)||39===t}function di(t,n){if(!n(t))return[t];for(var i=ei([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,ui(s))}return e}function li(t,n){for(var i=[],e=0,r=qn(t);e<r.length;e++){var s=r[e];i.push.apply(i,di(s,n))}return $n(i)}function wi(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&On(t[e+1])&&On(t[e+2])){var s=Bn(t[e+1])<<4|Bn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ei(t))}function _i(t){return $n(function(t){Yn=t.slice(),jn=Yn.length,Qn=0;for(var n,i=[];!1!==(n=si());)i.push(n);return i}(wi(qn(t))))}function gi(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,a=null,h=0;if(h<s&&":"===t[h]){if(!(h+1<s&&":"===t[h+1]))throw new d;h+=2,a=o+=1}for(;h<s;){if(8===o)throw new d("Too many groups");if(":"!==t[h]){for(var c=0,f=0;f<4&&h<s&&mn.test(t[h]);)c=c<<4|_(t[h],16),h+=1,f+=1;if("."===t[h]){if(0===f)throw new d;if(h-=f,o>6)throw new d;for(var v=0;h<s;){var l=null;if(v>0){if(!("."===t[h]&&v<4))throw new d;h+=1}if(!yn.test(t[h]))throw new d;for(;h<s&&yn.test(t[h]);){var w=_(t[h],10);if(null===l)l=w;else{if(0===l)throw new d;if((l=10*l+w)>255)throw new d}h+=1}u[o]=u[o]<<8|l,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new d;break}if(":"===t[h]){if((h+=1)===s)throw new d}else if(h<s)throw new d;u[o]=c,o+=1}else{if(null!==a)throw new d("Too many :: groups");h+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)e=a+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new d;return u}function yi(t){var n=10,i=pn;return kn.test(t)?(t=t.slice(2),n=16,i=An):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=bn),""===t?0:i.test(t)?_(t,n):void 0}var mi={Gi:4},ki=/[\0\t\n\r #%/:?@\[\\\]]/,pi=/[\0\t\n\r #/:?@\[\\\]]/;function Ai(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{Gi:2,Wi:gi(t.slice(1,-1))}}if(!n)return function(t){if(pi.test(t))throw new d("Invalid code point in opaque host");var n=li(t,oi);return""===n?mi:{Gi:3,qi:n}}(t);var i=function(t){return function(t){return Kn(t.toLowerCase())}(t)}(_i(t));if(ki.test(i))throw new d("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=yi(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new d;if(i[i.length-1]>=w.pow(256,5-i.length))throw new d;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*w.pow(256,3-a);return o}}(i);return void 0!==e?{Gi:1,Wi:e}:""===i?mi:{Gi:0,Yi:i}}function bi(t){switch(t.Gi){case 0:return t.Yi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Wi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Wi)+"]";case 3:return t.qi;case 4:return""}}var Ti=/\+/g;function Si(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Ti," "),o=o.replace(Ti," ");var a=_i(u),h=_i(o);i.push([a,h])}}return i}function Ei(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ii(ei(qn(e[0])))+"="+Ii(ei(qn(e[1])))}return n}function Ii(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Cn(n)?i.push(r):i.push.apply(i,ui(r))}return Fn(i)}var Ri=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Ni(t){var n=""+t,i=Ri.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Ci(s))if(Oi(s)||r===i-1)e.push(Di);else{var u=t.charCodeAt(r+1);Oi(u)?(e.push(s,u),r++):e.push(Di)}else e.push(s)}return t.slice(0,n)+Fn(e)}(n,i.index):n}var Di=65533,Ci=function(t){return 55296==(63488&t)},Oi=function(t){return 0!=(1024&t)};function Pi(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Bi(t){t.ji.length=0}function Li(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.ji,Si(n))}function xi(t){if(t.Qi){var n=Ei(t.ji);""===n&&(n=null),t.Qi.Qi.Zi=n}}var Mi=function(){function t(t){if(void 0===t&&(t=void 0),this.Qi=null,null==t)this.ji=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Mi&&Sn(s.ji)&&(!En||s[Symbol.iterator]===Ui))this.ji=t.ji.slice();else if(function(t){return null!=t&&(!!Sn(t)||!!En&&"function"==typeof t[Symbol.iterator])}(t)){this.ji=[];for(var n=0,i=In(t);n<i.length;n++){var e=In(i[n]);if(2!==e.length)throw new d("Invalid name-value pair");this.ji.push([Ni(e[0]),Ni(e[1])])}}else for(var r in this.ji=[],t)l.prototype.hasOwnProperty.call(t,r)&&this.ji.push([Ni(r),Ni(t[r])]);else(t=Ni(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.ji=Si(t);var s}var n=t.prototype;return n.append=function(t,n){t=Ni(t),n=Ni(n),this.ji.push([t,n]),xi(this)},n.delete=function(t){t=Ni(t);for(var n=this.ji,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}xi(this)},n.get=function(t){t=Ni(t);for(var n=this.ji,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Ni(t);for(var n=this.ji,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Ni(t);for(var n=this.ji,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Ni(t),n=Ni(n);for(var i=this.ji,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),xi(this)},n.sort=function(){wn(this.ji,Pi),xi(this)},n.toString=function(){return Ei(this.ji)},n.entries=function(){return new Vi(this.ji,Fi)},n.keys=function(){return new Vi(this.ji,Hi)},n.values=function(){return new Vi(this.ji,Xi)},n.forEach=function(t){var n=this;this.ji.forEach(function(i){return t(i[1],i[0],n)})},t}(),Ui=Mi.prototype.entries;En&&(Mi.prototype[Symbol.iterator]=Ui);var Fi=function(t){return[t[0],t[1]]},Hi=function(t){return t[0]},Xi=function(t){return t[1]},Vi=function(){function t(t,n){this.Ji=0,this.ji=t,this.Ki=n}return t.prototype.next=function(){return this.Ji<this.ji.length?{done:!1,value:this.Ki(this.ji[this.Ji++])}:{done:!0,value:void 0}},t}(),zi="null";var Gi=l.create(null);Gi.ftp=21,Gi.file=0,Gi.gopher=70,Gi.http=80,Gi.https=443,Gi.ws=80,Gi.wss=443;var Wi=/^(?:\.|%2e)$/i,qi=/^(?:\.|%2e){2}$/i;function Yi(t){return Wi.test(t)}function ji(t){return qi.test(t)}function Qi(t){return void 0!==Gi[t]}function Zi(t){return Qi(t.$i)}function Ji(t){return""!==t.re||""!==t.ue}function Ki(t){var n=t.length;if(!(n>=2))return!1;if(!te(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function $i(t){return 2===t.length&&gn.test(t[0])&&(":"===t[1]||"|"===t[1])}function te(t){return 2===t.length&&$i(Fn(t))}function ne(t){return $i(t)&&":"===t[1]}function ie(t){var n=t.oe;0!==n.length&&("file"===t.$i&&1===n.length&&ne(n[0])||n.pop())}function ee(t){return null===t.fe||mi===t.fe||t.we||"file"===t.$i}var re=-1,se=/\t|\n|\r/g,ue=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function oe(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new he,t=t.replace(ue,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,a=!1,h=qn(t=t.replace(se,"")),c=h.length,f=0;f<=c;){var v=f<c?h[f]:re;switch(r){case 0:if(!Nn(v)){if(null===e){s.length=0,r=2;continue}throw new d("Invalid scheme")}s.push(Pn(v)),r=1;break;case 1:if(Cn(v)||43===v||45===v||46===v)s.push(Pn(v));else{if(58!==v){if(null===e){s.length=0,r=2,f=0;continue}throw new d("Invalid scheme")}var l=$n(s);if(null!==e){if(Qi(i.$i)&&!Qi(l))return;if(!Qi(i.$i)&&Qi(l))return;if((Ji(i)||null!==i._e)&&"file"===l)return;if("file"===i.$i&&(i.fe===mi||null===i.fe))return}if(i.$i=l,null!==e)return void(Zi(i)&&i._e===Gi[i.$i]&&(i._e=null));s.length=0,"file"===i.$i?r=13:Zi(i)&&n&&n.$i===i.$i?r=3:Zi(i)?r=7:47===h[f+1]?(r=4,f+=1):(i.we=!0,i.oe.push(""),r=18)}break;case 2:if(!n||n.we&&35!==v)throw new d("Invalid scheme");n.we&&35===v?(i.$i=n.$i,i.oe=n.oe.slice(),i.Zi=n.Zi,i.ye="",i.we=!0,r=20):"file"!==n.$i?(r=5,f-=1):(r=13,f-=1);break;case 3:47===v&&47===h[f+1]?r=8:(r=5,f-=1);break;case 4:47===v?r=9:(r=17,f-=1);break;case 5:i.$i=n.$i,re===v?(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.Zi=n.Zi):47===v?r=6:63===v?(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.Zi="",r=19):35===v?(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.Zi=n.Zi,i.ye="",r=20):92===v&&Zi(i)?r=6:(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.oe.pop(),r=17,f-=1);break;case 6:!Zi(i)||47!==v&&92!==v?47===v?r=9:(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,r=17,f-=1):r=8;break;case 7:if(47!==v||47!==h[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==v&&92!==v&&(r=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var w=0;w<s.length;w++){var g=s[w];if(58!==g||a){var y=$n(di(g,ci));a?i.ue+=y:i.re+=y}else a=!0}s.length=0}else if(re===v||47===v||63===v||35===v||Zi(i)&&92===v){if(u&&0===s.length)throw new d("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(v);break;case 10:case 11:if(null!==e&&"file"===i.$i)f-=1,r=15;else if(58!==v||o)if(re===v||47===v||63===v||35===v||Zi(i)&&92===v){if(f-=1,Zi(i)&&0===s.length)throw new d("Invalid host");if(null!==e&&0===s.length&&(Ji(i)||null!==i._e))return;var m=Ai($n(s),Zi(i));if(i.fe=m,s.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new d("Invalid host");var k=Ai($n(s),Zi(i));if(i.fe=k,s.length=0,r=12,11===e)return}break;case 12:if(Dn(v))s.push(v);else{if(!(re===v||47===v||63===v||35===v||Zi(i)&&92===v||null!==e))throw new d("Invalid port");if(0!==s.length){var p=_($n(s),10);if(p>65535)throw new d("Invalid port");i._e=p===Gi[i.$i]?null:p,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.$i="file",47===v||92===v?r=14:n&&"file"===n.$i?re===v?(i.fe=n.fe,i.oe=n.oe.slice(),i.Zi=n.Zi):63===v?(i.fe=n.fe,i.oe=n.oe.slice(),i.Zi="",r=19):35===v?(i.fe=n.fe,i.oe=n.oe.slice(),i.Zi=n.Zi,i.ye="",r=20):(Ki(h.slice(f))||(i.fe=n.fe,i.oe=n.oe.slice(),ie(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.$i&&!Ki(h.slice(f))&&(ne(n.oe[0])?i.oe.push(n.oe[0]):i.fe=n.fe),r=17,f-=1);break;case 15:if(re===v||47===v||92===v||63===v||35===v)if(f-=1,null===e&&te(s))r=17;else if(0===s.length){if(i.fe=mi,null!==e)return;r=16}else{var A=Ai($n(s),Zi(i));if(0===A.Gi&&"localhost"===A.Yi&&(A=mi),i.fe=A,null!==e)return;s.length=0,r=16}else s.push(v);break;case 16:Zi(i)?(r=17,47!==v&&92!==v&&(f-=1)):null===e&&63===v?(i.Zi="",r=19):null===e&&35===v?(i.ye="",r=20):re!==v&&(r=17,47!==v&&(f-=1));break;case 17:if(re===v||47===v||Zi(i)&&92===v||null===e&&(63===v||35===v)){var b=$n(s);if(ji(b)?(ie(i),47===v||Zi(i)&&92===v||i.oe.push("")):!Yi(b)||47===v||Zi(i)&&92===v?Yi(b)||("file"===i.$i&&0===i.oe.length&&te(s)&&(mi!==i.fe&&null!==i.fe&&(i.fe=mi),s[1]=58,b=$n(s)),i.oe.push(b)):i.oe.push(""),s.length=0,"file"===i.$i&&(re===v||63===v||35===v))for(;i.oe.length>1&&""===i.oe[0];)i.oe.shift();63===v?(i.Zi="",r=19):35===v&&(i.ye="",r=20)}else s.push.apply(s,di(v,hi));break;case 18:63===v?(i.Zi="",r=19):35===v?(i.ye="",r=20):re!==v&&(i.oe[0]+=$n(di(v,oi)));break;case 19:null===e&&35===v?(i.ye="",r=20):re!==v&&(i.Zi+=$n(di(v,Zi(i)?vi:fi)));break;case 20:re===v||0===v||(i.ye+=$n(di(v,ai)))}f++}return i}function ae(t,n,i,e){try{oe(t,n,i,e)}catch(t){}}var he=function(){this.$i="",this.re="",this.ue="",this.fe=null,this._e=null,this.oe=[],this.Zi=null,this.ye=null,this.we=!1};function ce(t){switch(t.$i){case"blob":var n;try{n=oe(t.oe[0],null)}catch(t){return zi}return ce(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.$i,e=t.fe,r=t._e,i+"://"+bi(e)+(null===r?"":":"+r);case"file":default:return zi}var i,e,r}var fe,ve,de,le,we,_e,ge=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof ge&&"object"==typeof i.Qi)r=n.Qi;else try{r=oe(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{e=oe(String(t),r)}catch(t){throw new d("Invalid URL: "+t.message)}var s=e.Zi;this.Qi=e,this.Zi=function(t){var n=new Mi;return null!==t&&Li(n,t),n}(s),this.Zi.Qi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.$i+":";if(null!==t.fe?(i+="//",Ji(t)&&(i+=t.re,""!==t.ue&&(i+=":"+t.ue),i+="@"),i+=bi(t.fe),null!==t._e&&(i+=":"+t._e)):null===t.fe&&"file"===t.$i&&(i+="//"),t.we)i+=t.oe[0];else for(var e=0,r=t.oe;e<r.length;e++)i+="/"+r[e];return null!==t.Zi&&(i+="?"+t.Zi),n||null===t.ye||(i+="#"+t.ye),i}(this.Qi)},set:function(t){var n;try{n=oe(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.Qi=n,Bi(this.Zi);var i=this.Qi.Zi;null!==i&&Li(this.Zi,i)}},{key:"origin",get:function(){return ce(this.Qi)}},{key:"protocol",get:function(){return this.Qi.$i+":"},set:function(t){ae(t+":",null,this.Qi,0)}},{key:"username",get:function(){return this.Qi.re},set:function(t){ee(this.Qi)||(this.Qi.re=li(t,ci))}},{key:"password",get:function(){return this.Qi.ue},set:function(t){ee(this.Qi)||(this.Qi.ue=li(t,ci))}},{key:"host",get:function(){var t=this.Qi,n=t.fe;if(null===n)return"";var i=t._e,e=bi(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Qi.we||ae(t,null,this.Qi,10)}},{key:"hostname",get:function(){var t=this.Qi.fe;return null===t?"":bi(t)},set:function(t){this.Qi.we||ae(t,null,this.Qi,11)}},{key:"port",get:function(){var t=this.Qi._e;return null===t?"":""+t},set:function(t){ee(this.Qi)||(""===t?this.Qi._e=null:ae(t,null,this.Qi,12))}},{key:"pathname",get:function(){var t=this.Qi.oe;return this.Qi.we?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Qi.we||(this.Qi.oe.length=0,ae(t,null,this.Qi,16))}},{key:"search",get:function(){var t=this.Qi.Zi;return null===t||""===t?"":"?"+t},set:function(t){t=Ni(t);var n=this.Qi;if(""===t)return n.Zi=null,void Bi(this.Zi);"?"===t[0]&&(t=t.slice(1)),n.Zi="",ae(t,null,n,19),Li(this.Zi,t)}},{key:"searchParams",get:function(){return this.Zi}},{key:"hash",get:function(){var t=this.Qi.ye;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Qi.ye="",ae(t,null,this.Qi,20)):this.Qi.ye=null}}])&&ln(n.prototype,i),e&&ln(n,e),t}();function ye(t){return t.document&&t.document.baseURI||t.location.href||""}var me=a;function ke(t){return Boolean(t&&void 0!==t.length)}function pe(){}function Ae(t){if(!(this instanceof Ae))throw new d("Promises must be constructed via new");if("function"!=typeof t)throw new d("not a function");this.me=0,this.ke=!1,this.pe=void 0,this.Ae=[],Re(t,this)}function be(t,n){for(;3===t.me;)t=t.pe;0!==t.me?(t.ke=!0,Ae.Te(function(){var i=1===t.me?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.pe)}catch(t){return void Se(n.promise,t)}Te(n.promise,e)}else(1===t.me?Te:Se)(n.promise,t.pe)})):t.Ae.push(n)}function Te(t,n){try{if(n===t)throw new d("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof Ae)return t.me=3,t.pe=n,void Ee(t);if("function"==typeof i)return void Re((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.me=1,t.pe=n,Ee(t)}catch(n){Se(t,n)}var e,r}function Se(t,n){t.me=2,t.pe=n,Ee(t)}function Ee(t){2===t.me&&0===t.Ae.length&&Ae.Te(function(){t.ke||Ae.Se(t.pe)});for(var n=0,i=t.Ae.length;n<i;n++)be(t,t.Ae[n]);t.Ae=null}function Ie(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Re(t,n){var i=!1;try{t(function(t){i||(i=!0,Te(n,t))},function(t){i||(i=!0,Se(n,t))})}catch(t){if(i)return;i=!0,Se(n,t)}}Ae.prototype.catch=function(t){return this.then(null,t)},Ae.prototype.then=function(t,n){var i=new this.constructor(pe);return be(this,new Ie(t,n,i)),i},Ae.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},Ae.all=function(t){return new Ae(function(n,i){if(!ke(t))return i(new d("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},Ae.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new d(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},Ae.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Ae?t:new Ae(function(n){n(t)})},Ae.reject=function(t){return new Ae(function(n,i){i(t)})},Ae.race=function(t){return new Ae(function(n,i){if(!ke(t))return i(new d("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)Ae.resolve(t[e]).then(n,i)})},Ae.Te="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){me(t,0)},Ae.Se=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Ne=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),De=o?o.userAgent:"",Ce=De.match(/Firefox\/([0-9]+)/i),Oe=null!=Ce,Pe=Ce?Number(Ce[1]):0,Be=De.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Le=null!=Be,xe=Be?Number(Be[3]):0,Me=function(){function t(t){this.Ee=0,this.Ie=0,this.qi=[],this.Re=t}return t.prototype.Ne=function(t){var n=this.length();this.De(n+1);var i=this.Ie+n&this.Re-1;this.qi[i]=t,this.Ee=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Re<n)this.Ne(t);else{var i=this.Ie+n-1,e=this.Re-1;this.qi[i&e]=t,this.Ee=n}},t.prototype.shift=function(){var t=this.Ie,n=this.qi[t];return this.qi[t]=void 0,this.Ie=t+1&this.Re-1,this.Ee--,n},t.prototype.length=function(){return this.Ee},t.prototype.De=function(t){this.Re<t&&this.Ce(this.Re<<1)},t.prototype.Ce=function(t){var n=this.Re;this.Re=t;var i=this.Ie+this.Ee&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.qi,0,n,i)},t}();var Ue="unhandledrejection",Fe=t.PromiseRejectionEvent,He=t.CustomEvent;function Xe(t){return new Fe(Ue,{reason:t,promise:Ne.reject(t).catch(function(){}),cancelable:!0})}function Ve(t){var n=new He(Ue,{detail:{reason:t},cancelable:!0});return l.defineProperty(n,"reason",{value:t}),n}function ze(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Ue,!1,!0,{reason:t}),n}var Ge,We,qe,Ye,je,Qe,Ze,Je=function(t){return(Je=function(){try{var t=Ne.resolve(),n=new Fe(Ue,{reason:"error",promise:t});return Ue===n.type&&"error"===n.reason}catch(t){}return!1}()?Xe:function(){try{var t=new He(Ue,{detail:{reason:"error"}});return Ue===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?Ve:ze)(t)};if(Ne&&!(Oe&&Pe<60||Le&&xe<15))We=Ne;else{We=Ae;var Ke=null!==(Ge=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=Ne;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==Ge?Ge:Ae.Te,$e=(qe=Ke,Ye=new Me(16),je=!1,{Oe:function(t){Ye.push(t),je||(je=!0,qe(Qe))},Pe:Qe=function(){for(;Ye.length()>0;)Ye.shift()();je=!1}});Ae.Te=$e.Oe,Ae.Se=function(n){try{var i=Je(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}a(function(){throw new v("Unhandled promise rejection: ".concat(n))},0)}}function tr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function nr(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}function ir(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function er(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function rr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=ir(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&er(t,(i+" "+n).trim())}}function sr(t){t.stopPropagation()}function ur(t,n){M.Tn&&M.Sn<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function or(t){return new We(function(n,i){var e=s.createElement("script");e.onload=function(){return n()},e.onerror=function(t){return i((null==t?void 0:t.error)||t)},e.type="text/javascript",e.src=t,(s.head||s.documentElement).appendChild(e)})}function ar(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function hr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function cr(t){t.removeAttribute("title")}function fr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function vr(t){t.src&&(t.removeAttribute("src"),t.load())}function dr(){return void 0!==s?s.createElement("video"):void 0}function lr(){return Ze||(Ze=dr()),Ze}var wr=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),_r=lr(),gr=!(!_r||!_r.webkitShowPlaybackTargetPicker),yr=function(){function t(){this.Be=void 0,this.Le=!1,this.Wt=wr,this.dn=!1,this.xe=!0}var n=t.prototype;return n.Me=function(){return 0},n.Ue=function(t,n){return!0},n.Fe=function(t){return t>=1/6*2},b(t,[{key:"He",get:function(){return void 0===this.Be&&(this.Be=this.Me()),this.Be}},{key:"Xe",get:function(){return!M.Un}},{key:"Ve",get:function(){return r.devicePixelRatio||1}},{key:"ze",get:function(){return gr}},{key:"Ge",get:function(){return!1}},{key:"We",get:function(){return!0}},{key:"qe",get:function(){return M.Pn||M.hn}},{key:"Ye",get:function(){return!0}},{key:"je",get:function(){return!0}},{key:"Qe",get:function(){return!1}},{key:"Ze",get:function(){}},{key:"Je",get:function(){return!0}},{key:"Ke",get:function(){return!1}}]),t}(),mr=function(){var t=dr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(M.in)return!1;var t=dr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var kr=function(t){function n(n){var i;return(i=t.call(this)||this).$e=void 0,i.$e=n,i.$e&&(i.Le=i.$e.Le,i.Wt=i.$e.Wt,i.xe=mr&&i.$e.xe),i}S(n,t);var i=n.prototype;return i.Me=function(){return this.$e?this.$e.He:t.prototype.Me.call(this)},i.Ue=function(n,i){return this.$e?this.$e.Ue(n,i):t.prototype.Ue.call(this,n,i)},i.Fe=function(n){return this.$e?this.$e.Fe(n):t.prototype.Fe.call(this,n)},b(n,[{key:"Ze",get:function(){var t;return null==(t=this.$e)?void 0:t.Ze}},{key:"Je",get:function(){var t,n;return null==(t=null==(n=this.$e)?void 0:n.Je)||t}}]),n}(yr),pr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Le=!0,i.dn=!0,i}return S(n,t),b(n,[{key:"Qe",get:function(){return M.hn}}]),n}(kr),Ar=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Me=function(){return le.MediaSource?t.prototype.Me.call(this):1},b(n,[{key:"Qe",get:function(){return!0}}]),n}(pr),br=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Ue=function(n,i){return t.prototype.Ue.call(this,n,i)},b(n,[{key:"Ge",get:function(){return M.Sn<3}},{key:"We",get:function(){return M.Sn>=3}},{key:"Ke",get:function(){return M.Sn<3}}]),n}(kr),Tr=function(t){function n(){return t.call(this)||this}return S(n,t),n}(yr),Sr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Ue=function(t,n){if(t&&t.ir&&n&&n.ir){var i=Er(t.ir,"mp4a.40.2")&&Er(n.ir,"mp4a.40.5"),e=Er(t.ir,"mp4a.40.5")&&Er(n.ir,"mp4a.40.2"),r=Er(t.ir,"mp4a.40.2")&&Er(n.ir,"mp4a.40.34"),s=Er(t.ir,"mp4a.40.34")&&Er(n.ir,"mp4a.40.2"),u=Er(t.ir,"mp4a.40.5")&&Er(n.ir,"mp4a.40.34"),o=Er(t.ir,"mp4a.40.34")&&Er(n.ir,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},b(n,[{key:"Ze",get:function(){if(M.qt)return 4096}}]),n}(Tr);function Er(t,n){return t.indexOf(n)>-1}var Ir=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Fe=function(t){return t>=2},n}(Tr),Rr=function(t){function n(){var n;return(n=t.call(this)||this).Le=M.Bn>=11,n.xe=M.Pn&&!(M.hn&&M.Bn<10),n}return S(n,t),n}(Tr),Nr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),b(n,[{key:"Ye",get:function(){return!1}}]),n}(kr),Dr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),b(n,[{key:"Je",get:function(){return!M.Yt||(M.pn?92!==M.An:M.yn>=100)}}]),n}(Tr),Cr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),b(n,[{key:"Qe",get:function(){return!0}}]),n}(kr),Or=function(){function n(){var n;this.er=void 0,this.rr=new en,this.dr=new Pr,this.wr=(n=function(){if(M.Cn)return new Sr;if(M.In||M.Rn)return new Ir;if(M.Pn)return new Rr;if(M._n)return new Dr;return new Tr}(),M.hn?new Ar(n):M.dn?new pr(n):M.Tn?new br(n):M.En?new Nr(n):M.qt?new Cr(n):new kr(n)),this._r=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.er=function(){return t.performance.now()}:this.er=Gt}var i=n.prototype;return i.gr=function(){ut.apply(void 0,arguments)},i.yr=function(){ot.apply(void 0,arguments)},i.pr=function(){at.apply(void 0,arguments)},i.Ar=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ht.apply(void 0,[t].concat(i))},i.Qn=function(t,n){return a(t,n)},i.Tr=function(t,n){return c(t,n)},i.jn=function(t){h(t)},i.Sr=function(t){f(t)},i.oi=function(t){return this.rr.oi(t)},i.Er=function(){return this.Ir.Er()},i.Rr=function(){return this.Ir.Rr()},i.Nr=function(){return this.Ir.Nr()},i.Dr=function(){return this.Ir.Dr()},i.Cr=function(){return this.Ir.Cr()},i.Or=function(t,n){return this.Ir.Or(t,n)},i.Pr=function(t){return this.Ir.Pr(t)},i.Br=function(t,n){var i;return void 0===n&&(n=ye(le)),i="object"!=typeof n||n instanceof ge?n:n.href,new ge(t,i)},i.Lr=function(n,i){if(void 0===i&&(i=ye(le)),this._r){var e=q(i)?i:i.toString();return new t.URL(n,e).href}return this.Br(n,i).href},b(n,[{key:"xr",get:function(){return this.dr}},{key:"Mr",get:function(){return this.wr}},{key:"Ur",get:function(){return{Fr:o&&o.userAgent.match(/Android /i)?"Android":"other",Hr:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Xr",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Vr",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Pr=function(){function t(){}return b(t,[{key:"zr",get:function(){return o.oscpu}},{key:"Mr",get:function(){return o.platform}},{key:"Gr",get:function(){return o.vendor}},{key:"Wr",get:function(){return o.vendorSub}}]),t}();var Br={exports:{}};!function(t){var n,i=l.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,n,i,e){var r=n&&n.prototype instanceof m?n:m,s=l.create(r.prototype),u=new C(e||[]);return s.qr=function(t,n,i){var e=c;return function(r,s){if(e===w)throw new v("Generator is already running");if(e===_){if("throw"===r)throw s;return P()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===g)continue;return o}}if("next"===i.method)i.sent=i.Yr=i.arg;else if("throw"===i.method){if(e===c)throw e=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var a=h(t,n,i);if("normal"===a.type){if(e=i.done?_:f,a.arg===g)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(e=_,i.method="throw",i.arg=a.arg)}}}(t,i,u),s}function h(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var c="suspendedStart",f="suspendedYield",w="executing",_="completed",g={};function m(){}function k(){}function p(){}var A={};A[s]=function(){return this};var b=l.getPrototypeOf,T=b&&b(b(O([])));T&&T!==i&&e.call(T,s)&&(A=T);var S=p.prototype=m.prototype=l.create(A);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.qr(n,t)}})}function I(t){var n;this.qr=function(i,r){function s(){return new We(function(n,s){!function n(i,r,s,u){var o=h(t[i],t,r);if("throw"!==o.type){var a=o.arg,c=a.value;return c&&"object"==typeof c&&e.call(c,"jr")?We.resolve(c.jr).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):We.resolve(c).then(function(t){a.value=t,s(a)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new d("The iterator does not provide a 'throw' method")}return g}var r=h(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,g;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):s:(i.method="throw",i.arg=new d("iterator result is not an object"),i.delegate=null,g)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!y(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:P}}function P(){return{value:n,done:!0}}k.prototype=S.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return l.setPrototypeOf?l.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=l.create(S),t},t.awrap=function(t){return{jr:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(a(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Yr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!y(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),h=e.call(u,"finallyLoc");if(a&&h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!h)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;D(i)}return r}}throw new v("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:O(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),g}}}(Br.exports);var Lr=Br.exports;function xr(){return(xr=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)l.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Mr(){var t=l.create(null);return t.Qr=void 0,delete t.Qr,t}function Ur(){return new Gr}function Fr(){return new Yr}function Hr(t){var n=Ur();for(var i in t)U.call(t,i)&&n.set(i,t[i]);return n}function Xr(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}var Vr,zr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Gr=zr||(Vr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=l.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Mr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Mr(),this.size=0},n.keys=function(){return new Vr(this.data,function(t,n){return n})},n.values=function(){return new Vr(this.data,function(t,n){return t[n]})},n.entries=function(){return new Vr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Wr,qr,Yr=zr||(Wr=function(){function t(t,n){this.Zr=void 0,this.Jr=void 0,this.Zr=t,this.Jr=n}var n=t.prototype;return n.next=function(){var t=this.Zr.next();return t.done?t:{value:this.Jr(t.value),done:!1}},t}(),function(){function t(){this.Kr=Ur()}var n=t.prototype;return n.get=function(t){return this.Kr.get(""+t)},n.set=function(t,n){return this.Kr.set(""+t,n),this},n.has=function(t){return this.Kr.has(""+t)},n.delete=function(t){return this.Kr.delete(""+t)},n.clear=function(){this.Kr.clear()},n.keys=function(){return new Wr(this.Kr.keys(),function(t){return Number(t)})},n.values=function(){return this.Kr.values()},n.entries=function(){return new Wr(this.Kr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Kr.forEach(function(n,i){t(n,Number(i))})},b(t,[{key:"size",get:function(){return this.Kr.size}}]),t}());!function(t){t.$r="9a04f079-9840-4286-ab92-e65be0885f95",t.rs="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.us="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.hs="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(qr||(qr={}));var jr,Qr="urn:mpeg:dash:mp4protection:2011",Zr="cenc",Jr="sinf",Kr="skd",$r=qr.$r,ts="urn:uuid:"+$r,ns="com.microsoft.playready",is=qr.rs,es="urn:uuid:"+is,rs=qr.us,ss="urn:uuid:"+rs,us=qr.hs,os="urn:uuid:"+us,as="com.apple.fps.1_0",hs="com.apple.streamingkeydelivery";!function(t){t.$r="playready",t.rs="widevine",t.hs="fairplay",t.us="clearkey",t.fs="aes128"}(jr||(jr={}));var cs={vs:jr.$r,ds:ns,ls:"cenc",_s:$r,gs:ts,ys:"PlayReady"},fs={vs:jr.rs,ds:"com.widevine.alpha",ls:"cenc",_s:is,gs:es,ys:"Widevine"},vs={vs:jr.hs,ds:as,ls:"skd",_s:us,gs:os,ys:"FairPlay"},ds={vs:jr.hs,ds:"com.apple.fps",ls:"sinf",_s:us,gs:os,ys:"FairPlay"},ls={vs:jr.us,ds:"org.w3.clearkey",ls:"cenc",_s:rs,gs:ss,ys:"ClearKey"},ws=[cs,fs,vs,ls];function _s(t){return ws.filter(function(n){return n.gs===t.toLowerCase()})}function gs(t,n,i){return t.split(n).join(i)}function ys(t,n){return null!=t&&-1!==t.indexOf(n)}function ms(t,n){return null!=t&&t.substr(0,n.length)===n}function ks(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function ps(t,n){return t.toUpperCase()===n.toUpperCase()}function As(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function bs(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=As(e,r/e.length)),e.slice(0,r)+t)}function Ts(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Es(n)}var Ss=16384;function Es(t){var n=t.length;if(n<=Ss)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Ss)i.push(String.fromCharCode.apply(String,t.slice(e,e+Ss)));return i.join("")}function Is(t){return t.replace(/[\\"]/g,function(t){return"\\"+t})}var Rs=M._n&&M.yn>=42||M.Cn&&M.On>=38||M.In||M.Nn||M.Ln&&M.xn>=29;function Ns(t,n){return ys(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[xr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[xr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Ds(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Cs(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Os,Ps=function(){function t(t){this.As=void 0,this.Ts=Ur(),this.Ss=void 0,this.As=t}var n=t.prototype;return n.Cr=function(){return this.Pr(fs)},n.Rr=function(){return this.Pr(ls)},n.Dr=function(){return this.Pr(cs)},n.Nr=function(){return this.Pr(vs)},n.Pr=function(t){var n=t.gs,i=this.Ts.get(n);if(i)return i;var e=this.Or(t,'video/mp4; codecs="avc1.42000a"');return this.Ts.set(n,e),e},n.Or=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Lr.awrap(this.As.Es(t.ds,[Ns(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Lr.awrap(this.As.Es(t.ds,[Ns(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],We)},n.Er=function(){return this.Ss||(this.Ss=this.Is()),this.Ss},n.Is=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==we.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Rs){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Lr.awrap(this.Rr());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,We)},t}();function Bs(t,n){return xs(t.slice(),n)}function Ls(t,n){var i=xs(t,n);return i!==t&&Ms(i,void 0,t.length,t),t}function xs(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Ms(i,n,s,r);var u=i;i=r,r=u}return i}function Ms(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(s=0;s<h;s+=f)for(r=(u=s+i)+i,u>h&&(u=h),r>h&&(r=h),o=s,a=u;;)if(o<u&&a<r)n&&n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<u)e[c++]=t[o++];else{if(!(a<r))break;e[c++]=t[a++]}}!function(t){t[t.Rs=0]="Rs",t[t.Ns=1]="Ns",t[t.Ds=-1]="Ds"}(Os||(Os={}));var Us=function(t,n){return(0|t)-(0|n)},Fs=function(t,n){return t===n?Os.Rs:t<n?Os.Ds:t>n?Os.Ns:y(t)?y(n)?Os.Rs:Os.Ns:Os.Ds};function Hs(t,n,i){return Ut(t,n,i)?Os.Rs:Fs(t,n)}var Xs=function(t,n){return Ft(t,n)?Os.Rs:Fs(t,n)};function Vs(t,n,i){var e=Gs(t,n,i);return-1===e?void 0:t[e]}function zs(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Gs(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function Ws(t,n){var i=t.indexOf(n);return-1!==i&&(qs(t,i),!0)}function qs(t,n){t.splice(n,1)}function Ys(t,n){return-1!==t.indexOf(n)}function js(t,n){for(var i=0;i<n.length;i++){if(!Ys(t,n[i]))return!1}return!0}function Qs(t){t.length=0}function Zs(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!Ys(n,t[i]))return!1}return!0}function Js(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function Ks(t,n){return tu(t,function(t,i){return Fs(n(t),n(i))})}function $s(t,n){return function(t,n){return tu(t,function(t,i){return n(i,t)})}(t,function(t,i){return Fs(n(t),n(i))})}function tu(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function nu(t,n){return We.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function iu(t,n){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Lr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,We)}function eu(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var ru=function(){function t(){this.Cs=!1,this.Os=!1,this.Ps=[],this.Bs=[]}var n=t.prototype;return n.Ls=function(){if(!this.Cs&&!this.Os){this.Cs=!0;for(var t=0,n=this.Ps.slice();t<n.length;t++){(0,n[t])()}this.xs()}},n.xs=function(){if(!this.Os){this.Os=!0;for(var t=0,n=this.Bs.slice();t<n.length;t++){(0,n[t])()}Qs(this.Ps),Qs(this.Bs)}},n.Ms=function(t){this.Os||this.Ps.push(t)},n.Us=function(t){this.Os||Ws(this.Ps,t)},n.Fs=function(t){this.Os||this.Bs.push(t)},n.Hs=function(t){this.Os||Ws(this.Bs,t)},t}(),su=function(){function t(){this.Xs=new ru}var n=t.prototype;return n.Vs=function(){this.Xs.Ls()},n.xs=function(){this.Xs.xs()},n.zs=function(t){var n=this.Xs;if(!n.Cs)if(t.Cs)n.Ls();else if(!n.Os&&!t.Os){var i=function(){e(),n.Ls()},e=function e(){t.Us(i),t.Hs(e),n.Us(i),n.Hs(e)};t.Ms(i),t.Fs(e),n.Ms(i),n.Fs(e)}},n.Gs=function(){var n=new t,i=new t,e=n.Ws,r=i.Ws,s=this.Xs,u=function(){e.Cs&&r.Os||r.Cs&&e.Os?s.Ls():e.Os&&r.Os&&s.xs()};e.Ms(u),r.Ms(u),e.Fs(u),r.Fs(u),n.zs(s),i.zs(s);return s.Fs(function(){e.Us(u),r.Us(u),e.Hs(u),r.Hs(u)}),[n,i]},b(t,[{key:"Ws",get:function(){return this.Xs}}]),t}(),uu=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return S(n,t),b(n,[{key:"name",get:function(){return"AbortError"}}]),n}(tn);function ou(t){return t instanceof v&&"AbortError"===t.name}function au(t){if(t&&t.Cs)throw new uu}function hu(t){if(ou(t))throw t}function cu(t){if(!ou(t))throw t}function fu(t,n){return n?new We(function(i,e){if(n.Cs)return t.catch(J),e(new uu);var r=function t(){n.Us(t),e(new uu)};n.Ms(r),t.then(function(t){n.Us(r),i(t)},function(t){n.Us(r),e(t)})}):t}function vu(t,n){return t.then(function(t){return n.xs(),t},function(t){throw n.xs(),t})}function du(t,n){var i=new su;return n&&i.zs(n),t(i.Ws).then(function(t){return i.Vs(),t},function(t){throw i.Vs(),t})}var lu=We.resolve();function wu(t){lu.then(t)}function _u(t){t.then(J,J)}function gu(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Lr.awrap(We.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Lr.awrap(We.all(t.map(function(t){return t.catch(J)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],We)}function yu(t,n){return new We(function(e,r){if(void 0!==n&&n.Cs)r(new uu);else{var s=i.Qn(function(){void 0!==n&&n.Us(u),e()},t),u=function(){i.jn(s),r(new uu)};void 0!==n&&n.Ms(u)}})}function mu(t){return t&&"function"!=typeof t?t.slice():t}function ku(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var pu,Au=function(){function t(t){var n=this;this.qs=Mr(),this.Ys=void 0,this.js=void 0,this.Qs=function(t){n.Zs(t)},this.js=t||this}var n=t.prototype;return n.Js=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Ks(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Ks(e,n)}},n.Ks=function(t,n){var i=this.qs[t];i?"function"==typeof i?this.qs[t]=[i,n]:i.push(n):this.qs[t]=n},n.$s=function(t){if("function"==typeof t){var n=this.Ys;n?"function"==typeof n?this.Ys=[n,t]:n.push(t):this.Ys=t}},n.tu=function(){this.qs=Mr(),this.Ys=void 0},n.Zs=function(t){var n=mu(this.qs[t.type]),i=mu(this.Ys);ku(this.js,t,n),ku(this.js,t,i)},n.nu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.uu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.uu(e,n)}},n.uu=function(t,n){var i=this.qs[t];i&&("function"==typeof i?i===n&&(this.qs[t]=void 0):Ws(i,n))},n.ou=function(t){if("string"==typeof t)this.qs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.qs[i]=void 0}},n.au=function(t){var n=this.Ys;n&&("function"==typeof n?n===t&&(this.Ys=void 0):Ws(n,t))},n.fu=function(t,n){var i=this;return new We(function(e,r){if(n&&n.Cs)return r(new uu);var s=function(t){o(),e(t)},u=function(){o(),r(new uu)},o=function(){i.nu(t,s),n&&n.Us(u)};i.Js(t,s),n&&n.Ms(u)})},t}(),bu=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Zs=function(n){var i=this;wu(function(){t.prototype.Zs.call(i,n)})},n}(Au),Tu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Su=["cenc"],Eu=["cbcs","cbcs-1-9"],Iu=function(t){function n(n){var i;return(i=t.call(this,"du")||this).vu=n,i}return S(n,t),n}(Tu),Ru=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"wu")||this).vu=n,s._u=i,s.wu=e,s.yu=r,s}return S(n,t),n}(Tu),Nu=function(t){function n(){return t.call(this,"mu")||this}return S(n,t),n}(Tu);!function(t){t.pu="Au",t.bu="Tu"}(pu||(pu={}));var Du=function(t){function n(n,i){var e;return(e=t.call(this,pu.pu)||this).ls=n,e.Su=i,e}return S(n,t),n}(Tu),Cu=function(t){function n(){return t.call(this,pu.bu)||this}return S(n,t),n}(Tu),Ou=new m([0]).buffer,Pu=function(){function t(){this.Eu=void 0,this.Eu=[]}var n=t.prototype;return n.Iu=function(t){for(var n=0,i=this.Eu;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Ru=function(t){for(var n=0,i=this.Eu;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Nu=function(t,n){this.Eu.forEach(function(n){return t(n[1],n[0])},n)},n.Du=function(t,n){this.Eu.push([t,n])},n.Cu=function(){Qs(this.Eu)},b(t,[{key:"Ou",get:function(){return this.Eu.length}}]),t}(),Bu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Lu=16383,xu=/[\t\n\f\r ]/g;function Mu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Uu()}function Uu(){throw new v("Invalid base64 input")}function Fu(t){var n=t;xu.test(n)&&(n=n.replace(xu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Uu();for(var r,s=0===e?0:4-e,u=new m(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,a=0,h=0;a<o;a+=4)r=Mu(n.charCodeAt(a))<<18|Mu(n.charCodeAt(a+1))<<12|Mu(n.charCodeAt(a+2))<<6|Mu(n.charCodeAt(a+3)),u[h++]=r>>16&255,u[h++]=r>>8&255,u[h++]=255&r;return 2===s?(r=Mu(n.charCodeAt(a))<<2|Mu(n.charCodeAt(a+1))>>4,u[h++]=255&r):1===s&&(r=Mu(n.charCodeAt(a))<<10|Mu(n.charCodeAt(a+1))<<4|Mu(n.charCodeAt(a+2))>>2,u[h++]=r>>8&255,u[h++]=255&r),u}function Hu(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Bu[e>>2]+Bu[(3&e)<<4|r>>4]+Bu[(15&r)<<2|s>>6]+Bu[63&s]));return u.join("")}function Xu(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Lu)e.push(Hu(t,s,w.min(r,s+Lu)));if(1===i){var u=t[n-1];e.push(Bu[u>>2]+Bu[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Bu[o>>2]+Bu[(3&o)<<4|a>>4]+Bu[(15&a)<<2]+"=")}return e.join("")}var Vu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],zu=ArrayBuffer.isView||function(t){return t&&Ys(Vu,F.call(t))};function Gu(t,n){return t===n||t.byteLength===n.byteLength&&Wu(new m(t),new m(n))}function Wu(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function qu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Yu(t,n)}function Yu(t,n){for(var i=new m(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function ju(t){return Fu(t).buffer}function Qu(t){return Xu(new m(t))}function Zu(t){return Xu(Po(t))}function Ju(t,n){var i=n.Pu,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.Bu(1),(e&r)===r?1:0}function Ku(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+Ju(t,n);return e}var $u=function(){function t(t){void 0===t&&(t=0),this.Lu=t}var n=t.prototype;return n.Bu=function(t){this.Lu+=t},n.xu=function(t){this.Lu=t},n.Mu=function(){return new t(this.Pu)},b(t,[{key:"Pu",get:function(){return this.Lu}}]),t}();function to(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function no(t,n){return t>>n&63|128}function io(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(to(t),n.push(t>>12&15|224),n.push(no(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(no(t,12)),n.push(no(t,6))),n.push(63&t|128)):n.push(t)}function eo(t,n){if(n.Pu>=t.length)throw new v("Invalid byte index");var i=255&t[n.Pu];if(n.Bu(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function ro(t,n){var i=n.Pu;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Bu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|eo(t,n);if(r>=128)return r;throw new v("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|eo(t,n)<<6|eo(t,n);if(s>=2048)return to(s),s;throw new v("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|eo(t,n)<<12|eo(t,n)<<6|eo(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var so=65279;var uo=[128,64,32,16,8,4,2,1],oo=function(){function t(t){this.Uu=t}return t.prototype.Fu=function(t){return ao(this.Uu,t)},t}();function ao(t,n){return(t&n)===n}function ho(t,n){return ao(t,uo[n])}function co(t,n){var i=t.getUint8(n.Pu);return n.Bu(1),i}function fo(t,n,i){t.setUint8(n.Pu,i),n.Bu(1)}function vo(t,n,i){var e=Xo(Go(t),n.Pu,n.Pu+i);return n.Bu(e.byteLength),e}function lo(t,n,i){Go(t).set(Go(i),n.Pu),n.Bu(i.byteLength)}function wo(t,n,i){return n.Pu+i<=t.byteLength}function _o(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=co(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+co(t,n);return e}(t,n,i)}function go(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Pu,i);return n.Bu(2),e}function yo(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Pu,i,e),n.Bu(2)}function mo(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Pu,i);return n.Bu(4),e}function ko(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Pu,i,e),n.Bu(4)}function po(t,n,i){void 0===i&&(i=!1);var e=mo(t,n,i),r=mo(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!0)}function Ao(t,n){return So(t,n)}function bo(t,n,i){return Es(Qo(vo(t,n,i)))}function To(t,n){var i,e=co(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&co(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&co(t,n))+(63&co(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&co(t,n))+64*(63&co(t,n))+(63&co(t,n))),i}function So(t,n){return Eo(t,n,!0)}function Eo(t,n,i){for(var e=[];n.Pu<t.byteLength;){var r=co(t,n);if(i&&!r)break;e.push(r)}return Es(e)}function Io(t,n){if(n.Pu+2<=t.byteLength){var i=t.getUint8(n.Pu),e=t.getUint8(n.Pu+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function Ro(t,n){var i=Io(t,n);return void 0!==i&&n.Bu(2),No(t,n,!0===i)}function No(t,n,i){return void 0===i&&(i=!1),Do(t,n,i,!0)}function Do(t,n,i,e){for(var r=[];n.Pu+2<=t.byteLength;){var s=go(t,n,i);if(e&&!s)break;r.push(s)}return Es(r)}function Co(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){yo(t,n,i.charCodeAt(s),e)}}function Oo(t){return Eo(zo(t),new Zo,!1)}function Po(t){var n=new m(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)fo(t,n,i.charCodeAt(r))}(zo(n),new Zo,t),n}function Bo(t,n){return void 0===n&&(n=!1),Do(zo(t),new Zo,n,!1)}function Lo(t,n){void 0===n&&(n=!1);var i=new m(2*t.length);return Co(zo(i),new Zo,t,n),i}function xo(t,n){return n.Pu+3<=t.byteLength&&(239===t.getUint8(n.Pu)&&187===t.getUint8(n.Pu+1)&&191===t.getUint8(n.Pu+2))}function Mo(t,n){return function(t,n,i){var e=[];xo(t,n)&&n.Bu(3);for(;n.Pu<t.byteLength;){var r=To(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Ts(e)}(t,n,!0)}function Uo(t){return Ts(function(t,n){var i,e=[],r=new Zo;if(!n){if(!1===(i=ro(t,r)))return e;i===so||e.push(i)}for(;!1!==(i=ro(t,r));)e.push(i);return e}(Go(t)))}function Fo(t){return new m(function(t){for(var n=[],i=0;i<t.length;i++)io(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Ho(t,n){if(xo(t,n))return Mo(t,n);if(void 0!==Io(t,n))return Ro(t,n);if(n.Pu+4<=t.byteLength){if(0===t.getUint8(n.Pu)&&0===t.getUint8(n.Pu+2))return No(t,n,!1);if(0===t.getUint8(n.Pu+1)&&0===t.getUint8(n.Pu+3))return No(t,n,!0)}return Mo(t,n)}function Xo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new m(t.buffer,t.byteOffset+n,i-n)}function Vo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function zo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Go(t){return new m(t.buffer,t.byteOffset,t.byteLength)}function Wo(t){return t instanceof ArrayBuffer||zu(t)}function qo(t){return t instanceof ArrayBuffer?new m(t):Go(t)}function Yo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):jo(Xo(t,n,i))}function jo(t){if(t.slice)return t.slice(0);var n=new m(t.byteLength);return n.set(t,0),n}function Qo(t){return[].slice.call(t)}var Zo=function(){function t(t){void 0===t&&(t=0),this.Lu=t}var n=t.prototype;return n.Bu=function(t){this.Lu+=t},n.xu=function(t){this.Lu=t},n.Mu=function(){return new t(this.Pu)},n.Hu=function(){return new $u(this.Pu<<3)},b(t,[{key:"Pu",get:function(){return this.Lu}}]),t}();function Jo(t){var n=t.toLowerCase(),i=0,e=0;ms(n,"0x")&&(n=n.substring(2));var r=new m(w.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=_(n[0],16));i<n.length;i+=2)r[e++]=_(n.substr(i,2),16);return r}var Ko=function(){function t(){var t=this;this.Xu=void 0,this.Vu=void 0,this.Gu=void 0,this.Xu=new We(function(n,i){t.Vu=n,t.Gu=i})}var n=t.prototype;return n.Wu=function(t){this.Vu&&(this.Vu(t),this.xs())},n.Yu=function(t){this.Gu&&(this.Gu(t),this.xs())},n.Vs=function(){this.Xu.catch(J),this.Yu(new uu)},n.xs=function(){this.Vu=void 0,this.Gu=void 0},t}();function $o(){return new m([8,4]).buffer}function ta(t){return Gu(t,$o())}function na(t,n){return t===ns?function(t){if(t.byteLength<2*ia.length)return t;if(Bo(new DataView(t,0,2*ia.length),!0)===ia)return t;return n=t,Lo('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Qu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var ia="<PlayReady";var ea=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).ju=void 0,s.Qu=void 0,s.ju=i,s.Qu=e,s}return S(n,t),n}(tn),ra=function(t,n){return(ra=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)l.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function sa(t,n){if("function"!=typeof n&&null!==n)throw new d("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}ra(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}function ua(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function oa(t,n,i){return w.min(w.max(t,n),i)}function aa(t,n){return t>>8-n}function ha(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Zu=t,this.Ju=n}t.prototype.get=function(t){var n=this.Zu.get(t);if(0===this.Ju||void 0===n)return n;var i=this.Zu.get(t+1)||0,e=n&(1<<8-this.Ju)-1,r=i>>8-this.Ju;return(e<<this.Ju)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Zu.get(w.floor((t+this.Ju)/8));if(void 0!==n)return(n&1<<7-this.Ju-t%8)>0?1:0}},l.defineProperty(t.prototype,"bitLength",{get:function(){return this.Zu.bitLength-this.Ju},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"length",{get:function(){return this.Zu.length},enumerable:!1,configurable:!0})}();var ca=function(){function t(t){this.Ku=t,this.$u=0,this.uo=0}return l.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.$u+this.uo},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"done",{get:function(){return this.$u===this.Ku.length&&0===this.uo},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"location",{get:function(){return{byte:this.$u,bit:this.uo}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Ku);return n.seek(this.$u,this.uo),n},t.prototype.canReadBits=function(t){return 8*this.$u+t+this.uo<=8*this.Ku.length},t.prototype.canReadBytes=function(t){return 0===this.uo?this.$u+t<=this.Ku.length:this.$u+t<this.Ku.length},t.prototype.incBit=function(){this.uo++,this.uo>7&&(this.$u++,this.uo=0)},t.prototype.seek=function(t,n){this.$u=t,this.uo=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.Ku.get(this.$u)>>7-this.uo&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.uo)return this.Ku.get(this.$u++);var t=ha(this.Ku.get(this.$u),8-this.uo),n=aa(this.Ku.get(this.$u+1),this.uo);return this.$u++,t<<this.uo|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.uo&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-w.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.uo+t;this.$u+=n>>3,this.uo=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),fa=function(t,n){return t===n?0:t<n?-1:t>n?1:y(t)?y(n)?0:1:-1},va=function(){function t(){this.oo=[],this.ao=[],this.Ee=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this.ao.length)this.ao.push(0);else{var e=this.ao[this.ao.length-1]+this.oo[this.oo.length-1].length;this.ao.push(e)}this.oo.push(t.subarray(n,n+i)),this.Ee+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.oo;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.oo=[],this.ao=[],this.Ee=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.ao[n];return this.oo[n][i]}},l.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.oo.length<1)return-1;if(this.oo.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.oo[0];return"number"==typeof t?ua(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=ua(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,a=1;u<o&&t[u]===n[a];u++,a++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=w.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.ao,t,fa)},t.prototype.join=function(){if(1===this.oo.length)return this.oo[0];var t=new m(this.length);return this.copyInternal(t,0),t},l.defineProperty(t.prototype,"length",{get:function(){return this.Ee},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*w.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=oa(n,0,this.length),r=oa(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.oo[u],a=e,h=a-this.ao[u];a+o.length-h<r;)s.pushRange(o,h,o.length-h),u+=1,h=(a+=o.length-h)-this.ao[u],o=this.oo[u];var c=r-a;return s.pushRange(o,h,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.oo.length-1,e=this.oo[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.oo[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),da=function(){function t(n){this.do=n||t.BUFFER_CHUNK_SIZE,this._o=!1,this.mo=new va,this.Ku=new m(this.do),this.po=0,this.Ao=0,this.uo=7}return t.prototype.closeByte=function(){this.Ku[this.po++]=this.Ao,this.po>=this.do&&this.closeBuffer(),this.Ao=0,this.uo=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.po&&(this.mo.pushRange(this.Ku,0,this.po),t&&(this.Ku=new m(this.do)),this.po=0)},l.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.uo},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this._o)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this._o=!0,this.mo},t.prototype.writeBit=function(t){if(this._o)throw new v("Cannot write to a closed BitWriter.");this.Ao|=t<<this.uo,0===this.uo?this.closeByte():this.uo--},t.prototype.writeByte=function(t){if(this._o)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Ao=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.uo;this.Ao|=aa(t,n+1),this.closeByte(),this.Ao=ha(t,8-n)<<n+1,this.uo=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this._o)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.po+t.length<=this.do?(this.Ku.set(t,this.po),this.po+=t.length,this.po===this.do&&this.closeBuffer()):(this.closeBuffer(),this.mo.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.uo;this.Ao|=aa(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=ha(t[i-1],8-n),r=aa(t[i],n+1);this.Ao=e<<n+1|r,this.closeByte()}this.Ao=ha(t[t.length-1],8-n)<<n+1,this.uo=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=w.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(w.abs(t)>=w.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+w.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=w.floor(w.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new m(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),la=function(){function t(t){this.rb=new va,this.To=t}return t.prototype.closeWriter=function(){void 0!==this.To&&(this.rb=this.rb.concat(this.To.close()),this.To=void 0)},l.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.To&&(this.To=new da),this.To},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),wa=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(w.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new la;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=w.pow(2,32),t}();function _a(t,n){return t instanceof ft?64===n:t<w.pow(2,n)}function ga(t,n){return w.round(t*w.pow(2,n))}function ya(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function ma(t,n){return t/w.pow(2,n)}var ka=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!_a(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return sa(n,t),l.defineProperty(n.prototype,"flags",{get:function(){return this.So},set:function(t){this.So=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(wa),pa=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return sa(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(va.from(this.data))},n}(wa),Aa=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var ba=16384;function Ta(t){var n=t.length;if(n<=ba)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=ba)i.push(String.fromCharCode.apply(String,t.slice(e,e+ba)));return i.join("")}var Sa=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function Ea(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Ia(t,n,i){var e=Ba(xa(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}function Ra(t,n,i){return n.offset+i<=t.byteLength}function Na(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function Da(t,n,i){void 0===i&&(i=!1);var e=Na(t,n,i),r=Na(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!0)}function Ca(t,n,i){var e,r=Ia(t,n,i);return Ta((e=r,[].slice.call(e)))}function Oa(t,n){var i,e=Ea(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Ea(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Ea(t,n))+(63&Ea(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Ea(t,n))+64*(63&Ea(t,n))+(63&Ea(t,n))),i}function Pa(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Oa(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Ta(n)}(e)}(t,n,!0)}function Ba(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new m(t.buffer,t.byteOffset+n,i-n)}function La(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function xa(t){return new m(t.buffer,t.byteOffset,t.byteLength)}var Ma=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Aa(this.offset<<3)},t}(),Ua=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return Ea(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Na(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=Na(t,n,i),r=Na(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Da(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return Ia(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Na(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Ca(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Pa(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Fa(t,n){return t.type===n}var Ha=8;function Xa(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=Va(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function Va(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Ra(t,n,Ha)){var e=n.offset+Ha;return{complete:!1,neededOffset:e}}var r=Na(t,n),s=Ca(t,n,4);if(1===r){if(!Ra(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=Da(t,n).toNumber()}if("uuid"===s){if(!Ra(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=Ca(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var a,h,c,f={type:r.type,offset:i,data:new Ua((a=t,h=i,c=u,void 0===h&&(h=0),void 0===c&&(c=a.byteLength),new DataView(a.buffer,a.byteOffset+h,c-h)),new Ma(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function za(t){return{version:t>>24,flags:new Sa(16777215&t)}}function Ga(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function Wa(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function qa(t){var n=t.nextUint32Array(9);return{a:ma(n[0],16),b:ma(n[1],16),u:ma(n[2],30),c:ma(n[3],16),d:ma(n[4],16),v:ma(n[5],30),x:ma(n[6],16),y:ma(n[7],16),w:ma(n[8],30)}}function Ya(t){return new pa(t.type,Ba(xa(t.data.data),t.data.cursor.offset))}var ja=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return sa(n,t),l.defineProperty(n.prototype,"handlerType",{get:function(){return this.Eo},set:function(t){this.Eo=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(ka);function Qa(t){var n=t.data,i=za(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new ja(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}sa(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(ja);var Za=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},l.defineProperty(t.prototype,"tag",{get:function(){return this.Io},set:function(t){if(!_a(t,8))throw new v("Provided tag does not fit in 8 bits.");this.Io=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=u,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=s.max,a.avgBitrate=s.avg,a}sa(n,t),l.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Ro},set:function(t){if(!_a(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.Ro=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"streamType",{get:function(){return this.No},set:function(t){if(!_a(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.No=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Do},set:function(t){if(!_a(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.Do=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Co},set:function(t){if(!_a(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.Co=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Oo},set:function(t){if(!_a(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.Oo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Za),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}sa(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(va.from(this.data))}}(Za);var Ja=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return sa(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Za);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new Ja(r.fixed28BitMode),s}sa(n,t),l.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"esId",{get:function(){return this.Po},set:function(t){if(!_a(t,16))throw new v("Provided esId does not fit in 16 bits.");this.Po=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Bo},set:function(t){if(!_a(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.Bo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Lo},set:function(t){if(t&&!_a(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.Lo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.xo},set:function(t){if(t&&!_a(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.xo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Za);var Ka=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return sa(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(wa),$a=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return sa(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Ka),th=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return sa(n,t),l.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Mo},set:function(t){if(!_a(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this.Mo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}($a),nh=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return sa(n,t),l.defineProperty(n.prototype,"channelCount",{get:function(){return this.Uo},set:function(t){if(!_a(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.Uo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Fo},set:function(t){if(!_a(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.Fo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Ho},set:function(t){if(!_a(ga(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(ga(this.sampleRate,16),32),this.extra&&ya(n.writer,this.extra)},n}(th);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}sa(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.Xo},set:function(t){if(!_a(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!_a(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(ka),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}sa(n,t),l.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Vo},set:function(t){if(!_a(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.zo},set:function(t){if(!_a(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Go},set:function(t){if(!_a(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Wo},set:function(t){if(!_a(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizOffN",{get:function(){return this.qo},set:function(t){if(!_a(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Yo},set:function(t){if(!_a(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.Yo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vertOffN",{get:function(){return this.jo},set:function(t){if(!_a(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Qo},set:function(t){if(!_a(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(wa),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}sa(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.Xo},set:function(t){if(!_a(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!_a(t.sampleCount,32)||!_a(t.sampleOffset,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(ka),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}sa(n,t),l.defineProperty(n.prototype,"location",{get:function(){return this.Zo},set:function(t){this.flags=void 0===t?1:0,this.Zo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(ka),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}sa(n,t),l.defineProperty(n.prototype,"location",{get:function(){return this.Zo},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Zo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(ka),function(t){function n(){return t.call(this,"dinf")||this}sa(n,t)}($a);var ih=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!_a(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return sa(n,t),l.defineProperty(n.prototype,"flags",{get:function(){return this.So},set:function(t){this.So=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Ka);!function(t){function n(){return t.call(this,"dref",0,0)||this}sa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(ih);var eh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return sa(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"entries",{get:function(){return this.Xo},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!_a(e.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!_a(e.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!_a(e.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!_a(e.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(ka),rh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return sa(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(eh),sh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return sa(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(eh);function uh(t){for(var n=t.data,i=za(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var a=void 0,h=void 0;0===e?(a=n.nextUint32(),h=n.nextInt32()):(a=n.nextUint64(),h=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:a,mediaTime:h,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new rh(u,r.raw):new sh(u,r.raw)}var oh=function(t){function n(){return t.call(this,"edts")||this}return sa(n,t),n}($a);function ah(t){for(var n=new oh,i=0,e=Xa(t.data);i<e.length;i++){var r=e[i];Fa(r,"elst")?n.boxes.push(uh(r)):n.boxes.push(Ya(r))}return n}var hh=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return sa(n,t),l.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Jo},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.Jo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Ko},set:function(t){if(!_a(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.Ko=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.$o},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.$o=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(wa),ch=function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}return sa(n,t),n}(hh);function fh(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new ch(i,e,r)}var vh=function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}return sa(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(va.from(this.data))},n}(wa),dh=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return sa(n,t),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.ea},set:function(t){if(!_a(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ra},set:function(t){if(!_a(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ra=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.ua},set:function(t){if(!_a(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.oa},set:function(t){if(!_a(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"language",{get:function(){return this.va},set:function(t){if(!gh(t))throw new v("Expected an ISO-639-2/T language code");this.va=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(ka),lh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return sa(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(dh),wh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return sa(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(dh);function _h(t){var n=t.data,i=za(n.nextUint32()),e=i.version,r=i.flags,s=Ga(n,e),u=new ca(va.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(u.readUInt(5));var h=o.map(function(t){return String.fromCharCode(t+96)}).join("");return gh(h)||(h="und"),n.skip(2),0===e?new lh(s,h,r.raw):new wh(s,h,r.raw)}function gh(t){return/^[a-z]{3}$/.test(t)}var yh=function(t){function n(){return t.call(this,"mdia")||this}return sa(n,t),n}($a);function mh(t){for(var n=new yh,i=0,e=Xa(t.data);i<e.length;i++){var r=e[i];Fa(r,"mdhd")?n.boxes.push(_h(r)):Fa(r,"hdlr")?n.boxes.push(Qa(r)):n.boxes.push(Ya(r))}return n}var kh,ph=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new va,n}return sa(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(wa);function Ah(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new ph;return e.data.pushRange(i),e}!function(t){function n(){return t.call(this,"minf")||this}sa(n,t)}($a),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}sa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(ih),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(kh||(kh={}));var bh,Th,Sh={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Eh(t,n){n.writer.writeUInt(ga(t.a,16),32),n.writer.writeUInt(ga(t.b,16),32),n.writer.writeUInt(ga(0,30),32),n.writer.writeUInt(ga(t.c,16),32),n.writer.writeUInt(ga(t.d,16),32),n.writer.writeUInt(ga(0,30),32),n.writer.writeUInt(ga(t.x,16),32),n.writer.writeUInt(ga(t.y,16),32),n.writer.writeUInt(ga(1,30),32)}function Ih(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:bh.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Th.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Th.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:Th.UNKNOWN,2)}function Rh(t,n){var i,e,r;n.writer.writeUInt(0,4),Ih(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(bh||(bh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Th||(Th={}));var Nh=function(){return function(){}}(),Dh=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return sa(n,t),l.defineProperty(n.prototype,"systemId",{get:function(){return this._a},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this._a=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"data",{get:function(){return this.qi},set:function(t){if(!_a(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this.qi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(va.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(va.from(this.data))},n}(ka),Ch=function(t){function n(n,i){return t.call(this,0,n,i)||this}return sa(n,t),n}(Dh),Oh=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return sa(n,t),l.defineProperty(n.prototype,"kIds",{get:function(){return this.ya},set:function(t){if(!_a(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new v("Not all provided key ids are 16 bytes long.");this.ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(va.from(e))}},n}(Dh);function Ph(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Oh(i,o,e):new Ch(i,o)}var Bh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return sa(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.ma},set:function(t){if(!_a(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(ka),Lh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return sa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Bh),xh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return sa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Bh);function Mh(t){var n=t.data,i=za(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Lh(n.nextUint32(),r.raw):new xh(n.nextUint64(),r.raw)}var Uh=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,a.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return sa(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Aa},set:function(t){if(!_a(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ta},set:function(t){if(!_a(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Sa},set:function(t){if(!_a(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ea},set:function(t){if(!_a(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ia},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!_a(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!_a(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ia=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Rh(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(ka);function Fh(t){var n=t.data,i=za(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),h=Wa(new ca(va.from(n.nextUint8Array(4))));return new Uh(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:a,sampleFlags:h},e,r.raw)}var Hh=function(t){function n(){return t.call(this,"mvex")||this}return sa(n,t),n}($a);function Xh(t){for(var n=new Hh,i=0,e=Xa(t.data);i<e.length;i++){var r=e[i];Fa(r,"mehd")?n.boxes.push(Mh(r)):Fa(r,"trex")?n.boxes.push(Fh(r)):n.boxes.push(Ya(r))}return n}var Vh=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,a,h,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,c.matrix=null!==(h=r.matrix)&&void 0!==h?h:Sh,c.Ra=e,c}return sa(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.ea},set:function(t){if(!_a(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ra},set:function(t){if(!_a(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ra=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.ua},set:function(t){if(!_a(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.oa},set:function(t){if(!_a(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"rate",{get:function(){return this.Na},set:function(t){if(!_a(ga(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Na=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"volume",{get:function(){return this.Da},set:function(t){if(!_a(ga(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Da=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"matrix",{get:function(){return this.Ca},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Ca=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ra},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!_a(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.Ra=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(ga(this.rate,16),32),n.writer.writeUInt(ga(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Eh(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(ka),zh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return sa(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Vh),Gh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return sa(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Vh);function Wh(t){var n=t.data,i=za(n.nextUint32()),e=i.version,r=i.flags,s=Ga(n,e),u=ma(n.nextUint32(),16),o=ma(n.nextUint16(),8);n.skip(2),n.skip(8);var a=qa(n);n.skip(24);var h=n.nextUint32();return 0===e?new zh(s,h,{rate:u,volume:o,matrix:a},r.raw):new Gh(s,h,{rate:u,volume:o,matrix:a},r.raw)}var qh=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a,h,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(h=o.alternateGroup)&&void 0!==h?h:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:Sh,f}return sa(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.ea},set:function(t){if(!_a(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ra},set:function(t){if(!_a(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ra=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Aa},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!_a(t,32))throw new v("trackId cannot exceed 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.oa},set:function(t){if(!_a(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"volume",{get:function(){return this.Da},set:function(t){if(!_a(ga(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Da=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"width",{get:function(){return this.Oa},set:function(t){if(!_a(ga(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.Oa=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"height",{get:function(){return this.Pa},set:function(t){if(!_a(ga(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.Pa=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"layer",{get:function(){return this.Ba},set:function(t){if(!_a(t,16))throw new v("Provided layer does not fit in 16 bits.");this.Ba=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.La},set:function(t){if(!_a(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.La=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"matrix",{get:function(){return this.Ca},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Ca=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(ga(this.volume,8),16),n.writer.writeUInt(0,16),Eh(this.matrix,n),n.writer.writeUInt(ga(this.width,16),32),n.writer.writeUInt(ga(this.height,16),32)},n}(ka),Yh=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return sa(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(qh),jh=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return sa(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(qh);function Qh(t){var n,i,e,r,s=t.data,u=za(s.nextUint32()),o=u.version,a=u.flags,h=a.isSet(8),c=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var d=s.nextInt16(),l=s.nextInt16(),w=ma(s.nextInt16(),8);s.skip(2);var _=qa(s),g=ma(s.nextUint32(),16),y=ma(s.nextUint32(),16);return 0===o?new Yh({creation:n,modification:i,duration:r},e,w,g,y,{layer:d,matrix:_,alternateGroup:l,trackSizeIsAspectRatio:h,trackEnabled:v,trackInPreview:c,trackInMovie:f}):new jh({creation:n,modification:i,duration:r},e,w,g,y,{layer:d,matrix:_,alternateGroup:l,trackSizeIsAspectRatio:h,trackEnabled:v,trackInPreview:c,trackInMovie:f})}var Zh=function(t){function n(){return t.call(this,"trak")||this}return sa(n,t),n}($a);function Jh(t){for(var n=new Zh,i=0,e=Xa(t.data);i<e.length;i++){var r=e[i];Fa(r,"tkhd")?n.boxes.push(Qh(r)):Fa(r,"mdia")?n.boxes.push(mh(r)):Fa(r,"edts")?n.boxes.push(ah(r)):n.boxes.push(Ya(r))}return n}var Kh=function(t){function n(){return t.call(this,"moov")||this}return sa(n,t),n}($a);function $h(t){for(var n=new Kh,i=0,e=Xa(t.data);i<e.length;i++){var r=e[i];Fa(r,"mvhd")?n.boxes.push(Wh(r)):Fa(r,"trak")?n.boxes.push(Jh(r)):Fa(r,"mvex")?n.boxes.push(Xh(r)):Fa(r,"pssh")?n.boxes.push(Ph(r)):n.boxes.push(Ya(r))}return n}var tc=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return sa(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.xa},set:function(t){if(!_a(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(ka),nc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return sa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(tc),ic=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return sa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(tc);function ec(t){var n=t.data,i=za(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new nc(n.nextUint32(),r.raw):new ic(n.nextUint64(),r.raw)}var rc=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return sa(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Aa},set:function(t){if(!_a(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Ma},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!_a(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.Ma=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Ua},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!_a(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Ua=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Sa},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!_a(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ea},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!_a(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ia},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!_a(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!_a(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ia=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Rh(this.defaultSampleFlags,n)},n}(ka);function sc(t){var n=t.data,i=n.nextUint8(),e=new ca(va.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),v=c?n.nextUint64():void 0,d=h?n.nextUint32():void 0,l=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,_=u?Wa(new ca(va.from(n.nextUint8Array(4)))):void 0;return new rc({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:w,defaultSampleFlags:_},i)}var uc=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return sa(n,t),l.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Fa},set:function(t){if(t&&!_a(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.Fa=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Ha},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!_a(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!_a(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ha=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"samples",{get:function(){return this.Xa},set:function(t){var n,i;if(!_a(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(s.duration&&!_a(s.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(s.size&&!_a(s.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!_a(s.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!_a(s.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!_a(s.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Xa=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Rh(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Rh(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(ka);function oc(t){var n=t.data,i=n.nextUint8(),e=new ca(va.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};h&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Wa(new ca(va.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<c;d++){var l={};o&&(l.duration=n.nextUint32()),u&&(l.size=n.nextUint32()),s&&(l.flags=Wa(new ca(va.from(n.nextUint8Array(4))))),r&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new uc(i,f,v)}var ac=function(t){function n(){return t.call(this,"traf")||this}return sa(n,t),n}($a);function hc(t){for(var n=new ac,i=0,e=Xa(t.data);i<e.length;i++){var r=e[i];Fa(r,"tfhd")?n.boxes.push(sc(r)):Fa(r,"tfdt")?n.boxes.push(ec(r)):Fa(r,"trun")?n.boxes.push(oc(r)):n.boxes.push(Ya(r))}return n}var cc=function(t){function n(){return t.call(this,"moof")||this}return sa(n,t),n}($a);function fc(t){for(var n=new cc,i=0,e=Xa(t.data);i<e.length;i++){var r=e[i];Fa(r,"traf")?n.boxes.push(hc(r)):Fa(r,"pssh")?n.boxes.push(Ph(r)):n.boxes.push(Ya(r))}return n}!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}sa(n,t),l.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Va},set:function(t){if(!_a(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Va=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(ka);var vc=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return sa(n,t),l.defineProperty(n.prototype,"codingName",{get:function(){return this.Ga},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(wa);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}sa(n,t),l.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Wa},set:function(t){if(!_a(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.Wa=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vSpacing",{get:function(){return this.qa},set:function(t){if(!_a(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(wa),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}sa(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}($a),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new vc(n),r}sa(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(wa);var dc=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return sa(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"entries",{get:function(){return this.Xo},set:function(t){var n=this;if(!_a(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!_a(t,n.bitSize)}))throw new v("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Xo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ya},set:function(t){if(void 0===t)this.flags=0;else{if(!_a(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!_a(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(ka);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}sa(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(dc),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}sa(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(dc),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}sa(n,t),l.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Qa},set:function(t){if(!_a(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.Qa=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Za},set:function(t){if(!_a(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!_a(t,8)}))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.Za=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ya},set:function(t){if(void 0===t)this.flags=0;else{if(!_a(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!_a(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(ka),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}sa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Ih(e[i],n)}}}(ka),function(t){function n(n){return t.call(this,"stsd",n,0)||this}sa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(ih);var lc=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return sa(n,t),l.defineProperty(n.prototype,"groupingType",{get:function(){return this.Ja},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.Ja=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(ka);!function(t){function n(n,i){return t.call(this,0,n,i)||this}sa(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(lc),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}sa(n,t),l.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Ka},set:function(t){if(!_a(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this.Ka=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(lc),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}sa(n,t),l.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ta},set:function(t){if(!_a(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(lc),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}sa(n,t),l.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.$a},set:function(t){if(!_a(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!_a(t,32)}))throw new v("Not all sampleSizes can be represented in 32 bits.");this.$a=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(ka),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}sa(n,t),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ea},set:function(t){if(!_a(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"samples",{get:function(){return this.Xa},set:function(t){if(!_a(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.Xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(ka),function(t){function n(){return t.call(this,"stbl")||this}sa(n,t)}($a),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}sa(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.Xo},set:function(t){if(!_a(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!_a(t.firstChunk,32)||!_a(t.sampleDescriptionIndex,32)||!_a(t.samplesPerChunk,32)}))throw new v("Not all entries can be represented in 96 bits.");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(ka),function(t){function n(){return t.call(this,"schi")||this}sa(n,t)}($a),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}sa(n,t),l.defineProperty(n.prototype,"schemeType",{get:function(){return this.nh},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.nh=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.ih},set:function(t){if(!_a(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.ih=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"schemeUri",{get:function(){return this.eh},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.eh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(ka);var wc=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=s,a.references=u,a}return sa(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"referenceId",{get:function(){return this.rh},set:function(t){if(!_a(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.rh=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.ua},set:function(t){if(!_a(t,32))throw new v("Provided timescale does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.sh},set:function(t){if(!_a(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.sh=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"firstOffset",{get:function(){return this.uh},set:function(t){if(!_a(t,this.bitSize))throw new v("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.uh=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"references",{get:function(){return this.oh},set:function(t){if(!_a(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!_a(e.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!_a(e.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!_a(e.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!_a(e.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.oh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(ka),_c=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return sa(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(wc),gc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return sa(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(wc);var yc=function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}return sa(n,t),n}(hh);function mc(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new yc(i,e,r)}!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}sa(n,t),l.defineProperty(n.prototype,"balance",{get:function(){return this.ah},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!_a(ga(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.ah=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(ga(this.balance,8),16),n.writer.writeUInt(0,16)}}(ka),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}sa(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.Xo},set:function(t){if(!_a(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!_a(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(ka),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}sa(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.Xo},set:function(t){if(!_a(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!_a(t.sampleCount,32)||!_a(t.sampleDelta,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(ka),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}sa(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Aa},set:function(t){if(!_a(t,32))throw new v("The provided trackId does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(ih),function(t){function n(){return t.call(this,"udta")||this}sa(n,t)}($a);var kc={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=kc);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}sa(n,t),l.defineProperty(n.prototype,"opColor",{get:function(){return this.hh},set:function(t){if(!_a(t.red,16)||!_a(t.green,16)||!_a(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.hh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(ka);var pc=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,a,h,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(h=r.frameCount)&&void 0!==h?h:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return sa(n,t),l.defineProperty(n.prototype,"width",{get:function(){return this.Oa},set:function(t){if(!_a(t,16))throw new v("Provided width does not fit in 16 bits.");this.Oa=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"height",{get:function(){return this.Pa},set:function(t){if(!_a(t,16))throw new v("Provided height does not fit in 16 bits.");this.Pa=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.fh},set:function(t){if(!_a(ga(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.fh=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.vh},set:function(t){if(!_a(ga(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.vh=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"compressorName",{get:function(){return this.dh},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this.dh=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"frameCount",{get:function(){return this.lh},set:function(t){if(!_a(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this.lh=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"depth",{get:function(){return this.wh},set:function(t){if(!_a(t,16))throw new v("Provided depth does not fit in 16 bits.");this.wh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(ga(this.horizontalResolution,16),32),n.writer.writeUInt(ga(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&ya(n.writer,this.extra)},n}(th);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}sa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof m?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof m?n.concat(va.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(ka),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}sa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(nh),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}sa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(pc),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}sa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(th),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}sa(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(wa),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}l.defineProperty(t.prototype,"version",{get:function(){return this._h},set:function(t){if(!_a(t,8))throw new v("Provided version does not fit in 8 bits.");this._h=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"profileIndication",{get:function(){return this.gh},set:function(t){if(!_a(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this.gh=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.yh},set:function(t){if(!_a(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.yh=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"levelIndication",{get:function(){return this.kh},set:function(t){if(!_a(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this.kh=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"spsSets",{get:function(){return this.ph},set:function(t){if(!_a(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.ph=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"ppsSets",{get:function(){return this.Ah},set:function(t){if(!_a(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.Ah=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(va.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(va.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}sa(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(pc),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}sa(n,t),l.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Do},set:function(t){if(!_a(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.Do=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"max",{get:function(){return this.Th},set:function(t){if(!_a(t,32))throw new v("Provided max does not fit in 32 bits.");this.Th=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"avg",{get:function(){return this.Sh},set:function(t){if(!_a(t,32))throw new v("Provided avg does not fit in 32 bits.");this.Sh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(wa);var Ac=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new m(0),o}return sa(n,t),l.defineProperty(n.prototype,"isProtected",{get:function(){return this.Eh},set:function(t){if(!_a(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.Eh=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Ih},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Ih=t,this.Rh=new m(0)},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"kId",{get:function(){return this.Nh},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.Nh=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"constantIv",{get:function(){return this.Rh},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.Rh=t,this.Ih=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),ya(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),ya(t.writer,this.constantIv))},n}(ka);!function(t){function n(n){return t.call(this,0,n)||this}sa(n,t)}(Ac);var bc=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return sa(n,t),l.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Dh},set:function(t){if(!_a(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.Dh=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Ch},set:function(t){if(!_a(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.Ch=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Ac);function Tc(t){return void 0!==t.iv}function Sc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new bc(n),i}sa(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Nh),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}sa(n,t),l.defineProperty(n.prototype,"samples",{get:function(){return this.Xa},set:function(t){var n;if(!_a(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Tc(r)&&![8,16].includes(r.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Sc(r)),!0===n&&!Sc(r)||!1===n&&Sc(r))throw new v("Mix of samples with and without subsamples detected.");if(Sc(r)){if(!_a(r.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!_a(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!_a(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Tc(r)&&(n+=r.iv.length),Sc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Tc(r)&&ya(n.writer,r.iv),Sc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(ka),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}sa(n,t),l.defineProperty(n.prototype,"timescale",{get:function(){return this.ua},set:function(t){if(!_a(t,32))throw new v("The provided timescale does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Oh},set:function(t){if(!_a(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.Oh=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Ph},set:function(t){if(!_a(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.Ph=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"id",{get:function(){return this.Bh},set:function(t){if(!_a(t,32))throw new v("The provided id does not fit in 32 bits.");this.Bh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(va.from(this.data))}}(ka);var Ec=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new la,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},t}();function Ic(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Va(i,e);if(!r.complete)return;if(Fa(r.box,n))return r.box}}(new Ua(La(i),new Ma),t);if(!e)throw new v("".concat(t," box not found"));return n(e)}}var Rc=Ic("moov",$h),Nc=Ic("sidx",function(t){var n,i,e=t.data,r=za(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),a=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var h=e.nextUint16(),c=[],f=0;f<h;f++){var v=new ca(va.from(e.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),w=v.readUInt(32),_=Boolean(v.readBit()),g=v.readUInt(3),y=v.readUInt(28);c.push({referenceType:d,referencedSize:l,subsegmentDuration:w,startsWithSap:_,sapType:g,sapDeltaTime:y})}return 0===s?new _c(o,a,n,i,c,u.raw):new gc(o,a,n,i,c,u.raw)}),Dc=Ic("moof",fc),Cc=Ic("pssh",Ph);function Oc(t){return function(t){for(var n=new Ec,i=0,e=Xa(t);i<e.length;i++){var r=e[i];Fa(r,"ftyp")?n.boxes.push(fh(r)):Fa(r,"styp")?n.boxes.push(mc(r)):Fa(r,"moov")?n.boxes.push($h(r)):Fa(r,"moof")?n.boxes.push(fc(r)):Fa(r,"mdat")?n.boxes.push(Ah(r)):n.boxes.push(Ya(r))}return n}(new Ua(La(t),new Ma))}var Pc=function(t){function n(n,i){var e;(e=t.call(this)||this).Lh=void 0,e.Mh=!1,e.Uh=void 0,e.Fh=void 0,e.Hh=function(){e.Xh()},e.Vh=function(t){e.Zs(new Ru(Kt(e),t.messageType,na(e.Gh,t.message)))},e.Wh=function(){e.Mh=!0,e.Lh.Ou>0&&(e.Lh.Cu(),e.Zs(new Iu(Kt(e)))),e.qh.removeEventListener("keystatuseschange",e.Hh),e.qh.removeEventListener("message",e.Vh)},e.qh=n,e.Gh=i,e.qh.addEventListener("keystatuseschange",e.Hh),e.qh.addEventListener("message",e.Vh),e.Lh=new Pu;var r=[];return e.qh.closed&&r.push(We.resolve(e.qh.closed)),e.Fh=new Ko,r.push(e.Fh.Xu),e.Uh=We.race(r).then(e.Wh,e.Wh),e.Xh(),e}S(n,t);var i=n.prototype;return i.Yh=function(){if(this.Mh)return this.Uh;var t=[];return t.push(We.resolve(this.qh.close())),t.push(yu(1e3)),this.Fh.Wu(We.race(t).catch(Bc)),this.Mh=!0,this.Uh},i.jh=function(t,n,i){if(M.fn){var e=Cc(qo(n));if(1===e.version)n=new Ch(e.systemId,e.data).serialize().join()}return We.resolve(this.qh.generateRequest(t,n)).catch(Bc)},i.Qh=function(t){return We.resolve(this.qh.load(t)).catch(Bc)},i.Zh=function(){return We.resolve(this.qh.remove()).catch(Bc)},i.Jh=function(t){return We.resolve(this.qh.update(t)).catch(Bc)},i.Xh=function(){var t=this;this.Lh.Cu(),this.qh.keyStatuses.forEach(function(n,i){t.Kh(i,n)}),this.Zs(new Iu(this))},i.Kh=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=qo(t);if(this.Gh===ns&&16===e.byteLength){var r=zo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Gh===ns&&"status-pending"===n&&(n="usable"),this.Lh.Du(e,n)},b(n,[{key:"$h",get:function(){return this.Uh}},{key:"tc",get:function(){return this.qh.expiration}},{key:"nc",get:function(){return this.Lh}},{key:"ic",get:function(){return this.qh.sessionId}}]),n}(Au);function Bc(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new ea(t.message,void 0,n,t)}var Lc=function(){function t(t,n,i){this.ec=t,this.rc=n,this.uc=i}var n=t.prototype;return n.ac=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Pc(this.ec.createSession(t),this.rc));case 1:case"end":return n.stop()}},null,this,null,We)},n.hc=function(t){return We.resolve(this.ec.setServerCertificate(t))},n.cc=function(t){return We.resolve(t.setMediaKeys(this.ec))},n.fc=function(t){return We.resolve(t.setMediaKeys(null))},t}(),xc=function(){function t(t,n,i){this.vc=t,this.Gh=n,this.dc=i}var n=t.prototype;return n.lc=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(this.vc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new Lc(t,this.Gh,this.dc));case 4:case"end":return n.stop()}},null,this,null,We)},n.wc=function(){return this.dc},b(t,[{key:"rc",get:function(){return this.vc.keySystem}}]),t}(),Mc={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Uc(t){return ys(t,Mc.APPLICATION_MP4)||ys(t,Mc.VIDEO_MP4)||ys(t,Mc.AUDIO_MP4)}var Fc=function(){function t(t,n){this.vs=void 0,this._c=void 0,this.vs=t,this._c=n}return t.prototype.gc=function(t){for(var n=0,i=this._c;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function Hc(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Fc(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,a=0;a<r.length;a++){var h=r[a];if(o||";"!==h)'"'===h&&(o=!o);else{var c=Xc(r.substr(u,a));c&&s.push(c),u=a+1}}if(u!==r.length){var f=Xc(r.substr(u));f&&s.push(f)}return new Fc(e,s)}function Xc(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function Vc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function zc(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+bs((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function Gc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,yc:e.yc},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return Wc(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(s.videoCapabilities=a.filter(function(e){return Wc(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function Wc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Ys(n,e.encryptionScheme))&&(!e.robustness&&t(i,Vc(e.contentType))))}function qc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Yc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function jc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Qc))||!(!t.videoCapabilities||!t.videoCapabilities.some(Qc))}function Qc(t){return!t.robustness}function Zc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(xr({},r,{robustness:n}))}return i}var Jc=function(){function t(){}return t.prototype.Es=function(t,n){var i,e,r,s,u,a,h,c;return Lr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.yc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Yc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Yc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(jc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",xr({},n=t,{videoCapabilities:n.videoCapabilities?Zc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?Zc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Lr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,a=u.getConfiguration(),f.abrupt("return",new xc(u,t,a));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Lr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return h=f.sent,c=h.getConfiguration(),f.abrupt("return",new xc(h,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],We)},t.mc=function(){return Ds()},t}(),Kc=function(t){function n(n,i){var e;return(e=t.call(this)||this).Mh=!1,e.kc=void 0,e.pc=void 0,e.Ac=void 0,e.bc=void 0,e.Tc=void 0,e.Wh=function(){e.Mh=!0,e.kc.Wu(void 0),e.Tc&&(e.Tc.removeEventListener("mskeyclose",e.Wh),e.Tc.removeEventListener("mskeymessage",e.Sc),e.Tc.removeEventListener("mskeyerror",e.Ec),e.Tc.removeEventListener("mskeyadded",e.Ic))},e.Sc=function(t){e.Ac&&(e.Ac.Wu(void 0),e.Ac=void 0),e.Zs(new Ru(Kt(e),"license-request",jo(t.message).buffer,t.destinationURL||void 0))},e.Ec=function(){var t=e.Tc&&e.Tc.error;if(t){var n=new ea("Unknown CDM error",t.code,t.systemCode);if(e.Ac)e.Ac.Yu(n),e.Ac=void 0;else if(e.pc)e.pc.Yu(n),e.pc=void 0;else switch(n.ju){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Rc("output-not-allowed");break;default:e.Rc("internal-error")}}},e.Ic=function(){e.Ac&&(e.Rc("usable"),e.Ac.Wu(void 0),e.Ac=void 0),e.pc&&(e.Rc("usable"),e.pc.Wu(void 0),e.pc=void 0)},e.Nc=n,e.Dc=i,e.kc=new Ko,e.bc=new Pu,e}S(n,t);var i=n.prototype;return i.jh=function(t,n,i){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Cc(),this.Ac=new Ko,this.ac(qo(n),i),t.next=5,Lr.awrap(this.Ac.Xu);case 5:case"end":return t.stop()}},null,this,null,We)},i.ac=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Oc;return(i=n?this.Nc.createSession(this.Dc,t,e):this.Nc.createSession(this.Dc,t)).addEventListener("mskeyclose",this.Wh),i.addEventListener("mskeymessage",this.Sc),i.addEventListener("mskeyerror",this.Ec),i.addEventListener("mskeyadded",this.Ic),this.Tc=i,this.Rc("status-pending"),i},i.Qh=function(t){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Cc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,We)},i.Jh=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.pc=new Ko,this.Cc(),this.Tc){i.next=4;break}return i.abrupt("return",We.resolve());case 4:if(0!==(n=qo(t)).byteLength){i.next=7;break}throw new d("Cannot call update with an empty response.");case 7:return this.Tc.update(n),i.next=10,Lr.awrap(this.pc.Xu);case 10:case"end":return i.stop()}},null,this,null,We)},i.Yh=function(){return!this.Mh&&this.Tc&&(this.Mh=!0,this.Tc.close()),this.kc.Xu},i.Zh=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Cc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,We)},i.Cc=function(){if(this.Mh)throw new d("Already closing or closed.")},i.Rc=function(t){this.bc.Cu(),this.bc.Du(Ou,t),this.Zs(new Iu(this))},b(n,[{key:"ic",get:function(){return this.Tc&&this.Tc.sessionId||""}},{key:"tc",get:function(){return NaN}},{key:"$h",get:function(){return this.kc.Xu}},{key:"nc",get:function(){return this.bc}}]),n}(Au),$c=function(){function t(t,n,i){this.Dc=void 0,this.Nc=t,this.rc=n,this.uc=i;var e=qc(i)||"video/mp4";this.Dc=Vc(e)}var n=t.prototype;return n.ac=function(t){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Kc(this.Nc,this.Dc));case 1:case"end":return t.stop()}},null,this,null,We)},n.hc=function(t){return We.resolve(!1)},n.cc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Nc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Nc),t.removeEventListener("loadedmetadata",i)}),We.resolve()},n.fc=function(t){return We.resolve()},t}(),tf=function(){function t(t,n){this.Gh=t,this.Pc=n}var n=t.prototype;return n.wc=function(){return this.Pc},n.lc=function(){var t=new le.MSMediaKeys(this.Gh);return We.resolve(new $c(t,this.Gh,this.Pc))},b(t,[{key:"rc",get:function(){return this.Gh}}]),t}(),nf=function(){function t(){}return t.prototype.Es=function(t,n){try{return We.resolve(function(t,n){if(!ef())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Gc(rf,Su,t,e);if(r)return new tf(t,r)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return We.reject(t)}},t.mc=function(){return ef()},t}();function ef(){return void 0!==le.MSMediaKeys&&"function"==typeof le.MSMediaKeys.isTypeSupported}function rf(t,n){return le.MSMediaKeys.isTypeSupported(t,n)}var sf,uf,of=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).kc=new Ko,r.Bc=void 0,r.bc=new Pu,r.Lc=void 0,r.xc=new Ko,r.Ec=function(){var t=r.Lc&&r.Lc.error;if(t){var n=new ea("Unknown CDM error",t.code,t.systemCode);r.Bc?(r.Bc.Yu(n),r.Bc=void 0):n.ju===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Rc("output-not-allowed"):r.Rc("internal-error"),r.Zs(new Nu)}},r.Sc=function(t){r.Zs(new Ru(Kt(r),"license-request",jo(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Ic=function(){r.Bc&&(r.Bc.Wu(void 0),r.Bc=void 0),r.Rc("usable")},r.Mc=n,r.Dc=i,r.Uc=e,r}S(n,t);var i=n.prototype;return i.jh=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Fc;if(!e)throw new d("Expected FairPlay contentId to be defined but was "+e+".");var r=af(qo(n),e,this.Uc);return this.Lc=this.Mc.createSession(this.Dc,r),this.Lc.addEventListener("webkitkeymessage",this.Sc,!1),this.Lc.addEventListener("webkitkeyadded",this.Ic,!1),this.Lc.addEventListener("webkitkeyerror",this.Ec,!1),this.Rc("status-pending"),this.xc.Wu(this.Lc),this.xc=new Ko,We.resolve()},i.Qh=function(t){return We.resolve(!0)},i.Jh=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=qo(t)).byteLength){i.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.Bc=new Ko,i.t0=this.Lc,i.t0){i.next=9;break}return i.next=8,Lr.awrap(this.xc.Xu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Lr.awrap(this.Bc.Xu);case 13:case"end":return i.stop()}},null,this,null,We)},i.Yh=function(){var t,n=this.Lc;return n&&(n.removeEventListener("webkitkeymessage",this.Sc,!1),n.removeEventListener("webkitkeyadded",this.Ic,!1),n.removeEventListener("webkitkeyerror",this.Ec,!1),n.close()),this.xc.Vs(),null==(t=this.Bc)||t.Vs(),this.kc.Wu(void 0),this.kc.Xu},i.Zh=function(){return We.resolve(void 0)},i.Rc=function(t){this.bc.Cu(),this.bc.Du(Ou,t),this.Zs(new Iu(this))},b(n,[{key:"ic",get:function(){return this.Lc?this.Lc.sessionId:""}},{key:"tc",get:function(){return NaN}},{key:"$h",get:function(){return this.kc.Xu}},{key:"nc",get:function(){return this.bc}}]),n}(Au);function af(t,n,i){var e=Uo(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),a=new Zo;return ko(o,a,r,!0),Co(o,a,e,!0),ko(o,a,s,!0),Co(o,a,n,!0),ko(o,a,i.byteLength,!0),lo(o,a,i),new m(u)}n.ErrorCode=void 0,(sf=n.ErrorCode||(n.ErrorCode={}))[sf.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",sf[sf.LICENSE_ERROR=2e3]="LICENSE_ERROR",sf[sf.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",sf[sf.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",sf[sf.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",sf[sf.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",sf[sf.SOURCE_INVALID=3e3]="SOURCE_INVALID",sf[sf.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",sf[sf.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",sf[sf.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",sf[sf.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",sf[sf.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",sf[sf.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",sf[sf.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",sf[sf.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",sf[sf.MEDIA_ABORTED=5004]="MEDIA_ABORTED",sf[sf.NETWORK_ERROR=6e3]="NETWORK_ERROR",sf[sf.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",sf[sf.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",sf[sf.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",sf[sf.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",sf[sf.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",sf[sf.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",sf[sf.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",sf[sf.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",sf[sf.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",sf[sf.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",sf[sf.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",sf[sf.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",sf[sf.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",sf[sf.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",sf[sf.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",sf[sf.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",sf[sf.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",sf[sf.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",sf[sf.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",sf[sf.AD_ERROR=1e4]="AD_ERROR",sf[sf.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",sf[sf.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(uf=n.ErrorCategory||(n.ErrorCategory={}))[uf.CONFIGURATION=1]="CONFIGURATION",uf[uf.LICENSE=2]="LICENSE",uf[uf.SOURCE=3]="SOURCE",uf[uf.MANIFEST=4]="MANIFEST",uf[uf.MEDIA=5]="MEDIA",uf[uf.NETWORK=6]="NETWORK",uf[uf.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",uf[uf.SUBTITLE=8]="SUBTITLE",uf[uf.VR=9]="VR",uf[uf.AD=10]="AD",uf[uf.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=w.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new d("Invalid error code: "+t)}}();var hf=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return S(i,t),b(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(tn);var cf=function(){function t(t,n,i){this.Dc=void 0,this.Uc=void 0,this.Mc=t,this.rc=n,this.uc=i;var e=qc(i)||"video/mp4";this.Dc=Vc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Mc},i.ac=function(t){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Uc){t.next=2;break}throw new hf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new of(this.Mc,this.Dc,this.Uc));case 3:case"end":return t.stop()}},null,this,null,We)},i.hc=function(t){return this.Uc=qo(t),We.resolve(!0)},i.cc=function(t){return t.webkitSetMediaKeys(this.Mc),We.resolve()},i.fc=function(t){return t.webkitSetMediaKeys(null),We.resolve()},t}(),ff=function(){function t(t,n){this.Gh=t,this.Pc=n}var n=t.prototype;return n.wc=function(){return this.Pc},n.lc=function(){var t=new le.WebKitMediaKeys(this.Gh);return We.resolve(new cf(t,this.Gh,this.Pc))},b(t,[{key:"rc",get:function(){return this.Gh}}]),t}(),vf=function(){function t(){}return t.prototype.Es=function(t,n){try{return We.resolve(function(t,n){if(t!==as)throw new d(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!df())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Gc(lf,Eu,t,e);if(r)return new ff(t,r)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return We.reject(t)}},t.mc=function(){return df()},t}();function df(){return void 0!==le.WebKitMediaKeys&&"function"==typeof le.WebKitMediaKeys.isTypeSupported}function lf(t,n){return le.WebKitMediaKeys.isTypeSupported(t,n)}var wf,_f=function(){function t(t){this.Hc=t}return t.prototype.Es=function(t,n){var i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Hc;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Lr.awrap(r.Es(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new d("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],We)},t}(),gf=function(t){function n(n){var i;return(i=t.call(this)||this).Ac=void 0,i.Bc=void 0,i.kc=void 0,i._o=!1,i.Xc=void 0,i.Vc=void 0,i.zc=void 0,i.Gc=void 0,i.Wc=void 0,i.Gh=n,i.kc=new Ko,i.Vc="",i.Wc=new Ko,i.zc=new Pu,i}S(n,t);var i=n.prototype;return i.qc=function(){this.Bc&&(this.Rc("usable"),this.Bc.Wu(void 0),this.Bc=void 0)},i.Yc=function(t){var n=new ea("Unknown CDM error",t.errorCode,t.systemCode);this.Bc?(this.Bc.Yu(n),this.Bc=void 0):this.Ac?(this.Ac.Yu(n),this.Ac=void 0):n.ju===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Rc("output-restricted"):1===n.Qu?this.Rc("expired"):this.Rc("internal-error")},i.jc=function(t){0!==t.message.byteLength&&(this.Ac&&(this.Ac.Wu(void 0),this.Ac=void 0),this.Zs(new Ru(this,"license-request",na(this.Gh,jo(t.message).buffer),t.defaultURL||void 0)))},i.Qc=function(t){this.Gc||(this.Gc=t,this.Wc.Wu(t))},i.Yh=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this._o=!0,this.kc.Wu(void 0);case 3:case"end":return t.stop()}},null,this,null,We)},i.jh=function(t,n){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Ac=new Ko,this.Xc=qo(n),t.t0=this.Gc,t.t0){t.next=8;break}return t.next=7,Lr.awrap(this.Wc.Xu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Gh,this.Xc),t.next=12,Lr.awrap(this.Ac.Xu);case 12:case"end":return t.stop()}},null,this,null,We)},i.Qh=function(t){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,We)},i.Zh=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,We)},i.Jh=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Bc=new Ko,n.t0=this.Gc,n.t0){n.next=7;break}return n.next=6,Lr.awrap(this.Wc.Xu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Gh,qo(t),this.Xc,this.ic),n.next=11,Lr.awrap(this.Bc.Xu);case 11:case"end":return n.stop()}},null,this,null,We)},i.throwIfClosed=function(){if(this._o)throw new d("Already closing or closed.")},i.Rc=function(t){this.zc.Cu(),this.zc.Du(Ou,t),this.Zs(new Iu(this))},b(n,[{key:"nc",get:function(){return this.zc}},{key:"ic",get:function(){return this.Vc},set:function(t){this.Vc=t}},{key:"$h",get:function(){return this.kc.Xu}},{key:"tc",get:function(){return NaN}}]),n}(Au),yf=function(){function t(t,n){var i=this;this.Gc=void 0,this.Zc=Ur(),this.Jc=[],this.Ic=function(t){var n=i.Kc(t.sessionId);n&&n.qc()},this.$c=function(t){var n=i.Kc(t.sessionId);n&&n.Yc(t)},this.tf=function(t){var n=i.Kc(t.sessionId);n&&n.jc(t)},this.rc=t,this.uc=n}var n=t.prototype;return n.cc=function(t){return this.Gc=t,this.Gc.addEventListener("webkitkeyadded",this.Ic),this.Gc.addEventListener("webkitkeyerror",this.$c),this.Gc.addEventListener("webkitkeymessage",this.tf),this.Zc.forEach(function(n,i){return n.Qc(t)}),this.Jc.forEach(function(n){return n.Qc(t)}),We.resolve()},n.fc=function(t){return t.removeEventListener("webkitkeyadded",this.Ic),t.removeEventListener("webkitkeyerror",this.$c),t.removeEventListener("webkitkeymessage",this.tf),this.Gc=void 0,We.resolve()},n.ac=function(t,n,i){var e;return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new gf(this.rc),this.Gc&&e.Qc(this.Gc),this.Jc.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,We)},n.hc=function(t){return We.resolve(!1)},n.Kc=function(t){if(t){var n=this.Zc.get(t);return n||((n=this.Jc.shift())?(n.ic=t,this.Zc.set(t,n),n):void 0)}},t}(),mf=function(){function t(t,n){this.rc=t,this.nf=n}var n=t.prototype;return n.lc=function(){return We.resolve(new yf(this.rc,this.nf))},n.wc=function(){return this.nf},t}(),kf=function(){function t(){}return t.prototype.Es=function(t,n){try{return We.resolve(pf(t,n))}catch(t){return We.reject(t)}},t.mc=function(){return Cs()},t}();function pf(t,n){if(!kf.mc())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Gc(Af,Su,t,e);if(r)return new mf(t,r)}throw new d("Unsupported key system configuration for "+t)}function Af(t,n){var i=lr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function bf(){return wf||(wf=function(){var t=[];vf.mc()&&t.push(new vf);Jc.mc()&&t.push(new Jc);nf.mc()&&t.push(new nf);kf.mc()&&t.push(new kf);return new _f(t)}()),wf}var Tf=function(){function t(){this.if=Ur()}var n=t.prototype;return n.Cu=function(t){this.if.delete(t)},n.ef=function(){this.if.clear()},n.Ru=function(t){return this.if.get(t)},n.rf=function(t,n){this.if.set(t,n)},t}(),Sf=function(){function t(){}return t.sf=function(){return t.Yn||(t.Yn=Ef.mc()?new Ef:new Tf),t.Yn},t.Cu=function(n){t.sf().Cu(n)},t.ef=function(){t.sf().ef()},t.Ru=function(n){return t.sf().Ru(n)},t.rf=function(n,i){t.sf().rf(n,i)},t}();Sf.Yn=void 0;var Ef=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.mc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Cu=function(n){t.sessionStorage.removeItem(n)},e.ef=function(){t.sessionStorage.clear()},e.Ru=function(n){return t.sessionStorage[n]},e.rf=function(n,i){t.sessionStorage[n]=i},i}(Sf);var If=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function Rf(t,n,i){var e=If([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var Nf,Df;!function(t){t.uf="hf",t.cf="vf",t.df="contentprotectionerror",t.lf="contentprotectionsuccess",t.wf="currentsourcechange",t._f="destroy",t.gf="durationchange",t.yf="emptied",t.pu="encrypted",t.mf="ended",t.kf="pf",t.Af="loadstart",t.bf="manifestupdate",t.Tf="nosupportedrepresentationfound",t.Sf="offline",t.Ef="online",t.If="pause",t.Rf="play",t.Nf="progress",t.Df="ratechange",t.Cf="representationchange",t.Of="resize",t.Pf="seeked",t.Bf="seeking",t.Lf="segmentnotfound",t.xf="Mf",t.Uf="Ff",t.Hf="sourcechange",t.Xf="timeupdate",t.Vf="volumechange",t.zf="Gf",t.Wf="metricschange"}(Nf||(Nf={})),function(t){t.qf="arraybuffer",t.Yf="json",t.jf="stream",t.$n="text"}(Df||(Df={}));var Cf=function(){function t(n){var i=this;this.Kr=void 0,this.Kr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Of(i),e=Pf(e);var r=i.toLowerCase();if(this.Kr.hasOwnProperty(r)){var s=this.Kr[r],u=s[1];s[1]=u?u+", "+e:e}else this.Kr[r]=[i,e]},n.delete=function(t){var n=Of(t).toLowerCase();delete this.Kr[n]},n.get=function(t){var n=Of(t).toLowerCase();return this.Kr.hasOwnProperty(n)?this.Kr[n][1]:null},n.has=function(t){var n=Of(t).toLowerCase();return this.Kr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Of(i)).toLowerCase();this.Kr[e]=[i,Pf(n)]},n.forEach=function(t,n){for(var i in this.Kr)this.Kr.hasOwnProperty(i)&&t.call(n,this.Kr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Kr)if(this.Kr.hasOwnProperty(n)){var i=this.Kr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Qf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Zf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Jf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Of(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function Pf(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Lf(){}var xf=Number.isNaN||function(t){return t!=t},Mf=Lf;function Uf(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Ff(t){return t.slice()}function Hf(t){return!1!==function(t){if("number"!=typeof t)return!1;if(xf(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Xf(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Vf(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new d(r+" is not a method");switch(i){case 0:return function(){return Gf(r,t,e)};case 1:return function(n){var i=[n].concat(e);return Gf(r,t,i)}}}return function(){return $f(void 0)}}function zf(t,n,i){var e=t[n];if(void 0!==e)return Xf(e,t,i)}function Gf(t,n,i){try{return $f(Xf(t,n,i))}catch(t){return tv(t)}}function Wf(t){return t}function qf(t){if(t=Number(t),xf(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Yf(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new d("size property of a queuing strategy must be a function");return function(n){return t(n)}}var jf=We,Qf=We.prototype.then,Zf=We.resolve.bind(jf),Jf=We.reject.bind(jf);function Kf(t){return new jf(t)}function $f(t){return Zf(t)}function tv(t){return Jf(t)}function nv(t,n,i){return Qf.call(t,n,i)}function iv(t,n,i){nv(nv(t,n,i),void 0,Mf)}function ev(t,n){iv(t,n)}function rv(t,n){iv(t,void 0,n)}function sv(t,n,i){return nv(t,n,i)}function uv(t){nv(t,void 0,Mf)}var ov=function(){function t(){this.Kf=0,this.$f=0,this.Ie={tv:[],ev:void 0},this.rv=this.Ie,this.Kf=0,this.$f=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.$f},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.rv,i=n;16383===n.tv.length&&(i={tv:[],ev:void 0}),n.tv.push(t),i!==n&&(this.rv=i,n.ev=i),++this.$f},t.prototype.shift=function(){var t=this.Ie,n=t,i=this.Kf,e=i+1,r=t.tv,s=r[i];return 16384===e&&(n=t.ev,e=0),--this.$f,this.Kf=e,t!==n&&(this.Ie=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Kf,i=this.Ie,e=i.tv;!(n===e.length&&void 0===i.ev||n===e.length&&(n=0,0===(e=(i=i.ev).tv).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Ie,n=this.Kf;return t.tv[n]},t}();function av(t,n,i){var e=null;!0===i&&(e=l.prototype);var r=l.create(e);return r.value=t,r.done=n,r}function hv(t,n){t.uv=!0,t.ov=n,n.hv=t,"readable"===n.me?dv(t):"closed"===n.me?function(t){dv(t),_v(t)}(t):lv(t,n.fv)}function cv(t,n){return kl(t.ov,n)}function fv(t){"readable"===t.ov.me?wv(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){lv(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.ov.hv=void 0,t.ov=void 0}function vv(t){return new d("Cannot "+t+" a stream using a released reader")}function dv(t){t.Uh=Kf(function(n,i){t.vv=n,t.wv=i})}function lv(t,n){dv(t),wv(t,n)}function wv(t,n){uv(t.Uh),t.wv(n),t.vv=void 0,t.wv=void 0}function _v(t){t.vv(void 0),t.vv=void 0,t.wv=void 0}var gv=Bf("[[CancelSteps]]"),yv=Bf("[[PullSteps]]");function mv(t,n){void 0===n&&(n=!1);var i=new Ev(t);return i.uv=n,i}function kv(t){return Kf(function(n,i){var e={Vu:n,Gu:i};t.hv._v.push(e)})}function pv(t,n,i){var e=t.hv;e._v.shift().Vu(av(n,i,e.uv))}function Av(t){return t.hv._v.length}function bv(t){var n=t.hv;return void 0!==n&&!!Iv(n)}var Tv,Sv,Ev=function(){function t(t){if(!1===yl(t))throw new d("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===ml(t))throw new d("This stream has already been locked for exclusive reading by another reader");hv(this,t),this._v=new ov}return l.defineProperty(t.prototype,"closed",{get:function(){return Iv(this)?this.Uh:tv(Nv("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Iv(this)?void 0===this.ov?tv(vv("cancel")):cv(this,t):tv(Nv("cancel"))},t.prototype.read=function(){return Iv(this)?void 0===this.ov?tv(vv("read from")):Rv(this):tv(Nv("read"))},t.prototype.releaseLock=function(){if(!Iv(this))throw Nv("releaseLock");if(void 0!==this.ov){if(this._v.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");fv(this)}},t}();function Iv(t){return!!Uf(t)&&!!l.prototype.hasOwnProperty.call(t,"_v")}function Rv(t){var n=t.ov;return n.yv=!0,"closed"===n.me?$f(av(void 0,!0,t.uv)):"errored"===n.me?tv(n.fv):n.mv[yv]()}function Nv(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Bf.asyncIterator&&((Tv={})[Bf.asyncIterator]=function(){return this},Sv=Tv,l.defineProperty(Sv,Bf.asyncIterator,{enumerable:!1}));var Dv={next:function(){if(!1===Cv(this))return tv(Ov("next"));var t=this.pv;return void 0===t.ov?tv(vv("iterate")):sv(Rv(t),function(n){var i=n.done;return i&&fv(t),av(n.value,i,!0)})},return:function(t){if(!1===Cv(this))return tv(Ov("next"));var n=this.pv;if(void 0===n.ov)return tv(vv("finish iterating"));if(n._v.length>0)return tv(new d("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Av){var i=cv(n,t);return fv(n),sv(i,function(){return av(t,!0,!0)})}return fv(n),$f(av(t,!0,!0))}};function Cv(t){return!!Uf(t)&&!!l.prototype.hasOwnProperty.call(t,"pv")}function Ov(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Pv(t){var n=t.bv.shift();return t.Tv-=n.size,t.Tv<0&&(t.Tv=0),n.value}function Bv(t,n,i){if(!Hf(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.bv.push({value:n,size:i}),t.Tv+=i}function Lv(t){t.bv=new ov,t.Tv=0}void 0!==Sv&&l.setPrototypeOf(Dv,Sv),l.defineProperty(Dv,"next",{enumerable:!1}),l.defineProperty(Dv,"return",{enumerable:!1});var xv=Bf("[[AbortSteps]]"),Mv=Bf("[[ErrorSteps]]"),Uv=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Hv(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=Yf(i);void 0===e&&(e=1),function(t,n,i,e){var r=l.create(rd.prototype);var s=Vf(n,"write",1,[r]),u=Vf(n,"close",0,[]),o=Vf(n,"abort",1,[]);sd(t,r,function(){return zf(n,"start",[r])},s,u,o,i,e)}(this,t,e=qf(e),r)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===Xv(this))throw vd("locked");return Vv(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Xv(this)?tv(vd("abort")):!0===Vv(this)?tv(new d("Cannot abort a stream that already has a writer")):zv(this,t)},t.prototype.close=function(){return!1===Xv(this)?tv(vd("close")):!0===Vv(this)?tv(new d("Cannot close a stream that already has a writer")):!0===jv(this)?tv(new d("Cannot close an already-closing stream")):Gv(this)},t.prototype.getWriter=function(){if(!1===Xv(this))throw vd("getWriter");return Fv(this)},t}();function Fv(t){return new Jv(t)}function Hv(t){t.me="writable",t.fv=void 0,t.To=void 0,t.Sv=void 0,t.Ev=new ov,t.Iv=void 0,t.Rv=void 0,t.Nv=void 0,t.Dv=void 0,t.Cv=!1}function Xv(t){return!!Uf(t)&&!!l.prototype.hasOwnProperty.call(t,"Sv")}function Vv(t){return void 0!==t.To}function zv(t,n){var i=t.me;if("closed"===i||"errored"===i)return $f(void 0);if(void 0!==t.Dv)return t.Dv.Ov;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=Kf(function(i,r){t.Dv={Ov:void 0,Vu:i,Gu:r,Pv:n,Bv:e}});return t.Dv.Ov=r,!1===e&&qv(t,n),r}function Gv(t){var n=t.me;if("closed"===n||"errored"===n)return tv(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=Kf(function(n,i){var e={Vu:n,Gu:i};t.Rv=e}),r=t.To;return void 0!==r&&!0===t.Cv&&"writable"===n&&bd(r),Bv(i=t.Sv,"close",0),ad(i),e}function Wv(t,n){"writable"!==t.me?Yv(t):qv(t,n)}function qv(t,n){var i=t.Sv;t.me="erroring",t.fv=n;var e=t.To;void 0!==e&&nd(e,n),!1===function(t){if(void 0===t.Iv&&void 0===t.Nv)return!1;return!0}(t)&&!0===i.Lv&&Yv(t)}function Yv(t){t.me="errored",t.Sv[Mv]();var n=t.fv;if(t.Ev.forEach(function(t){t.Gu(n)}),t.Ev=new ov,void 0!==t.Dv){var i=t.Dv;if(t.Dv=void 0,!0===i.Bv)return i.Gu(n),void Qv(t);iv(t.Sv[xv](i.Pv),function(){i.Vu(),Qv(t)},function(n){i.Gu(n),Qv(t)})}else Qv(t)}function jv(t){return void 0!==t.Rv||void 0!==t.Nv}function Qv(t){void 0!==t.Rv&&(t.Rv.Gu(t.fv),t.Rv=void 0);var n=t.To;void 0!==n&&gd(n,t.fv)}function Zv(t,n){var i=t.To;void 0!==i&&n!==t.Cv&&(!0===n?function(t){md(t)}(i):bd(i)),t.Cv=n}var Jv=function(){function t(t){if(!1===Xv(t))throw new d("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Vv(t))throw new d("This stream has already been locked for exclusive writing by another writer");this.xv=t,t.To=this;var n,i=t.me;if("writable"===i)!1===jv(t)&&!0===t.Cv?md(this):pd(this),wd(this);else if("erroring"===i)kd(this,t.fv),wd(this);else if("closed"===i)pd(this),wd(n=this),yd(n);else{var e=t.fv;kd(this,e),_d(this,e)}}return l.defineProperty(t.prototype,"closed",{get:function(){return!1===Kv(this)?tv(dd("closed")):this.Uh},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Kv(this))throw dd("desiredSize");if(void 0===this.xv)throw ld("desiredSize");return function(t){var n=t.xv,i=n.me;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return od(n.Sv)}(this)},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return!1===Kv(this)?tv(dd("ready")):this.Mv},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Kv(this)?tv(dd("abort")):void 0===this.xv?tv(ld("abort")):function(t,n){return zv(t.xv,n)}(this,t)},t.prototype.close=function(){if(!1===Kv(this))return tv(dd("close"));var t=this.xv;return void 0===t?tv(ld("close")):!0===jv(t)?tv(new d("Cannot close an already-closing stream")):$v(this)},t.prototype.releaseLock=function(){if(!1===Kv(this))throw dd("releaseLock");void 0!==this.xv&&id(this)},t.prototype.write=function(t){return!1===Kv(this)?tv(dd("write")):void 0===this.xv?tv(ld("write to")):ed(this,t)},t}();function Kv(t){return!!Uf(t)&&!!l.prototype.hasOwnProperty.call(t,"xv")}function $v(t){return Gv(t.xv)}function td(t,n){"pending"===t.Uv?gd(t,n):function(t,n){_d(t,n)}(t,n)}function nd(t,n){"pending"===t.Fv?Ad(t,n):function(t,n){kd(t,n)}(t,n)}function id(t){var n=t.xv,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");nd(t,i),td(t,i),n.To=void 0,t.xv=void 0}function ed(t,n){var i=t.xv,e=i.Sv,r=function(t,n){try{return t.Hv(n)}catch(n){return hd(t,n),1}}(e,n);if(i!==t.xv)return tv(ld("write to"));var s=i.me;if("errored"===s)return tv(i.fv);if(!0===jv(i)||"closed"===s)return tv(new d("The stream is closing or closed and cannot be written to"));if("erroring"===s)return tv(i.fv);var u=function(t){return Kf(function(n,i){var e={Vu:n,Gu:i};t.Ev.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{Bv(t,e,i)}catch(n){return void hd(t,n)}var r=t.Xv;if(!1===jv(r)&&"writable"===r.me){var s=cd(t);Zv(r,s)}ad(t)}(e,n,r),u}var rd=function(){function t(){throw new d("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Uf(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"Xv"))return!1;return!0}(this))throw new d("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Xv.me&&fd(this,t)},t.prototype[xv]=function(t){var n=this.Vv(t);return ud(this),n},t.prototype[Mv]=function(){Lv(this)},t}();function sd(t,n,i,e,r,s,u,o){n.Xv=t,t.Sv=n,n.bv=void 0,n.Tv=void 0,Lv(n),n.Lv=!1,n.Hv=o,n.zv=u,n.Gv=e,n.Wv=r,n.Vv=s;var a=cd(n);Zv(t,a),iv($f(i()),function(){n.Lv=!0,ad(n)},function(i){n.Lv=!0,Wv(t,i)})}function ud(t){t.Gv=void 0,t.Wv=void 0,t.Vv=void 0,t.Hv=void 0}function od(t){return t.zv-t.Tv}function ad(t){var n=t.Xv;if(!1!==t.Lv&&void 0===n.Iv)if("erroring"!==n.me){if(0!==t.bv.length){var i=t.bv.peek().value;"close"===i?function(t){var n=t.Xv;(function(t){t.Nv=t.Rv,t.Rv=void 0})(n),Pv(t);var i=t.Wv();ud(t),iv(i,function(){!function(t){t.Nv.Vu(void 0),t.Nv=void 0,"erroring"===t.me&&(t.fv=void 0,void 0!==t.Dv&&(t.Dv.Vu(),t.Dv=void 0)),t.me="closed";var n=t.To;void 0!==n&&yd(n)}(n)},function(t){!function(t,n){t.Nv.Gu(n),t.Nv=void 0,void 0!==t.Dv&&(t.Dv.Gu(n),t.Dv=void 0),Wv(t,n)}(n,t)})}(t):function(t,n){var i=t.Xv;(function(t){t.Iv=t.Ev.shift()})(i),iv(t.Gv(n),function(){!function(t){t.Iv.Vu(void 0),t.Iv=void 0}(i);var n=i.me;if(Pv(t),!1===jv(i)&&"writable"===n){var e=cd(t);Zv(i,e)}ad(t)},function(n){"writable"===i.me&&ud(t),function(t,n){t.Iv.Gu(n),t.Iv=void 0,Wv(t,n)}(i,n)})}(t,i.chunk)}}else Yv(n)}function hd(t,n){"writable"===t.Xv.me&&fd(t,n)}function cd(t){return od(t)<=0}function fd(t,n){var i=t.Xv;ud(t),qv(i,n)}function vd(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function dd(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function ld(t){return new d("Cannot "+t+" a stream using a released writer")}function wd(t){t.Uh=Kf(function(n,i){t.vv=n,t.wv=i,t.Uv="pending"})}function _d(t,n){wd(t),gd(t,n)}function gd(t,n){uv(t.Uh),t.wv(n),t.vv=void 0,t.wv=void 0,t.Uv="rejected"}function yd(t){t.vv(void 0),t.vv=void 0,t.wv=void 0,t.Uv="resolved"}function md(t){t.Mv=Kf(function(n,i){t.qv=n,t.Yv=i}),t.Fv="pending"}function kd(t,n){md(t),Ad(t,n)}function pd(t){md(t),bd(t)}function Ad(t,n){uv(t.Mv),t.Yv(n),t.qv=void 0,t.Yv=void 0,t.Fv="rejected"}function bd(t){t.qv(void 0),t.qv=void 0,t.Yv=void 0,t.Fv="fulfilled"}function Td(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Sd="undefined"!=typeof DOMException?DOMException:void 0;var Ed,Id=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Sd)?Sd:((Ed=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),l.defineProperty(Ed.prototype,"constructor",{value:Ed,writable:!0,configurable:!0}),Ed);function Rd(t,n,i,e,r,s){var u=mv(t),o=Fv(n);t.yv=!0;var a=!1,h=$f(void 0);return Kf(function(c,f){var v,l,w,_;if(void 0!==s){if(v=function(){var i=new Id("Aborted","AbortError"),s=[];!1===e&&s.push(function(){return"writable"===n.me?zv(n,i):$f(void 0)}),!1===r&&s.push(function(){return"readable"===t.me?kl(t,i):$f(void 0)}),k(function(){return We.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void v();s.addEventListener("abort",v)}if(m(t,u.Uh,function(t){!1===e?k(function(){return zv(n,t)},!0,t):p(!0,t)}),m(n,o.Uh,function(n){!1===r?k(function(){return kl(t,n)},!0,n):p(!0,n)}),l=t,w=u.Uh,_=function(){!1===i?k(function(){return function(t){var n=t.xv,i=n.me;return!0===jv(n)||"closed"===i?$f(void 0):"errored"===i?tv(n.fv):$v(t)}(o)}):p()},"closed"===l.me?_():ev(w,_),!0===jv(n)||"closed"===n.me){var g=new d("the destination writable stream closed before all data could be piped to it");!1===r?k(function(){return kl(t,g)},!0,g):p(!0,g)}function y(){var t=h;return nv(h,function(){return t!==h?y():void 0})}function m(t,n,i){"errored"===t.me?i(t.fv):rv(n,i)}function k(t,i,e){function r(){iv(t(),function(){return A(i,e)},function(t){return A(!0,t)})}!0!==a&&(a=!0,"writable"===n.me&&!1===jv(n)?ev(y(),r):r())}function p(t,i){!0!==a&&(a=!0,"writable"===n.me&&!1===jv(n)?ev(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){id(o),fv(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):c(void 0)}uv(Kf(function(t,n){!function i(e){e?t():nv(!0===a?$f(!0):nv(o.Mv,function(){return nv(Rv(u),function(t){return!0===t.done||(h=nv(ed(o,t.value),void 0,Lf),!1)})}),i,n)}(!1)}))})}var Nd=function(){function t(){throw new d}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Dd(this))throw Hd("desiredSize");return Md(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Dd(this))throw Hd("close");if(!1===Ud(this))throw new d("The stream is not in a state that permits close");Bd(this)},t.prototype.enqueue=function(t){if(!1===Dd(this))throw Hd("enqueue");if(!1===Ud(this))throw new d("The stream is not in a state that permits enqueue");return Ld(this,t)},t.prototype.error=function(t){if(!1===Dd(this))throw Hd("error");xd(this,t)},t.prototype[gv]=function(t){Lv(this);var n=this.Qv(t);return Pd(this),n},t.prototype[yv]=function(){var t=this.Zv;if(this.bv.length>0){var n=Pv(this);return!0===this.Jv&&0===this.bv.length?(Pd(this),pl(t)):Cd(this),$f(av(n,!1,t.hv.uv))}var i=kv(t);return Cd(this),i},t}();function Dd(t){return!!Uf(t)&&!!l.prototype.hasOwnProperty.call(t,"Zv")}function Cd(t){!1!==Od(t)&&(!0!==t.Kv?(t.Kv=!0,iv(t.$v(),function(){t.Kv=!1,!0===t.td&&(t.td=!1,Cd(t))},function(n){xd(t,n)})):t.td=!0)}function Od(t){var n=t.Zv;return!1!==Ud(t)&&(!1!==t.Lv&&(!0===ml(n)&&Av(n)>0||Md(t)>0))}function Pd(t){t.$v=void 0,t.Qv=void 0,t.Hv=void 0}function Bd(t){var n=t.Zv;t.Jv=!0,0===t.bv.length&&(Pd(t),pl(n))}function Ld(t,n){var i=t.Zv;if(!0===ml(i)&&Av(i)>0)pv(i,n,!1);else{var e=void 0;try{e=t.Hv(n)}catch(n){throw xd(t,n),n}try{Bv(t,n,e)}catch(n){throw xd(t,n),n}}Cd(t)}function xd(t,n){var i=t.Zv;"readable"===i.me&&(Lv(t),Pd(t),Al(i,n))}function Md(t){var n=t.Zv.me;return"errored"===n?null:"closed"===n?0:t.zv-t.Tv}function Ud(t){var n=t.Zv.me;return!1===t.Jv&&"readable"===n}function Fd(t,n,i,e,r,s,u){n.Zv=t,n.bv=void 0,n.Tv=void 0,Lv(n),n.Lv=!1,n.Jv=!1,n.td=!1,n.Kv=!1,n.Hv=u,n.zv=s,n.$v=e,n.Qv=r,t.mv=n,iv($f(i()),function(){n.Lv=!0,Cd(n)},function(t){xd(n,t)})}function Hd(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var Xd=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&w.floor(t)===t},Vd=function(){function t(){throw new d("ReadableStreamBYOBRequest cannot be used directly")}return l.defineProperty(t.prototype,"view",{get:function(){if(!1===Wd(this))throw ol("view");return this.ed},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Wd(this))throw ol("respond");if(void 0===this.rd)throw new d("This BYOB request has been invalidated");this.ed.buffer,function(t,n){if(!1===Hf(n=Number(n)))throw new RangeError("bytesWritten must be a finite");nl(t,n)}(this.rd,t)},t.prototype.respondWithNewView=function(t){if(!1===Wd(this))throw ol("respond");if(void 0===this.rd)throw new d("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.ud.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,nl(t,n.byteLength)}(this.rd,t)},t}(),zd=function(){function t(){throw new d("ReadableByteStreamController constructor cannot be used directly")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Gd(this))throw al("byobRequest");if(void 0===this.od&&this.ud.length>0){var t=this.ud.peek(),n=new m(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=l.create(Vd.prototype);!function(t,n,i){t.rd=n,t.ed=i}(i,this,n),this.od=i}return this.od},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Gd(this))throw al("desiredSize");return sl(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Gd(this))throw al("close");if(!0===this.Jv)throw new d("The stream has already been closed; do not close it again!");var t=this.hd.me;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.hd;if(t.Tv>0)return void(t.Jv=!0);if(t.ud.length>0){var i=t.ud.peek();if(i.bytesFilled>0){var e=new d("Insufficient bytes to fill elements in the given buffer");throw rl(t,e),e}}el(t),pl(n)}(this)},t.prototype.enqueue=function(t){if(!1===Gd(this))throw al("enqueue");if(!0===this.Jv)throw new d("stream is closed or draining");var n=this.hd.me;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new d("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.hd,e=n.buffer,r=n.byteOffset,s=n.byteLength,u=Wf(e);if(!0===bv(i))if(0===Av(i))Qd(t,u,r,s);else{var o=new m(u,r,s);pv(i,o,!1)}else!0===fl(i)?(Qd(t,u,r,s),tl(t)):Qd(t,u,r,s);qd(t)}(this,t)},t.prototype.error=function(t){if(!1===Gd(this))throw al("error");rl(this,t)},t.prototype[gv]=function(t){this.ud.length>0&&(this.ud.peek().bytesFilled=0);Lv(this);var n=this.Qv(t);return el(this),n},t.prototype[yv]=function(){var t=this.hd;if(this.Tv>0){var n=this.bv.shift();this.Tv-=n.byteLength,Kd(this);var i=void 0;try{i=new m(n.buffer,n.byteOffset,n.byteLength)}catch(t){return tv(t)}return $f(av(i,!1,t.hv.uv))}var e=this.fd;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return tv(t)}var s={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:m,readerType:"default"};this.ud.push(s)}var u=kv(t);return qd(this),u},t}();function Gd(t){return!!Uf(t)&&!!l.prototype.hasOwnProperty.call(t,"hd")}function Wd(t){return!!Uf(t)&&!!l.prototype.hasOwnProperty.call(t,"rd")}function qd(t){!1!==function(t){var n=t.hd;if("readable"!==n.me)return!1;if(!0===t.Jv)return!1;if(!1===t.Lv)return!1;if(!0===bv(n)&&Av(n)>0)return!0;if(!0===fl(n)&&cl(n)>0)return!0;if(sl(t)>0)return!0;return!1}(t)&&(!0!==t.Kv?(t.Kv=!0,iv(t.$v(),function(){t.Kv=!1,!0===t.td&&(t.td=!1,qd(t))},function(n){rl(t,n)})):t.td=!0)}function Yd(t,n){var i=!1;"closed"===t.me&&(i=!0);var e=jd(n);"default"===n.readerType?pv(t,e,i):function(t,n,i){var e=t.hv;e.vd.shift().Vu(av(n,i,e.uv))}(t,e,i)}function jd(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function Qd(t,n,i,e){t.bv.push({buffer:n,byteOffset:i,byteLength:e}),t.Tv+=e}function Zd(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=w.min(t.Tv,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,a=!1;u>e&&(o=u-n.bytesFilled,a=!0);for(var h,c,f,v,d,l=t.bv;o>0;){var _=l.peek(),g=w.min(o,_.byteLength),y=n.byteOffset+n.bytesFilled;h=n.buffer,c=y,f=_.buffer,v=_.byteOffset,d=g,new m(h).set(new m(f,v,d),c),_.byteLength===g?l.shift():(_.byteOffset+=g,_.byteLength-=g),t.Tv-=g,Jd(t,g,n),o-=g}return a}function Jd(t,n,i){$d(t),i.bytesFilled+=n}function Kd(t){0===t.Tv&&!0===t.Jv?(el(t),pl(t.hd)):qd(t)}function $d(t){void 0!==t.od&&(t.od.rd=void 0,t.od.ed=void 0,t.od=void 0)}function tl(t){for(;t.ud.length>0;){if(0===t.Tv)return;var n=t.ud.peek();!0===Zd(t,n)&&(il(t),Yd(t.hd,n))}}function nl(t,n){var i=t.ud.peek();if("closed"===t.hd.me){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=Wf(n.buffer);var i=t.hd;if(!0===fl(i))for(;cl(i)>0;)Yd(i,il(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Jd(t,n,i),!(i.bytesFilled<i.elementSize)){il(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=i.buffer.slice(r-e,r);Qd(t,s,0,s.byteLength)}i.buffer=Wf(i.buffer),i.bytesFilled-=e,Yd(t.hd,i),tl(t)}}(t,n,i);qd(t)}function il(t){var n=t.ud.shift();return $d(t),n}function el(t){t.$v=void 0,t.Qv=void 0}function rl(t,n){var i=t.hd;"readable"===i.me&&(!function(t){$d(t),t.ud=new ov}(t),Lv(t),el(t),Al(i,n))}function sl(t){var n=t.hd.me;return"errored"===n?null:"closed"===n?0:t.zv-t.Tv}function ul(t,n,i){var e=l.create(zd.prototype);var r=Vf(n,"pull",0,[e]),s=Vf(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===Xd(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,s,u){n.hd=t,n.td=!1,n.Kv=!1,n.od=void 0,n.bv=n.Tv=void 0,Lv(n),n.Jv=!1,n.Lv=!1,n.zv=qf(s),n.$v=e,n.Qv=r,n.fd=u,n.ud=new ov,t.mv=n,iv($f(i()),function(){n.Lv=!0,qd(n)},function(t){rl(n,t)})}(t,e,function(){return zf(n,"start",[e])},r,s,i,u)}function ol(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function al(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function hl(t){return Kf(function(n,i){var e={Vu:n,Gu:i};t.hv.vd.push(e)})}function cl(t){return t.hv.vd.length}function fl(t){var n=t.hv;return void 0!==n&&!!dl(n)}var vl=function(){function t(t){if(!yl(t))throw new d("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Gd(t.mv))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(ml(t))throw new d("This stream has already been locked for exclusive reading by another reader");hv(this,t),this.vd=new ov}return l.defineProperty(t.prototype,"closed",{get:function(){return dl(this)?this.Uh:tv(ll("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return dl(this)?void 0===this.ov?tv(vv("cancel")):cv(this,t):tv(ll("cancel"))},t.prototype.read=function(t){return dl(this)?void 0===this.ov?tv(vv("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?tv(new d("view must have non-zero byteLength")):function(t,n){var i=t.ov;if(i.yv=!0,"errored"===i.me)return tv(i.fv);return function(t,n){var i=t.hd,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,s={buffer:Wf(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.ud.length>0)return t.ud.push(s),hl(i);if("closed"===i.me)return $f(av(new r(s.buffer,s.byteOffset,0),!0,i.hv.uv));if(t.Tv>0){if(!0===Zd(t,s)){var u=jd(s);return Kd(t),$f(av(u,!1,i.hv.uv))}if(!0===t.Jv){var o=new d("Insufficient bytes to fill elements in the given buffer");return rl(t,o),tv(o)}}t.ud.push(s);var a=hl(i);return qd(t),a}(i.mv,n)}(this,t)):tv(new d("view must be an array buffer view")):tv(ll("read"))},t.prototype.releaseLock=function(){if(!dl(this))throw ll("releaseLock");if(void 0!==this.ov){if(this.vd.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");fv(this)}},t}();function dl(t){return!!Uf(t)&&!!l.prototype.hasOwnProperty.call(t,"vd")}function ll(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var wl=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),gl(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),ul(this,t,e=qf(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var s=Yf(i);void 0===e&&(e=1),function(t,n,i,e){var r=l.create(Nd.prototype),s=Vf(n,"pull",0,[r]),u=Vf(n,"cancel",1,[]);Fd(t,r,function(){return zf(n,"start",[r])},s,u,i,e)}(this,t,e=qf(e),s)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===yl(this))throw bl("locked");return ml(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===yl(this)?tv(bl("cancel")):!0===ml(this)?tv(new d("Cannot cancel a stream that already has a reader")):kl(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===yl(this))throw bl("getReader");if(void 0===n)return mv(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new vl(t);return i.uv=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,s=r.preventClose,u=r.preventAbort,o=r.preventCancel,a=r.signal;if(!1===yl(this))throw bl("pipeThrough");if(!1===Xv(i))throw new d("writable argument to pipeThrough must be a WritableStream");if(!1===yl(e))throw new d("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==a&&!Td(a))throw new d("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===ml(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Vv(i))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return uv(Rd(this,i,s,u,o,a)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===yl(this)?tv(bl("pipeTo")):!1===Xv(t)?tv(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),s=Boolean(s),void 0===u||Td(u)?!0===ml(this)?tv(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Vv(t)?tv(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Rd(this,t,e,r,s,u):tv(new d("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===yl(this))throw bl("tee");var t=function(t,n){var i,e,r,s,u,o=mv(t),a=!1,h=!1,c=!1,f=Kf(function(t){u=t});function v(){return!0===a?$f(void 0):(a=!0,uv(sv(Rv(o),function(t){if(a=!1,!0===t.done)return!1===h&&Bd(r.mv),void(!1===c&&Bd(s.mv));var n=t.value,i=n,e=n;!1===h&&Ld(r.mv,i),!1===c&&Ld(s.mv,e)})),$f(void 0))}function d(){}return r=_l(d,v,function(n){if(h=!0,i=n,!0===c){var r=Ff([i,e]),s=kl(t,r);u(s)}return f}),s=_l(d,v,function(n){if(c=!0,e=n,!0===h){var r=Ff([i,e]),s=kl(t,r);u(s)}return f}),rv(o.Uh,function(t){xd(r.mv,t),xd(s.mv,t)}),[r,s]}(this);return Ff(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===yl(this))throw bl("getIterator");return function(t,n){void 0===n&&(n=!1);var i=mv(t),e=l.create(Dv);return e.pv=i,e.Av=Boolean(n),e}(this,i)},t}();function _l(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=l.create(wl.prototype);return gl(s),Fd(s,l.create(Nd.prototype),t,n,i,e,r),s}function gl(t){t.me="readable",t.hv=void 0,t.fv=void 0,t.yv=!1}function yl(t){return!!Uf(t)&&!!l.prototype.hasOwnProperty.call(t,"mv")}function ml(t){return void 0!==t.hv}function kl(t,n){return t.yv=!0,"closed"===t.me?$f(void 0):"errored"===t.me?tv(t.fv):(pl(t),sv(t.mv[gv](n),Lf))}function pl(t){t.me="closed";var n=t.hv;void 0!==n&&(Iv(n)&&(n._v.forEach(function(t){t.Vu(av(void 0,!0,n.uv))}),n._v=new ov),_v(n))}function Al(t,n){t.me="errored",t.fv=n;var i=t.hv;void 0!==i&&(Iv(i)?(i._v.forEach(function(t){t.Gu(n)}),i._v=new ov):(i.vd.forEach(function(t){t.Gu(n)}),i.vd=new ov),wv(i,n))}function bl(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Bf.asyncIterator&&l.defineProperty(wl.prototype,Bf.asyncIterator,{value:wl.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Tl=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Sl=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=Yf(e);if(void 0===r&&(r=1),r=qf(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,h=Yf(s);void 0===u&&(u=0),u=qf(u),function(t,n,i,e,r,s){function u(){return n}t.dd=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=l.create(Uv.prototype);return Hv(u),sd(u,l.create(rd.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.ld;if(!0===t.Cv){var e=t.wd;return sv(e,function(){var e=t.dd,r=e.me;if("erroring"===r)throw e.fv;return Bl(i,n)})}return Bl(i,n)}(t,n)},function(){return function(t){var n=t._d,i=t.ld,e=i.yd();return Ol(i),sv(e,function(){if("errored"===n.me)throw n.fv;var t=n.mv;!0===Ud(t)&&Bd(t)},function(i){throw Il(t,i),n.fv})}(t)},function(n){return function(t,n){return Il(t,n),$f(void 0)}(t,n)},i,e),t._d=_l(u,function(){return function(t){return Nl(t,!1),t.wd}(t)},function(n){return Rl(t,n),$f(void 0)},r,s),t.Cv=void 0,t.wd=void 0,t.md=void 0,Nl(t,!0),t.ld=void 0}(this,Kf(function(t){a=t}),r,o,u,h),function(t,n){var i=l.create(Dl.prototype),e=function(t){try{return Pl(i,t),$f(void 0)}catch(t){return tv(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new d("transform is not a method");e=function(t){return Gf(r,n,[t,i])}}var s=Vf(n,"flush",0,[i]);!function(t,n,i,e){n.kd=t,t.ld=n,n.pd=i,n.yd=e}(t,i,e,s)}(this,t);var c=zf(t,"start",[this.ld]);a(c)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!1===El(this))throw xl("readable");return this._d},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!1===El(this))throw xl("writable");return this.dd},enumerable:!0,configurable:!0}),t}();function El(t){return!!Uf(t)&&!!l.prototype.hasOwnProperty.call(t,"ld")}function Il(t,n){xd(t._d.mv,n),Rl(t,n)}function Rl(t,n){Ol(t.ld),hd(t.dd.Sv,n),!0===t.Cv&&Nl(t,!1)}function Nl(t,n){void 0!==t.wd&&t.md(),t.wd=Kf(function(n){t.md=n}),t.Cv=n}var Dl=function(){function t(){throw new d("TransformStreamDefaultController instances cannot be created directly")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Cl(this))throw Ll("desiredSize");return Md(this.kd._d.mv)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Cl(this))throw Ll("enqueue");Pl(this,t)},t.prototype.error=function(t){if(!1===Cl(this))throw Ll("error");var n;n=t,Il(this.kd,n)},t.prototype.terminate=function(){if(!1===Cl(this))throw Ll("terminate");!function(t){var n=t.kd,i=n._d.mv;!0===Ud(i)&&Bd(i);var e=new d("TransformStream terminated");Rl(n,e)}(this)},t}();function Cl(t){return!!Uf(t)&&!!l.prototype.hasOwnProperty.call(t,"kd")}function Ol(t){t.pd=void 0,t.yd=void 0}function Pl(t,n){var i=t.kd,e=i._d.mv;if(!1===Ud(e))throw new d("Readable side is not in a state that permits enqueue");try{Ld(e,n)}catch(t){throw Rl(i,t),i._d.fv}(function(t){return!0!==Od(t)})(e)!==i.Cv&&Nl(i,!0)}function Bl(t,n){return sv(t.pd(n),void 0,function(n){throw Il(t.kd,n),n})}function Ll(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function xl(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}var Ml,Ul=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return S(n,t),b(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(tn);function Fl(t){return n=[t],new wl({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Hl(t){return Fl(new m(t))}function Xl(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Ko,s=function(){u();var t=new uu;e.cancel(t).catch(J),r.Yu(t)},u=function(){i&&(i.Us(s),i=void 0)};i&&(i.Cs?s():i.Ms(s));var o=[];return We.resolve(e.read()).then(function t(n){return n.done?(u(),We.resolve(o)):(o.push(n.value),We.resolve(e.read()).then(t))}).then(function(t){u(),r.Wu(t)},function(t){u(),r.Yu(t)}),r.Xu}(t,n).then(function(t){return qu(t).buffer})}function Vl(t,n){var i=n,e=new Sl,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Vs()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(J)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(J)}),r}function zl(t){var n=new Sl,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch(function(n){var i;i=V(n)?n[0]===n[1]||ou(n[0])&&ou(n[1])?n[0]:new Ul(n):n,t.cancel(i).catch(J)}),i.tee()}function Gl(t){return Uo(new m(t))}function Wl(t){return Fo(t).buffer}!function(t){t[t.jf=0]="jf",t[t.bd=1]="bd"}(Ml||(Ml={}));var ql="content-type",Yl="text/plain;charset=UTF-8",jl=function(){function t(){}var n=t.prototype;return n.Td=function(t){return this.Sd(t).then(JSON.parse)},n.Ed=function(t,n){switch(t){case Df.qf:return this.Id(n);case Df.Yf:return this.Td(n);case Df.jf:return this.Rd();case Df.$n:return this.Sd(n);default:throw new d}},t}();function Ql(t,n,i){if(t instanceof jl)return t;if(t instanceof wl)return function(t,n){return new Jl({vs:Ml.jf,Rd:t,Nd:Zl(n)})}(t,i);var e=Zl(i),r=We.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{vs:Df.$n,Dd:t,Nd:n||Yl};if(t instanceof ArrayBuffer||zu(t))return{vs:Df.qf,Dd:rw(t),Nd:n};if(W(t)||V(t))return{vs:Df.Yf,Dd:t,Nd:n};throw new d("Unsupported BodyInit type")}return{vs:Df.$n,Dd:null,Nd:n}}(t,e)});return new Jl({vs:Ml.bd,Xu:r,Cd:n})}function Zl(t){return(t.get(ql)||"").toLowerCase()}var Jl=function(t){function n(n){var i;return(i=t.call(this)||this).Od=!1,i.Pd=void 0,i.Bd=new Ko,i.Bd.Xu.catch(J),i.Ld(n),i}S(n,t);var i=n.prototype;return i.xd=function(){return this.Bd.Xu},i.Sd=function(t){return this.Md(Kl,t)},i.Td=function(t){return this.Md(tw,t)},i.Id=function(t){return this.Md(iw,t)},i.Rd=function(){return this.Ud((t=this.Pd).vs===Ml.jf?t.Rd:Vl(t.Xu.then(ew).then(Hl),t.Cd));var t},i.Md=function(t,n){if(this.Od)return We.reject(new d("Already used"));this.Od=!0;var i=t(this.Pd,n);return this.Bd.Wu(i.then(J)),i},i.Ud=function(t){if(this.Od)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.Od=!0;var n=new Sl,i=We.resolve(t.pipeTo(n.writable));return this.Bd.Wu(i),n.readable},i.Ld=function(t){this.Pd=t,t.vs===Ml.bd&&t.Xu.catch(J)},i.Fd=function(){if(this.Od)throw new d("Already used");var t=function(t){if(t.vs===Ml.jf){var n=t.Rd.tee(),i=n[0],e=n[1];return[{vs:t.vs,Rd:i,Nd:t.Nd},{vs:t.vs,Rd:e,Nd:t.Nd}]}var r=t.Cd.Gs(),s=r[0],u=r[1];return[{vs:t.vs,Xu:t.Xu,Cd:s},{vs:t.vs,Xu:t.Xu,Cd:u}]}(this.Pd),i=t[0],e=t[1];return this.Ld(i),new n(e)},b(n,[{key:"Hd",get:function(){return this.Od}}]),n}(jl);function Kl(t,n){return t.vs===Ml.jf?Xl(t.Rd,n).then(Gl):(n&&t.Cd.zs(n),vu(t.Xu.then($l),t.Cd))}function $l(t){switch(t.vs){case Df.$n:return We.resolve(t.Dd||"");case Df.qf:return We.resolve(t.Dd).then(Gl);case Df.Yf:return We.resolve(t.Dd).then(JSON.stringify)}}function tw(t,n){return t.vs===Ml.jf?Kl(t,n).then(JSON.parse):(n&&t.Cd.zs(n),vu(t.Xu.then(nw),t.Cd))}function nw(t){return t.vs===Df.Yf?We.resolve(t.Dd):$l(t).then(JSON.parse)}function iw(t,n){return t.vs===Ml.jf?Xl(t.Rd,n):(n&&t.Cd.zs(n),vu(t.Xu.then(ew),t.Cd))}function ew(t){switch(t.vs){case Df.qf:return We.resolve(t.Dd);case Df.$n:case Df.Yf:return $l(t).then(Wl)}}function rw(t){return t instanceof ArrayBuffer?t:jo(Go(t)).buffer}function sw(t){return t.Xd>=200&&t.Xd<=299||304===t.Xd}var uw,ow,aw,hw,cw=function(t){function n(n,i){var e,r,s,u,o,a;i?(r=i.Vd,s=i.zd,u=i.Xd,o=i.Gd,a=i.Wd):(r=[],s=Df.$n,u=200,o="OK",a=!1);var h=n.qd,c=new Cf(n.Vd||r),f=n.zd||s,v=n.Yd||(i&&i.qd===h?i.Yd:h.jd),d=i?i.Qd:null,l=Ql(void 0!==n.Vi?n.Vi:d,n.Cd||new su,c);return(e=t.call(this,l)||this).Vd=void 0,e.qd=void 0,e.Yd=void 0,e.zd=void 0,e.Xd=void 0,e.Gd=void 0,e.Wd=void 0,e.Vd=c,e.qd=h,e.Yd=v,e.zd=f,e.Xd=void 0!==n.Xd?n.Xd:u,e.Gd=void 0!==n.Gd?String(n.Gd):o,e.Wd=n.Wd||a,e}S(n,t);var i=n.prototype;return i.Vi=function(t){return this.Ed(this.zd,t)},i.Mu=function(){return new n({Vi:this.Fd(),qd:this.qd},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Qd=void 0,i.Qd=n,i}S(n,t);var i=n.prototype;return i.xd=function(){return this.Qd.xd()},i.Sd=function(t){return this.Qd.Sd(t)},i.Td=function(t){return this.Qd.Td(t)},i.Id=function(t){return this.Qd.Id(t)},i.Rd=function(){return this.Qd.Rd()},i.Fd=function(){return this.Qd.Fd()},b(n,[{key:"Hd",get:function(){return this.Qd.Hd}}]),n}(jl));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(uw||(uw={})),function(t){t.Zd="",t.Jd="manifest",t.Kd="segment",t.$d="content-protection"}(ow||(ow={})),function(t){t.Zd="",t.il="initialization-segment",t.ul="fairplay-license",t.ol="fairplay-certificate",t.al="widevine-license",t.hl="widevine-certificate",t.cl="playready-license",t.fl="clearkey-license",t.vl="aes128-key"}(aw||(aw={})),function(t){t.Zd="",t.dl="audio",t.ll="video",t.$n="text",t.wl="image"}(hw||(hw={}));var fw=function(t,n){this.Dd=void 0,this.Vd=void 0,this._l=void 0,this.zd=void 0,this.yl=void 0,this.Ws=void 0,this.vs=void 0,this.Al=void 0,this.bl=void 0,this.jd=void 0,this.Tl=void 0,this.Sl=void 0;var i,e,r,s,u,o,a,h,c,f,v,d=t.jd;n?(i=n.Dd,e=n.Vd,r=n._l,s=n.zd,u=n.yl,o=n.Ws,a=n.vs,h=n.Al,c=n.bl,f=n.Tl,v=n.Sl):(i=null,e={},r=uw.GET,s=Df.$n,u=0,a=ow.Zd,h=aw.Zd,c=hw.Zd,f=!1),this.jd=d,this.Dd=t.Dd||i,this.Vd=new Cf(t.Vd||e),this._l=t._l||r,this.zd=t.zd||s,this.yl=void 0!==t.yl?Number(t.yl)||0:u,this.Ws=t.Ws||o||(new su).Ws,this.vs=t.vs||a,this.Al=t.Al||h,this.bl=t.bl||c,this.Tl=void 0!==t.Tl?Boolean(t.Tl):f,this.Sl=t.Sl||v},vw=function(){function t(){}var n=t.prototype;return n.qd=function(t){var n=function(t){return new cw({Vi:null,Vd:{},qd:t,Yd:t.jd,zd:t.zd,Xd:0,Gd:Nf.Sf})}(new fw(t));return We.resolve(n)},n.El=function(t){},n.Il=function(){},t}();var dw=function(){function t(t,n){void 0===n&&(n=!0),this.Rl=void 0,this.Nl=void 0,this.Rl=t,this.Nl=n}var n=t.prototype;return n.qd=function(t){var n=this.Dl(t);return this.Rl.qd(n)},n.El=function(t){return this.Rl.El(this.Cl(t))},n.Dl=function(n){var i=new fw(n);if(!this.Nl){var e=t.Ol(i.jd);i=new fw({jd:e},i)}return i},n.Cl=function(n){var i=n.jd;return this.Nl||(i=t.Ol(i)),{jd:i,Dd:n.Dd}},t.Ol=function(t){return i.Xr&&ms(t,"http://")?t.replace(":","s:"):t},n.Il=function(){this.Rl.Il()},b(t,null,[{key:"Pl",get:function(){return t.Bl||(t.Bl=new t(new vw)),t.Bl}}]),t}();function lw(t,n){for(var i=0,e=l.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function ww(t,n){var e=i.Lr(t);return n&&!ks(e,"/")&&(e+="/"),e}dw.Bl=void 0;var _w,gw=/cache:(.+)?(?=&|$)/,yw="http://webcache.googleusercontent.com/search?q=cache:";function mw(t){if(!ms(t,yw))return"";var n=i.Br(t).search.match(gw);return n&&n.length>1?n[1]:""}!function(t){t.Ll="HttpOpenError",t.xl="HttpResponseError",t.Ml="HttpTimeoutError"}(_w||(_w={}));var kw=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Ul=void 0,r.Ul=n,r}return S(n,t),b(n,[{key:"qd",get:function(){return this.Ul}}]),n}(tn);var pw=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.jd+". Invalid URL.",i)||this}return S(n,t),b(n,[{key:"name",get:function(){return _w.Ll}}]),n}(kw);var Aw=function(t){function n(n,i,e){var r;return(r=t.call(this,n.qd,null!=e?e:function(t){return"Error while loading "+t.qd.jd+", status code "+t.Xd}(n),i)||this).Fl=void 0,r.Fl=n,r}return S(n,t),b(n,[{key:"name",get:function(){return _w.xl}},{key:"Hl",get:function(){return this.Fl}}]),n}(kw);var bw=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.jd+" timed out after "+t.yl+" seconds."}(n),i)||this}return S(n,t),b(n,[{key:"name",get:function(){return _w.Ml}}]),n}(kw),Tw=function(t,n){return(Tw=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Sw(t,n){function i(){this.constructor=t}Tw(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}var Ew="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var Iw=function(){var t=Ew.Blob;if(t)try{return new t,function(t,n){return new Ew.Blob(t,n)}}catch(t){}var n,i=Ew.BlobBuilder||Ew.WebKitBlobBuilder||Ew.MozBlobBuilder||Ew.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),Rw="function"==typeof wl?wl:void 0;function Nw(t){return t&&"function"==typeof t.getReader}function Dw(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Nw(i)}catch(t){return!1}}var Cw=function(){function t(t,n){this.hv=t,this.Xl=n}return t.prototype.pull=function(t){var n=this;return this.hv.read().then(function(i){n.Xl&&n.Xl(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.hv.cancel(t)},t}();function Ow(t,n){return n.constructor===t?n:new t(new Cw(n.getReader()),{highWaterMark:0})}var Pw=function(){function t(t,n){this.Vl=t,this.zl=n}return t.prototype.pull=function(t){return this.Vl().then(function(n){t.enqueue(new m(n)),t.close()})},t.prototype.cancel=function(t){this.zl&&this.zl(t)},t}();function Bw(t,n,i){return new t(new Pw(n,i),{highWaterMark:0})}var Lw={searchParams:"URLSearchParams"in Ew,iterable:"Symbol"in Ew&&"iterator"in Symbol,blob:"FileReader"in Ew&&!!Iw,formData:"FormData"in Ew,arrayBuffer:"ArrayBuffer"in Ew,stream:Dw(Rw),streamRequest:"Request"in Ew&&"body"in Ew.Request.prototype,streamResponse:"Response"in Ew&&"body"in Ew.Response.prototype,abort:"AbortController"in Ew&&"Request"in Ew&&"signal"in Ew.Request.prototype,encoding:"TextEncoder"in Ew&&"TextDecoder"in Ew,url:"URL"in Ew&&function(t){try{return new Ew.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Ew&&/Firefox\//.test(Ew.navigator.userAgent)};function xw(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new d("Invalid character in header field name");return t}function Mw(t){return"string"!=typeof t&&(t=String(t)),t}function Uw(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Lw.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Fw=function(){function t(t){var n=this;this.Kr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return Lw.iterable&&t&&t[Symbol.iterator]}(t)?t&&l.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=xw(t),n=Mw(n);var i=t.toLowerCase();if(this.Kr.hasOwnProperty(i)){var e=this.Kr[i],r=e[1];e[1]=r?r+", "+n:n}else this.Kr[i]=[t,n]},t.prototype.delete=function(t){var n=xw(t).toLowerCase();delete this.Kr[n]},t.prototype.get=function(t){var n=xw(t).toLowerCase();return this.Kr.hasOwnProperty(n)?this.Kr[n][1]:null},t.prototype.has=function(t){var n=xw(t).toLowerCase();return this.Kr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=xw(t)).toLowerCase();this.Kr[i]=[t,Mw(n)]},t.prototype.forEach=function(t,n){for(var i in this.Kr)this.Kr.hasOwnProperty(i)&&t.call(n,this.Kr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Uw(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Uw(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Uw(t)},t.prototype.asList=function(){var t=[];for(var n in this.Kr)if(this.Kr.hasOwnProperty(n)){var i=this.Kr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function Hw(){}Lw.iterable&&(Fw.prototype[Symbol.iterator]=Fw.prototype.entries);var Xw,Vw,zw,Gw=w.min,Ww=String.fromCharCode,qw=16384;function Yw(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=qw){var r=Gw(e+qw,n);i.push(Ww.apply(null,t.slice(e,r)))}return i.join("")}(n)}function jw(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Qw(t,n){return t>>n&63|128}function Zw(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(jw(t),n.push(t>>12&15|224),n.push(Qw(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Qw(t,12)),n.push(Qw(t,6))),n.push(63&t|128)):n.push(t)}function Jw(){if(zw>=Vw)throw new v("Invalid byte index");var t=255&Xw[zw];if(zw++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function Kw(){var t,n;if(zw>Vw)throw new v("Invalid byte index");if(zw===Vw)return!1;if(t=255&Xw[zw],zw++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Jw())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Jw()<<6|Jw())>=2048)return jw(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Jw()<<12|Jw()<<6|Jw())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var $w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function t_(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function n_(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function i_(t){return t&&DataView.prototype.isPrototypeOf(t)}var e_,r_=ArrayBuffer.isView||function(t){return t&&($w.indexOf(l.prototype.toString.call(t))>-1||i_(t))};function s_(t){if(t.bodyUsed)return We.reject(new d("Already used"));t.bodyUsed=!0}function u_(t){return new We(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function o_(t){return Lw.encoding?new Ew.TextDecoder("utf-8").decode(new m(t)):Yw(function(t){Vw=(Xw=t).length,zw=0;for(var n,i=[];!1!==(n=Kw());)i.push(n);return i}(new m(t)))}function a_(t){return Lw.encoding?(new Ew.TextEncoder).encode(t).buffer:new m(function(t){for(var n=[],i=0,e=t;i<e.length;i++)Zw(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function h_(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?We.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function c_(t){return h_(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new m(n),s=0,u=0,o=t;u<o.length;u++){var a=o[u];r.set(a,s),s+=a.byteLength}return r}(t).buffer})}function f_(t){return t.slice?t.slice(0):v_(new m(t))}function v_(t){if(t.slice)return t.slice(0).buffer;var n=new m(t.byteLength);return n.set(new m(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function d_(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function l_(t){var n=t;if(n.bodyUsed)throw new d("Already used");if(n.Gl===e_.Wl){if(!n.ql.tee)throw new v("could not clone ReadableStream body");var i=n.ql.tee(),e=i[0],r=i[1];return n.body=e,n.ql=e,n.Yl=e,r}return n.Gl===e_.qf?f_(n.ql):n.Gl===e_.bd?n.ql.then(l_):n.Yl}!function(t){t[t.$n=0]="$n",t[t.jl=1]="jl",t[t.Ql=2]="Ql",t[t.qf=3]="qf",t[t.Wl=4]="Wl",t[t.bd=5]="bd"}(e_||(e_={}));var w_=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.Yl=n||null,n)if("string"==typeof n)this.Gl=e_.$n,this.ql=n;else if((s=n)&&"function"==typeof s.then)this.Gl=e_.bd,this.ql=We.resolve(n).then(function(n){return new t(n,i)}),this.ql.catch(Hw);else if(Lw.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Gl=e_.jl,this.ql=n;else if(Lw.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Gl=e_.Ql,this.ql=n;else if(Lw.searchParams&&t_(n))this.Gl=e_.$n,this.ql=n.toString();else if(Lw.arrayBuffer&&(n_(n)||r_(n)))i_(n)&&(this.Yl=new m((r=n).buffer,r.byteOffset,r.byteLength)),this.Gl=e_.qf,this.ql=n_(e=n)?f_(e):v_(e);else{if(!Lw.stream||!Nw(n))throw new v("unsupported BodyInit type");n=Ow(Rw,n),this.Gl=e_.Wl,this.ql=n,this.Yl=n}else this.Gl=e_.$n,this.ql="";this.Zl="",i.has("content-type")?this.Zl=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Zl="text/plain;charset=UTF-8":u.Gl===e_.jl&&u.ql.type?this.Zl=u.ql.type:Lw.searchParams&&t_(n)&&(this.Zl="application/x-www-form-urlencoded;charset=UTF-8"),this.Zl&&i.set("content-type",this.Zl)),Lw.stream&&(null==n?this.body=null:u.Gl===e_.Wl?this.body=u.ql:this.body=Bw(Rw,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=s_(this);return e||(this.Gl===e_.jl?(t=this.ql,n=new FileReader,i=u_(n),n.readAsText(t),i):this.Gl===e_.qf?We.resolve(this.ql).then(o_):this.Gl===e_.Wl?c_(this.ql).then(o_):this.Gl===e_.bd?this.ql.then(function(t){return t.text()}):this.Gl===e_.Ql?We.reject(new v("could not read FormData body as text")):We.resolve(this.ql))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Lw.blob&&(w_.prototype.blob=function(){var t,n,i=s_(this);return i||(this.Gl===e_.jl?We.resolve(this.ql):this.Gl===e_.qf?We.resolve(Iw([this.ql],{type:this.Zl})):this.Gl===e_.Wl?(t=this.ql,n=this.Zl,h_(t).then(function(t){return Iw(t,{type:n||""})})):this.Gl===e_.bd?this.ql.then(function(t){return t.blob()}):this.Gl===e_.Ql?We.reject(new v("could not read FormData body as Blob")):We.resolve(Iw([this.ql],{type:this.Zl})))}),Lw.arrayBuffer&&(w_.prototype.arrayBuffer=function(){var t,n,i;return this.Gl===e_.qf?s_(this)||We.resolve(this.ql):this.Gl===e_.jl?s_(this)||(t=this.ql,n=new FileReader,i=u_(n),n.readAsArrayBuffer(t),i):this.Gl===e_.Wl?c_(this.ql):this.Gl===e_.bd?s_(this)||this.ql.then(function(t){return t.arrayBuffer()}):this.Gl===e_.Ql?We.reject(new v("could not read FormData body as ArrayBuffer")):We.resolve(this.ql).then(a_)}),Lw.formData&&(w_.prototype.formData=function(){return this.Gl===e_.Ql?s_(this)||We.resolve(this.ql):this.text().then(d_)});var __=[301,302,303,307,308],g_=function(t){function n(n,i){var e=this,r=new Fw((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return Sw(n,t),n.prototype.clone=function(){return new n(l_(this),{status:this.status,statusText:this.statusText,headers:new Fw(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===__.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(w_);var y_,m_=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}function o(t,n){return(o=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!l.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=l.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}l.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),l.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?h(e):r).listeners||f.call(h(t)),l.defineProperty(h(t),"aborted",{value:!1,writable:!0,configurable:!0}),l.defineProperty(h(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),l.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=w,n.default=w});(y_=m_)&&y_.__esModule&&l.prototype.hasOwnProperty.call(y_,"default")&&y_.default,m_.AbortSignal;var k_=m_.AbortController,p_=Ew.DOMException;try{new p_}catch(t){(p_=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),p_.prototype.constructor=p_}var A_=k_;function b_(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function T_(t,n,i){return new We(function(e,r){if(n.signal.aborted)return t.catch(Hw),r(S_());var s=function(){n.signal.removeEventListener("abort",s),r(S_())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function S_(){return new p_("Aborted","AbortError")}var E_,I_="moz-chunked-arraybuffer";function R_(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(E_||(E_={}));var N_=function(){function t(t,n){var i=this;this.Jl=!1,this.Ul=t,this.Kl=n,this.$l=new p,this.nw=new We(function(t,n){i.iw=t,i.ew=n})}return t.prototype.send=function(){var t=this;return this.uw().then(function(n){return t.ow(n,t.Kl),t.nw})},t.prototype.uw=function(){var t=this.Ul;return t.Gl===e_.Wl?t.arrayBuffer():We.resolve(t.Yl)},t.prototype.aw=function(t){this.Ul.onprogress&&this.Ul.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.hw=function(t){this.ew(t)},t.prototype.cw=function(){this.hw(new d("Network request failed"))},t.prototype.fw=function(){this.hw(new d("Network request failed"))},t.prototype.vw=function(){this.hw(S_())},t.prototype.ow=function(t,n){var i=this,e=this.Ul,r=this.$l,s=function(){return i.dw()};if(e.signal.aborted)return this.vw();r.onreadystatechange=function(){if(r.readyState>=E_.HEADERS_RECEIVED&&!i.Jl){var t=function(t){var n=new Fw;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Jl=!0,i.lw(n)}},r.onprogress=function(t){return i.aw(t)},r.onload=function(){return i.ww()},r.onerror=function(){return i.cw()},r.ontimeout=function(){return i.fw()},r.onabort=function(){return i.vw()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.dw=function(){this.vw(),this.$l.abort()},t}(),D_=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e._w=void 0,e.gw=void 0,e}return Sw(n,t),n.prototype.lw=function(t){var n=this;this._w=new We(function(t,i){n.gw=t,n.yw=i}),this.iw(new g_(this._w,t))},n.prototype.ww=function(){var t=this.$l.response;if(null==t){var n=this.Kl;""===n||"text"===n?t=this.$l.responseText:"document"===n?t=this.$l.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=Iw([]))}this.gw(t)},n.prototype.hw=function(n){t.prototype.hw.call(this,n),this.yw&&this.yw(n)},n}(N_),C_=function(t){function n(n){var i=t.call(this,n,I_)||this;return i.mw=void 0,i.pw=void 0,i.Aw=!1,i}return Sw(n,t),n.prototype.lw=function(t){var n=this;this.mw=new Rw({start:function(t){n.pw=t},cancel:function(){n.Aw=!0,n.dw()}}),this.iw(new g_(this.mw,t))},n.prototype.aw=function(n){this.Aw||this.pw.enqueue(new m(this.$l.response)),t.prototype.aw.call(this,n)},n.prototype.ww=function(){this.pw.close()},n.prototype.hw=function(n){t.prototype.hw.call(this,n),this.pw&&!this.Aw&&(this.Aw=!0,this.pw.error(n))},n}(N_),O_=function(){var t=Lw.firefox&&R_(I_);return O_=function(){return t},t},P_=function(){var t;return t=Lw.arrayBuffer&&R_("arraybuffer")?"arraybuffer":Lw.blob&&R_("blob")?"blob":"",P_=function(){return t},t};function B_(t){return(Lw.stream&&O_()?new C_(t):new D_(t,P_())).send()}var L_=Ew.fetch,x_=Ew.Request;Ew.Response;var M_=Ew.AbortController;var U_=["http:","https:"];var F_=function(){try{if(Lw.streamRequest){var t=new x_("about:blank",{body:"",method:"POST"}).body;if(t&&Dw(t.constructor))return t.constructor}}catch(t){}}();function H_(t,n,i){var e;if(Lw.stream){var r=void 0;if(Lw.streamResponse){var s=t.body;r=s&&Ow(Rw,s)}else r=Bw(Rw,function(){return T_(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Cw(n.getReader(),i),{highWaterMark:0})}(Rw,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,X_(t.headers))),e=r}else{var u=T_(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return We.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,X_(t.headers))),e=u}return new g_(e,t)}function X_(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function V_(t){var n=new A_;return t.signal&&b_(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Gl===e_.Wl?Lw.streamRequest&&F_?We.resolve(Ow(F_,r.ql)):T_(t.arrayBuffer(),n,!1):T_(We.resolve(t.Yl),n,!1),Lw.abort){var s=new M_;b_(s,n.signal),e=s.signal}return i.then(function(n){return new x_(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Fw?i:new Fw(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return L_(i).then(function(i){return H_(i,n,t.onprogress)})})}var z_=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var G_=function(t){function n(i,e){var r,s,u,o,a,h,c,f,v,l=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new d("Already used");r=i.url,s=i.credentials,e.headers||(u=new Fw(i.headers)),o=i.method,a=i.mode,h=i.referrer,c=i.referrerPolicy,f=i.signal,v=i.onprogress,w||null==i.Yl||(w=i.Yl,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",a="cors",h="about:client",c="",f=null,v=null;if(!e.headers&&u||(u=new Fw(e.headers)),e&&(h="about:client",c=""),(l=t.call(this,w,u)||this).url=r,l.headers=u,l.credentials=e.credentials||s,l.method=function(t){var n=t.toUpperCase();return z_.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||a,l.signal=e.signal||f||(new A_).signal,l.referrer=void 0!==e.referrer?e.referrer:h,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,l.onprogress=e.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&w)throw new d("Body not allowed for GET or HEAD requests");return l}return Sw(n,t),n.prototype.clone=function(){return new n(this,{body:l_(this)})},n}(w_),W_="function"==typeof L_&&Lw.stream&&Lw.streamResponse&&Lw.url;function q_(t,n){return new We(function(i){var e=new G_(t,n);i((W_&&function(t){try{return U_.indexOf(new Ew.URL(t,Ew.location.href).protocol)>=0}catch(t){return!1}}(e.url)?V_:B_)(e))})}q_.polyfill=!0;var Y_=function(){function t(t){this.Hl=void 0,this.Ul=void 0,this.bw=new su,this.Fl=void 0,this.Tw=!1,this.Ul=t,this.bw.zs(t.Ws),this.Hl=this.Sw()}var n=t.prototype;return n.Sw=function(){var t,n,e,r,s,u,o,h,c=this;return Lr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Ul).yl&&a(function(){c.Tw=!0,c.bw.Vs()},t.yl),f.prev=2,n=q_(t.jd,{method:t._l,headers:t.Vd.Qf(),body:t.Dd,credentials:t.Tl?"include":"same-origin",signal:Z_(this.bw.Ws),onprogress:t.Sl}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new pw(t,f.t0);case 9:return f.prev=9,f.next=12,Lr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),ou(r=this.Ew(f.t1))&&this.bw.Vs(),r;case 20:if(s=e.url||t.jd,u=0===e.status&&"file:"===(v=s,i.Br(v).protocol)?200:e.status,o=new j_(this,e,this.bw),h=new cw({Vi:o,qd:t,zd:t.zd,Vd:new Cf(e.headers.asList()),Xd:u,Gd:e.statusText,Yd:s}),this.Fl=h,!sw(h)){f.next=29;break}return f.abrupt("return",h);case 29:throw new Aw(h);case 30:case"end":return f.stop()}var v},null,this,[[2,6],[9,15]],We)},n.Ew=function(t){return ou(t)?this.Tw?new bw(this.Ul):new uu(t.message,t):this.Fl?new Aw(this.Fl,t):new pw(this.Ul,t)},t}(),j_=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Iw=void 0,r.Rw=void 0,r.bw=void 0,r.Bd=new Ko,r.Iw=n,r.Rw=i,r.bw=e,r.Bd.Xu.catch(J),r}S(n,t);var i=n.prototype;return i.xd=function(){return this.Bd.Xu},i.Sd=function(t){return this.Md(this.Rw.text(),t)},i.Id=function(t){return this.Md(this.Rw.arrayBuffer(),t)},i.Rd=function(){var t=this.Rw.body;return t?this.Ud(t):Vl(this.Id().then(Hl),this.bw)},i.Fd=function(){var t=this.Rw.clone(),i=this.bw.Gs(),e=i[0],r=i[1];return this.bw=e,new n(this.Iw,t,r)},i.Md=function(t,n){var i=this;n&&this.bw.zs(n);var e=We.resolve(t).catch(function(t){throw i.Iw.Ew(t)});return e=vu(e,this.bw),this.Bd.Wu(e.then(J)),e},i.Ud=function(t){var n=this,i=new Sl,e=We.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.Iw.Ew(t);throw i.writable.abort(e).catch(J),e});return e=vu(e,this.bw),this.Bd.Wu(e.then(J)),i.readable},b(n,[{key:"Hd",get:function(){return this.Rw.bodyUsed}}]),n}(jl),Q_="abort";function Z_(t){var n=new A_;if(t.Cs)n.abort();else if(!t.Os){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(Q_,i),t.Us(i),t.Hs(e)};n.signal.addEventListener(Q_,i),t.Ms(i),t.Fs(e)}return n.signal}function J_(t,n,i){return new We(function(e,r){if(i&&i.Cs)return r(new uu);var s=function(t){o(),e(t)},u=function(){o(),r(new uu)},o=function(){t.removeEventListener(n,s),i&&i.Us(u)};t.addEventListener(n,s),i&&i.Ms(u)})}var K_,$_,tg=function(){function t(){}var n=t.prototype;return n.qd=function(t){return new Y_(t).Hl},n.El=function(t){if(_e&&_e.sendBeacon)_e.sendBeacon(t.jd,If([t.Dd],{type:t.Nd}));else{var n=t.Nd?{"Content-type":t.Nd}:void 0;_u(this.qd(new fw({_l:uw.POST,jd:t.jd,Dd:t.Dd,Vd:n})))}},n.Il=function(){},t}();K_=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).Nw=void 0,i.Dw=function(){if(M.fn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Cw=M.Fn||M.fn,i.Ow=void 0,i}return S(i,n),b(i,[{key:"Ir",get:function(){return this.Nw||(this.Nw=new Ps(bf())),this.Nw}},{key:"Pw",get:function(){return this.Dw}},{key:"Bw",get:function(){return this.Cw}},{key:"Lw",get:function(){return!1}},{key:"xw",get:function(){return Sf.sf()}},{key:"Mw",get:function(){return{Uw:Rf}}},{key:"Fw",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"Hw",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"Xw",get:function(){return this.Ow||(this.Ow=new dw(new tg)),this.Ow}}]),i}(Or)),i=K_,function(t){t.Vw="zw",t.Gw="Ww"}($_||($_={})),$_.Vw,$_.Gw;var ng=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).qw=void 0,e}return S(n,t),b(n,[{key:"Yw",get:function(){return this.qw||(this.qw=this.jw()),this.qw}}]),n}(Tu);function ig(t){return Boolean(t&&t.Yw)}var eg,rg=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(ng),sg=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(Tu),ug=function(t){function n(n){var i;return(i=t.call(this,$_.Vw)||this).Qw=n,i}return S(n,t),n.prototype.jw=function(){return new og(this.Qw.Yw)},n}(rg),og=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return S(n,t),n}(sg),ag=function(t){function n(n){var i;return(i=t.call(this,$_.Gw)||this).Qw=n,i}return S(n,t),n.prototype.jw=function(){return new hg(this.Qw.Yw)},n}(rg),hg=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return S(n,t),n}(sg);!function(t){t.Zw="Jw",t.Kw="$w",t.t_="n_",t.i_="e_",t.r_="s_",t.u_="o_",t.a_="h_",t.c_="f_",t.v_="Jh",t.d_="l_",t.w_="__",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(eg||(eg={}));var cg=function(t){function n(){var n;return(n=t.call(this)||this).g_=[],n.qw=void 0,n}S(n,t);var i=n.prototype;return i.y_=function(t){return this.g_[t]},i.m_=function(t){return!(!t||Ys(this.g_,t))&&(this.g_.push(t),this.qw&&this.qw.push(t.Yw),t.Js(eg.u_,this.Qs),this.Zs(new ug(t)),!0)},i.k_=function(t){if(!t)return!1;var n=this.g_.indexOf(t);return!(n<0)&&(qs(this.g_,n),this.qw&&qs(this.qw,n),t.nu(eg.u_,this.Qs),this.Zs(new ag(t)),!0)},i.p_=function(t){return Ys(this.g_,t)},i.A_=function(){for(var t=this.g_,n=t.length-1;n>=0;n-=1)this.k_(t[n])},i.Il=function(){this.A_(),this.tu()},b(n,[{key:"b_",get:function(){return this.g_}},{key:"Yw",get:function(){return this.qw||(this.qw=this.jw()),this.qw}},{key:"T_",get:function(){return this.g_.length}}]),n}(Au),fg=function(t){function n(n){var i;return(i=t.call(this,eg.u_)||this).Qw=n,i}return S(n,t),n.prototype.jw=function(){return new vg(this.Qw.Yw)},n}(rg),vg=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return S(n,t),n}(sg),dg=function(t){function n(){var n;return(n=t.call(this)||this).S_=void 0,n.E_=function(t){var i=t.Qw;n.m_(i)},n.I_=function(t){var i=t.Qw;n.k_(i)},n}S(n,t);var i=n.prototype;return i.R_=function(t){t.Js($_.Vw,this.E_),t.Js($_.Gw,this.I_)},i.N_=function(t){t.nu($_.Vw,this.E_),t.nu($_.Gw,this.I_)},i.Il=function(){this.S_&&this.S_.Il(),t.prototype.Il.call(this)},b(n,[{key:"D_",get:function(){return this.S_},set:function(t){var n=this.S_;if(t!==n){if(n){this.N_(n);for(var i=0,e=n.b_;i<e.length;i++){var r=e[i];t&&t.p_(r)||this.k_(r)}}if(this.S_=t,t){for(var s=[],u=0,o=t.b_;u<o.length;u++){var a=o[u];this.m_(a),this.C_(a)&&s.push(a)}this.R_(t);for(var h=0;h<s.length;h++){var c=s[h];c.Zs(new fg(c))}}}}}]),n}(cg),lg=l.freeze||K;function wg(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function _g(t,n){for(var i=0,e=l.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];l.defineProperty(t,r,l.getOwnPropertyDescriptor(n,r))}return t}function gg(t){if(W(t)){var n={};for(var i in t)U.call(t,i)&&(n[i]=gg(t[i]));return n}if(V(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=gg(t[r]));return e}return t}function yg(t,n){return t===n||!(!t||!n)&&(!(!G(t)||!G(n))&&(z(t)?!!z(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!yg(t[r],n[r]))return!1;return!0}(t,n):!z(n)&&function(t,n){var i=l.keys(t),e=l.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!U.call(n,s)||!yg(t[s],n[s]))return!1}return!0}(t,n)))}function mg(t,n){return t.constructor===n.constructor}function kg(t){for(var n={},i=0,e=l.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function pg(t){for(var n={},i=0,e=l.keys(t);i<e.length;i++){var r=e[i],s=t[r];if(z(s)){for(var u=[],o=0;o<s.length;o+=1){var a=s[o];if(null!=a){var h=G(a)?pg(a):a;u.push(h)}}n[r]=u}else null!=s&&(n[r]=G(s)?pg(s):s)}return n}function Ag(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function bg(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Tg(t){var n=bg(t);if(y(n))throw new v("Expected a valid number.");return n}function Sg(t){return"string"==typeof t?t:""}function Eg(t,n){if(!z(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Ig(t,n){return z(t)?Eg(t,n):n(t)}var Rg=[$_.Vw,$_.Gw,eg.u_];function Ng(t){var n,i=t.b_.map(function(t){return t.Yw});return i.item=function(n){var i=0|n,e=t.y_(i);return e&&e.Yw||void 0},i.addEventListener=function(t,i){n.Js(t,i)},i.removeEventListener=function(t,i){n.nu(t,i)},n=new bu(i),t.Js(Rg,function(t){return n.Zs(t.Yw)}),i}function Dg(){}function Cg(t){var n,i=[eg.v_,eg.u_,eg.d_,eg.w_,eg.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.O_&&t.O_.Yw},get enabled(){return t.P_},set enabled(n){t.P_=Ag(n)},get id(){return t.B_},get uid(){return t.L_},get kind(){return t.x_},get label(){return t.M_},set label(n){t.M_=Sg(n)},get language(){return t.U_},get qualities(){return t.F_.Yw},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.F_.b_;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.Yw===o&&i.push(s)}return i}(t,V(n)?n:[n]):[]).length>0?t.H_=i:t.H_=void 0},get targetQuality(){if(t.H_)return 1===t.H_.length?t.H_[0].Yw:t.H_.map(function(t){return t.Yw})},addEventListener:function(t,i){var e=Ig(t,Sg);n.Js(e,i)},removeEventListener:function(t,i){var e=Ig(t,Sg);n.nu(e,i)}};return n=new bu(e),t.Js(i,function(t){return n.Zs(t.Yw)}),l.defineProperty(e,"constructor",{value:Dg}),e}function Og(){}function Pg(t){var n=Ng(t);return l.defineProperty(n,"constructor",{value:Og}),n}var Bg,Lg,xg=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.jw=function(){return Pg(this)},i.C_=function(t){return t.P_},n}(dg);function Mg(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Bg.X_:case Bg.V_:case Bg.z_:return n}}else if("number"==typeof t)switch(t){case 0:return Bg.X_;case 1:return Bg.V_;case 2:return Bg.z_}return Bg.X_}function Ug(){}function Fg(t){var n,i=[eg.u_,eg.v_,eg.Zw,eg.Kw,eg.t_,eg.i_,eg.r_,eg.a_,eg.c_],e=[Lg.G_],r={get kind(){return t.x_},get label(){return t.M_},set label(n){t.M_=Sg(n)},get language(){return t.U_},get id(){return t.B_},get uid(){return t.L_},get inBandMetadataTrackDispatchType(){return t.W_},get mode(){return t.q_},set mode(n){n!==Bg.z_&&n!==Bg.V_&&n!==Bg.X_||t.Y_(n)},get forced(){return Boolean(t.j_)},get type(){return t.vs},get readyState(){return Vg(t.Q_)},get cues(){return t.q_===Bg.X_?null:t.Z_.Yw},get activeCues(){return t.q_===Bg.X_?null:t.J_.Yw},get src(){return t.K_||""},addEventListener:function(t,i){var e=Ig(t,Sg);n.Js(e,i)},removeEventListener:function(t,i){var e=Ig(t,Sg);n.nu(e,i)}};return n=new bu(t),t.Js(i,function(t){return n.Zs(t.Yw)}),t.Js(e,function(t){return n.Zs(t)}),l.defineProperty(r,"constructor",{value:Ug}),r}function Hg(){}function Xg(t){var n=Ng(t);return l.defineProperty(n,"constructor",{value:Hg}),n}function Vg(t){return t}!function(t){t.X_="disabled",t.V_="hidden",t.z_="showing"}(Bg||(Bg={})),function(t){t.G_="error"}(Lg||(Lg={}));var zg=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.jw=function(){return Xg(this)},i.C_=function(t){return t.q_===Bg.z_},n}(dg),Gg=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.$s=function(n){t.prototype.$s.call(this,n)},i.au=function(n){t.prototype.au.call(this,n)},n}(Au),Wg=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Gg),qg=function(t){function n(){return t.call(this,Nf.kf)||this}return S(n,t),n}(Tu),Yg=function(t){function n(n){var i;return(i=t.call(this,Nf.wf)||this).currentSource=n,i}return S(n,t),n}(Tu),jg=function(){function t(){}return t.eg=function(n,i){var e=t.rg(n,i);return e?t.og(e):0},t.ag=function(){return i.Fw||"default"},t.hg=function(){return i.Hw||"unknown"},t.rg=function(n,e){var r,s=null==(r=i.xw)?void 0:r.Ru(e),u=s&&JSON.parse(s);if(u&&u[n])return t.cg(u,n,e)},t.og=function(t){var n=t.availableBandwidth;return n||0},t.cg=function(n,i,e){if(!t.fg(n,i))return n[i];t.vg(n,i,e)},t.vg=function(t,n,e){var r;delete t[n],null==(r=i.xw)||r.rf(e,JSON.stringify(t))},t.fg=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.dg=function(t,n,i,e){var r;return xr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.wg=function(n){var i=t.ag();t._g(i,"theoplayer-stored-network-info",n,Gt())},t._g=function(n,e,r,s){var u,o,a=null==(u=i.xw)?void 0:u.Ru(e),h=a?JSON.parse(a):void 0,c=t.dg(h,n,r,s);null==(o=i.xw)||o.rf(e,JSON.stringify(c))},t.gg=function(){var n=t.ag();return t.eg(n,"theoplayer-stored-network-info")},t}();var Qg,Zg,Jg,Kg,$g,ty,ny="1ADD53F3";function iy(t){return{chromecast:function(t){return{appID:t&&t.appID?Sg(t.appID):ny}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Qg.AUTO;case"manual":return Qg.MANUAL;case"disabled":return Qg.DISABLED;default:return Qg.MANUAL}}(t?t.strategy:void 0)}}function ey(t){var n,i=Jg.yg;return(n=t)&&ys(n,"mpd")&&(i=Jg.pg),function(t){return!!t&&ys(t,"m3u8")}(t)&&(i=Jg.Ag),i}function ry(t){switch(t){case Zg.Tg:case Zg.Sg:return t;default:return Zg.Eg}}function sy(t){return!!t&&ms(t.toLowerCase(),Jg.pg)}function uy(t){if(!t)return!1;var n=t.toLowerCase();return ms(n,Jg.Ag)||ms(n,Jg.Ig)}function oy(t){return G(t)&&G(t.ssai)&&"google-dai"===t.ssai.integration}function ay(t){return G(t)&&q(t.integration)&&"verizon-media"===t.integration}function hy(t){if(q(t))return!t;if(ay(t))return!t.id;if(oy(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function cy(t){return Boolean(G(t)&&q(t.src))}function fy(t){return q(t)||cy(t)||oy(t)||ay(t)}function vy(t){if(t){if(fy(t))return hy(t);for(var n=0;n<t.length;n++){if(!hy(t[n]))return!1}return!0}return!0}function dy(){return{crossOrigin:Zg.Eg,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function ly(){return xr({},dy(),{src:void 0,type:Jg.yg,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function wy(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Kg.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return $g.NONE;case"midroll-and-postroll":default:return $g.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Ag(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Kg.INSECURE;case"disabled":return Kg.DISABLED;case"enabled":default:return Kg.ENABLED}}(t.vpaidMode)),V(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(q)),void 0!==t.googleIma&&(n.googleIma=function(t){var n;return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:Ag(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1}}(t.googleIma)),n)}function _y(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];W(r)&&n.push(r)}return n}function gy(t){return q(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Qg||(Qg={})),function(t){t.Eg="",t.Tg="anonymous",t.Sg="use-credentials"}(Zg||(Zg={})),function(t){t.pg="application/dash+xml",t.Ag="application/vnd.apple.mpegurl",t.Ig="application/x-mpegurl",t.yg="video/mp4",t.Rg="application/vnd.theoplayer.hesp+json",t.Ng="application/vnd.theo.hesp+json"}(Jg||(Jg={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Kg||(Kg={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}($g||($g={})),function(t){t[t.Dg=0]="Dg",t[t.Cg=1]="Cg",t[t.Og=2]="Og",t[t.Pg=3]="Pg",t[t.Bg=4]="Bg"}(ty||(ty={}));var yy,my=function(t){function n(n,i){var e;return void 0===i&&(i=ty.Dg),(e=t.call(this,Nf.yf)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Tu),ky=function(t){function n(n){var i;return(i=t.call(this,Nf.If)||this).currentTime=n,i}return S(n,t),n}(Tu),py=function(t){function n(n){var i;return(i=t.call(this,Nf.Rf)||this).currentTime=n,i}return S(n,t),n}(Tu);!function(t){t.Lg="canplay",t.xg="canplaythrough",t.Mg="loadeddata",t.Ug="loadedmetadata",t.a_="readystatechange",t.Fg="waiting",t.Hg="playing"}(yy||(yy={}));var Ay,by=[yy.Lg,yy.xg,yy.Mg,yy.Ug,yy.a_,yy.Fg,yy.Hg],Ty=function(t){function n(n,i){var e;return void 0===i&&(i=ty.Cg),(e=t.call(this,yy.Ug)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Tu),Sy=function(t){function n(n){var i;return(i=t.call(this,Nf.gf)||this).duration=n,i}return S(n,t),n}(Tu),Ey=function(t){function n(n,i){var e;return(e=t.call(this,Nf.Df)||this).currentTime=n,e.playbackRate=i,e}return S(n,t),n}(Tu),Iy=function(t){function n(n,i){var e;return(e=t.call(this,Nf.Xf)||this).currentTime=n,e.currentProgramDateTime=i,e}return S(n,t),n}(Tu),Ry=function(t){function n(n){var i;return(i=t.call(this,Nf.mf)||this).currentTime=n,i}return S(n,t),n}(Tu),Ny=function(t){function n(n,i){var e;return void 0===i&&(i=ty.Og),(e=t.call(this,yy.Mg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Tu),Dy=function(t){function n(n){var i;return(i=t.call(this,Nf.Bf)||this).currentTime=n,i}return S(n,t),n}(Tu),Cy=function(t){function n(n){var i;return(i=t.call(this,Nf.Pf)||this).currentTime=n,i}return S(n,t),n}(Tu),Oy=function(t){function n(n,i){var e;return(e=t.call(this,Nf.Vf)||this).currentTime=n,e.volume=i,e}return S(n,t),n}(Tu),Py=function(t){function n(n,i){var e;return void 0===i&&(i=ty.Pg),(e=t.call(this,yy.Lg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Tu),By=function(t){function n(n,i){var e;return void 0===i&&(i=ty.Bg),(e=t.call(this,yy.xg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Tu),Ly=function(t){function n(n,i){var e;return(e=t.call(this,yy.a_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Tu),xy=function(t){function n(n){var i;return(i=t.call(this,Lg.G_)||this).errorObject=n,i}return S(n,t),n.prototype.jw=function(){return this},b(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(ng);function My(t){switch(t){case Ay.ALL:case Ay.CONTENT:return t;default:return Ay.NONE}}function Uy(t){var n,e,r,s=gg(t||{});return s.libraryLocation&&(s.libraryLocation=ww(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=iy(s.cast),s.ads=wy(s.ads),s.analytics=_y(s.analytics),s.mutedAutoplay=My(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=q(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return ww(t)}catch(t){return void i.yr("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function Fy(t){return{Xg:t.Xg,Vg:t.Vg,zg:t.zg,mu:t.mu,Gg:t.Gg,Wg:t.Wg,qg:t.qg,Yg:t.Yg,Q_:t.Q_,jg:t.jg,Qg:t.Qg,Zg:t.Zg,Jg:t.Jg}}function Hy(t,n){var i=n.Jg,e=n.Wg;t.Jg=i,t.Wg=e}function Xy(t,n,i){if(n!==i){var e=n.Xg,r=n.Vg,s=n.Wg,u=n.qg,o=n.Yg,a=n.Q_,h=n.jg;n.Zg,n.Qg;var c=n.Jg,f=i.Xg,v=i.Vg,d=i.zg,l=i.Gg,w=i.Wg,_=i.qg,g=i.Yg,m=i.Q_,k=i.jg;i.Zg,i.Qg;var p=i.Jg;a!==ty.Dg&&t.Zs(new my(f,m)),_&&!u?t.Zs(new ky(f)):!_&&u&&t.Zs(new py(f)),m>=ty.Cg&&t.Zs(new Ty(f,m)),v===r||y(v)&&y(r)||t.Zs(new Sy(v)),g!==o&&t.Zs(new Ey(f,g)),f!==e&&t.Zs(new Iy(f,void 0)),d&&t.Zs(new Ry(f)),m>=ty.Og&&t.Zs(new Ny(f,m)),k&&!h?t.Zs(new Dy(f)):!k&&h&&t.Zs(new Cy(f)),p===c&&w===s||t.Zs(new Oy(f,p)),m>=ty.Pg&&t.Zs(new Py(f,m)),m>=ty.Bg&&t.Zs(new By(f,m)),m!==a&&t.Zs(new Ly(f,m)),l&&t.Zs(new xy(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Ay||(Ay={}));var Vy=.25,zy=400,Gy={Kg:.2,$g:.45,iy:.7,ey:3,sy:Jy,uy:Ky},Wy={Kg:.4,$g:.65,iy:1,ey:3,sy:Jy,uy:Ky},qy={Kg:.4,$g:.7,iy:.9,ey:3,sy:Jy,uy:Ky},Yy={Kg:.4,$g:.65,iy:1,ey:3,sy:Jy,uy:Ky},jy={Kg:.5,$g:1.125,iy:1.75,ey:2.55,sy:Jy,uy:Ky};function Qy(){var t;return t=i.Mr.qe?Yy:i.Mr.Qe?Wy:i.Mr.je?"Android"===i.Ur.Fr?qy:Gy:jy,i.Ur.Hr?function(t){if(i.Ur.Hr){var n=(zy+250)/1e3,e=w.max(n,t.Kg),r=w.max(e+Vy,t.$g),s=w.max(r+Vy,t.iy);return{Kg:e,$g:r,iy:s,ey:w.max(s+Vy,t.ey),sy:Jy,uy:Ky}}return t}(t):t}var Zy,Jy=.92,Ky=1.08;function $y(t){return{goLive:function(){return t.oy()},get isLive(){return t.vy},get currentServerLiveTime(){return t.ly},get currentLatency(){return t.wy},get latency(){return t._y},set latency(n){if(!function(t){if(!G(t))return!1;var n=t,i=H(n.target)&&"number"==typeof n.target&&H(n.windowEnd)&&"number"==typeof n.windowEnd&&H(n.windowStart)&&"number"==typeof n.windowStart&&H(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new v("Invalid latency configuration");t._y=n},get manifest(){return t.gy},addEventListener:function(n,i){t.Js(nm(n),i)},removeEventListener:function(n,i){t.nu(nm(n),i)}}}!function(t){t[t.X_=0]="X_",t[t.yy=1]="yy",t[t.py=2]="py"}(Zy||(Zy={}));var tm=["golive"];function nm(t){var n=Ig(t,Sg);return(q(n)?[n]:n).filter(function(t){return Ys(tm,t)})}var im,em=function(t){function n(){var n,i;return(n=t.call(this)||this).S_=void 0,n.qw=void 0,n.Ay={windowStart:(i=Qy()).Kg,windowEnd:i.iy,target:i.$g,maxOffset:i.ey},n.S_=void 0,n}S(n,t);var i=n.prototype;return i.R_=function(t){t.Js(tm,this.Qs)},i.N_=function(t){t.nu(tm,this.Qs)},i.oy=function(){var t;null==(t=this.S_)||t.oy()},i.Il=function(){this.tu(),this.S_&&this.N_(this.S_),this.S_=void 0},b(n,[{key:"D_",get:function(){return this.S_},set:function(t){var n=this.S_;t!==n&&(n&&this.N_(n),t&&this.R_(t),this.S_=t,this.S_&&(this.S_._y=this.Ay))}},{key:"Yw",get:function(){return this.qw||(this.qw=$y(this)),this.qw}},{key:"ly",get:function(){var t;return null==(t=this.S_)?void 0:t.ly}},{key:"wy",get:function(){var t;return null==(t=this.S_)?void 0:t.wy}},{key:"vy",get:function(){return!!this.S_&&this.S_.vy}},{key:"_y",get:function(){return this.S_?this.S_._y:this.Ay},set:function(t){this.S_&&(this.S_._y=t),this.Ay=t}},{key:"gy",get:function(){var t;return null==(t=this.S_)?void 0:t.gy}}]),n}(Au),rm=function(t){function n(n){var i;return(i=t.call(this)||this).S_=void 0,i.by=[],i.Ty=!1,i.Sy=new xg,i.Ey=new xg,i.Iy=new zg,i.Ry=new em,i.Ny=!1,i.Dy(n),n.$s(i.Qs),i.S_=n,i.Sy.D_=n.Cy,i.Ey.D_=n.Oy,i.Iy.D_=n.Py,i.Ry.D_=n.By,i}S(n,t);var i=n.prototype;return i.Ly=function(){this.S_.Ly()},i.xy=function(){this.S_.xy()},i.My=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gu(this.by.map(function(t){return t.My()})).then(J));case 1:case"end":return t.stop()}},null,this,null,We)},i.Uy=function(){return this.S_.Uy()},i.Fy=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return au(n),i.next=3,Lr.awrap(this.S_.Fy(t,n));case 3:case"end":return i.stop()}},null,this,null,We)},i.Hy=function(){return this.D_.Hy()},i.Xy=function(){this.D_.Xy()},i.Vy=function(){this.D_.Vy()},i.zy=function(){if(!this.Ty){for(var t=0,n=this.by;t<n.length;t++){n[t].zy()}this.Ty=!0}},i.Gy=function(t){this.S_.Gy(t)},i.Wy=function(){this.S_.Wy()},i.qy=function(){this.S_.qy()},i.Yy=function(){this.S_.Yy()},i.jy=function(){return this.S_.jy()},i.Qy=function(){return this.S_.Qy()},i.Zy=function(){for(var t=[],n=0,i=this.by;n<i.length;n++){var e=i[n];t.push.apply(t,e.Zy())}return t},i.Jy=function(t){for(var n=!1,i=0,e=this.by;i<e.length;i++){n=e[i].Jy(t)||n}return n},i.Zs=function(n){this.Jy(n)||t.prototype.Zs.call(this,n)},i.Dy=function(t){this.by.push(t)},i.Ky=function(t){Ws(this.by,t)},i.$y=function(t){if(t!==this.S_){var n=this.S_;n.Wy(),n.au(this.Qs);var i=Fy(this),e=this.tm,r=this.Qy();this.S_=t,this.Sy.D_=t.Cy,this.Ey.D_=t.Oy,this.Iy.D_=t.Py,this.Ry.D_=t.By,Xy(this,i,this);var s=this.tm;s!==e&&this.Zs(new Yg(s)),this.Qy()!==r&&this.Zs(new qg),t.$s(this.Qs),t.Gy(n)}},i.nm=function(){},i.Il=function(){var t,n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.tu(),this.S_.Wy(),t=0,n=this.by;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Lr.awrap(i.Il());case 7:t++,e.next=3;break;case 10:this.Sy.Il(),this.Ey.Il(),this.Iy.Il(),this.Ry.Il();case 14:case"end":return e.stop()}},null,this,null,We)},i.A_=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gu(this.by.map(function(t){return t.A_()})).then(J));case 1:case"end":return t.stop()}},null,this,null,We)},b(n,[{key:"Cy",get:function(){return this.Sy}},{key:"Py",get:function(){return this.Iy}},{key:"Oy",get:function(){return this.Ey}},{key:"im",get:function(){return this.S_.im}},{key:"um",get:function(){return this.S_.um},set:function(t){this.S_.um=t}},{key:"tm",get:function(){return this.S_.tm}},{key:"Xg",get:function(){return this.S_.Xg},set:function(t){this.S_.Xg=t}},{key:"Vg",get:function(){return this.S_.Vg}},{key:"hm",get:function(){return this.S_.hm}},{key:"zg",get:function(){return this.S_.zg}},{key:"mu",get:function(){return this.S_.mu}},{key:"Gg",get:function(){return this.S_.Gg}},{key:"By",get:function(){return this.Ry}},{key:"cm",get:function(){return this.S_.cm}},{key:"fm",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.vm,i+=a.dm,e+=a.lm,r+=a.wm,s+=a._m,u.amountOfBufferedAudioSegments+=a.gm.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=a.gm.amountOfBufferedVideoSegments}return{vm:n,dm:i,lm:e,wm:r,_m:s,gm:u}}(this.by.map(function(t){return t.fm}))}},{key:"Wg",get:function(){return this.S_.Wg},set:function(t){this.S_.Wg=t}},{key:"ym",get:function(){return this.S_.ym}},{key:"qg",get:function(){return this.S_.qg}},{key:"Yg",get:function(){return this.S_.Yg},set:function(t){this.S_.Yg=t}},{key:"mm",get:function(){return this.S_.mm}},{key:"pm",get:function(){return this.S_.pm},set:function(t){this.S_.pm=t}},{key:"Q_",get:function(){return this.S_.Q_}},{key:"Am",get:function(){return this.S_.Am}},{key:"jg",get:function(){return this.S_.jg}},{key:"Qg",get:function(){return this.S_.Qg}},{key:"Zg",get:function(){return this.S_.Zg}},{key:"Jg",get:function(){return this.S_.Jg},set:function(t){this.S_.Jg=t}},{key:"Tm",get:function(){return this.S_.Tm}},{key:"Sm",get:function(){return!1},set:function(t){}},{key:"D_",get:function(){return this.S_},set:function(t){this.$y(t)}}]),n}(Wg),sm=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e)||this).url=void 0,h.status=void 0,h.statusText=void 0,h.response=void 0,h.systemCode=void 0,h.url=r,h.status=s,h.statusText=u,h.response=o,h.systemCode=a,h}return S(n,t),b(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(hf);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(im||(im={}));var um=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,v.captureStackTrace&&v.captureStackTrace(Kt(s),s.constructor),s}return S(n,t),b(n,[{key:"name",get:function(){return"MediaError"}}]),n}($t);function om(t){wg(t,"MEDIA_ERR_ABORTED",im.ABORTED),wg(t,"MEDIA_ERR_NETWORK",im.NETWORK),wg(t,"MEDIA_ERR_DECODE",im.DECODE),wg(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",im.SRC_NOT_SUPPORTED),wg(t,"MEDIA_ERR_ENCRYPTED",im.ENCRYPTED)}function am(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new um(im.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new um(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return im.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return im.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return im.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return im.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return im.NETWORK;if(i===n.ErrorCategory.SOURCE)return im.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return im.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return im.ENCRYPTED;if(i===n.ErrorCategory.AD)return im.ADVERTISEMENT_ERROR;return im.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function hm(t){return new hf(cm(t.code),t.message,t)}function cm(t){switch(t){case im.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case im.NETWORK:return n.ErrorCode.NETWORK_ERROR;case im.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case im.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case im.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case im.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case im.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}om(um),om(um.prototype);var fm,vm=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.m_=function(n){return t.prototype.m_.call(this,n)},i.jw=function(){return Pg(this)},n}(cg);!function(t){t.dl="audio",t.ll="video",t.$n="text",t.wl="image",t.Zd="unknown"}(fm||(fm={}));var dm=function(){function t(){this.Em=[],this.qw=void 0}var n=t.prototype;return n.Im=function(t){this.Em.push(t),this.qw&&this.qw.push(t.Yw)},n.Zh=function(t){Ws(this.Em,t),this.qw&&Ws(this.qw,t.Yw)},n.y_=function(t){return this.Em[t]},n.Rm=function(t){return V(t)?js(this.Em,t):Ys(this.Em,t)},n.A_=function(){Qs(this.Em),this.qw&&Qs(this.qw)},b(t,[{key:"b_",get:function(){return this.Em}},{key:"T_",get:function(){return this.Em.length}},{key:"Yw",get:function(){var t,n;return this.qw||(this.qw=((n=(t=this).b_.map(function(t){return t.Yw})).item=function(n){var i=0|n,e=t.y_(i);return e&&e.Yw||void 0},n)),this.qw}}]),t}(),lm=function(t){function n(n){var i;return(i=t.call(this,eg.v_)||this).Qw=n,i}return S(n,t),n.prototype.jw=function(){return new wm(this.Qw.Yw)},n}(rg),wm=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return S(n,t),n}(sg),_m=0;function gm(){return _m++}var ym=0;var mm=0;function km(){return mm++}var pm=0;function Am(){return pm++}var bm=0;var Tm=function(t){function n(n){var i;return(i=t.call(this)||this).vs=fm.dl,i.Nm=void 0,i.Bh=void 0,i.Dm=void 0,i.Cm=void 0,i.Om=!1,i.Em=void 0,i.qw=void 0,i.Nm=n,i.Cm=gm(),i.Bh=bm+++"",i.Dm=n.label,i.Em=new dm,i.Pm(),i}S(n,t);var i=n.prototype;return i.Bm=function(t){this.P_=t},i.Pm=function(){this.P_=this.Lm},b(n,[{key:"O_",get:function(){}},{key:"P_",get:function(){return this.Om},set:function(t){this.Om!==t&&(this.Om=t,this.Lm=t,this.Zs(new fg(this)))}},{key:"Lm",get:function(){return this.Nm.enabled},set:function(t){this.Nm.enabled=t}},{key:"Yw",get:function(){return this.qw||(this.qw=Cg(this)),this.qw}},{key:"B_",get:function(){return this.Bh}},{key:"L_",get:function(){return this.Cm}},{key:"x_",get:function(){return this.Nm.kind}},{key:"M_",get:function(){return this.Dm},set:function(t){t!==this.Dm&&(this.Dm=t,this.Zs(new lm(this)))}},{key:"U_",get:function(){return this.Nm.language}},{key:"q_",get:function(){return this.P_?"enabled":"disabled"}},{key:"xm",get:function(){return this.Nm}},{key:"F_",get:function(){return this.Em}},{key:"H_",get:function(){},set:function(t){}}]),n}(Au),Sm=0;var Em,Im,Rm,Nm=function(t){function n(n){var i;return(i=t.call(this)||this).vs=fm.ll,i.Nm=void 0,i.Bh=void 0,i.Cm=void 0,i.Om=!1,i.Em=void 0,i.Dm=void 0,i.qw=void 0,i.Nm=n,i.Cm=gm(),i.Bh=Sm+++"",i.Em=new dm,i.Dm=n.label,i.Pm(),i}S(n,t);var i=n.prototype;return i.Pm=function(){this.P_=this.Lm},i.Bm=function(t){this.P_=t},b(n,[{key:"O_",get:function(){}},{key:"P_",get:function(){return this.Om},set:function(t){this.Om!==t&&(this.Om=t,this.Lm=t,this.Zs(new fg(this)))}},{key:"Lm",get:function(){return!!this.Nm.selected},set:function(t){this.Nm.selected=t}},{key:"Yw",get:function(){return this.qw||(this.qw=Cg(this)),this.qw}},{key:"B_",get:function(){return this.Bh}},{key:"L_",get:function(){return this.Cm}},{key:"x_",get:function(){return"main"}},{key:"M_",get:function(){return this.Dm},set:function(t){t!==this.Dm&&(this.Dm=t,this.Zs(new lm(this)))}},{key:"U_",get:function(){return this.Nm.language}},{key:"q_",get:function(){return this.P_?"enabled":"disabled"}},{key:"xm",get:function(){return this.Nm}},{key:"F_",get:function(){return this.Em}},{key:"H_",get:function(){},set:function(t){}}]),n}(Au),Dm=function(t){function n(n){var i;return(i=t.call(this,Nf.uf)||this).cm=n,i}return S(n,t),n}(Tu);function Cm(t){switch(t){case Im.DEFAULT:case Im.SRT:case Im.TTML:case Im.WEBVTT:case Im.EMSG:case Im.EVENT_STREAM:case Im.ID3:case Im.CEA608:case Im.DATE_RANGE:return!0;default:return!1}}!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Em||(Em={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Im||(Im={})),function(t){t.Mm="cue",t.Um="region",t.Fm="stylesheet"}(Rm||(Rm={}));var Om,Pm={"line-left":"start",center:"middle","line-right":"end"},Bm={start:"line-left",middle:"center",end:"line-right"};function Lm(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function xm(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:g(i),y(r)?e:r;var i,e,r}!function(t){t.Hm="Xm",t.Vm="zm",t.v_="Jh"}(Om||(Om={}));var Mm=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Gm=i,e}return S(n,t),n}(rg),Um=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return S(n,t),n}(sg);function Fm(t){var n,i=[Om.Hm,Om.Vm,Om.v_],e={get track(){return t.Qw.Yw},get id(){return t.B_},get uid(){return t.L_},get startTime(){return t.Wm},get endTime(){return t.qm},get content(){return t.Ym},addEventListener:function(t,i){var e=Ig(t,Sg);n.Js(e,i)},removeEventListener:function(t,i){var e=Ig(t,Sg);n.nu(e,i)}};return n=new bu(e),t.Js(i,function(t){return n.Zs(t.Yw)}),e}function Hm(){}function Xm(t){return _g(Fm(t),{get align(){return t.jm},get line(){return t.Qm},get lineAlign(){return t.Zm},get position(){return t.Jm},get positionAlign(){return t.Km},get region(){return t.$m?t.$m.Yw:null},get size(){return t.Ou},get snapToLines(){return t.nk},get text(){return t.Ym},get vertical(){return t.ek}})}var Vm=function(t){function n(n){return t.call(this,Om.v_,n)||this}return S(n,t),n.prototype.jw=function(){return new zm(this.Gm.Yw)},n}(Mm),zm=function(t){function n(n){return t.call(this,"update",n)||this}return S(n,t),n}(Um),Gm=.02;function Wm(t,n){return Ut(t.Wm,n.Wm,Gm)&&Ut(t.qm,n.qm,Gm)&&t.B_===n.B_}var qm=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Cm=void 0,u.Bh=void 0,u.rk=void 0,u.hk=void 0,u.qw=void 0,u.ck=void 0,u.fk=!1,u.vk=void 0,u.dk=void 0,u.lk=-1,u.Cm=Am(),u.rk=n,u.hk=i,u.vk=e,u.dk=Boolean(r),u.Bh=null!=s?s:"",u}S(n,t);var i=n.prototype;return i.jw=function(){return Fm(this)},i.wk=function(t){return this===t||mg(this,t)&&Wm(this,t)},i.Il=function(){this.tu()},b(n,[{key:"Wm",get:function(){return this.rk},set:function(t){this.rk!==t&&(this.rk=t,this.Zs(new Vm(this)))}},{key:"qm",get:function(){return this.hk},set:function(t){this.hk!==t&&(this.hk=t,this.Zs(new Vm(this)))}},{key:"B_",get:function(){return this.Bh}},{key:"L_",get:function(){return this.Cm}},{key:"Yw",get:function(){return this.qw||(this.qw=this.jw()),this.qw}},{key:"_k",get:function(){return this.fk},set:function(t){this.fk=t}},{key:"Qw",get:function(){return this.ck},set:function(t){this.ck=t}},{key:"Ym",get:function(){return this.vk},set:function(t){this.vk!==t&&(this.vk=t,this.Zs(new Vm(this)))}},{key:"gk",get:function(){return this.dk},set:function(t){this.dk=t}}]),n}(Au);function Ym(t,n){return t.Ym===n.Ym&&t.Qm===n.Qm&&t.Zm===n.Zm&&t.Jm===n.Jm&&t.Km===n.Km&&t.$m===n.$m&&t.nk===n.nk&&t.Ou===n.Ou&&t.jm===n.jm&&t.ek===n.ek}var jm=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).Qm="auto",u.Zm="start",u.Jm="auto",u.Km="auto",u.$m=void 0,u.nk=!0,u.Ou=100,u.jm="center",u.ek="",u}return S(n,t),n.prototype.wk=function(n){return this===n||mg(this,n)&&t.prototype.wk.call(this,n)&&Ym(this,n)},b(n,[{key:"Yw",get:function(){return this.qw||(this.qw=Xm(this)),this.qw}},{key:"vs",get:function(){return Rm.Mm}}]),n}(qm);function Qm(t){var n=Z(t.Qm)?t.Qm:g(t.Qm);return y(n)||t.nk||!(n<0||n>100)?y(n)?t.nk?-1:100:n:100}function Zm(t){return xm(t.Jm,t.jm)}function Jm(t){return Lm(t.Km,t.jm)}function Km(t){var n,i=Jm(t),e=Zm(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return w.min(t.Ou,n)}function $m(t){return{get id(){return t.B_},get identifier(){return t.B_},get lines(){return t.yk},get regionAnchorX(){return t.pk},get regionAnchorY(){return t.Ak},get scrollValue(){return t.bk},get viewportAnchorX(){return t.Tk},get viewportAnchorY(){return t.Sk},get width(){return t.Ek}}}var tk=function(){function t(t,n,i,e,r,s,u,o){this.qw=void 0,this.B_=t,this.Ek=n,this.yk=i,this.pk=e,this.Ak=r,this.Tk=s,this.Sk=u,this.bk=o}return b(t,[{key:"Yw",get:function(){return this.qw||(this.qw=$m(this)),this.qw}},{key:"vs",get:function(){return Rm.Um}}]),t}(),nk=function(){function t(){}var n=t.prototype;return n.Ik=function(t){return this.Rk()*t},n.Nk=function(t){return this.Dk(t)>0},n.Ck=function(t){return this.Dk(t)>=0},n.Ok=function(t,n){return this.Bk(t).Pk(n)},n.wk=function(t){return 0===this.Dk(t)},n.Lk=function(t){return this.Dk(t)<0},n.Pk=function(t){return this.Dk(t)<=0},n.xk=function(){return this.Mk()?this.Uk():this},n.Fk=function(t){return this.Im(t.Uk())},n.Bk=function(t){return this.Fk(t).xk()},t}();function ik(t,n){return t.Hk()?n.Hk()?Os.Rs:Os.Ns:n.Hk()?Os.Ds:t.Xk()?n.Xk()&&t.Mk()===n.Mk()?Os.Rs:t.Mk()?Os.Ds:Os.Ns:n.Mk()?Os.Ns:Os.Ds}var ek=function(){function t(t,n){this.Vk=void 0,this.zk=void 0,this.Vk=t,this.zk=n}t.Gk=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Wk=function(n){return n.unsigned?new t(n,ft.UZERO):new t(n,n.isNegative()?ft.NEG_ONE:ft.ZERO)},t.qk=function(n,i){if(y(n))return i?t.Yk:t.jk;if(i){if(n<0)return t.Yk;if(n>=3.402823669209385e38)return t.Qk}else{if(n<=-1.7014118346046923e38)return t.Zk;if(n+1>=1.7014118346046923e38)return t.Jk}return n<0?t.qk(-n,i).Uk():t.Gk(ft.fromNumber(n%0x10000000000000000),ft.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Kk=function(){return this.zk.unsigned},n.$k=function(){return this.Vk.isZero()&&this.zk.isZero()},n.Mk=function(){return this.zk.isNegative()},n.tp=function(){return this.Kk()?t.Gk(this.Vk,this.zk,!1):this},n.np=function(){return this.Kk()?this:t.Gk(this.Vk,this.zk,!0)},n.ip=function(){return this.Vk},n.Rk=function(){return this.Mk()?-this.Uk().Rk():0x10000000000000000*this.zk.toNumber()+this.Vk.toUnsigned().toNumber()},n.ep=function(){return this.Vk.toInt()},n.wk=function(t){return(this.Kk()===t.Kk()||this.zk.getHighBits()>>>31!=1||t.zk.getHighBits()>>>31!=1)&&(this.zk.toUnsigned().eq(t.zk.toUnsigned())&&this.Vk.toUnsigned().eq(t.Vk.toUnsigned()))},n.Dk=function(t){if(this.wk(t))return Os.Rs;var n=this.Mk(),i=t.Mk();if(n&&!i)return Os.Ds;if(!n&&i)return Os.Ns;if(!this.Kk())return this.Fk(t).Mk()?Os.Ds:Os.Ns;var e=this.np(),r=t.np(),s=r.zk.comp(e.zk);return s>0||0===s&&r.Vk.gt(e.Vk)?Os.Ds:Os.Ns},n.Lk=function(t){return this.Dk(t)<0},n.Pk=function(t){return this.Dk(t)<=0},n.rp=function(t){return this.Dk(t)>0},n.sp=function(t){return this.Dk(t)>=0},n.op=function(){return new t(this.Vk.not(),this.zk.not())},n.ap=function(n){return new t(this.Vk.and(n.Vk),this.zk.and(n.zk))},n.hp=function(n){return new t(this.Vk.or(n.Vk),this.zk.or(n.zk))},n.cp=function(n){var i=127&n;return 0===i?this:i<64?t.Gk(this.Vk.shl(i),this.zk.shl(i).or(this.Vk.shru(64-i)),this.Kk()):t.Gk(ft.ZERO,this.Vk.shl(i-64),this.Kk())},n.fp=function(n){var i=127&n;return 0===i?this:i<64?t.Gk(this.Vk.shru(i).or(this.zk.shl(64-i)),this.zk.shr(i),this.Kk()):t.Gk(this.zk.shr(i-64),this.zk.isNegative()?ft.NEG_ONE:ft.ZERO,this.Kk())},n.vp=function(n){var i=127&n;return 0===i?this:i<64?t.Gk(this.Vk.shru(i).or(this.zk.shl(64-i)),this.zk.shru(i),this.Kk()):64===i?t.Gk(this.zk,ft.ZERO,this.Kk()):t.Gk(this.zk.shru(i-64),ft.ZERO,this.Kk())},n.Im=function(n){var i=this.zk.high>>>16,e=65535&this.zk.high,r=this.zk.low>>>16,s=65535&this.zk.low,u=this.Vk.high>>>16,o=65535&this.Vk.high,a=this.Vk.low>>>16,h=65535&this.Vk.low,c=n.zk.high>>>16,f=65535&n.zk.high,v=n.zk.low>>>16,d=65535&n.zk.low,l=n.Vk.high>>>16,w=65535&n.Vk.high,_=n.Vk.low>>>16,g=0,y=0,m=0,k=0,p=0,A=0,b=0,T=0;b+=(T+=h+(65535&n.Vk.low))>>>16,T&=65535,A+=(b+=a+_)>>>16,b&=65535,p+=(A+=o+w)>>>16,A&=65535,k+=(p+=u+l)>>>16,p&=65535,m+=(k+=s+d)>>>16,k&=65535,y+=(m+=r+v)>>>16,m&=65535,g+=(y+=e+f)>>>16,y&=65535,g+=i+c,g&=65535;var S=this.Kk(),E=ft.fromBits(m<<16|k,g<<16|y,S),I=ft.fromBits(b<<16|T,p<<16|A,S);return t.Gk(I,E,S)},n.Fk=function(t){return this.Im(t.Uk())},n.Uk=function(){return this.op().Im(t.dp)},n.lp=function(n){if(this.$k()||n.$k())return this.Kk()?t.Yk:t.jk;if(this.Mk())return n.Mk()?this.Uk().lp(n.Uk()):this.Uk().lp(n).Uk();if(n.Mk())return this.lp(n.Uk()).Uk();if(this.zk.isZero()&&0===this.Vk.high&&n.zk.isZero()&&0===n.Vk.high)return t.Wk(this.Vk.multiply(n.Vk));var i=ft.fromBits(4294967295,0,!0),e=this.Vk.and(i),r=this.Vk.shru(32),s=this.zk.and(i),u=this.zk.shru(32),o=n.Vk.and(i),a=n.Vk.shru(32),h=n.zk.and(i),c=n.zk.shru(32),f=ft.UZERO,v=ft.UZERO,d=ft.UZERO,l=ft.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(a)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(h)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(u.mul(o)).add(s.mul(a)).add(r.mul(h)).add(e.mul(c)).and(i);var w=ft.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),_=ft.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Gk(w,_,this.Kk())},n.wp=function(n){var i,e,r=n;if(r.$k())throw new RangeError("division by zero");if(this.$k())return this.Kk()?[t.Yk,t.Yk]:[t.jk,t.jk];if(this.Kk()){if(r.Kk()||(r=r.np()),r.rp(this))return[t.Yk,this];if(r.rp(this.vp(1)))return[e=t._p,i=this.Fk(r)];e=t.Yk}else{if(this.wk(t.Zk)){if(r.wk(t.dp)||r.wk(t.gp))return[t.Zk,t.jk];if(r.wk(t.Zk))return[t.dp,t.jk];var s=this.fp(1).yp(r).cp(1);return s.wk(t.jk)?e=r.Mk()?t.dp:t.gp:(i=this.Fk(r.lp(s)),e=s.Im(i.yp(r))),[e,i=this.Fk(r.lp(e))]}if(r.wk(t.Zk))return this.Kk()?[t.Yk,this]:[t.jk,this];if(this.Mk()){if(r.Mk())return this.Uk().wp(r.Uk());var u=this.Uk().wp(r);return e=u[0],i=u[1],[e.Uk(),i.Uk()]}if(r.Mk()){var o=this.wp(r.Uk());return e=o[0],i=o[1],[e.Uk(),i.Uk()]}e=t.jk}for(i=this;i.sp(r);){for(var a=w.max(1,w.floor(i.Rk()/r.Rk())),h=w.ceil(w.log(a)/w.LN2),c=h<=48?1:w.pow(2,h-48),f=t.qk(a),v=f.lp(r);v.Mk()||v.rp(i);)a-=c,v=(f=t.qk(a,this.Kk())).lp(r);f.$k()&&(f=t.dp),e=e.Im(f),i=i.Fk(v)}return[e,i]},n.yp=function(t){return this.wp(t)[0]},n.mp=function(t){return this.wp(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.$k())return"0";if(this.Mk()){if(this.wk(t.Zk)){var e=t.qk(i),r=this.yp(e),s=r.lp(e).Fk(this);return r.toString(i)+s.ep().toString(i)}return"-"+this.Uk().toString(i)}for(var u=t.qk(w.pow(i,6),this.Kk()),o=this,a="";;){var h=o.yp(u),c=(o.Fk(h.lp(u)).ep()>>>0).toString(i);if((o=h).$k())return c+a;for(;c.length<6;)c="0"+c;a=String(c)+a}},t}();ek.jk=ek.Wk(ft.ZERO),ek.Yk=ek.Wk(ft.UZERO),ek.dp=ek.Wk(ft.ONE),ek._p=ek.Wk(ft.UONE),ek.gp=ek.Wk(ft.NEG_ONE),ek.Jk=ek.Gk(ft.NEG_ONE,ft.MAX_VALUE,!1),ek.Qk=ek.Gk(ft.MAX_UNSIGNED_VALUE,ft.MAX_UNSIGNED_VALUE,!0),ek.Zk=ek.Gk(ft.ZERO,ft.MIN_VALUE,!1);var rk=function(){function t(t,n){void 0===n&&(n=1),this.kp=void 0,this.pp=void 0,this.kp=t,this.pp=n}t.Ap=function(n){return new t(w.ceil(n.kp),n.pp)},t.bp=function(n){return new t(w.floor(n.kp),n.pp)},t.Tp=function(t,n){return t.Ck(n)?t:n},t.Sp=function(t,n){return t.Pk(n)?t:n};var n=t.prototype;return n.Im=function(n){return this.pp>=n.pp?new t(this.kp+n.Ep(this.pp).kp,this.pp):new t(this.Ep(n.pp).kp+n.kp,n.pp)},n.Nk=function(t){return t.Lk(this)},n.Ck=function(t){return t.Pk(this)},n.Bk=function(n){return this.pp>=n.pp?new t(w.abs(this.kp-n.Ep(this.pp).kp),this.pp):n.Bk(this)},n.Ok=function(t,n){return this.Bk(t).Pk(n)},n.Dk=function(t){return i=t,(n=this).pp>=i.pp?Xs(n.kp,i.Ep(n.pp).kp):Xs(n.Ep(i.pp).kp,i.kp);var n,i},n.wk=function(t){return 0===this.Dk(t)},n.Lk=function(t){return this.Dk(t)<0},n.Pk=function(t){return this.Dk(t)<=0},n.Ep=function(n){return new t(this.kp*(n/this.pp),n)},n.Fk=function(n){return this.pp>=n.pp?new t(this.kp-n.Ep(this.pp).kp,this.pp):new t(this.Ep(n.pp).kp-n.kp,n.pp)},n.Ip=function(n){return new t(this.kp*n,this.pp)},b(t,[{key:"Xk",get:function(){return!isFinite(this.kp)}},{key:"Rp",get:function(){return this.kp/this.pp}}]),t}();rk.Np=new rk(1/6,1),rk.jk=new rk(0),rk.Dp=new rk(1/0),rk.Cp=1e6;var sk=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ti=void 0,e.pp=void 0,e.Ti=n.toSigned(),e.pp=i>>>0,e}S(n,t),n.Op=function(t,i){return void 0===i&&(i=1e6),n.qk(t*i,i)},n.qk=function(t,i){return y(t)?n.Pp:t===1/0?n.Bp:t===-1/0?n.Lp:new n(ft.fromNumber(t),i)},n.Wk=function(t,i){return new n(t,i)},n.xp=function(t){return n.Op(t.Rp,1e6)},n.Mp=function(t){return new n(ft.fromNumber(t.getTime()),1e3)},n.Tp=function(t,n){return t.Ck(n)?t:n},n.Sp=function(t,n){return t.Pk(n)?t:n},n.Up=function(t,i,e){return n.Tp(i,n.Sp(e,t))};var i=n.prototype;return i.Mk=function(){return this.Ti.isNegative()},i.$k=function(){return 0!==this.pp&&this.Ti.isZero()},i.Xk=function(){return 0===this.pp&&!this.Ti.isZero()},i.Hk=function(){return 0===this.pp&&this.Ti.isZero()},i.Rk=function(){if(0===this.pp)return this.Ti.isZero()?NaN:this.Ti.isNegative()?-1/0:1/0;var t=this.Ti.divide(this.pp),n=this.Ti.subtract(t.multiply(this.pp));return t.toNumber()+n.toNumber()/this.pp},i.ip=function(){if(0===this.pp)throw new v("Failed to convert timestamp");return this.Ti},i.Fp=function(){return new Date(0===this.pp?NaN:this.Ep(1e3).Ti.toNumber())},i.Hp=function(){return new rk(0===this.pp?this.Rk():this.Ti.toNumber(),this.pp)},i.Ep=function(t,i){void 0===i&&(i=ak.Xp);var e=this.pp;if(e===t)return this;if(0===e)return this;var r=Vt(e,t);return new n(function(t,n,i){var e=t.wp(n),r=e[0],s=e[1];if(s.$k())return r;if(i===ak.Xp)return s.Mk()?r.Fk(ek.dp):r;if(i===ak.Vp)return s.Mk()?r:r.Im(ek.dp);var u=s.lp(ek.qk(2));return u.Mk()?u.Uk().Lk(n)?r:r.Fk(ek.dp):u.Lk(n)?r:r.Im(ek.dp)}(ek.Wk(this.Ti).lp(ek.qk(t/r)),ek.qk(e/r),i).ip(),t)},i.Dk=function(t){if(this===t)return Os.Rs;if(0===this.pp||0===t.pp)return ik(this,t);if(this.$k())return t.$k()?Os.Rs:t.Mk()?Os.Ns:Os.Ds;if(t.$k())return this.Mk()?Os.Ds:Os.Ns;var n=w.min(this.pp,t.pp),i=this.Ep(n,ak.zp).Ti,e=t.Ep(n,ak.zp).Ti;return i.compare(e)},i.Uk=function(){return 0===this.pp?uk(this):new n(this.Ti.negate(),this.pp)},i.Im=function(t){if(0===this.pp||0===t.pp)return ok(this,t);if(this.$k())return t;if(t.$k())return this;var i=w.max(this.pp,t.pp),e=this.Ep(i,ak.zp),r=t.Ep(i,ak.zp);return new n(e.Ti.add(r.Ti),i)},i.lp=function(t){if(this.Hk()||y(t))return n.Pp;if(this.Xk()||!isFinite(t)){if(this.$k()||0===t)return n.Pp;var i=this.Mk()?n.Lp:n.Bp;return t<0?i.Uk():i}return this.$k()?this:new n(0===t?ft.ZERO:this.Ti.multiply(t),this.pp)},i.yp=function(t){if(this.Hk()||y(t))return n.Pp;if(this.Xk())return isFinite(t)?0===t?1/t<0?this.Uk():this:t<0?this.Uk():this:n.Pp;if(!isFinite(t))return new n(ft.ZERO,this.pp);if(this.$k())return 0===t?n.Pp:new n(ft.ZERO,this.pp);if(0===t){var i=this.Mk()?n.Lp:n.Bp;return 1/t<0?i.Uk():i}return new n(this.Ti.divide(t),this.pp)},i.Gp=function(){return[this.Ti.low,this.Ti.high,this.pp]},n}(nk);function uk(t){return t.Hk()?t:t.Mk()?sk.Bp:sk.Lp}function ok(t,n){return t.Hk()||n.Hk()?sk.Pp:t.Xk()&&n.Xk()?t.Mk()===n.Mk()?t:sk.Pp:t.Xk()?t:n}sk.jk=new sk(ft.ZERO,1e6),sk.Pp=new sk(ft.ZERO,0),sk.Bp=new sk(ft.ONE,0),sk.Lp=new sk(ft.NEG_ONE,0);var ak,hk=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ti=void 0,e.pp=void 0,e.Ti=BigInt.asIntN(64,n),e.pp=i>>>0,e}S(n,t),n.Op=function(t,i){return void 0===i&&(i=1e6),n.qk(t*i,i)},n.qk=function(t,i){return y(t)?n.Pp:t===1/0?n.Bp:t===-1/0?n.Lp:new n(BigInt(w.floor(t)),i)},n.Wk=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.xp=function(t){return n.Op(t.Rp,1e6)},n.Mp=function(t){return n.qk(t.getTime(),1e3)},n.Tp=function(t,n){return t.Ck(n)?t:n},n.Sp=function(t,n){return t.Pk(n)?t:n},n.Up=function(t,i,e){return n.Tp(i,n.Sp(e,t))};var i=n.prototype;return i.Mk=function(){return this.Ti<BigInt(0)},i.$k=function(){return 0!==this.pp&&this.Ti===BigInt(0)},i.Xk=function(){return 0===this.pp&&this.Ti!==BigInt(0)},i.Hk=function(){return 0===this.pp&&this.Ti===BigInt(0)},i.Rk=function(){if(0===this.pp)return this.Ti===BigInt(0)?NaN:this.Ti<BigInt(0)?-1/0:1/0;var t=this.Ti/BigInt(this.pp),n=this.Ti-t*BigInt(this.pp);return Number(t)+Number(n)/this.pp},i.ip=function(){if(0===this.pp)throw new v("Failed to convert timestamp");return this.Wp()},i.Wp=function(){var t=this.Ti&BigInt(4294967295),n=this.Ti>>BigInt(32)&BigInt(4294967295);return ft.fromBits(Number(t),Number(n))},i.Fp=function(){return new Date(0===this.pp?NaN:Number(this.Ep(1e3).Ti))},i.Hp=function(){return new rk(0===this.pp?this.Rk():Number(this.Ti),this.pp)},i.Ep=function(t,i){void 0===i&&(i=ak.Xp);var e=this.pp;if(e===t)return this;if(0===e)return this;var r=Vt(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===ak.Xp)return r<BigInt(0)?e-BigInt(1):e;if(i===ak.Vp)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.Ti*BigInt(t/r),BigInt(e/r),i),t)},i.Dk=function(t){if(this===t)return Os.Rs;if(0===this.pp||0===t.pp)return ik(this,t);if(this.$k())return t.$k()?Os.Rs:t.Mk()?Os.Ns:Os.Ds;if(t.$k())return this.Mk()?Os.Ds:Os.Ns;var n=w.min(this.pp,t.pp),i=this.Ep(n,ak.zp).Ti,e=t.Ep(n,ak.zp).Ti;return i>e?Os.Ns:i<e?Os.Ds:Os.Rs},i.Uk=function(){return 0===this.pp?ck(this):new n(-this.Ti,this.pp)},i.Im=function(t){if(0===this.pp||0===t.pp)return fk(this,t);if(this.$k())return t;if(t.$k())return this;var i=w.max(this.pp,t.pp),e=this.Ep(i,ak.zp),r=t.Ep(i,ak.zp);return new n(e.Ti+r.Ti,i)},i.lp=function(t){if(this.Hk()||y(t))return n.Pp;if(this.Xk()||!isFinite(t)){if(this.$k()||0===t)return n.Pp;var i=this.Mk()?n.Lp:n.Bp;return t<0?i.Uk():i}return this.$k()?this:new n(0===t?BigInt(0):this.Ti*BigInt(t),this.pp)},i.yp=function(t){if(this.Hk()||y(t))return n.Pp;if(this.Xk())return isFinite(t)?0===t?1/t<0?this.Uk():this:t<0?this.Uk():this:n.Pp;if(!isFinite(t))return new n(BigInt(0),this.pp);if(this.$k())return 0===t?n.Pp:new n(BigInt(0),this.pp);if(0===t){var i=this.Mk()?n.Lp:n.Bp;return 1/t<0?i.Uk():i}return new n(this.Ti/BigInt(t),this.pp)},i.Gp=function(){var t=this.Wp();return[t.low,t.high,this.pp]},b(n,null,[{key:"jk",get:function(){return n.qp||(n.qp=new n(BigInt(0),1e6)),n.qp}},{key:"Pp",get:function(){return n.Yp||(n.Yp=new n(BigInt(0),0)),n.Yp}},{key:"Bp",get:function(){return n.jp||(n.jp=new n(BigInt(1),0)),n.jp}},{key:"Lp",get:function(){return n.Qp||(n.Qp=new n(BigInt(-1),0)),n.Qp}}]),n}(nk);function ck(t){return t.Hk()?t:t.Mk()?hk.Bp:hk.Lp}function fk(t,n){return t.Hk()||n.Hk()?hk.Pp:t.Xk()&&n.Xk()?t.Mk()===n.Mk()?t:hk.Pp:t.Xk()?t:n}hk.qp=void 0,hk.Yp=void 0,hk.jp=void 0,hk.Qp=void 0,function(t){t[t.Xp=0]="Xp",t[t.Vp=1]="Vp",t[t.zp=2]="zp"}(ak||(ak={}));var vk=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?hk:sk;function dk(t,n){return t.Dk(n)}var lk=9e4,wk=w.pow(2,33),_k=vk.qk(wk,lk),gk=_k.yp(2);var yk,mk,kk,pk,Ak={Zp:0,Jp:1/0,Kp:0},bk=6,Tk=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],Sk=[" ","\t","\n","\f","\r"],Ek=/^\d*$/,Ik=/.*[0-9]+.*/,Rk=/^[\d.-]+$/,Nk=/(^\.|\.$)/,Dk=/(\D\.|\.\D)/;function Ck(t,n){void 0===n&&(n=Ak);var i={Z_:[],$p:[],tA:[]},e=Ok(t),r=new Zo;if(zk(e),Pk(e,function(t){return"\n"!==t},r),r.Pu>=e.length)return i;(r.Bu(1),"\n"!==e.charAt(r.Pu))?Mk(Bk(e,r,!1,!0,i,n),i):r.Bu(1);for(Pk(e,function(t){return"\n"===t},r);r.Pu<e.length;){Mk(Bk(e,r,!1,!1,i,n),i),Pk(e,function(t){return"\n"===t},r)}return i}function Ok(t){var n=gs(t,"\0"," "),i=gs(n,"\r\n","\n");return gs(i,"\r","\n")}function Pk(t,n,i){for(var e=i.Pu;i.Pu<t.length&&n(t.charAt(i.Pu));)i.Bu(1);return t.substring(e,i.Pu)}function Bk(t,n,e,r,s,u){for(var o,a=0,h=n.Pu,c="",f=!1,v=!1,d=null,l=null,w=null;!f;)if(o=Pk(t,function(t){return"\n"!==t},n),a++,n.Pu>=t.length?f=!0:n.Bu(1),ys(o,"--\x3e")){if(r||1!==a&&(2!==a||v)){n.xu(h);break}v=!0,h=n.Pu,d=new jm(0,0,"",!1,c);try{Uk(o,s.$p,d,u),c=""}catch(t){i.yr(t),d=null}}else{if(""===o)break;r&&ms(o,"X-TIMESTAMP-MAP")&&(s.nA=Lk(o)),r||2!==a||e||(ps("STYLE",c.replace(/ /g,""))?(l={vs:Rm.Fm},c=""):ps("REGION",c.replace(/ /g,""))&&(w=new tk("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,h=n.Pu}if(d)return d.Ym=c,d;if(l);else if(w)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&ys(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":tp(o,n);break;case"WIDTH":ep(o,n);break;case"LINES":ip(o,n);break;case"REGIONANCHOR":var a=$k(o);a&&(n.pk=a[0],n.Ak=a[1]);break;case"VIEWPORTANCHOR":var h=$k(o);h&&(n.Tk=h[0],n.Sk=h[1]);break;case"SCROLL":np(o,n)}}}}(c,w),w;return null}function Lk(t){var n,i,e=t.split("=")[1].trim().split(","),r=xk(e[0].trim(),"MPEGTS")?e[0]:e[1],s=xk(e[0].trim(),"LOCAL")?e[0]:e[1];return{iA:(i=Number(r.split(/:(.*)/)[1].trim())||0,vk.qk(i,lk)),eA:vk.Op(null!=(n=Xk(s.split(/:(.*)/)[1].trim(),new Zo))?n:0)}}function xk(t,n){return ms(t,n)}function Mk(t,n){t&&function(t){return t.vs===Rm.Mm}(t)?n.Z_.push(t):t&&function(t){return t.vs===Rm.Um}(t)?n.$p.push(t):t&&function(t){return t.vs===Rm.Fm}(t)&&n.tA.push(t)}function Uk(t,n,i,e){var r=new Zo;if(Gk(t,r),i.Wm=Fk(Xk(t,r),e),Gk(t,r),"--\x3e"!==t.substring(r.Pu,r.Pu+3))throw v("Something went wrong with parsing a WebVTT Cue");r.Bu(3),Gk(t,r),i.qm=Fk(Xk(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&ys(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),a=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":Qk(a,n,i);break;case"VERTICAL":Jk(a,n);break;case"D":Kk(a,n);break;case"LINE":case"L":Yk(a,n);break;case"POSITION":case"T":jk(a,n);break;case"SIZE":case"S":Zk(a,n);break;case"ALIGN":case"A":qk(a,n)}}}}(t.substring(r.Pu,t.length),i,n)}function Fk(t,n){return t+n.Zp}function Hk(t){return/^[0-9]$/.test(t)}function Xk(t,n){var i,e,r,s=gs(t,",","."),u=!1;if(n.Pu>=s.length||!Hk(s.charAt(n.Pu)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=Pk(s,Hk,n),a=_(o,10);if((o.length>2||a>59)&&(u=!0),n.Pu>=s.length||":"!==s.charAt(n.Pu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var h=Pk(s,Hk,n);if(2!==h.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var c=_(h,10);if(u||n.Pu<s.length&&":"===s.charAt(n.Pu)){if(n.Pu>=s.length||":"!==s.charAt(n.Pu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var f=Pk(s,Hk,n);if(2!==h.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=c,r=_(f,10)}else i=0,e=a,r=c;if(n.Pu>=s.length||"."!==s.charAt(n.Pu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var d=Pk(s,Hk,n),l=_(d,10);if(c>59||r>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+l/1e3}function Vk(t){return zk(Ok(t))}function zk(t){if(t.length<bk)return!1;for(var n=0;n<Tk.length;n++){if(ms(t,Tk[n]))return!0}return!1}function Gk(t,n){for(;n.Pu<t.length&&(i=t.charAt(n.Pu),Ys(Sk,i));)n.Bu(1);var i}function Wk(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!y(i)&&i>=0&&i<=100)return i}return null}function qk(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.jm=i;break;case"middle":n.jm="center"}}function Yk(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),Ik.test(i)){var s,u;if(ks(i,"%")){var o=Wk(i);if(null===o)return;s=o,u=!1}else{if(!Rk.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!Dk.test(i)||Nk.test(i)))return;if(s=g(i),y(s))return;u=!0}switch(n.Qm=s,n.nk=u,e=e.toLowerCase()){case"start":case"center":case"end":n.Zm=e;break;case"middle":n.Zm="center"}}}function jk(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=Wk(i);if(null!==s)switch(n.Jm=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Km=e;break;case"start":n.Km="line-left";break;case"middle":n.Km="center";break;case"end":n.Km="line-right"}}function Qk(t,n,i){var e=zs(i,function(n){return n.B_===t});void 0!==e&&(n.$m=e)}function Zk(t,n){var i=Wk(t);null!==i&&(n.Ou=i)}function Jk(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.ek="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.ek="lr";break;default:n.ek=""}}function Kk(t,n){"VERTICAL"===t.toUpperCase()?n.ek="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.ek="lr")}function $k(t){if(t.indexOf(",")>=0){var n=Wk(t.substring(0,t.indexOf(","))),i=Wk(t.substring(t.indexOf(",")+1,t.length));return[Mt(n||0,0,100),Mt(i||100,0,100)]}return null}function tp(t,n){n.B_=t}function np(t,n){"up"===t.toLowerCase()&&(n.bk="up")}function ip(t,n){Ek.test(t)&&(n.yk=_(t))}function ep(t,n){var i=Wk(t);null!==i&&(n.Ek=i)}!function(t){t.rA="moov",t.sA="mvhd",t.uA="trak",t.oA="tkhd",t.aA="mdia",t.hA="mdhd",t.cA="hdlr",t.fA="minf",t.vA="stbl",t.dA="stsd",t.lA="stsc",t.wA="mvex",t._A="trex",t.gA="avc1",t.yA="avcC",t.mA="hev1",t.kA="hvc1",t.pA="hvcC",t.AA="pasp",t.bA="mp4a",t.TA="esds",t.SA="wvtt",t.EA="vttC",t.IA="vlab",t.RA="enca",t.NA="encv",t.DA="moof",t.CA="mfhd",t.OA="traf",t.PA="tfhd",t.BA="trun",t.LA="tfdt",t.xA="senc",t.MA="mdat",t.UA="pssh",t.FA="emsg",t.HA="sidx",t.XA="styp",t.VA="ftyp",t.zA="sinf",t.GA="frma"}(yk||(yk={})),function(t){t.ll="vide",t.dl="soun",t.WA="subt",t.qA="hint",t.YA="meta",t.jA="auxv"}(mk||(mk={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(kk||(kk={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(pk||(pk={}));var rp=function(){function t(t,n){this.Vi=void 0,this.QA=void 0,this.Vi=t,this.QA=n}var n=t.prototype;return n.ZA=function(){return co(this.Vi,this.QA)},n.JA=function(){return go(this.Vi,this.QA)},n.KA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Pu,i);return n.Bu(2),e}(this.Vi,this.QA)},n.$A=function(){return mo(this.Vi,this.QA)},n.ib=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Pu,i);return n.Bu(4),e}(this.Vi,this.QA)},n.eb=function(){return po(this.Vi,this.QA)},n.sb=function(t){return vo(this.Vi,this.QA,t)},n.ub=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(mo(t,n));return e}(this.Vi,this.QA,t)},n.ob=function(t){return bo(this.Vi,this.QA,t)},n.hb=function(){return Mo(this.Vi,this.QA)},n.cb=function(t){this.QA.Bu(t)},n.Mu=function(){return new t(this.Vi,this.QA.Mu())},t}();function sp(t,n){return t.vs===n}function up(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(sp(e,n))return e}}var op=function(t){function n(n,i){var e;return(e=t.call(this)||this).fb=n,e.vb=i,e}return S(n,t),b(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(tn),ap=function(){function t(){}return t.wb=function(n){var i=n.Vi,e=n.QA,r=t._b(i,e,!1);if(!r.gb)throw new op(e.Pu,r.Pi);return r.Pi},t._b=function(n,i,e){for(var r=[];i.Pu<n.byteLength;){var s=t.yb(n,i,e);if(!s.gb)return{gb:!1,Pi:r};r.push(s.mb)}return{gb:!0,Pi:r}},t.kb=function(n,i){var e=t.yb(n,i,!1);if(!e.gb)throw new op(i.Pu);return e.mb},t.pb=function(n,i){for(var e=n.Vi,r=n.QA;r.Pu<e.byteLength;){var s=t.yb(e,r,!1);if(!s.gb)return;if(s.mb.vs===i)return s.mb}},t.yb=function(n,i,e){var r=i.Pu,s=t.Ab(n,i);if(!s.gb)return s;var u=s.bb,o=u.Ou;if(0===o){if(e)return i.xu(r),{gb:!1,Tb:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var h=a;return i.xu(r),{gb:!1,Tb:h}}var c={vs:u.vs,Pu:r,Vi:new rp(Vo(n,r,a),new Zo(u.Sb))};return i.xu(a),{gb:!0,mb:c}},t.Ab=function(t,n){var i=n.Pu;if(!wo(t,n,8))return{gb:!1,Tb:n.Pu+8};var e=mo(t,n),r=bo(t,n,4);if(1===e){if(!wo(t,n,8)){var s=n.Pu+8;return n.xu(i),{gb:!1,Tb:s}}e=po(t,n).toNumber()}if("uuid"===r){if(!wo(t,n,16)){var u=n.Pu+16;return n.xu(i),{gb:!1,Tb:u}}r=bo(t,n,16)}return{gb:!0,bb:{vs:r,Ou:e,Sb:n.Pu-i}}},t.Eb=function(t,n,i){var e=t.Vi,r=t.QA,s=Xo(Go(e),r.Pu,e.byteLength);return i&&(s=jo(s)),r.Bu(s.byteLength),{vs:n,Vi:s}},t.Ib=function(n,i,e){var r=vp(n.$A());return{vs:i,Rb:r.version,Nb:r.flags,Vi:t.Eb(n,i,e).Vi}},t}();function hp(t,n){var i=cp(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function cp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.vs===n)return e.Vi}}function fp(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.vs===n&&i.push(r.Vi)}return i}function vp(t){return{version:t>>24,flags:new oo(16777215&t)}}var dp=function(){function t(){}return t.Db=function(n){for(var i=[],e=ap.wb(new rp(n,new Zo)),r=0;r<e.length;r++){var s=e[r],u=t.Cb(s);u&&i.push(u)}return i},t.Ob=function(t){return ap._b(t,new Zo,!1).Pi.some(this.Pb)},t.Bb=function(n){return fp(ap.wb(new rp(n,new Zo)),yk.UA).map(t.Lb)},t.xb=function(n){return fp(ap.wb(n.Vi),yk.UA).map(t.Lb)},t.Pb=function(t){return t.vs===yk.VA||t.vs===yk.XA||t.vs===yk.rA||t.vs===yk.DA||t.vs===yk.MA||t.vs===yk.HA||t.vs===yk.FA},t.Cb=function(n){switch(n.vs){case yk.rA:return t.Mb(n.Vi);case yk.DA:return t.Ub(n.Vi,n.Pu);case yk.MA:return t.Fb(n.Vi);case yk.HA:return t.Hb(n.Vi);case yk.FA:return t.Xb(n.Vi)}},t.Mb=function(n){var i=ap.wb(n),e=hp(i,yk.sA),r=fp(i,yk.uA),s=cp(i,yk.wA),u=t.Vb(e),o=r.map(t.zb),a=s?t.Gb(s):void 0;return{vs:yk.rA,bb:u,Wb:o,qb:a}},t.Vb=function(t){var n=vp(t.$A()),i=n.version,e=n.flags,r=1===i?t.eb():t.$A(),s=1===i?t.eb():t.$A(),u=t.$A(),o=1===i?t.eb():t.$A(),a=t.$A(),h=t.JA()>>8;t.cb(2),t.cb(8);var c=t.ub(9);t.cb(24);var f=t.$A();return{vs:yk.sA,Rb:i,Nb:e,Yb:r,jb:s,pp:u,Vg:o,Qb:a,Jg:h,Zb:c,Jb:f}},t.zb=function(n){var i=ap.wb(n),e=hp(i,yk.oA),r=hp(i,yk.aA),s=t.Kb(e),u=t.$b(r);return{vs:yk.uA,bb:s,tT:u}},t.Kb=function(t){var n=vp(t.$A()),i=n.version,e=n.flags,r=1===i?t.eb():t.$A(),s=1===i?t.eb():t.$A(),u=t.$A();t.cb(4);var o=1===i?t.eb():t.$A();t.cb(8);var a=t.KA(),h=t.KA(),c=t.KA()/w.pow(2,8);t.cb(2);var f=t.ub(9),v=t.$A()/w.pow(2,16),d=t.$A()/w.pow(2,16);return{vs:yk.oA,nT:e.Fu(1),iT:e.Fu(2),eT:e.Fu(4),Yb:r,jb:s,rT:u,Vg:o,sT:a,uT:h,Jg:c,Zb:f,Ek:v,oT:d}},t.$b=function(n){var i=ap.wb(n),e=hp(i,yk.hA),r=hp(i,yk.cA),s=hp(i,yk.fA),u=t.aT(e),o=t.hT(r),a=t.cT(s);return{vs:yk.aA,bb:u,fT:o,vT:a}},t.aT=function(t){var n=vp(t.$A()),i=n.version,e=n.flags,r=1===i?t.eb():t.$A(),s=1===i?t.eb():t.$A(),u=t.$A(),o=1===i?t.eb():t.$A();return t.JA(),t.cb(2),{vs:yk.hA,Rb:i,Nb:e,Yb:r,jb:s,pp:u,Vg:o}},t.hT=function(t){var n=vp(t.$A()),i=n.version,e=n.flags;t.cb(4);var r=t.ob(4);t.cb(12);var s=t.hb();return{vs:yk.cA,Rb:i,Nb:e,dT:r,_i:s}},t.cT=function(n){var i=hp(ap.wb(n),yk.vA),e=t.lT(i);return{vs:yk.fA,wT:e}},t.lT=function(n){var i=hp(ap.wb(n),yk.dA),e=t._T(i);return{vs:yk.vA,gT:e}},t._T=function(n){var i=vp(n.$A()),e=i.version,r=i.flags;n.$A();for(var s=[],u=ap.wb(n),o=0;o<u.length;o++){var a=u[o],h=t.yT(a.Vi,a.vs);h&&s.push(h)}return{vs:yk.dA,Rb:e,Nb:r,mT:s}},t.yT=function(n,i){var e=t.kT(n,i);return e||((e=t.pT(n,i))||(i===yk.SA?t.AT(n):void 0))},t.kT=function(n,i){return i===yk.bA?t.bT(n):i===yk.RA?t.TT(n):void 0},t.pT=function(n,i){return i===yk.gA?t.ST(n):i===yk.mA||i===yk.kA?t.ET(n,i):i===yk.NA?t.IT(n):void 0},t.RT=function(t,n){return t.cb(6),{vs:n,NT:t.JA()}},t.DT=function(n,i){var e=t.RT(n,i);n.cb(8);var r=n.JA(),s=n.JA();return n.cb(2),n.cb(2),xr({},e,{CT:r,OT:s,PT:n.$A()>>>16})},t.BT=function(n,i){var e=t.RT(n,i);n.cb(2),n.cb(2),n.cb(12);var r=n.JA(),s=n.JA(),u=n.$A(),o=n.$A();n.cb(4);var a=n.JA();n.cb(32);var h=n.JA();return n.cb(2),xr({},e,{Ek:r,oT:s,LT:u,xT:o,MT:a,UT:h})},t.bT=function(n){var i=t.DT(n,yk.bA),e=hp(ap.wb(n),yk.TA);return xr({},i,{FT:t.HT(e)})},t.AT=function(n){var i=t.RT(n,yk.SA),e=ap.wb(n),r=hp(e,yk.EA),s=t.XT(r),u=cp(e,yk.IA);return xr({},i,{VT:s,zT:u?t.GT(u):u})},t.XT=function(t){return{vs:yk.EA,uc:t.hb()}},t.GT=function(t){return{vs:yk.IA,M_:t.hb()}},t.HT=function(t){return ap.Ib(t,yk.TA,!0)},t.ST=function(n){var i=t.BT(n,yk.gA),e=ap.wb(n),r=hp(e,yk.yA),s=cp(e,yk.AA);return xr({},i,{WT:t.qT(r),YT:s?t.jT(s):void 0})},t.ET=function(n,i){var e=t.BT(n,i),r=hp(ap.wb(n),yk.pA);return xr({},e,{QT:t.ZT(r)})},t.IT=function(n){var i=n.Mu(),e=t.BT(n,yk.NA),r=hp(ap.wb(n),yk.zA),s=t.JT(r);return xr({},e,{KT:t.pT(i,s.tS.$T),nS:s})},t.TT=function(n){var i=n.Mu(),e=t.DT(n,yk.RA),r=hp(ap.wb(n),yk.zA),s=t.JT(r);return xr({},e,{KT:t.kT(i,s.tS.$T),nS:s})},t.JT=function(n){var i=hp(ap.wb(n),yk.GA),e=t.iS(i);return{vs:yk.zA,tS:e}},t.iS=function(t){var n=t.ob(4);return{vs:yk.GA,$T:n}},t.qT=function(t){return ap.Eb(t,yk.yA,!0)},t.ZT=function(t){return ap.Eb(t,yk.pA,!0)},t.jT=function(t){var n=t.$A(),i=t.$A();return{vs:yk.AA,eS:n,rS:i}},t.Gb=function(n){var i=fp(ap.wb(n),yk._A).map(t.sS);return{vs:yk.wA,Wb:i}},t.sS=function(t){var n=vp(t.$A()),i=n.version,e=n.flags,r=t.$A(),s=t.$A(),u=t.$A(),o=t.$A(),a=t.$A();return{vs:yk._A,Rb:i,Nb:e,rT:r,uS:s,oS:u,aS:o,hS:a}},t.Ub=function(n,i){var e=ap.wb(n),r=hp(e,yk.CA),s=fp(e,yk.OA),u=t.cS(r),o=s.map(t.fS);return{vs:yk.DA,vS:i,bb:u,Wb:o}},t.cS=function(t){var n=vp(t.$A()),i=n.version,e=n.flags,r=t.$A();return{vs:yk.CA,Rb:i,Nb:e,dS:r}},t.fS=function(n){var i=ap.wb(n),e=hp(i,yk.PA),r=fp(i,yk.BA),s=cp(i,yk.LA),u=t.lS(e),o=r.map(function(n){return t.wS(n,u)}),a=s?t._S(s):void 0;return{vs:yk.OA,bb:u,gS:o,yS:a}},t.lS=function(t){var n=vp(t.$A()),i=n.version,e=n.flags,r=t.$A(),s=e.Fu(kk.BASE_DATA_OFFSET_PRESENT)?t.eb():void 0,u=e.Fu(kk.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.$A():void 0,o=e.Fu(kk.DEFAULT_SAMPLE_DURATION_PRESENT)?t.$A():void 0,a=e.Fu(kk.DEFAULT_SAMPLE_SIZE_PRESENT)?t.$A():void 0,h=e.Fu(kk.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.$A():void 0;return{vs:yk.PA,Rb:i,Nb:e,rT:r,mS:s,kS:u,oS:o,aS:a,hS:h}},t.wS=function(n,i){for(var e=vp(n.$A()),r=e.version,s=e.flags,u=n.$A(),o=s.Fu(pk.DATA_OFFSET_PRESENT)?n.ib():void 0,a=s.Fu(pk.FIRST_SAMPLE_FLAGS_PRESENT)?n.$A():void 0,h=[],c=0;c<u;c++){var f=t.pS(n,s,r,i);0===c&&void 0!==a&&(f.Nb=a),h.push(f)}return{vs:yk.BA,Rb:r,Nb:s,AS:u,vS:o,bS:a,TS:h}},t.pS=function(t,n,i,e){return{Vg:n.Fu(pk.SAMPLE_DURATION_PRESENT)?t.$A():e.oS,Ou:n.Fu(pk.SAMPLE_SIZE_PRESENT)?t.$A():e.aS,Nb:n.Fu(pk.SAMPLE_FLAGS_PRESENT)?t.$A():e.hS,SS:n.Fu(pk.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.$A():t.ib():void 0}},t.Xb=function(t){var n=t.Vi,i=t.QA,e=vp(mo(n,i)),r=e.version,s=e.flags;if(1===r){var u=mo(n,i),o=po(n,i),a=mo(n,i),h=mo(n,i),c=Ao(n,i),f=Ao(n,i),v=Yo(Go(n),i.Pu,n.byteLength);return i.Bu(v.byteLength),{vs:yk.FA,Rb:r,Nb:s,ES:c,Ti:f,pp:u,IS:o,RS:a,B_:h,NS:v}}var d=Ao(n,i),l=Ao(n,i),w=mo(n,i),_=mo(n,i),g=mo(n,i),y=mo(n,i),m=Yo(Go(n),i.Pu,n.byteLength);return i.Bu(m.byteLength),{vs:yk.FA,Nb:s,Rb:r,ES:d,Ti:l,pp:w,DS:_,RS:g,B_:y,NS:m}},t.Fb=function(t){return ap.Eb(t,yk.MA,!1)},t.Lb=function(n){var i=n.Vi,e=n.QA,r=jo(Go(i)).buffer,s=vp(mo(i,e)),u=s.version,o=s.flags,a=t.CS(i,e),h=[];if(u>0)for(var c=mo(i,e),f=0;f<c;f++){var v=vo(i,e,16);h.push(v)}var d=mo(i,e),l=new m(r,e.Pu,d);return e.Bu(i.byteLength),{vs:yk.UA,Rb:u,Nb:o,OS:a,PS:h,LS:d,Vi:l,xS:r}},t.CS=function(t,n){for(var i="",e=0;e<4;e++){var r=co(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=co(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var a=co(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var h=0;h<2;h++){var c=co(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=co(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.Hb=function(t){var n,i,e=t.Vi,r=t.QA,s=vp(mo(e,r)),u=s.version,o=s.flags,a=mo(e,r),h=mo(e,r);0===u?(n=ft.fromBits(mo(e,r),0,!0),i=ft.fromBits(mo(e,r),0,!0)):(n=po(e,r),i=po(e,r)),r.Bu(2);for(var c=go(e,r),f=[],v=0;v<c;v+=1){var d=mo(e,r),l=d>>31&1,w=2147483647&d,_=mo(e,r),g=mo(e,r),y=g>>31&1,m=g>>28&7,k=268435455&g;f.push({MS:l,US:w,Vg:_,FS:y,HS:m,XS:k})}return{vs:yk.HA,Rb:u,Nb:o,VS:a,pp:h,zS:n,GS:i,WS:c,qS:f}},t._S=function(t){var n,i=t.Vi,e=t.QA,r=vp(mo(i,e)),s=r.version,u=r.flags;return n=0===s?ft.fromBits(mo(i,e),0,!0):po(i,e),{vs:yk.LA,Rb:s,Nb:u,yS:n}},t}();function lp(t){return t&&"Oi"in t?t.Oi:t}var wp=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i,e,r)||this).YS=void 0,a.jS=void 0,a.QS=void 0,a.YS=s,a.jS=u,a.QS=o||void 0,a}return S(n,t),n.prototype.wk=function(n){return this===n||!!mg(this,n)&&(!!t.prototype.wk.call(this,n)&&(!!yg(this.ZS,n.ZS)&&(!!yg(this.$p,n.$p)&&(this.JS&&n.JS?!!this.JS.ci(n.JS)&&(this.Ym&&n.Ym?this.Ym.ci(n.Ym):this.Ym===n.Ym):this.JS===n.JS))))},b(n,[{key:"ZS",get:function(){return this.YS}},{key:"$p",get:function(){return this.jS}},{key:"JS",get:function(){return this.QS}},{key:"Yw",get:function(){var t;return this.qw||(this.qw=_g(Fm(t=this),{get styles(){return t.ZS},get regions(){return t.$p},get metadata(){return lp(t.JS)},get content(){return lp(t.Ym)}})),this.qw}}]),n}(qm),_p=function(){function t(t,n,i){this.ed=void 0,this.KS=void 0,this.$S=void 0,this.KS=t,this.$S=n,Zt(i)?this.ed=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.xi(s)}return i}(0,0,i):this.ed=i}return b(t,[{key:"tE",get:function(){return this.ed.di(!0)}},{key:"Wm",get:function(){return this.KS}},{key:"qm",get:function(){return this.$S}}]),t}();var gp="http://www.w3.org/XML/1998/namespace";function yp(t,n,i,e){var r=t.Di(i,n);return 0===r.length&&(r=t.Ii(e+":"+n)),r}function mp(t,n){return function(t,n){var i=t.Pi.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Pi)}return e}(t,function(t){return t.Ni===n})}function kp(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function pp(t,n){for(var i=t.Hi,e={},r=0;r<i.length;r++)e[kp(i[r]._i,n)]=i[r].Ti;return e}var Ap=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,bp=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Tp="http://www.w3.org/ns/ttml";function Sp(t,n,i,e){void 0===i&&(i=Ak),void 0===e&&(e=Mc.APPLICATION_TTML_XML);var r=[],s=zo(t);return e===Mc.APPLICATION_MP4?r=function(t,n,i){var e=up(dp.Db(t),yk.MA);if(!e)return[];return Rp(zo(e.Vi),n,i)}(s,n,i):e===Mc.APPLICATION_TTML_XML&&(r=Rp(s,n,i)),r}function Ep(t,n,i){return void 0===i&&(i=Ak),Np(t,n,i)}function Ip(t,n){for(var i=function t(n){var i=[];var e;if(Zt(n)){(e=n.Bi("region"))&&i.push(e);for(var r=n.Ri,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.tE),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function Rp(t,n,i){return Np(Ho(t,new Zo),n,i)}function Np(t,n,e){var r,s=[];try{r=i.oi(t)}catch(t){return s}var u=r.zi;if("tt"!==u.wi)return s;var o=u&&u.Di(Tp,"head")[0],a=u&&u.Di(Tp,"body")[0],h=["ebutts","tts","xml"];if(!a||!o)return s;for(var c=function(t,n){for(var i={},e=t.Di(Tp,"styling")[0],r=e&&e.Di(Tp,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.Li(gp,"id");i[o]=pp(u,n)}return i}(o,h),f=function(t,n){var i=gg(t),e=Op(n.Bi("tts:extent"));if(!e)return i;for(var r=0,s=l.keys(i);r<s.length;r++){var u=s[r],o=Op(i[u].extent);if(o){var a=Dp(o[0],e[0]),h=Dp(o[1],e[1]);i[u].extent=a+" "+h}var c=Op(i[u].origin);if(c){var f=Dp(c[0],e[0]),v=Dp(c[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Di(Tp,"layout")[0],r=e&&e.Di(Tp,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.Li(gp,"id");if(o){i[o]=pp(u,n);var a=Lp(u,n);for(var h in a)U.call(a,h)&&(i[o][h]=a[h])}}return i}(o,h),u),v=o.Di(Tp,"metadata")[0],d=function t(n,i,e,r){var s=i;var u;var o=e;var a=[];var h=[];if(Zt(n)){var c,f;s=null!=(c=Bp(n.Bi("begin"),r))?c:s,u=Bp(n.Bi("dur"),0),o=null!=(f=Bp(n.Bi("end"),r))?f:void 0!==u?s+u:o;for(var v=n.Ri,d=0;d<v.length;d++)("body"===n.wi||"div"===n.wi)&&v[d].Jn>1||(a=a.concat(t(v[d],s,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.Wm,s.qm)}e.sort(Fs);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(qs(e,o+1),o--,u=e.length);return e}(s,o,a);for(var w=0;w<l.length-1;w++){var _=Pp(l[w],l[w+1],a);if(_.length<=0&&xp(n)){var g=n.di(!1);h.push(new _p(l[w],l[w+1],g))}else _.length>0&&function(){var t=n.di(!1);_.forEach(function(n){return t.Ci(n.tE)}),h.push(new _p(l[w],l[w+1],t))}()}return h}(a,e.Zp,e.Jp,e.Kp),w=0;w<d.length;w++){var _=d[w],g=Ip(f,_);s.push(new wp(_.Wm,_.qm,_.tE,!1,c,g,v))}return s}function Dp(t,n){var i=Cp(t),e=Cp(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return y(r)||y(s)?t:r/s*100+"%"}return t}function Cp(t){return ks(t,"px")?"px":ks(t,"em")?"em":ks(t,"c")?"c":ks(t,"%")?"%":void 0}function Op(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Pp(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].Wm,u=i[r].qm;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function Bp(t,n){if(t){if(Ap.test(t)){var i=Ap.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*w.pow(.1,u.length):0)+n}if(bp.test(t)){var o=bp.exec(t);if(!o)return;var a,h=Number(o[1]);switch(o[4]){case"h":a=3600*h;break;case"m":a=60*h;break;case"s":a=h;break;case"ms":a=.001*h;break;case"f":case"t":default:a=NaN}return a+n}}}function Lp(t,n){for(var i={},e=t.Ii("style")||[],r=0;r<e.length;r++){var s=pp(e[r],n);for(var u in s)U.call(s,u)&&(i[u]=s[u])}return i}function xp(t){if(Zt(t)){var n=t.wi.toUpperCase(),i=Boolean(t.Bi("smpte:backgroundImage"));return"BR"===n||i}return t.Jn===Yt.$n}function Mp(t){var n=function(t){try{return i.oi(t).zi}catch(t){}}(t);return"tt"===(null==n?void 0:n.wi)}var Up,Fp=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.m_=function(n){return t.prototype.m_.call(this,n)},i.k_=function(n){var i=t.prototype.k_.call(this,n);return i&&(n.q_=Bg.X_),i},i.jw=function(){return Xg(this)},n}(cg);!function(t){t.WA="subtitles",t.nE="captions",t.iE="descriptions",t.eE="chapters",t.YA="metadata",t.rE="thumbnails"}(Up||(Up={}));var Hp=[Up.WA,Up.nE,Up.iE,Up.eE,Up.YA,Up.rE];function Xp(t){return"string"==typeof t&&Ys(Hp,t)}var Vp,zp=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return S(n,t),n}(hf);function Gp(t){return t instanceof kw}function Wp(t){return t instanceof Aw}function qp(t){return ys(t,Vp.sE)}function Yp(t){return t.some(jp)}function jp(t){return ys(t,Vp.uE)||ys(t,Vp.SA)}function Qp(t,n){return Uc(t)&&Yp(n)}function Zp(t,n){return!!t&&(Uc(t)?function(t){return t.some(qp)}(n)||Yp(n):ys(t,Mc.APPLICATION_TTML_XML)||ys(t,Mc.TEXT_VTT)||ys(t,Mc.IMAGE_JPEG))}function Jp(t,n){return t===Up.rE||t===Up.YA&&n===Up.rE}function Kp(t,n,i,e){for(var r=0,s=t.Z_.b_;r<s.length;r++){var u=s[r];if(u.Wm>i)break;n<=u.qm&&e.push(u)}}function $p(t,n){return Us(t.L_,n.L_)}function tA(t,i){var e=i,r=0;if(Gp(t)&&t.name===_w.Ll)e=t.qd.jd;else if(Wp(t)){var s=t.Hl;if(e=s.Yd,0===(r=s.Xd))return new zp(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new zp(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function nA(t,i,e,r){var s=function(t){switch(t){case Im.WEBVTT:return"WebVTT";case Im.SRT:return"SRT";case Im.TTML:return"TTML";default:return""}}(t);return new zp(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function iA(t){return Vk(t)?Im.WEBVTT:Mp(t)?Im.TTML:Im.SRT}function eA(t,n){for(var i=[],e=0,r=t.Z_.b_;e<r.length;e++){var s=r[e];if(s.qm<=n)i.push(s);else if(s.Wm>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.oE(o)}}!function(t){t.uE="vtt",t.SA="wvtt",t.sE="stpp"}(Vp||(Vp={}));var rA=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Wb=new Fp,n.aE=function(t){var i=t.Qw;n.hE(i)},n}S(n,t);var i=n.prototype;return i.m_=function(t){t.Js(eg.u_,this.aE),this.Wb.m_(t),this.hE(t)},i.k_=function(t){t.nu(eg.u_,this.aE),t.q_=Bg.X_,this.Wb.k_(t)},i.cE=function(t){},i.fE=function(t){},i.hE=function(t){t.q_!==Bg.X_?this.cE(t):this.fE(t)},i.vE=function(){for(var t=0,n=this.Wb.b_;t<n.length;t++){var i=n[t];i.nu(eg.u_,this.aE),i.Il()}},i.dE=function(t){if(t>0)for(var n=0,i=this.Wb.b_;n<i.length;n++){eA(i[n],t)}},i.A_=function(){return this.vE(),this.Wb.A_(),We.resolve()},i.Il=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tu(),t.next=3,Lr.awrap(this.A_());case 3:this.Wb.Il();case 4:case"end":return t.stop()}},null,this,null,We)},n}(Au),sA=function(t){function n(n){var i;return(i=t.call(this,Lg.G_)||this).errorObject=n,i}return S(n,t),n.prototype.jw=function(){return this},b(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(ng),uA=function(t){function n(n,i){var e;return(e=t.call(this)||this).lE=void 0,e.wE=void 0,e._E=new su,e.lE=n,e.wE=i,e}S(n,t);var i=n.prototype;return i.gE=function(t){if(t.src){var n=t.kind||Up.WA,i=this.lE.yE(n,t.id,t.label,t.srclang,t.default);return i.K_=ww(t.src),this.m_(i),i}},i.mE=function(t,n){var i,e,r,s,u,o,a,h,c,f;return Lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.Q_=Em.LOADING,i=new fw({jd:t.K_,zd:Df.$n,_l:uw.GET,Ws:n}),v.prev=2,v.next=5,Lr.awrap(this.wE.qd(i));case 5:return s=v.sent,r=s.Xd,v.next=9,Lr.awrap(s.Sd());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),hu(v.t0),t.Q_=Em.ERROR,t.Zs(new sA(tA(v.t0,t.K_))),v.abrupt("return");case 18:for(v.prev=18,u=iA(e),t.vs=u,o=[],u===Im.WEBVTT||u===Im.SRT?(a=Ck(e),o=a.Z_):u===Im.TTML&&(o=Ep(e,t)),h=0,c=o;h<c.length;h++)f=c[h],t.kE(f);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),hu(v.t1),t.Q_=Em.ERROR,t.Zs(new sA(nA(t.vs,t.K_,r,v.t1))),v.abrupt("return");case 32:t.Q_=Em.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],We)},i.cE=function(t){Ys(this.Wb.b_,t)&&t.Q_===Em.NONE&&this.mE(t,this._E.Ws).catch(cu)},i.Qh=function(){},i.A_=function(){var n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this._E.Vs(),this._E=new su,n=0,i=this.Wb.b_;n<i.length;n++)e=i[n],this.lE.pE(e);return r.next=5,Lr.awrap(t.prototype.A_.call(this));case 5:case"end":return r.stop()}},null,this,null,We)},n}(rA);function oA(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.x_===n&&e.AE)return e}}function aA(t,n){hA(oA(t.b_,n))}function hA(t){void 0!==t&&(t.q_=Bg.z_)}function cA(t,n){hA(oA(t.b_,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.x_===n)return e}}(t.b_,n))}function fA(t){for(var n=0;n<Hp.length;n++){var i=Hp[n];i===Up.eE?cA(t,i):aA(t,i)}}var vA,dA=function(t){function n(){return t.call(this,Nf.Of)||this}return S(n,t),n}(Tu);!function(t){t[t.bE=0]="bE",t[t.TE=1]="TE"}(vA||(vA={}));var lA=t,wA=lA.MediaSource,_A=lA.WebKitMediaSource,gA=lA.TextTrack,yA=s&&s.createElement("video");s&&s.documentElement.style;var mA=M.qt&&M.Ln&&M.xn<=26;M.dn;var kA=!(!wA&&!_A),pA=!!gA;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||M.hn,M.Cn&&M.On,yA&&yA.canPlayType&&(""!==yA.canPlayType("application/vnd.apple.mpegURL")||M.Qt&&!M.Cn&&M.Zt);yA&&yA.canPlayType&&yA.canPlayType("video/mp4");var AA=kA&&!M.Pn&&!M.Rn&&!M.In&&((wA||_A).isTypeSupported?(wA||_A).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):yA&&yA.canPlayType&&""!==yA.canPlayType('audio/mp4; codecs="mp4a.40.34"'));kA&&!M.Pn&&(AA||((wA||_A).isTypeSupported?(wA||_A).isTypeSupported("audio/mpeg"):yA&&yA.canPlayType&&yA.canPlayType("audio/mpeg"))),kA&&(!M.Dn||!M.qt)&&(wA||_A).isTypeSupported&&(wA||_A).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),M.Pn||M.Rn||M.In,M.Nn,M.Pn,M.Rn&&M.Yt&&M.jt;try{r&&r.top!==r.self}catch(t){!0}var bA=function(t){function n(n){var i;return(i=t.call(this,yy.Fg)||this).currentTime=n,i}return S(n,t),n}(Tu),TA=function(t){function n(n){var i;return(i=t.call(this,yy.Hg)||this).currentTime=n,i}return S(n,t),n}(Tu),SA=[yy.a_,yy.Hg,Nf.Rf,Nf.If],EA=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).SE=ty.Dg,e.EE=!0,e.IE=!1,e.RE=!1,e.NE=function(t){var n=e.DE.Q_;n!==e.SE&&e.Zs(new Ly(t.currentTime,n)),n===ty.Dg&&(e.IE=!1,e.RE=!1),e.CE(n),e.OE(n),e.PE(n),e.maybeDispatchCanPlayThroughEvent(n),e.BE(n),e.LE(n),e.SE=n},e.xE=function(){e.LE(e.SE),e.BE(e.SE),e.EE=e.DE.qg},e.ME=function(){e.EE=e.DE.qg},e.UE=function(t){e.Zs(new TA(t.currentTime))},e.DE=n,e.FE=i,e.DE.Js(yy.a_,e.NE),e.DE.Js(Nf.Rf,e.xE),e.DE.Js(Nf.If,e.ME),e.FE&&e.DE.Js(yy.Hg,e.UE),e}S(n,t);var i=n.prototype;return i.CE=function(t){!this.RE&&t>=ty.Cg&&(this.RE=!0,this.Zs(new Ty(this.DE.Xg,t)))},i.OE=function(t){!this.IE&&t>=ty.Og&&(this.IE=!0,this.Zs(new Ny(this.DE.Xg,t)))},i.BE=function(t){this.FE||(t>=ty.Pg&&this.SE<ty.Pg&&!this.DE.qg||this.HE&&t>=ty.Pg)&&this.Zs(new TA(this.DE.Xg))},i.LE=function(t){!this.XE(t)||this.DE.zg||this.DE.mu||this.Zs(new bA(this.DE.Xg))},i.PE=function(t){this.SE<=ty.Og&&t>=ty.Pg&&this.Zs(new Py(this.DE.Xg,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===ty.Bg&&this.Zs(new By(this.DE.Xg,t))},i.XE=function(t){var n=!this.DE.qg&&t<=ty.Og,i=!this.EE&&this.SE<=ty.Og;return n&&!i},i.A_=function(){this.SE=ty.Dg,this.EE=!0,this.IE=!1,this.RE=!1},i.Il=function(){this.tu(),this.FE&&this.DE.nu(yy.Hg,this.UE),this.DE.nu(Nf.Rf,this.xE),this.DE.nu(Nf.If,this.ME),this.DE.nu(yy.a_,this.NE)},b(n,[{key:"HE",get:function(){return!this.DE.qg&&this.EE}}]),n}(Au),IA=function(t){function n(n){var i;return(i=t.call(this)||this).DE=n,i.DE.Js(SA,i.Qs),i}return S(n,t),n.prototype.xs=function(){this.tu(),this.DE.nu(SA,this.Qs)},b(n,[{key:"Xg",get:function(){return this.DE.Xg}},{key:"zg",get:function(){return this.DE.zg}},{key:"mu",get:function(){return this.DE.mu}},{key:"qg",get:function(){return this.DE.qg}},{key:"Q_",get:function(){return this.DE.Q_}}]),n}(Au),RA="titanium",NA="conax",DA="ezdrm",CA="irdeto",OA="vudrm",PA="verimatrix",BA="keyos",LA="drmtoday",xA="expressplay",MA="azure",UA="xstream",FA="vimond",HA="axinom",XA="uplynk",VA="comcast",zA="custom",GA=function(){function t(t,n,i,e,r){this.rc=void 0,this.VE=void 0,this.zE=void 0,this.GE=void 0,this.wE=void 0,this.WE=void 0,this.qE=void 0,this.rc=t,this.VE=n,this.zE=i,this.wE=e,this.qE=r,this.GE=this.YE(n)}var e=t.prototype;return e.jE=function(){return this.WE},e.QE=function(t){this.WE=t},e.ZE=function(){return this.GE.licenseAcquisitionURL||this.jE()},e.JE=function(t){return We.resolve()},e.KE=function(t,n){return We.resolve(void 0)},e.$E=function(t,i,e,r){var s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.tI(t,i,e,r)).jd){o.next=3;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Lr.awrap(this.Xw.qd(s));case 6:return u=o.sent,o.next=9,Lr.awrap(u.Ed(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),hu(o.t0),o.next=17,Lr.awrap(this.nI(o.t0,s.jd,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],We)},e.tI=function(t,n,i,e){var r=this.iI().Qf(),s=this.Tl,u={jd:this.eI(),zd:n,Vd:r,Dd:t,Tl:s,_l:uw.POST,yl:0,Ws:e,vs:ow.$d,Al:i};return new fw(u)},e.rI=function(t,n){return We.resolve(t)},e.sI=function(t,n,i,e){return We.resolve(t)},e.iI=function(){return new Cf(this.GE.headers||{})},e.nI=function(t,i,e){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,We)},e.eI=function(t,n){var e=n,r=this.GE.queryParameters;if(!e){var s=this.ZE();if(!s)return"";e=s}if(r||t){var u=i.Br(e);t&&lw(u,t),r&&lw(u,r),e=u.href}return e},e.uI=function(t,n){return WA(t)},e.oI=function(t){return new m(t)},e.aI=function(t,n,i){var e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Lr.awrap(this.uI(t,i));case 2:return e=u.sent,u.next=5,Lr.awrap(this.$E(e,this.qE,n,i));case 5:return r=u.sent,s=this.oI(r),u.abrupt("return",s);case 8:case"end":return u.stop()}},null,this,null,We)},e.Il=function(){},b(t,[{key:"Xw",get:function(){return this.wE}},{key:"hI",get:function(){return!1}},{key:"cI",get:function(){var t=this.GE.certificate;if(t)return q(t)?Fu(t):qo(t)}},{key:"fI",get:function(){return!1}},{key:"Tl",get:function(){return Boolean(this.GE.useCredentials)}}]),t}();function WA(t){return We.resolve(jo(t).buffer)}var qA,YA,jA=function(t){function n(n,i,e,r){return t.call(this,fs,n,i,e,r)||this}S(n,t);var i=n.prototype;return i.YE=function(t){return t.widevine||{}},i.vI=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.cI){i.next=2;break}return i.abrupt("return",this.cI);case 2:return i.abrupt("return",this.dI(new m(t),n));case 3:case"end":return i.stop()}},null,this,null,We)},i.dI=function(n,i){return t.prototype.aI.call(this,n,aw.al,i)},n}(GA);function QA(t,n){if(null==t)return{};var i,e,r={},s=l.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function ZA(t){return H(t.token&&t.deviceId)}function JA(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&H(i.PreAuthorization)}function KA(t){var n=t;return ZA(n)&&""!==n.token&&""!==n.deviceId&&!JA(n)}(YA=qA||(qA={})).lI=!1,YA.wI=!1,YA._I=!1,YA.gI=!1,YA.LOG_ADS_DETAILS=!1,YA.LOG_CHROMECAST_DETAILS=!1,YA.LOG_CUSTOM_DRM=!1,YA.LOG_BUFFERING_VIDEO_MAIN=!1,YA.LOG_BUFFERING_VIDEO_SELECTION=!1,YA.LOG_BUFFERING_AUDIO_MAIN=!1,YA.LOG_BUFFERING_AUDIO_SELECTION=!1,YA.yI=!1,YA.mI=!1,YA.LOG_LCEVC_DETAILS=!1;var $A,tb=function(){function t(t,n,i){this.kI=t,this.Gh=n,this.pI=i}return t.prototype.AI=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.pI.build(t))},b(t,[{key:"bI",get:function(){return this.kI}},{key:"rc",get:function(){return this.Gh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}($A||($A={}));var nb=function(){function t(){this.TI=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.SI(t,e,r)){case $A.FAILED:throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case $A.OVERRIDDEN:var s=kb(e);i.yr("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case $A.SUCCEEDED:kb(e);0}},e.SI=function(t,n,i){var e=kb(n);if(!e)return $A.FAILED;for(var r=$A.SUCCEEDED,s=0,u=this.TI.slice();s<u.length;s++){var o=u[s];o.bI===t&&o.rc===e&&(r=$A.OVERRIDDEN,Ws(this.TI,o))}return this.TI.push(new tb(t,e,i)),r},e.EI=function(t,n){return void 0!==this.II(t,n)},e.RI=function(t,n,i){var e=this.II(t,n);if(!e)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.AI(i)},e.II=function(t,n){for(var i=0,e=this.TI;i<e.length;i++){var r=e[i];if(r.bI===t&&(!n||r.rc===n))return r}},t}();nb.NI=new nb;var ib=["customdata"],eb={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function rb(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||e||r||s||u)}function sb(t){return t&&void 0!==t.licenseAcquisitionURL}var ub,ob=sb,ab=sb;function hb(t){if(!t)return!0;if(db(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return rb(n)&&rb(i)&&rb(e)&&rb(r)&&rb(s)}function cb(t){var n=KA(t),i=function(t){var n,i=t;return JA(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!ZA(i)}(t);return(!n||!i)&&(n||i)}function fb(t){return t.integration===CA}function vb(t){var n=t;if(!n)return!1;if(hb(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(db(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!ob(e))return!1;if(r&&!ab(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(nb.NI.EI(n.integration))return!0;switch(n.integration){case RA:if(!function(t){return t.integration===RA&&(lb(t)||wb(t))}(t))return!1;break;case OA:if(!_b(t))return!1;break;case PA:if(!function(t){return t.integration===PA}(t))return!1;break;case CA:if(!fb(t))return!1;break;case NA:if(!cb(t))return!1;break;case DA:if(!function(t){return t.integration===DA}(t))return!1;break;case BA:if(!db(t))return!1;break;case LA:if(!function(t){var n=t;return n.integration===LA&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case xA:if(!function(t){return t.integration===xA}(t))return!1;break;case UA:if(!gb(t))return!1;break;case FA:if(!function(t){return t.integration===FA}(t))return!1;break;case HA:if(!yb(t))return!1;break;case MA:if(!function(t){var n=t;return n.integration===MA&&void 0!==n.token}(t))return!1;break;case XA:if(!function(t){return t.integration===XA}(t))return!1;break;case VA:if(!function(t){var n=t;return n&&H(n.releasePid)&&H(n.accountId)&&H(n.token)}(t))return!1;break;case zA:return!0;default:return!1}}return!0}function db(t){return t.integration===BA}function lb(t){return void 0!==t.authToken}function wb(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function _b(t){var n=t;return n.integration===OA&&void 0!==n.token}function gb(t){var n=t;return n&&n.integration===UA&&q(n.ticketAcquisitionURL)&&q(n.streamId)}function yb(t){var n=t;return n.integration===HA&&void 0!==n.token}function mb(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:eb[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,a=o?{customData:o}:{},h=xr({},null!=(r=null==s?void 0:s.headers)?r:{},a),c=null!=s?s:{};return c.customdata,xr({},QA(c,ib),{licenseAcquisitionURL:u,headers:h})}function kb(t){switch(t.toLowerCase()){case"widevine":case es:return es;case"playready":case ts:return ts;case"fairplay":case os:return os}}function pb(t,i){switch(t){case Zr:return function(t){for(var n={},i=dp.Bb(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.OS]=r.xS}return n}(i);case Jr:case Kr:return function(t){var n;return(n={})[us]=t,n}(i);default:throw new hf(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.rs="Widevine",t.$r="PlayreadyV2",t.DI="PlayreadyV2",t.CI="PlayreadyV3",t.hs="Fairplay"}(ub||(ub={}));var Ab={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function bb(t,n){var e,r,s,u,o=Ab[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.xr)?void 0:e.Mr,OSVersion:null==(r=i.xr)?void 0:r.zr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.xr)?void 0:s.Gr,DeviceModel:null==(u=i.xr)?void 0:u.Wr}}}function Tb(t,i){if(!t.accountName)throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function Sb(t,n,i){var e;if(lb(t))e={AuthToken:t.authToken,Payload:n};else{if(!wb(t))throw Tb(t,i);e={LatensRegistration:bb(t,i),Payload:n}}return Zu(JSON.stringify(e))}function Eb(t,i,e){var r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.Hl){a.next=3;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,a.prev=4,a.next=7,Lr.awrap(s.Td(e));case 7:u=a.sent,o=Ib(u),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),o="";case 14:throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.qd.jd,s.Xd,s.Gd,o);case 15:case"end":return a.stop()}},null,null,[[4,11]],We)}function Ib(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var Rb=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,Df.Yf)||this).OI=void 0,r}S(e,t),e.BI=function(){return i.Mr.Ye?"required":"optional"};var r=e.prototype;return r.nI=function(t,n,i){return Eb(t,n,i)},r.JE=function(t){return this.OI?fu(this.OI.Xu,t):(this.OI=new Ko,We.resolve())},r.uI=function(t,i){var e,r;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.VE){i.next=3;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Xu(t),i.abrupt("return",Sb(e,r,ub.rs));case 5:case"end":return i.stop()}},null,this,null,We)},r.oI=function(t){if(!t.license)throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Fu(t.license)},r.LI=function(t){return We.resolve(new m(t))},r.vI=function(t,n){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.xI(),r.next=3,Lr.awrap(this.uI(t,n));case 3:return i=r.sent,r.next=6,Lr.awrap(this.$E(i,Df.qf,aw.hl,n));case 6:return e=r.sent,r.next=9,Lr.awrap(this.LI(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,We)},r.dI=function(n,i){var e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(t.prototype.dI.call(this,n,i));case 2:return e=r.sent,this.xI(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,We)},r.xI=function(){this.OI||(this.OI=new Ko),this.OI.Wu()},r.Il=function(){this.OI&&this.OI.Vs(),t.prototype.Il.call(this)},e}(jA),Nb=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Df.qf)||this).QE("https://widevine-proxy.drm.technology/proxy"),r}return S(i,t),i.prototype.uI=function(t,i){var e,r,s,u;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(WA(t));case 2:if(e=i.sent,r=this.zE,s=Qo(new m(e)),u=this.MI){i.next=8;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}},null,this,null,We)},b(i,[{key:"MI",get:function(){if(_b(this.VE))return this.VE.token}}]),i}(jA);function Db(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=xr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),xr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var Cb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Df.qf)||this).QE("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return S(n,t),n.prototype.eI=function(n,i){var e=n;return fb(this.VE)&&(e=Db(this.VE,e)),t.prototype.eI.call(this,e,i)},n}(jA),Ob="Conax-Custom-Data";function Pb(t,n,i){var e=t&&cb(t)&&t;if(e&&!i.has(Ob)){var r=KA(e)?e.token:void 0,s=KA(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(Ob,u)}return i}var Bb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Df.qf)||this).QE("https://connect.conax.com:8094/license"),r}return S(n,t),n.prototype.iI=function(){var n=t.prototype.iI.call(this);return Pb(this.VE,"Widevine",n)},n}(jA);function Lb(t){var n=Oo(new m(t));return Fu(JSON.parse(n).license)}function xb(t){return"string"==typeof t.token?t.token:Zu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function Mb(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var Ub=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Df.qf)||this).QE("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}S(n,t);var i=n.prototype;return i.oI=function(t){return Lb(t)},i.iI=function(){return Mb(t.prototype.iI.call(this),this.MI,this.VE)},b(n,[{key:"MI",get:function(){return xb(this.VE)}}]),n}(jA),Fb=function(t){function n(n,i,e){return t.call(this,n,i,e,Df.qf)||this}return S(n,t),n.prototype.iI=function(){var n=t.prototype.iI.call(this),i=this.VE.token;return n.set("Authorization","Bearer "+i),n},n}(jA);function Hb(t,i,e,r){var s,u,o,a,h,c,f;return Lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(gb(t)){v.next=2;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Cf).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,a=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",h={drmType:i,licenseType:a,streamId:o},c={jd:t.ticketAcquisitionURL,zd:Df.Yf,Vd:s,_l:uw.POST,Dd:JSON.stringify(h),Ws:r},v.next=13,Lr.awrap(e.qd(c));case 13:return f=v.sent,v.next=16,Lr.awrap(f.Td());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,We)}var Xb=function(t){function n(n,i,e){return t.call(this,n,i,e,Df.Yf)||this}S(n,t);var i=n.prototype;return i.iI=function(){var n=t.prototype.iI.call(this);return n.set("Content-Type","application/json"),n},i.uI=function(n,i){var e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=Qu(n.buffer),r=this.VE,o.next=4,Lr.awrap(Hb(r,"widevine_modular",this.Xw,i));case 4:return s=o.sent,this.QE(s.licenseServerUrl),u=Po(JSON.stringify({payload:e,ticket:s.ticket})),o.abrupt("return",t.prototype.uI.call(this,u,i));case 8:case"end":return o.stop()}},null,this,null,We)},i.oI=function(t){return Fu(t.license)},n}(jA),Vb=function(t){function i(n,i,e){return t.call(this,n,i,e,Df.qf)||this}return S(i,t),i.prototype.iI=function(){if(!yb(this.VE))throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.iI.call(this);return i.set("X-AxDRM-Message",this.VE.token),i},i}(jA);function zb(t){for(var n=new m(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var Gb=function(t){function n(n,i,e){var r;return(r=t.call(this,cs,n,i,e,Df.qf)||this).UI=void 0,r}S(n,t);var e=n.prototype;return e.YE=function(t){return t.playready||{}},e.iI=function(){var n=new Cf(this.UI);return n.Jf(t.prototype.iI.call(this)),n},e.FI=function(t){return t.length>=1&&t[0].Ri.length>0},e.KE=function(n){var i=this.VE.playready.customData;if(i){var e=zb(i),r=zb('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Xu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return We.resolve({playready:{Oc:r}})}return t.prototype.KE.call(this,n)},e.uI=function(t,n){var i;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(WA(t));case 2:return i=n.sent,n.abrupt("return",this.HI(i));case 4:case"end":return n.stop()}},null,this,null,We)},e.HI=function(t){var n,e,r,s,u,o,a,h,c,f,v,d,l,w,_,g;return Lr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,o=new DataView(t),a=No(o,new Zo,!0),y.prev=3,h=i.oi(a),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(c=null==(n=h.Ii("PlayReadyKeyMessage")[0])?void 0:n.Ii("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Ii("Challenge"))?e:[],this.FI(f)&&(u=ju(f[0].Xi)),v=new Cf,d=null!=(r=null==c?void 0:null==(s=c.Ii("HttpHeaders")[0])?void 0:s.Ii("HttpHeader"))?r:[],l=0;l<d.length;l++)w=d[l],_=w.Ii("name")[0].Xi,g=w.Ii("value")[0].Xi,v.append(_,g);return this.UI=v,y.abrupt("return",u);case 18:case"end":return y.stop()}},null,this,[[3,7]],We)},e.vI=function(t,n){return We.resolve(t)},e.dI=function(n,i){return t.prototype.aI.call(this,n,aw.cl,i)},n}(GA),Wb=function(){function t(n){this._h=void 0,this.XI=n,this._h=t.VI(n)}return t.VI=function(t){return"3"===t.version?ub.CI:ub.DI},t.prototype.zI=function(){var t={};if(this._h===ub.CI){var n={LatensRegistration:bb(this.XI,ub.CI)};t["X-TITANIUM-DRM-CDATA"]=Zu(JSON.stringify(n))}return t},b(t,[{key:"GI",get:function(){return this._h}},{key:"yc",get:function(){return this._h===ub.DI}}]),t}();var qb=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).WI=void 0,r.WI=new Wb(r.VE),r}S(e,t);var r=e.prototype;return r.KE=function(t){var i=this.VE;if(!this.VE)throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(wb(i)){var e={};return e.playready={Oc:Yb(i,this.WI.GI)},We.resolve(e)}return We.reject(Tb(i,ub.$r))},r.iI=function(){var n=new Cf(this.WI.zI());return n.Jf(t.prototype.iI.call(this)),n},r.nI=function(t,e,r){var s,u,o,a,h,c,f,v;return Lr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(s=t.Hl){d.next=3;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return d.prev=3,d.next=6,Lr.awrap(s.Id(r));case 6:a=d.sent,h=Oo(new m(a)),(c=i.oi(h))&&(f=mp(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Xi),o=null==(v=u.DrmErr)?void 0:v.desc),d.next=14;break;case 12:d.prev=12,d.t0=d.catch(3);case 14:throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.Xd,s.Gd,o);case 15:case"end":return d.stop()}},null,null,[[3,12]],We)},r.FI=function(t){if(1!==t.length)throw new sm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(Gb);function Yb(t,n){var i=bb(t,n),e=i.DeviceInfo.FormatVersion,r=Zu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Lo(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Lo('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Xu(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var jb,Qb=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).QE("https://playready-license.drm.technology/rightsmanager.asmx"),r}S(i,t);var e=i.prototype;return e.FI=function(t){if(1!==t.length)throw new sm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.eI=function(n,i){var e=xr({},n||{},{token:this.MI});return t.prototype.eI.call(this,e,i)},b(i,[{key:"MI",get:function(){if(_b(this.VE))return this.VE.token}}]),i}(Gb),Zb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).QE("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return S(n,t),n.prototype.eI=function(n,i){var e=n;return fb(this.VE)&&(e=Db(this.VE,e)),t.prototype.eI.call(this,e,i)},n}(Gb),Jb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).QE("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return S(n,t),n.prototype.iI=function(){var n=t.prototype.iI.call(this);return Pb(this.VE,"PlayReady",n)},n}(Gb),Kb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).QE("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}S(n,t);var i=n.prototype;return i.oI=function(n){return(ms(Oo(new m(n)),"<?xml")?jb.qI:jb.Td)===jb.Td?Lb(n):t.prototype.oI.call(this,new m(n))},i.iI=function(){return Mb(t.prototype.iI.call(this),this.MI,this.VE)},b(n,[{key:"MI",get:function(){return xb(this.VE)}}]),n}(Gb);!function(t){t[t.qI=0]="qI",t[t.Td=1]="Td"}(jb||(jb={}));var $b,tT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YI=void 0,r}S(n,t);var i=n.prototype;return i.iI=function(){var n=t.prototype.iI.call(this);return this.YI&&n.set("Ticket",this.YI),n.set("Content-Type","text/xml"),n},i.uI=function(n,i){var e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.VE,s.next=3,Lr.awrap(Hb(e,"playready",this.Xw,i));case 3:return r=s.sent,this.QE(r.licenseServerUrl),this.YI=r.ticket,s.abrupt("return",t.prototype.uI.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,We)},n}(Gb),nT=function(t){function i(){return t.apply(this,arguments)||this}return S(i,t),i.prototype.iI=function(){if(!yb(this.VE))throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.iI.call(this);return i.set("X-AxDRM-Message",this.VE.token),i},i}(Gb);!function(t){t.Yf="application/json",t.jI="application/x-www-form-urlencoded",t.QI="application/octet-stream",t.$n="text/plain;charset=UTF-8"}($b||($b={}));var iT=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.rc,i,e,r,s)||this).ZI="",u.JI=void 0,u.KI=void 0,u.KI=n.$I,u}S(n,t);var i=n.prototype;return i.tR=function(){return this.GE.certificateURL||this.JI},i.nR=function(t){this.JI=t},i.uI=function(t){return We.resolve(this.iR(t,this.ZI))},i.iR=function(t,n){return"spc="+encodeURIComponent(Xu(t))+"&assetId="+encodeURIComponent(n)},i.YE=function(t){return t.fairplay||{}},i.eR=function(t){var n=t.indexOf("?");if(n>=0)return We.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return We.resolve(i)}var e=t.split("/");return We.resolve(e[e.length-1])},i.KE=function(t){var n,i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.KI)?n:Uo(new m(t)),s.next=3,Lr.awrap(this.eR(i));case 3:return e=s.sent,this.ZI=e,(r={}).fairplay={Fc:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,We)},i.iI=function(){var n=t.prototype.iI.call(this);return n.set("Content-Type",this.rR),n},i.vI=function(t,n){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cI){t.next=2;break}return t.abrupt("return",this.cI);case 2:return t.next=4,Lr.awrap(this.sR(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,We)},i.dI=function(n,i){return t.prototype.aI.call(this,n,aw.ul,i)},i.uR=function(t){var n=this.tR(),i=this.iI(),e={jd:n,zd:Df.qf,Vd:i,_l:uw.GET,Tl:!1,Dd:null,yl:0,Ws:t,vs:ow.$d,Al:aw.ol};return new fw(e)},i.sR=function(t){var n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.uR(t),r.next=3,Lr.awrap(this.Xw.qd(n));case 3:return i=r.sent,r.next=6,Lr.awrap(i.Id());case 6:return e=r.sent,r.abrupt("return",new m(e));case 8:case"end":return r.stop()}},null,this,null,We)},i.oI=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Fu(i)}else n=new m(t);return n},i.eI=function(n,i){var e=t.prototype.eI.call(this,n,i);return ms(e,"skd:")&&(e=e.substr("skd:".length)),e},b(n,[{key:"fI",get:function(){return!0}},{key:"rR",get:function(){return $b.jI}}]),n}(GA),eT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Df.qf)||this}S(n,t);var i=n.prototype;return i.eR=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return We.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return We.resolve(i)},i.uI=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},i.oI=function(t){return new m(t)},i.eI=function(n,i){var e=n||{};return e.p1=Gt(),t.prototype.eI.call(this,e,i)},b(n,[{key:"rR",get:function(){return $b.QI}}]),n}(iT),rT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Df.qf)||this).QE("https://fairplay-license.drm.technology/license"),s.nR("https://fairplay-license.drm.technology/certificate"),s}S(i,t);var e=i.prototype;return e.iR=function(t,n){var i={token:this.MI,contentId:n,payload:Xu(t)};return JSON.stringify(i)},e.oI=function(t){return new m(t)},e.iI=function(){var n=t.prototype.iI.call(this);return n.set("x-vudrm-token",this.MI),n},b(i,[{key:"rR",get:function(){return $b.Yf}},{key:"MI",get:function(){if(!_b(this.VE))throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.VE.token}}]),i}(iT),sT="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",uT="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",oT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Df.qf)||this}return S(i,t),i.prototype.oI=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,sT)}if(!i)throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,uT);return i}(Oo(new DataView(i)));return t.prototype.oI.call(this,e)},i}(iT);var aT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Df.Yf)||this}S(i,t);var e=i.prototype;return e.uI=function(t){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.VE){r.next=3;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Xu(t),r.abrupt("return",Sb(i,e,ub.hs));case 5:case"end":return r.stop()}},null,this,null,We)},e.oI=function(t){try{var i;if(q(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=ju(i.license);return new m(r)}throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.nI=function(t,n,i){return Eb(t,n,i)},b(i,[{key:"rR",get:function(){return $b.Yf}}]),i}(iT),hT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Df.qf)||this).QE("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.nR("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}S(n,t);var e=n.prototype;return e.tR=function(){var n=t.prototype.tR.call(this);if(!n)return n;var e=i.Br(n),r=this.VE;return fb(r)&&lw(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.eR=function(n){return fb(this.VE)?We.resolve(this.VE.contentId):t.prototype.eR.call(this,n)},e.uI=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.oI=function(t){return new m(t)},e.eI=function(n,i){var e=n;return fb(this.VE)&&(e=function(t,n){return xr({},Db(t,n),{KeyId:t.keyId})}(this.VE,e)),t.prototype.eI.call(this,e,i)},b(n,[{key:"rR",get:function(){return $b.QI}}]),n}(iT),cT=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,Df.$n)||this,!cb(e))throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.QE("https://connect.conax.com:8097/license"),u}S(i,t);var e=i.prototype;return e.iI=function(){var n=t.prototype.iI.call(this);return Pb(this.VE,"FairPlay",n)},e.sR=function(t){var n,i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.tR(),i={jd:n,zd:Df.qf,Vd:{},_l:uw.GET,Tl:!1,Dd:null,yl:0,Ws:t,vs:ow.$d,Al:aw.ol},s.next=4,Lr.awrap(this.Xw.qd(i));case 4:return e=s.sent,s.next=7,Lr.awrap(e.Id());case 7:return r=s.sent,s.abrupt("return",new m(r));case 9:case"end":return s.stop()}},null,this,null,We)},e.uI=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.eR=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),We.resolve(Oo(Fu(n)))):We.resolve("unknown")},e.oI=function(t){try{var n=JSON.parse(t);return new m(ju(n.CkcMessage))}catch(t){throw new v("CFLRW-66")}},i}(iT),fT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Df.$n)||this).QE(eb[jr.hs]),s}S(i,t);var e=i.prototype;return e.eR=function(t){return ms(t,"skd://")?We.resolve(t.substring("skd://".length,40)):We.reject(new sm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.iR=function(t,n){return"spc="+Xu(t)+"&assetId="+n},i}(iT),vT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Df.$n)||this).QE("https://lic.drmtoday.com/license-server-fairplay/"),s}S(n,t);var i=n.prototype;return i.iR=function(t,n){var i="spc="+encodeURIComponent(Xu(t))+"&"+encodeURI(n);return"persistent"===this.GE.licenseType?i+"&offline=true":i},i.iI=function(){return Mb(t.prototype.iI.call(this),this.MI,this.VE)},b(n,[{key:"MI",get:function(){return xb(this.VE)}}]),n}(iT),dT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Df.qf)||this}S(n,t);var e=n.prototype;return e.eR=function(t){var n=t;return ms(n,"skd:")&&(n="http:"+n.substring(4)),ms(n,"http:")||ms(n,"https:")?We.resolve(i.Br(n).hostname):We.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},e.uI=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.oI=function(t){return new m(t)},b(n,[{key:"rR",get:function(){return $b.QI}}]),n}(iT),lT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Df.$n)||this}return S(n,t),n.prototype.iI=function(){var n=t.prototype.iI.call(this),i=this.VE.token;return n.set("Authorization","Bearer "+i),n},n}(iT),wT=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,Df.Yf)||this,!gb(i))throw new v("Invalid Xstream DRM configuration");return s}S(n,t);var i=n.prototype;return i.sR=function(t){var n,i,e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.tR(),i=this.iI(),e={jd:n,zd:Df.Yf,Vd:i,_l:uw.POST,Ws:t,vs:ow.$d,Al:aw.ol},u.next=5,Lr.awrap(this.Xw.qd(e));case 5:return r=u.sent,u.next=8,Lr.awrap(r.Td());case 8:return s=u.sent,u.abrupt("return",new m(Fu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,We)},i.dI=function(t,n,i){var e,r,s,u,o,a,h;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=Xu(t),r=this.VE,i.next=5,Lr.awrap(Hb(r,"fairplay",this.Xw,n));case 5:return s=i.sent,u=Po(JSON.stringify({spc:e,ticket:s.ticket})),o={jd:this.ZE(),zd:Df.Yf,Vd:this.iI(),_l:uw.POST,Dd:u,yl:0,Ws:n,vs:ow.$d,Al:aw.ul},i.next=10,Lr.awrap(this.Xw.qd(o));case 10:return a=i.sent,i.next=13,Lr.awrap(a.Td());case 13:return h=i.sent,i.abrupt("return",Fu(h.licence));case 15:case"end":return i.stop()}},null,this,null,We)},b(n,[{key:"rR",get:function(){return $b.Yf}}]),n}(iT),_T=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Df.$n)||this}S(i,t);var e=i.prototype;return e.iR=function(t,n){return Xu(t)},e.oI=function(i){if(0===i.length)throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.oI.call(this,i)},e.iI=function(){var n=t.prototype.iI.call(this);return n.set("Content-Type","text/plain"),n},i}(iT),gT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Df.qf)||this}S(i,t);var e=i.prototype;return e.iR=function(t,n){return t},e.oI=function(t){return new m(t)},e.iI=function(){if(!yb(this.VE))throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.iI.call(this);return i.set("X-AxDRM-Message",this.VE.token),i},b(i,[{key:"rR",get:function(){return $b.Yf}}]),i}(iT),yT=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Df.Yf)||this).oR=void 0,s}S(e,t);var r=e.prototype;return r.iR=function(t,n){var i={spc:Xu(t)};return JSON.stringify(i)},r.eR=function(t){var e=i.Br(t);return this.oR=t,e.searchParams.has("b")?We.resolve(e.searchParams.get("b")):We.reject(new sm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.eI=function(n,i){var e=this.ZE();return!e&&this.oR&&(e=this.oR),e&&(e=e.replace("skd://","https://")),t.prototype.eI.call(this,n,i||e)},r.oI=function(t){try{var i;if((i=q(t)?JSON.parse(t.trim()):t).ckc)return Fu(i.ckc)}catch(t){throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},b(e,[{key:"rR",get:function(){return $b.$n}}]),e}(iT),mT=function(){function t(t,n){this.aR=t,this.hR=n}var n=t.prototype;return n.cR=function(t){return this.aR(t)},n.fR=function(t,n){throw new d(n+" must be "+this.hR+". (Received: "+t+")")},t}();new mT(function(t){return!0},"any");var kT=new mT(Z,"a number"),pT=new mT(q,"a string"),AT=new mT(Y,"a boolean");new mT(Q,"a date"),new mT(X,"undefined"),new mT(G,"an object"),new mT(function(t){return null===t},"null"),new mT(function(t){return null==t},"null or undefined");var bT,TT=(bT={responseCode:kT,isException:AT,description:pT,title:pT,correlationId:pT},{cR:function(t){if(!G(t))return!1;for(var n=0,i=l.keys(bT);n<i.length;n++){var e=i[n];if(!bT[e].cR(t[e]))return!1}return!0},fR:function(t,n){if(!G(t))throw new d(n+" must be an object.");for(var i=0,e=l.keys(bT);i<e.length;i++){var r=e[i],s=bT[r];if(!s.cR(t[r]))return s.fR(t[r],n+"."+String(r))}throw new d}});function ST(t,n,i,e,r){var s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=ET(t,n,i,r),u.next=3,Lr.awrap(IT(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,We)}function ET(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Br(t);return lw(e,n),e.toString()}(e,s)),o=new Cf({});o.append("Content-Type","application/json");var a=Xu(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{jd:u,zd:Df.$n,Vd:o,_l:uw.POST,Dd:JSON.stringify(h),Ws:r,vs:ow.$d,Al:aw.ul}}function IT(t,i){var e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Lr.awrap(i.qd(t));case 2:return e=s.sent,s.next=5,Lr.awrap(e.Td());case 5:if(r=s.sent,!TT.cR(r)){s.next=8;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.jd,r.responseCode);case 8:return s.abrupt("return",Fu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,We)}var RT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Df.qf)||this).vR=void 0,s.vR=i,s}S(n,t);var i=n.prototype;return i.eR=function(n){var i=n.replace("FairPlay",this.vR.releasePid);return t.prototype.eR.call(this,i)},i.dI=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(ST(t,this.vR,this.ZE(),this.Xw,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,We)},n}(iT),NT=function(t){function i(n,i,e){return t.call(this,ls,n,i,e,Df.qf)||this}S(i,t);var e=i.prototype;return e.YE=function(t){return t.clearkey||{}},e.$E=function(i,e,r,s){var u,o;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.GE,!this.ZE()){e.next=5;break}return e.abrupt("return",t.prototype.$E.call(this,i,this.qE,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Po(JSON.stringify(o)).buffer);case 10:throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,We)},e.vI=function(t,n){return We.resolve(new m(0))},e.dI=function(n,i){return t.prototype.aI.call(this,n,aw.fl,i)},i}(GA),DT=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(jA),CT={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function OT(t,n,i){var e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=XT(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",We.resolve(n));case 5:return u.next=8,Lr.awrap(fu(We.resolve(r.call(t,e)),i));case 8:if(!Wo(s=u.sent)){u.next=11;break}return u.abrupt("return",qo(s));case 11:return u.abrupt("return",HT(xr({},CT,s)));case 12:case"end":return u.stop()}},null,null,null,We)}function PT(t,n,i,e,r){var s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.onCertificateResponse,u=FT(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",We.resolve(n));case 5:return a.next=8,Lr.awrap(fu(We.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",qo(o));case 10:case"end":return a.stop()}},null,null,null,We)}function BT(t,n,i,e){var r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Lr.awrap(xT(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",HT(r));case 6:case"end":return s.stop()}},null,null,null,We)}function LT(t,n,i,e,r,s){var u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u=UT(i,r),a.next=3,Lr.awrap(MT(t,new m(n),u,e,s));case 3:return o=a.sent,a.abrupt("return",qo(o).buffer);case 5:case"end":return a.stop()}},null,null,null,We)}function xT(t,n,i,e){var r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=UT(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",We.resolve(s));case 5:return o.next=8,Lr.awrap(fu(We.resolve(r.call(t,s)),e));case 8:if(!Wo(u=o.sent)){o.next=11;break}return o.abrupt("return",qo(u).buffer);case 11:return o.abrupt("return",xr({fairplaySkdUrl:void 0},CT,u));case 12:case"end":return o.stop()}},null,null,null,We)}function MT(t,n,i,e,r){var s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=FT(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",We.resolve(n));case 5:return a.next=8,Lr.awrap(fu(We.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",qo(o));case 10:case"end":return a.stop()}},null,null,null,We)}function UT(t,n){return xr({},XT(t),{fairplaySkdUrl:n})}function FT(t,n,i){return{url:i.Yd,status:i.Xd,statusText:i.Gd,headers:i.Vd.Qf(),body:t,request:n}}function HT(t){return new fw({jd:t.url,_l:t.method,Vd:t.headers,Dd:t.body,Tl:t.useCredentials})}function XT(t){var n;return{url:t.jd,body:null!=(n=VT(t.Dd))?n:null,headers:t.Vd.Qf(),method:t._l,useCredentials:t.Tl}}function VT(t){if(t)return"string"==typeof t?Fo(t):t instanceof ArrayBuffer?new m(t):zu(t)?Go(t):void 0}var zT,GT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).dR=void 0,s.dR=r,s}S(i,t);var e=i.prototype;return e.vI=function(t,n){return We.resolve(t)},e.dI=function(t,i){var e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Lr.awrap(this.HI(jo(t).buffer));case 2:return e=a.sent,r=this.tI(e,Df.qf,aw.cl,i),a.next=6,Lr.awrap(BT(this.dR,r,void 0,i));case 6:if(!((s=a.sent)instanceof ArrayBuffer)){a.next=10;break}return a.abrupt("return",new m(s));case 10:if(""!==s.jd){a.next=12;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return a.prev=12,a.next=15,Lr.awrap(this.Xw.qd(s));case 15:return u=a.sent,a.next=18,Lr.awrap(u.Id(i));case 18:return o=a.sent,a.t0=m,a.next=22,Lr.awrap(LT(this.dR,o,r,u,void 0,i));case 22:return a.t1=a.sent,a.abrupt("return",new a.t0(a.t1));case 26:throw a.prev=26,a.t2=a.catch(12),hu(a.t2),new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a.t2);case 30:case"end":return a.stop()}},null,this,[[12,26]],We)},i}(Gb),WT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,Df.qf)||this).dR=void 0,s.dR=r,s}S(i,t);var e=i.prototype;return e.vI=function(t,i){var e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.cI){a.next=2;break}return a.abrupt("return",this.cI);case 2:return e=this.tI(t,Df.qf,aw.hl,i),a.next=5,Lr.awrap(OT(this.dR,e,i));case 5:if(!((r=a.sent)instanceof m)){a.next=9;break}return a.abrupt("return",r);case 9:if(""!==r.jd){a.next=11;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return a.prev=11,a.next=14,Lr.awrap(this.Xw.qd(r));case 14:return s=a.sent,a.next=17,Lr.awrap(s.Id(i));case 17:u=a.sent,a.next=24;break;case 20:throw a.prev=20,a.t0=a.catch(11),hu(a.t0),new sm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",a.t0);case 24:return o=UT(e,void 0),a.next=27,Lr.awrap(PT(this.dR,new m(u),o,s,i));case 27:return a.abrupt("return",a.sent);case 28:case"end":return a.stop()}},null,this,[[11,20]],We)},e.dI=function(t,i){var e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.tI(t,Df.qf,aw.al,i),o.next=3,Lr.awrap(BT(this.dR,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new m(r));case 7:if(""!==r.jd){o.next=9;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Lr.awrap(this.Xw.qd(r));case 12:return s=o.sent,o.next=15,Lr.awrap(s.Id(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),hu(o.t0),new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=m,o.next=25,Lr.awrap(LT(this.dR,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],We)},i}(DT),qT=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,Df.qf)||this).dR=void 0,u.lR=void 0,u.dR=s,u}S(i,t);var e=i.prototype;return e.vI=function(t,i){var e,r,s,u,o;return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cI){t.next=2;break}return t.abrupt("return",this.cI);case 2:return e=this.uR(i),t.next=5,Lr.awrap(OT(this.dR,e,i));case 5:if(r=t.sent,!zu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Lr.awrap(this.Xw.qd(r));case 11:return s=t.sent,t.next=14,Lr.awrap(s.Id());case 14:return u=t.sent,o=UT(e,void 0),t.next=18,Lr.awrap(PT(this.dR,new m(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),hu(t.t0),new sm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],We)},e.dI=function(t,i){var e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.tI(t,Df.qf,aw.ul,i),o.next=3,Lr.awrap(BT(this.dR,e,this.lR,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new m(r));case 7:if(""!==r.jd){o.next=9;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Lr.awrap(this.Xw.qd(r));case 12:return s=o.sent,o.next=15,Lr.awrap(s.Id(i));case 15:return u=o.sent,o.t0=m,o.next=19,Lr.awrap(LT(this.dR,u,e,s,this.lR,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),hu(o.t2),new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],We)},e.eR=function(n){var i;return this.lR=n,null!=(i=this.dR)&&i.extractFairplayContentId?We.resolve(this.dR.extractFairplayContentId(n)):t.prototype.eR.call(this,n)},i}(iT),YT=function(){function t(){}var n=t.prototype;return n.wR=function(t,n,i,e){switch(t.rc.vs){case jr.rs:return this._R(n,i,e);case jr.$r:return this.gR(n,i,e);case jr.hs:return this.yR(t,n,i,e);case jr.us:default:return this.mR(n,i,e)}},n._R=function(t,n,i){var e,r=(e=t).integration===zA&&q(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&nb.NI.EI(r,es)){var s=nb.NI.RI(r,es,t);return new WT(t,n,i,s)}switch(r){case RA:return new Rb(t,n,i);case OA:return new Nb(t,n,i);case CA:return new Cb(t,n,i);case NA:return new Bb(t,n,i);case LA:return new Ub(t,n,i);case MA:return new Fb(t,n,i);case UA:return new Xb(t,n,i);case HA:return new Vb(t,n,i);case BA:default:return new DT(t,n,i,Df.qf)}},n.gR=function(t,n,i){var e=t.integration;if(e&&nb.NI.EI(e,ts)){var r=nb.NI.RI(e,ts,t);return new GT(t,n,i,r)}switch(e){case RA:return new qb(t,n,i);case OA:return new Qb(t,n,i);case CA:return new Zb(t,n,i);case NA:return new Jb(t,n,i);case LA:return new Kb(t,n,i);case UA:return new tT(t,n,i);case HA:return new nT(t,n,i);case BA:default:return new Gb(t,n,i)}},n.yR=function(t,n,i,e){var r=n.integration;if(r&&nb.NI.EI(r,os)){var s=nb.NI.RI(r,os,n);return new qT(t,n,i,e,s)}switch(r){case DA:return new eT(t,n,i,e);case OA:return new rT(t,n,i,e);case PA:return new oT(t,n,i,e);case RA:return new aT(t,n,i,e);case CA:return new hT(t,n,i,e);case NA:return new cT(t,n,i,e);case BA:return new fT(t,n,i,e);case LA:return new vT(t,n,i,e);case xA:return new dT(t,n,i,e);case MA:return new lT(t,n,i,e);case UA:return new wT(t,n,i,e);case FA:return new _T(t,n,i,e);case HA:return new gT(t,n,i,e);case XA:return new yT(t,n,i,e);case VA:return new RT(t,n,i,e);default:return new iT(t,n,i,e,Df.$n)}},n.mR=function(t,n,i){return new NT(t,n,i)},n.kR=function(t){return t.vs===jr.$r||t.vs===jr.rs||t.vs===jr.hs||t.vs===jr.us},n.yc=function(t,n){var i;if(t.vs!==jr.$r)return!1;if(H(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!nb.NI.EI(e,os))&&(e===RA&&new Wb(n).yc)},n.BI=function(t,n){if(t.vs===jr.rs){var i=n.integration;if(!i||!nb.NI.EI(i,os))return i===RA?Rb.BI():void 0}},t}();!function(t){t[t.pR=0]="pR",t[t.AR=1]="AR",t[t.bR=2]="bR",t[t.SR=3]="SR",t[t.ER=4]="ER",t[t.Ag=5]="Ag",t[t.IR=6]="IR",t[t.RR=7]="RR",t[t.Ng=8]="Ng",t[t.NR=9]="NR",t[t.DR=10]="DR"}(zT||(zT={}));var jT=function(){function t(){}return t.prototype.OR=function(t){},b(t,[{key:"PR",get:function(){return 0}},{key:"LR",get:function(){return 0}}]),t}(),QT=function(){function t(t,n){void 0===n&&(n=new YT),this.wE=void 0,this.xR=void 0,this.XI=void 0,this.wE=t,this.xR=n}var n=t.prototype;return n.MR=function(t){this.XI=t},n.BI=function(t){var n=this.XI;if(void 0!==n)return this.xR.BI(t,n)},n.yc=function(t){var n=this.XI;return void 0!==n&&this.xR.yc(t,n)},n.UR=function(t){var n={rc:t.rc,FR:t.FR||[],$I:t.$I},i=this.xR.wR(n,this.XI||{},t.zE,this.wE);return new ZT(i)},t}(),ZT=function(){function t(t){this.HR=void 0,this.HR=t}var n=t.prototype;return n.JE=function(t){return this.HR.JE(t)},n.KE=function(t,n,i){return this.HR.KE(n,i)},n.fI=function(){return this.HR.fI||void 0!==this.HR.cI},n.vI=function(t,n){return this.HR.vI(t,n)},n.dI=function(t,n,i){return n&&this.HR.QE(n),this.HR.dI(t,i)},n.xs=function(){this.HR.Il()},t}(),JT=function(t){function n(n){var i;(i=t.call(this)||this).XR=[],i.zR=function(t){i.m_(t.Qw)},i.GR=function(t){var n=t.Qw;i.WR(n)||i.k_(n)};for(var e=0;e<n.length;e++){var r=n[e];i.qR(r)}return i}S(n,t);var i=n.prototype;return i.qR=function(t){this.XR.push(t);for(var n=0,i=t.b_;n<i.length;n++){var e=i[n];this.m_(e)}this.YR(t)},i.jR=function(t){Ws(this.XR,t),this.QR(t);for(var n=0,i=t.b_;n<i.length;n++){var e=i[n];this.WR(e)||this.k_(e)}},i.WR=function(t){for(var n=0,i=this.XR;n<i.length;n++){if(i[n].p_(t))return!0}return!1},i.YR=function(t){t.Js($_.Vw,this.zR),t.Js($_.Gw,this.GR)},i.QR=function(t){t.nu($_.Vw,this.zR),t.nu($_.Gw,this.GR)},i.Il=function(){for(;this.XR.length>0;)this.jR(this.XR[0]);t.prototype.Il.call(this)},i.jw=function(){return Xg(this)},n}(cg);function KT(t){return{get enabled(){return t.P_},set enabled(n){t.P_=Ag(n)},get currentLatency(){return t.wy},get streamConfiguration(){if(void 0!==t.ZR)return function(t){return{get minimumOffset(){return t.Kg},get maximumOffset(){return t.iy},get targetOffset(){return t.$g},get forceSeekOffset(){return t.ey},get minimumPlaybackRate(){return t.sy},get maximumPlaybackRate(){return t.uy}}}(t.ZR)},get configuration(){return function(t){return{get minimumOffset(){return t.Kg},set minimumOffset(n){t.Kg=bg(n)},get maximumOffset(){return t.iy},set maximumOffset(n){t.iy=bg(n)},get targetOffset(){return t.$g},set targetOffset(n){t.$g=bg(n)},get forceSeekOffset(){return t.ey},set forceSeekOffset(n){t.ey=bg(n)},get minimumPlaybackRate(){return t.sy},set minimumPlaybackRate(n){t.sy=bg(n)},get maximumPlaybackRate(){return t.uy},set maximumPlaybackRate(n){t.uy=bg(n)},update:function(n){t.Jh(function(t){var n={};void 0!==t.minimumOffset&&(n.Kg=bg(t.minimumOffset));void 0!==t.maximumOffset&&(n.iy=bg(t.maximumOffset));void 0!==t.targetOffset&&(n.$g=bg(t.targetOffset));void 0!==t.forceSeekOffset&&(n.ey=bg(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.sy=bg(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.uy=bg(t.maximumPlaybackRate));return n}(n))}}}(t.uc)}}}var $T,tS=function(){function t(){this.qw=void 0,this.JR=void 0,this.JR={ey:0,iy:0,uy:0,Kg:0,sy:0,$g:0,Jh:J}}return b(t,[{key:"Yw",get:function(){return null!=this.qw||(this.qw=KT(this)),this.qw}},{key:"P_",get:function(){return!1},set:function(t){}},{key:"wy",get:function(){}},{key:"ZR",get:function(){}},{key:"uc",get:function(){return this.JR}}]),t}();function nS(){return $T||($T=le&&le.document&&le.document.createElement("video")),$T}var iS=function(t){function n(n,i,e,r,s,u,o){var a;return void 0===u&&(u=new YT),void 0===o&&(o=bf()),(a=t.call(this)||this).KR=void 0,a.$R=void 0,a.tN=void 0,a.Sy=void 0,a.Ey=void 0,a.Iy=void 0,a.nN=void 0,a.iN=void 0,a.eN=void 0,a.rN=void 0,a.sN=void 0,a.wE=void 0,a.As=void 0,a.uN=void 0,a.oN=void 0,a.aN=new jT,a.hN=new tS,a.cN=function(t){var n=t.mu,i=n.code,e=new hf(cm(i),"Something went wrong during native playback.",n),r=new um(i,e.message,n.message);a.fN(e,r)},a.vN=function(){a.Zs(new Iy(a.Xg,a.um))},a.dN=function(t){a.qg||(a.oN=void 0),a.Zs(t)},a.lN=function(t){a.oN=void 0,a.Zs(t)},a.wN=function(){a.Zs(new Dm(a.cm))},a._N=function(){a.Zg>0&&a.Qg>0&&a.Zs(new dA)},a.gN=function(t){a.Sy.m_(new Tm(t.track))},a.yN=function(t){var n=rS(a.Sy,t.track);n&&a.Sy.k_(n)},a.mN=function(){a.kN(a.Sy)},a.pN=function(t){a.Ey.m_(new Nm(t.track))},a.AN=function(t){var n=rS(a.Ey,t.track);n&&a.Ey.k_(n)},a.bN=function(){a.kN(a.Ey)},a.TN=function(t){a.Zs(t),a.fN(t.errorObject,am(t.errorObject))},a.KR=i,a.wE=e,a.As=o,a.$R=a.KR.SN(fm.ll),a.eN=a.$R.EN.preload,a.rN=new EA(a.$R,!0),a.rN.Js(by,a.Qs),a.uN=new QT(e,u),a.$R.IN=a.uN,a.RN(),a.Sy=new vm,a.Ey=new vm,a.NN(),a.sN=new uA(a.$R,a.wE),a.Iy=new JT([a.$R.Py]),a.qy(),a}S(n,t);var i=n.prototype;return i.Yy=function(){this.$R.Yy()},i.qy=function(){this.$R.qy()},i.Fy=function(t,n,i){var e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return au(i),e={vs:vA.bE,K_:t.src,Nd:t.type,DN:this.CN(t),pm:this.eN,ON:t.crossOrigin,PN:n.metadata&&n.metadata.title},this.uN.MR(t.contentProtection),r.next=5,Lr.awrap(this.$R.Qh(e));case 5:this.tN=r.sent,au(i),n.textTracks&&this.BN(n.textTracks),fA(this.Py);case 9:case"end":return r.stop()}},null,this,null,We)},i.BN=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.$R.LN()&&M.hn&&pA&&!Jp(i.kind,i.label)&&this.xN(i)){var e,r=null!=(e=i.kind)?e:Up.WA;this.$R.MN(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.sN.gE(i)}}},i.xN=function(t){return!t.format||"webvtt"===t.format},i.Ly=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Lr.awrap(this.$R.Ly());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.UN){t.next=12;break}return t.next=10,Lr.awrap(this.$R.fu(Nf.Nf));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],We)},i.xy=function(){this.$R.xy()},i.Hy=function(){return void 0!==this.$R.EN.webkitShowPlaybackTargetPicker},i.Xy=function(){this.$R.EN.webkitShowPlaybackTargetPicker&&this.$R.EN.webkitShowPlaybackTargetPicker()},i.Vy=function(){this.$R.EN.webkitShowPlaybackTargetPicker&&this.$R.EN.webkitShowPlaybackTargetPicker()},i.jy=function(){return this.$R.EN},i.Qy=function(){return this.$R.FN},i.A_=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nN=void 0,this.iN=void 0,this.tN=void 0,t.next=5,Lr.awrap(this.sN.A_());case 5:return this.$R.HN(),t.next=8,Lr.awrap(this.$R.A_());case 8:this.rN.A_(),this.pm=this.eN,this.Cy.A_(),this.Oy.A_(),this.oN=void 0;case 13:case"end":return t.stop()}},null,this,null,We)},i.Il=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lr.awrap(this.A_());case 2:return this.tu(),this.XN(),this.VN(),this.rN.Il(),this.$R.IN=void 0,t.next=9,Lr.awrap(this.KR.zN(this.$R));case 9:return this.Sy.Il(),this.Ey.Il(),this.Iy.Il(),t.next=14,Lr.awrap(this.sN.Il());case 14:case"end":return t.stop()}},null,this,null,We)},i.RN=function(){this.$R.Js(Nf.Rf,this.Qs),this.$R.Js(Nf.If,this.Qs),this.$R.Js(Nf.Xf,this.vN),this.$R.Js(Nf.Nf,this.Qs),this.$R.Js(Nf.Af,this.Qs),this.$R.Js(Nf.Bf,this.Qs),this.$R.Js(Nf.Pf,this.dN),this.$R.Js(Nf.mf,this.Qs),this.$R.Js(Nf.Df,this.Qs),this.$R.Js(Nf.Vf,this.Qs),this.$R.Js(Nf.gf,this.Qs),this.$R.Js(Nf.Of,this._N),this.$R.Js(yy.Hg,this.lN),this.$R.Js(Lg.G_,this.cN),this.$R.Js(Nf.lf,this.Qs),this.$R.Js(Nf.df,this.TN),this.$R.EN.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.wN)},i.XN=function(){this.$R.nu(Nf.Rf,this.Qs),this.$R.nu(Nf.If,this.Qs),this.$R.nu(Nf.Xf,this.vN),this.$R.nu(Nf.Nf,this.Qs),this.$R.nu(Nf.Af,this.Qs),this.$R.nu(Nf.Bf,this.Qs),this.$R.nu(Nf.Pf,this.dN),this.$R.nu(Nf.mf,this.Qs),this.$R.nu(Nf.Df,this.Qs),this.$R.nu(Nf.Vf,this.Qs),this.$R.nu(Nf.gf,this.Qs),this.$R.nu(Nf.Of,this._N),this.$R.nu(yy.Hg,this.lN),this.$R.nu(Lg.G_,this.cN),this.$R.nu(Nf.lf,this.Qs),this.$R.nu(Nf.df,this.TN),this.$R.EN.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.wN)},i.CN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{rc:vs,GN:[{initDataTypes:[vs.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.NN=function(){var t=this.$R.EN.audioTracks,n=this.$R.EN.videoTracks;t&&(t.addEventListener("addtrack",this.gN),t.addEventListener("removetrack",this.yN),t.addEventListener("change",this.mN)),n&&(n.addEventListener("addtrack",this.pN),n.addEventListener("removetrack",this.AN),n.addEventListener("change",this.bN))},i.VN=function(){var t=this.$R.EN.audioTracks,n=this.$R.EN.videoTracks;t&&(t.removeEventListener("addtrack",this.gN),t.removeEventListener("removetrack",this.yN),t.removeEventListener("change",this.mN)),n&&(n.removeEventListener("addtrack",this.pN),n.removeEventListener("removetrack",this.AN),n.removeEventListener("change",this.bN))},i.kN=function(t){for(var n=0;n<t.T_;n++){t.y_(n).Pm()}},i.nm=function(){this.$R.nm()},i.fN=function(t,n){this.nN||(this.nN=n,this.iN=t,this.Zs(new xy(t)))},b(n,[{key:"UN",get:function(){var t=this.$R.im,n=this.Xg;return t.WN(n,.01)}},{key:"Cy",get:function(){return this.Sy}},{key:"im",get:function(){return this.$R.im.qN()}},{key:"um",get:function(){return this.$R.um},set:function(t){t&&this.$R.YN(t)}},{key:"Xg",get:function(){return void 0!==this.oN?this.oN:this.$R.Xg},set:function(t){this.cm&&(this.oN=t),this.$R.xu(t)}},{key:"Vg",get:function(){return this.$R.Vg}},{key:"zg",get:function(){return this.$R.zg}},{key:"mu",get:function(){return this.nN}},{key:"Gg",get:function(){return this.iN}},{key:"By",get:function(){}},{key:"cm",get:function(){return this.$R.cm}},{key:"fm",get:function(){return xr({},{vm:0,dm:0,lm:0,wm:0,_m:0,gm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.$R.jN())}},{key:"Wg",get:function(){return this.$R.Wg},set:function(t){this.$R.Wg=t}},{key:"ym",get:function(){return!0}},{key:"qg",get:function(){return this.$R.qg}},{key:"Yg",get:function(){return this.$R.Yg},set:function(t){this.$R.Yg=t}},{key:"mm",get:function(){return this.$R.EN.played}},{key:"pm",get:function(){return this.eN},set:function(t){this.eN=t,this.tN&&(this.tN.pm=t)}},{key:"Q_",get:function(){return this.$R.Q_}},{key:"Am",get:function(){return this.$R.Am.qN()}},{key:"jg",get:function(){return this.$R.jg}},{key:"QN",get:function(){return this.$R.QN}},{key:"Py",get:function(){return this.Iy}},{key:"Oy",get:function(){return this.Ey}},{key:"Qg",get:function(){return this.$R.Qg}},{key:"Zg",get:function(){return this.$R.Zg}},{key:"Jg",get:function(){return this.$R.Jg},set:function(t){this.$R.Jg=t}},{key:"Tm",get:function(){return this.hN}},{key:"Sm",get:function(){return this.$R.Sm},set:function(t){this.$R.Sm=t}},{key:"ZN",get:function(){return this.aN}}]),n}(Gg);var eS=function(){function t(){this.JN=zT.DR}var n=t.prototype;return n.AI=function(t,n,i,e,r,s){return new iS(t,n,i,e,r)},n.KN=function(t,n){return function(t){return!t.type||!(!nS().canPlayType||!nS().canPlayType(t.type))}(t)},n.$N=function(){return!1},t}();function rS(t,n){for(var i=0,e=t.b_;i<e.length;i++){var r=e[i];if(r.xm===n)return r}}var sS=function(){function t(){this.tD=new eS,this.nD=[]}t.iD=function(){return this.Yn};var n=t.prototype;return n.eD=function(t){this.nD.push(t)},n.AI=function(t,n,i,e,r,s){for(var u=this.tD.AI(t,n,i,e,r,s),o=0,a=this.nD;o<a.length;o++){u=(0,a[o])(u,i,e)}return u},n.KN=function(t,n){return this.tD.KN(t,n)},n.$N=function(){return!1},b(t,[{key:"JN",get:function(){return this.tD.JN}}]),t}();function uS(t,n){return Us(t.JN,n.JN)}function oS(t){aS.Yn.rD(t)}sS.Yn=new sS;var aS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).sD=sS.iD(),n}S(n,t);var i=n.prototype;return i.uD=function(t){this.sD=t},i.oD=function(){return this.sD},i.aD=function(t,n){var i,e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<t.length)){a.next=11;break}return e=t[i],a.next=5,Lr.awrap(this.hD(e,n));case 5:if(!(r=a.sent)){a.next=8;break}return a.abrupt("return",{cD:e,fD:r});case 8:i++,a.next=1;break;case 11:s=this.sD,u=0;case 13:if(!(u<t.length)){a.next=20;break}if(o=t[u],!s.KN(o,n)){a.next=17;break}return a.abrupt("return",{cD:o,fD:s});case 17:u++,a.next=13;break;case 20:return a.abrupt("return",{cD:t[0],fD:s});case 21:case"end":return a.stop()}},null,this,null,We)},n}(function(){function t(){this.vD=[]}var n=t.prototype;return n.rD=function(t){this.vD.push(t),this.vD.sort(uS)},n.hD=function(t,n){var i,e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.vD;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!j(s=r.KN(t,n))){u.next=10;break}return u.next=7,Lr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,We)},t}());aS.Yn=new aS;var hS,cS=function(){function t(t){this.dD=void 0,this.dD=le&&le.document&&le.document.createElement("div"),hr(this.dD),t.appendChild(this.dD)}return t.prototype.Il=function(){tr(this.dD)},t}();function fS(t){switch(t){case hS.lD:case"":return hS.lD;case hS.YA:return hS.YA;case hS.wD:default:return hS.wD}}!function(t){t.DR="",t.wD="none",t.YA="metadata",t.lD="auto"}(hS||(hS={}));var vS=[Lg.G_,Nf.yf,Nf.pu,Nf.Wf,Nf.uf,Nf.kf,Nf.Sf,Nf.Ef,Nf.xf,Nf.Uf,yy.Lg,yy.xg,yy.Mg,yy.Ug,yy.a_,yy.Fg,yy.Hg,Nf.df,Nf.lf,Nf.gf,Nf.mf,Nf.Af,Nf.bf,Nf.Rf,Nf.Nf,Nf.If,Nf.Df,Nf.Of,Nf.Bf,Nf.Pf,Nf.Xf,Nf.Vf,Nf.Cf,Nf.Tf,Nf.Lf],dS=function(t){function n(n,i){var e;return(e=t.call(this)||this)._D=void 0,e.gD=void 0,e.yD=void 0,e.mD=void 0,e.eN=hS.wD,e.kD=void 0,e.pD=!0,e.Sy=new xg,e.Ey=new xg,e.Iy=new zg,e.Ry=new em,e._D=n,e.yD=i,e.yD.pm=e.pm,e.bD(),e}S(n,t);var i=n.prototype;return i.xy=function(){this.yD.xy()},i.Ly=function(){var t=this.yD.Ly();j(t)&&_u(t)},i.My=function(){return this.Fy(void 0)},i.zy=function(){},i.Jy=function(t){return!1},i.bD=function(){this.Sy.D_=this.yD.Cy,this.Ey.D_=this.yD.Oy,this.Iy.D_=this.yD.Py,this.Ry.D_=this.yD.By,this.yD.Js(vS,this.Qs)},i.TD=function(){this.yD.nu(vS,this.Qs),this.Sy.D_=void 0,this.Ey.D_=void 0,this.Iy.D_=void 0,this.Ry.D_=void 0},i.Uy=function(){return this.kD},i.Fy=function(t,n){var i,e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(au(n),this.kD=t,t){a.next=4;break}return a.abrupt("return");case 4:if(!vy(i=t.sources.filter(gy))){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Lr.awrap(this._D.aD(i,t));case 9:if(e=a.sent,au(n),r=e.cD,s=e.fD,u=this.Qy(),o=Fy(this),this.gD===s&&!this.mu){a.next=25;break}return this.TD(),a.next=19,Lr.awrap(this.yD.Il());case 19:au(n),this.gD=s,this.yD=this.SD(s),lS(this.yD,o),Xy(this,o,this),this.bD();case 25:return this.yD.pm=this.pm,this.pD?this.yD.qy():this.yD.Yy(),a.next=29,Lr.awrap(this.yD.Fy(r,t,n));case 29:au(n),this.ED(r),this.Qy()!==u&&this.Zs(new qg);case 32:case"end":return a.stop()}},null,this,null,We)},i.ED=function(t){this.mD!==t&&(this.mD=t,this.Zs(new Yg(t)))},i.Hy=function(){return this.yD.Hy()},i.Xy=function(){this.yD.Xy()},i.Vy=function(){this.yD.Vy()},i.Qy=function(){return this.yD.Qy()},i.nm=function(){this.yD.nm()},i.A_=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kD=void 0,this.ED(void 0),t.next=4,Lr.awrap(this.yD.A_());case 4:case"end":return t.stop()}},null,this,null,We)},i.Il=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tu(),t.next=3,Lr.awrap(this.A_());case 3:return t.next=5,Lr.awrap(this.yD.Il());case 5:this.Sy.Il(),this.Ey.Il(),this.Iy.Il(),this.Ry.Il();case 9:case"end":return t.stop()}},null,this,null,We)},i.qy=function(){this.pD=!0,this.yD.qy()},i.Yy=function(){this.pD=!1,this.yD.Yy()},b(n,[{key:"Cy",get:function(){return this.Sy}},{key:"im",get:function(){return this.yD.im}},{key:"mu",get:function(){return this.yD.mu}},{key:"Gg",get:function(){return this.yD.Gg}},{key:"um",get:function(){return this.yD.um},set:function(t){this.yD.um=t}},{key:"tm",get:function(){return this.mD}},{key:"Xg",get:function(){return this.yD.Xg},set:function(t){this.yD.Xg=t}},{key:"Vg",get:function(){return this.yD.Vg}},{key:"zg",get:function(){return this.yD.zg}},{key:"By",get:function(){return this.Ry}},{key:"cm",get:function(){return this.yD.cm}},{key:"fm",get:function(){return this.yD.fm}},{key:"Wg",get:function(){return this.yD.Wg},set:function(t){this.yD.Wg=t}},{key:"ym",get:function(){return this.yD.ym}},{key:"qg",get:function(){return this.yD.qg}},{key:"Yg",get:function(){return this.yD.Yg},set:function(t){this.yD.Yg=t}},{key:"mm",get:function(){return this.yD.mm}},{key:"pm",get:function(){return this.eN},set:function(t){this.eN=t,this.yD&&(this.yD.pm=this.eN)}},{key:"Q_",get:function(){return this.yD.Q_}},{key:"Am",get:function(){return this.yD.Am}},{key:"jg",get:function(){return this.yD.jg}},{key:"Py",get:function(){return this.Iy}},{key:"Qg",get:function(){return this.yD.Qg}},{key:"Oy",get:function(){return this.Ey}},{key:"Zg",get:function(){return this.yD.Zg}},{key:"Jg",get:function(){return this.yD.Jg},set:function(t){this.yD.Jg=t}},{key:"Tm",get:function(){return this.yD.Tm}},{key:"ZN",get:function(){return this.yD.ZN}}]),n}(Au);function lS(t,n){t.Wg!==n.Wg&&(t.Wg=n.Wg),t.Jg!==n.Jg&&(t.Jg=n.Jg),t.Yg!==n.Yg&&(t.Yg=n.Yg)}var wS,_S=function(t){function n(n,i){var e;return(e=t.call(this)||this).T_=void 0,e.RD=void 0,e.ND=void 0,e.T_=n.length>>1,e.RD=n,e.ND=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.T_),e}S(n,t);var i=n.prototype;return i.DD=function(t){return this.RD[2*t]},i.CD=function(t){return this.ND[2*t]},i.OD=function(t){return this.RD[2*t+1]},i.PD=function(t){return this.ND[2*t+1]},b(n,[{key:"BD",get:function(){return this.RD.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.wk=function(t,n){return 0===this.Dk(t,n)},n.rp=function(t,n){return this.Dk(t,n)>0},n.sp=function(t,n){return this.Dk(t,n)>=0},n.Lk=function(t,n){return this.Dk(t,n)<0},n.Pk=function(t,n){return this.Dk(t,n)<=0},n.Sp=function(t,n){return this.Lk(t,n)?t:n},n.Tp=function(t,n){return this.rp(t,n)?t:n},n.LD=function(t,n,i){return i?this.Pk(t,n):this.Lk(t,n)},n.qN=function(){var t=this;return{get length(){return t.T_},start:function(n){var i=0|n;return t.xD(i),t.MD(t.DD(i))},end:function(n){var i=0|n;return t.xD(i),t.MD(t.OD(i))}}},n.UD=function(){for(var t=new Array(2*this.T_),n=new Array(2*this.T_),i=0;i<this.T_;i++)t[2*i]=this.DD(i),t[2*i+1]=this.OD(i),n[2*i]=!0,n[2*i+1]=!0;return this.FD(t,n)},n.xD=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.T_)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.T_+")")},n.HD=function(t){if(0===this.T_)return this.XD();if(this.WN(t))return t;if(this.Pk(t,this.DD(0)))return this.DD(0);if(this.sp(t,this.OD(this.T_-1)))return this.OD(this.T_-1);for(var n,i=this.VD(),e=0;e<this.T_;e++){var r=this.DD(e),s=this.Bk(r,t);this.Lk(s,i)&&(n=r,i=s);var u=this.OD(e),o=this.Bk(this.OD(e),t);this.Lk(o,i)&&(n=u,i=o)}return n},n.zD=function(t){for(var n=0,i=0,e=[],r=[];n<this.T_&&i<t.T_;){var s=this.DD(n),u=this.OD(n),o=this.CD(n),a=this.PD(n),h=t.DD(i),c=t.OD(i),f=t.CD(i),v=t.PD(i),d=this.Tp(s,h),l=this.Sp(u,c),w=void 0;w=this.wk(s,h)?o&&f:this.wk(d,s)?o:f;var _=void 0;_=this.wk(u,c)?a&&v:this.wk(l,u)?a:v,(this.Lk(d,l)||w&&_&&this.wk(d,l))&&(e.push(d,l),r.push(w,_));var g=this.Dk(this.OD(n),t.OD(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.FD(e,r)},n.GD=function(){var t=this.WD(),n=t.T_;if(0===n)return this.FD([t.qD(),t.VD()],[!1,!1]);var i=[],e=[],r=t.DD(0);t.wk(r,t.qD())||(i.push(t.qD(),r),e.push(!1,!t.CD(0)));for(var s=0;s<n-1;s++)i.push(t.OD(s),t.DD(s+1)),e.push(!t.PD(s),!t.CD(s+1));var u=t.OD(n-1);return t.wk(u,t.VD())||(i.push(u,t.VD()),e.push(!t.PD(n-1),!1)),t.FD(i,e)},n.YD=function(t){for(var n=0,i=0,e=this.T_,r=t.T_,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.DD(n),h=this.OD(n),c=t.DD(i),f=t.OD(i);this.Lk(a,c)||this.wk(a,c)&&this.Lk(h,f)?(s[o]=a,s[o+1]=h,u[o]=this.CD(n),u[o+1]=this.PD(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.CD(i),u[o+1]=t.PD(i),i++),o+=2}for(;n<e;)s[o]=this.DD(n),s[o+1]=this.OD(n),u[o]=this.CD(n),u[o+1]=this.PD(n),n++,o+=2;for(;i<r;)s[o]=t.DD(i),s[o+1]=t.OD(i),u[o]=t.CD(i),u[o+1]=t.PD(i),i++,o+=2;return this.FD(s,u)},n.jD=function(t){void 0===t&&(t=this.XD());var n=this.T_;if(n<2)return this;for(var i=[],e=[],r=this.DD(0),s=this.OD(0),u=this.CD(0),o=this.PD(0),a=1;a<n;a++){var h=this.DD(a),c=this.OD(a),f=this.CD(a),v=this.PD(a);this.Lk(r,h)&&this.rp(s,c)||(this.wk(r,h)&&(u=f=u||f),this.wk(s,c)&&(o=v=o||v),this.LD(h,this.Im(s,t),o||f)?(s=c,o=v):(i.push(r,s),e.push(u,o),r=h,s=c,u=f,o=v))}return i.push(r,s),e.push(u,o),this.FD(i,e).WD()},n.WD=function(){for(var t=[],n=[],i=0;i<this.T_;i++){var e=this.DD(i),r=this.OD(i),s=this.CD(i),u=this.PD(i);this.wk(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.FD(t,n)},n.QD=function(t){return this.T_?t.T_?this.YD(t).jD():this:t},n.ZD=function(t){var n=this.WD(),i=t.WD(),e=n.GD(),r=i.GD(),s=e.zD(i),u=r.zD(n);return s.QD(u)},n.Bu=function(t){if(this.wk(t,this.XD()))return this;for(var n=[],i=[],e=0;e<this.T_;e++){var r=this.Im(this.DD(e),t),s=this.Im(this.OD(e),t);n.push(r,s),i.push(this.CD(e),this.PD(e))}return this.FD(n,i)},n.JD=function(t){return 0===this.T_||0===t.T_?this:this.WD().zD(t.WD().GD())},n.WN=function(t,n){return this.KD(t,n)>=0},n.$D=function(t,n,i,e,r){return this.tC(t,n,i,e,r)>=0},n.nC=function(t,n,i,e,r){return this.iC(t,n,i,e,r)>=0},n.eC=function(t){if(t.T_!==this.T_)return!1;for(var n=0;n<this.T_;n++)if(!this.wk(this.DD(n),t.DD(n))||!this.wk(this.OD(n),t.OD(n))||this.CD(n)!==t.CD(n)||this.PD(n)!==t.PD(n))return!1;return!0},n.rC=function(t){for(var n=[],i=[],e=0;e<this.T_;e++){var r=this.DD(e),s=this.OD(e),u=this.CD(e),o=this.PD(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.FD(n,i)},n.iC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.XD());for(var s=this.Fk(t,r),u=this.Im(n,r),o=0;o<this.T_;o+=1)if(this.LD(this.DD(o),u,!e||this.CD(o))&&this.LD(s,this.OD(o),!i||this.PD(o)))return o;return-1},n.tC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.XD());for(var s=this.Im(t,r),u=this.Fk(n,r),o=0;o<this.T_;o+=1)if(this.LD(this.DD(o),s,!i||this.CD(o))&&this.LD(u,this.OD(o),!e||this.PD(o)))return o;return-1},n.KD=function(t,n){return this.tC(t,t,!0,!0,n)},n.sC=function(t,n){void 0===n&&(n=this.XD());for(var i=this.Im(t,n),e=this.T_-1;e>=0;e-=1)if(this.LD(this.DD(e),i,this.CD(e)))return e;return-1},n.uC=function(t,n){void 0===n&&(n=this.XD());for(var i=this.Fk(t,n),e=0;e<this.T_;e+=1)if(this.LD(i,this.OD(e),this.PD(e)))return e;return-1},n.oC=function(t){return this.xD(t),this.FD([this.DD(t),this.OD(t)],[this.CD(t),this.PD(t)])},n.aC=function(t,n){var i=this.KD(t,n);return i<0?void 0:this.oC(i)},b(t,[{key:"hC",get:function(){for(var t=this.XD(),n=0;n<this.T_;n++){var i=this.Fk(this.OD(n),this.DD(n));t=this.Im(t,i)}return t}}]),t}()),gS=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Dk=function(t,n){return t<n?Os.Ds:t===n?Os.Rs:Os.Ns},i.Im=function(t,n){return t+n},i.Fk=function(t,n){return t-n},i.Bk=function(t,n){return w.abs(t-n)},i.XD=function(){return 0},i.VD=function(){return 1/0},i.qD=function(){return-1/0},n.cC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.fC=function(t){for(var i=[],e=[],r=0;r<t.T_;r++)i.push(t.DD(r).Rp),i.push(t.OD(r).Rp),e.push(t.CD(r)),e.push(t.PD(r));return new n(i,e)},n.vC=function(t){return new n([t,t],[!0,!0])},i.FD=function(t,i){return new n(t,i)},i.MD=function(t){return t},n.dC=function(){return yS},n}(_S),yS=new gS([]);!function(t){t.u_="fullscreenchange",t.lC="fullscreensupportchange",t.G_="fullscreenerror"}(wS||(wS={}));var mS=function(t){function n(){return t.call(this,wS.G_)||this}return S(n,t),n}(Tu),kS=new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Xm=function(){this.Zs(new mS)},i.zm=function(){},i.Il=function(){this.tu()},b(n,[{key:"wC",get:function(){return!1}},{key:"_C",get:function(){return!1}}]),n}(Au)),pS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).KR=void 0,n.$R=void 0,n}S(n,t);var i=n.prototype;return i.jy=function(){var t;return null==(t=this.$R)?void 0:t.EN},i.Il=function(){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(t.prototype.Il.call(this));case 2:if(!this.$R){n.next=6;break}return n.next=5,Lr.awrap(this.KR.zN(this.$R));case 5:this.$R=void 0;case 6:case"end":return n.stop()}},null,this,null,We)},b(n,[{key:"gC",set:function(t){this.KR=t,this.$R=t.SN(fm.ll)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).yC=0,n.mC=!1,n.kC=!0,n.pC=1,n.AC=!1,n.Da=1,n.Cy=new vm,n.im=gS.dC().qN(),n.Vg=NaN,n.zg=!1,n.mu=void 0,n.Gg=void 0,n.By=void 0,n.cm=!1,n.ym=!0,n.mm=gS.dC().qN(),n.pm=hS.wD,n.Q_=ty.Dg,n.Am=gS.dC().qN(),n.QN=void 0,n.Py=new Fp,n.Qg=0,n.Oy=new vm,n.Zg=0,n.Tm=new tS,n.aN=new jT,n}S(n,t);var i=n.prototype;return i.qy=function(){},i.Yy=function(){},i.Ly=function(){this.kC&&(this.kC=!1,this.Zs(new py(this.Xg)),this.Zs(new bA(this.Xg)))},i.xy=function(){this.kC||(this.kC=!0,this.Zs(new Iy(this.Xg,this.um)),this.Zs(new ky(this.Xg)))},i.Fy=function(t,n){return We.resolve()},i.Hy=function(){return!1},i.Xy=function(){},i.Vy=function(){},i.Qy=function(){return kS},i.nm=function(){},i.A_=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.yC=0,this.AC=!1,this.xy(),this.Zs(new my(this.yC));case 4:case"end":return t.stop()}},null,this,null,We)},i.Il=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.tu(),this.Cy.Il(),this.Py.Il(),this.Oy.Il();case 4:case"end":return t.stop()}},null,this,null,We)},b(n,[{key:"um",get:function(){},set:function(t){}},{key:"Xg",get:function(){return this.yC},set:function(t){this.yC!==t&&(this.yC=t,this.AC=!0,this.Zs(new Dy(this.Xg)))}},{key:"fm",get:function(){return{vm:0,dm:0,lm:0,wm:0,_m:0,gm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Wg",get:function(){return this.mC},set:function(t){this.mC!==t&&(this.mC=t,this.Zs(new Oy(this.Xg,this.Jg)))}},{key:"qg",get:function(){return this.kC}},{key:"Yg",get:function(){return this.pC},set:function(t){this.pC!==t&&(this.pC=t,this.Zs(new Ey(this.Xg,this.Yg)))}},{key:"jg",get:function(){return this.AC}},{key:"Jg",get:function(){return this.Da},set:function(t){this.Da!==t&&(this.Da=t,this.Zs(new Oy(this.Xg,this.Jg)))}},{key:"Sm",get:function(){return!1},set:function(t){}},{key:"ZN",get:function(){return this.aN}}]),n}(Au)),AS=function(t){function n(n,i,e,r,s,u){var o,a=new pS;return(o=t.call(this,aS.Yn,a)||this).Pc=void 0,o.bC=void 0,o.TC=void 0,o.SC=void 0,o.wE=void 0,o.EC=void 0,o.IC=void 0,o.TC=n,o.Pc=i,o.wE=e,o.EC=r,o.SC=u,o.bC=new fe(s,o.SC),o.bC.RC(o.TC),a.gC=o.bC,o.IC=new cS(o.TC),o}S(n,t);var i=n.prototype;return i.zy=function(){t.prototype.zy.call(this),this.bC.NC()},i.Gy=function(t){Hy(this,t)},i.Wy=function(){},i.SD=function(t){return t.AI(this.TC,this.bC,this.wE,this.Pc,this.EC,this.SC)},i.jy=function(){return this.yD.jy()},i.Zy=function(){return this.bC.DC.map(function(t){return t.EN})},i.$s=function(n){t.prototype.$s.call(this,n)},i.au=function(n){t.prototype.au.call(this,n)},i.Il=function(){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(t.prototype.Il.call(this));case 2:this.bC.Il(),this.IC.Il();case 4:case"end":return n.stop()}},null,this,null,We)},b(n,[{key:"hm",get:function(){return this.TC}},{key:"Sm",get:function(){return this.yD.Sm},set:function(t){this.yD.Sm=t}}]),n}(dS),bS=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).TC=void 0,r.OC=void 0,r.BC=void 0,r.LC=void 0,r.xC=void 0,r.hN=new tS,r.TC=n,r.OC=i,r.LC=new vm,r.xC=new Fp,r.BC=e,r}S(n,t);var i=n.prototype;return i.Jy=function(t){return!0},i.Yy=function(){},i.Ly=function(){throw this.Zs(new xy(this.BC)),this.OC},i.xy=function(){},i.Uy=function(){},i.Fy=function(t,n){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw au(n),this.Zs(new xy(this.BC)),this.OC;case 3:case"end":return t.stop()}},null,this,null,We)},i.qy=function(){},i.My=function(){return We.resolve()},i.jy=function(){},i.Qy=function(){return kS},i.Zy=function(){return[]},i.zy=function(){},i.Gy=function(t){},i.Wy=function(){},i.Hy=function(){return!1},i.Xy=function(){},i.Vy=function(){},i.nm=function(){},i.A_=function(){return We.resolve()},i.Il=function(){return this.tu(),this.LC.Il(),this.xC.Il(),We.resolve()},b(n,[{key:"Cy",get:function(){return this.LC}},{key:"im",get:function(){return gS.dC().qN()}},{key:"um",get:function(){return new Date(NaN)},set:function(t){}},{key:"tm",get:function(){}},{key:"Xg",get:function(){return 0},set:function(t){}},{key:"Vg",get:function(){return 0}},{key:"hm",get:function(){return this.TC}},{key:"zg",get:function(){return!0}},{key:"mu",get:function(){return this.OC}},{key:"Gg",get:function(){return this.BC}},{key:"By",get:function(){}},{key:"fm",get:function(){return{vm:0,dm:0,lm:0,wm:0,_m:0,gm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Wg",get:function(){return!1},set:function(t){}},{key:"ym",get:function(){return!0}},{key:"qg",get:function(){return!0}},{key:"Yg",get:function(){return 0},set:function(t){}},{key:"mm",get:function(){return gS.dC().qN()}},{key:"pm",get:function(){return hS.wD},set:function(t){}},{key:"Q_",get:function(){return ty.Dg}},{key:"Am",get:function(){return gS.dC().qN()}},{key:"jg",get:function(){return!1}},{key:"Py",get:function(){return this.xC}},{key:"Qg",get:function(){return 0}},{key:"Oy",get:function(){return this.LC}},{key:"Zg",get:function(){return 0}},{key:"Jg",get:function(){return 1},set:function(t){}},{key:"Tm",get:function(){return this.hN}},{key:"Sm",get:function(){return!1},set:function(t){}},{key:"cm",get:function(){return!1}}]),n}(Wg);function TS(t){if(t&&G(t))return xr({},t,{integration:SS(t.integration),fairplay:CS(t.fairplay),widevine:ES(t.widevine),playready:IS(t.playready),clearkey:OS(t.clearkey),aes128:PS(t.aes128),integrationParameters:BS(t.integrationParameters),preferredKeySystems:LS(t.preferredKeySystems)})}function SS(t){if(q(t))return t}function ES(t){if(t&&G(t))return{persistentState:RS(t.persistentState),distinctiveIdentifier:RS(t.distinctiveIdentifier),audioRobustness:NS(t.audioRobustness),videoRobustness:NS(t.videoRobustness),licenseAcquisitionURL:q(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:DS(t.licenseType),headers:t.headers,useCredentials:!!Y(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:q(t.certificate)||Wo(t.certificate)?t.certificate:void 0}}function IS(t){if(t){var n=ES(t);if(n)return xr({},n,{customData:q(t.customData)?t.customData:void 0})}}function RS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function NS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function DS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function CS(t){if(t){var n=ES(t);if(n)return xr({},n,{certificateURL:q(t.certificateURL)?t.certificateURL:void 0})}}function OS(t){if(t){var n=ES(t);if(n)return xr({},n,{keys:V(t.keys)?t.keys.map(function(t){return function(t){if(!t||!G(t))return;var n=t.id,i=t.value;if(!q(n)||!q(i))return;return{id:n,value:i}}(t)}).filter(H):void 0})}}function PS(t){if(G(t))return{useCredentials:Y(t.useCredentials)?t.useCredentials:void 0}}function BS(t){if(G(t))return t}function LS(t){return t&&V(t)?t.map(function(t){return kb(t)}).filter(H):[es,ts,os]}var xS,MS=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return S(n,t),n}(Tu),US=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).MC=[],e.UC=void 0,e.FC=function(t){wu(function(){e.Qs(t)})},e.UC=i?e.FC:e.Qs,e}S(n,t);var i=n.prototype;return i.HC=function(t){t.$s(this.UC),this.MC.push(t)},i.XC=function(t){t.au(this.UC),Ws(this.MC,t)},i.Il=function(){this.tu();for(var t=0,n=this.MC;t<n.length;t++){n[t].au(this.UC)}Qs(this.MC)},n}(Gg),FS=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(US);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(xS||(xS={}));var HS,XS=function(t){function i(n){var i;return(i=t.call(this)||this).VC=void 0,i.zC=void 0,i.GC=!1,i.WC=!1,i.qC=void 0,i.YC=void 0,i.jC=void 0,i.qw=void 0,i.QC=function(){return i.ZC()},i.JC=function(){return i.KC()},i.jC=n,i.VC=i.zC=i.qC=i.YC=xS.INLINE,i.jC.Js(wS.u_,i.QC),i.jC.Js(wS.G_,i.JC),i.$C(),i}S(i,t);var e=i.prototype;return e.jw=function(){return t=this,i={get currentMode(){return t.tO()},requestMode:function(n){var i=zS(n);i&&t.nO(i)},supportsMode:function(n){var i=zS(n);return!!i&&t.iO(i)},addEventListener:function(t,i){n.Js(t,i)},removeEventListener:function(t,i){n.nu(t,i)}},(n=new US(i,!0)).HC(t),i;var t,n,i},e.nO=function(t){this.eO(t,t)},e.eO=function(t,n){this.zC!==n&&(this.GC=!0,this.VC=t,this.rO(n,this.zC),t!==xS.FULLSCREEN&&(this.qC=t),this.GC=!1,this.$C())},e.tO=function(){return this.WC?xS.FULLSCREEN:xS.INLINE},e.iO=function(t){switch(t){case xS.FULLSCREEN:return this.jC._C;case xS.INLINE:return!0}return!1},e.$C=function(){if(!this.GC){var t=this.zC,n=this.tO();this.zC=n,n!==xS.FULLSCREEN&&(this.YC=n),t!==n&&this.Zs(new MS(n))}},e.rO=function(t,n){var i=t===xS.FULLSCREEN;this.WC=i,i!==this.jC.wC&&(i?this.jC.Xm():this.jC.zm())},e.ZC=function(){if(!this.GC){var t=this.jC.wC;this.WC=t,t?this.eO(xS.FULLSCREEN,xS.FULLSCREEN):t||this.VC!==xS.FULLSCREEN?this.$C():this.eO(this.qC,this.YC)}},e.KC=function(){this.ZC(),this.Zs(new xy(new hf(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.Il=function(){this.jC.Il(),this.tu()},b(i,[{key:"Yw",get:function(){return this.qw||(this.qw=this.jw()),this.qw}}]),i}(Gg),VS={Xg:0,Vg:NaN,zg:!1,mu:void 0,Gg:void 0,Wg:!1,qg:!0,Yg:1,Q_:ty.Dg,jg:!1,Qg:0,Zg:0,Jg:1};function zS(t){switch(t){case xS.INLINE:case xS.FULLSCREEN:case xS.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(HS||(HS={}));var GS,WS,qS,YS,jS,QS,ZS,JS,KS=function(){function t(){this.sO=[]}var n=t.prototype;return n.uO=function(t){var n=this.oO.filter(function(n){return n.aO(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.hO=function(t){this.sO.push(t)},b(t,[{key:"oO",get:function(){return this.sO}}]),t}();KS.Yn=new KS,function(t){t.Hg="PLAYING",t.py="PAUSED",t.cO="SEEK",t.fO="STALLED",t.vO="FAILED",t.dO="INITIAL_BUFFERING",t.lO="NO_ACCESS"}(GS||(GS={})),function(t){t.wO="HTTP_REQUEST_STATUS_CODE_1XX",t._O="HTTP_REQUEST_STATUS_CODE_2XX",t.gO="HTTP_REQUEST_STATUS_CODE_3XX",t.yO="HTTP_REQUEST_STATUS_CODE_4XX",t.mO="HTTP_REQUEST_STATUS_CODE_5XX",t.kO="BUFFER_LENGTH",t.pO="BYTES_RECEIVED",t.AO="SEGMENT_READ_BITRATE",t.bO="SEGMENT_PROFILE_BITRATE",t.TO="NUMBER_OF_FRAMES_DROPPED",t.SO="PLAYBACK_POSITION",t.EO="NUMBER_OF_FRAMES_DECODED",t.IO="PLAYBACK_DELTA_TO_ORIGIN",t.RO="STREAM_DELTA_TO_ORIGIN",t.DO="ORIGIN_TIMESTAMP"}(WS||(WS={})),function(t){t.CO="MANIFEST_URI",t.OO="ASSET_DURATION",t.PO="NUMBER_OF_CONTENT_PROFILES",t.BO="CDN",t.LO="CONTENT_TITLE",t.xO="SERVICE_NAME",t.MO="CONTENT_TYPE",t.UO="CONTENT_DESCRIPTION"}(qS||(qS={})),function(t){t.FO="shutdown_normal_shutdown"}(YS||(YS={})),function(t){t.HO="session/",t.XO="internalError/",t.VO="drmError/",t.zO="caError/",t.GO="networkError/"}(jS||(jS={})),function(t){t.WO="userAction",t.qO="endOfStreamReached"}(QS||(QS={})),function(t){t.PAUSE="YO",t.RESUME="jO"}(ZS||(ZS={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(JS||(JS={}));var $S,tE,nE,iE,eE,rE="agama";function sE(t){return function(t){switch(t){case $S.NONE:case $S.HORIZONTAL:case $S.VERTICAL:return!0;default:return!1}}(t)?t:$S.NONE}function uE(t){switch(t){case"":return $S.NONE;case"horizontal":return $S.HORIZONTAL;case"vertical":return $S.VERTICAL;default:throw new d}}function oE(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!q(t))return tE.lD;switch(t){case"always":return tE.QO;case"never":return tE.ZO;case"clear-only":return tE.CLEAR_ONLY;case"same-drm-only":return tE.SAME_DRM_ONLY;default:return tE.lD}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:null==t?void 0:t.needsTimescaleShifting}}function aE(t){return{discontinuityAlignment:hE(null==t?void 0:t.discontinuityAlignment),useLegacy:(n=null==t?void 0:t.useLegacy,H(n)?Boolean(n):void 0)};var n}function hE(t){if(!t||!q(t))return nE.lD;switch(t){case"playlist":return nE.JO;case"media":return nE.KO;default:return nE.lD}}function cE(t,n){var i=Eg(null==t?void 0:t.preferredAudioCodecs,Sg),e=Eg(null==t?void 0:t.preferredVideoCodecs,Sg),r=Eg(null==n?void 0:n.preferredAudioCodecs,Sg),s=Eg(null==n?void 0:n.preferredVideoCodecs,Sg),u=fE(i,r),o=fE(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}function fE(t,n){return t.length>0?t:n.length>0?n:void 0}function vE(t,n,i){var e=function(t,n){var i=Zg.Eg;t.useCredentials?i=Zg.Sg:t.crossOrigin&&(i=ry(t.crossOrigin));i===Zg.Eg&&n&&n.vr&&n.vr[360]&&(i=Zg.Tg);return{useCredentials:i===Zg.Sg,crossOrigin:i}}(t,n),r=e.useCredentials,s=e.crossOrigin,u=t.liveOffset;H(u)||(u=i&&H(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;H(o)||(o=n&&H(n.timeServer)?n.timeServer:void 0);var a=t.hlsDateRange;return H(a)||(a=i&&H(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0),{crossOrigin:s,useCredentials:r,liveOffset:u,timeServer:o,hlsDateRange:a,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:H(t.dash)?oE(t.dash):void 0,hls:H(t.hls)?aE(t.hls):void 0,abr:cE(t.abr,null==i?void 0:i.abr),lcevc:H(t.lcevc)?Ag(t.lcevc):void 0}}function dE(t){if(null!==t)return t}function lE(t){var n={};if(!G(t))return n;var i=t;for(var e in i)if(l.prototype.hasOwnProperty.call(i,e)){var r=i[e];q(r)&&(n[e]=r)}return n}function wE(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:dE(t.streamActivityMonitorID),adTagParameters:G(t.adTagParameters)?t.adTagParameters:{},authToken:dE(t.authToken),omidAccessModeRules:t.omidAccessModeRules?lE(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?xr({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.yr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.yr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?xr({},e,{availabilityType:"live",assetKey:u}):void i.yr("A Live DAI configuration was provided without valid assetKey which is required.")}i.yr("A DAI configuration was provided without a valid availabilityType which is required.")}function _E(t){switch(t.integration){case"google-dai":return wE(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}function gE(t,n,i){var e=vE(t,n,i),r=dE(t.src),s=t.type;return s||(s=t.src?ey(t.src):void 0),xr({},e,{src:r,type:s,contentProtection:function(t,n){var i;i=H(t.contentProtection)?t.contentProtection:H(t.drm)?t.drm:H(n)&&H(n.contentProtection)?n.contentProtection:H(n)&&H(n.drm)?n.drm:void 0;return yE(i)}(t,n),ssai:H(t.ssai)?_E(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function yE(t){if(!vb(t)||!t.integration)return t;switch(t.integration){case BA:return n=t,i=mb(jr.rs,n),e=mb(jr.$r,n),r=n[jr.hs]&&mb(jr.hs,n),xr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}($S||($S={})),function(t){t.lD="auto",t.QO="always",t.ZO="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(tE||(tE={})),function(t){t.lD="auto",t.JO="playlist",t.KO="media"}(nE||(nE={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(iE||(iE={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(eE||(eE={}));var mE="https://content.uplynk.com";function kE(t){if(!t)return!0;var n,i,e=!(fy(n=t.sources)||z(n)&&fy(n[0]))||vy(t.sources),r=!t.ads||(!(i=t.ads)||V(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function pE(t){if(t&&t.sources)return function t(n){if(q(n))return ey(n);if(cy(n))return n.type||n.src&&ey(n.src);if(z(n)&&n.length>0)return t(n[0]);return}(t.sources)}function AE(t){if(t&&t.sources)return function t(n){if(q(n))return n;if(cy(n))return n.src;if(z(n)&&n.length>0)return t(n[0]);return}(t.sources)}function bE(t,n,i){return ay(t)?function(t,n,i){var e=xr({},dy(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:iE.VERIZON_MEDIA,id:"",prefix:mE,preplayParameters:{},playbackUrlParameters:{},assetType:eE.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,q(r)?r:z(r)&&q(r[0])?r:G(s=r)&&q(s.userId)&&(z(s.externalId)||q(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return eE.CHANNEL;case"event":return eE.EVENT;case"asset":default:return eE.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Ag(t.contentProtected));t.assetInfo?e.assetInfo=Ag(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=Sg(t.prefix)||mE);return e.ping=(u=e.assetType,o=t.ping,a=!1,h=!1,c=!1,o?(a=!!Y(o.adImpressions)&&o.adImpressions,h=!!Y(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=Y(o.linearAdData)?o.linearAdData:u!==eE.ASSET):u!==eE.ASSET&&(c=!0),{adImpressions:a,freeWheelVideoViews:h,linearAdData:c}),e=SE(e=EE(e=TE(e,t),n,i),t,i);var u,o,a,h,c}(t,n,i):function(t,n,i){var e=ly(),r=n&&(n.contentProtection||n.drm);if(q(t)){if(e.src=t,e.type=ey(t),r){var s=TS(r);e.contentProtection=yE(s)}}else if(cy(t)||oy(t)){e.src=t.src,e.type=t.type||ey(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===Jg.Rg||t.type===Jg.Ng}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=G(c=t)&&q(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var a=t.contentProtection||t.drm||r,h=TS(a);e.contentProtection=yE(h),t.ssai&&(e.ssai=_E(t.ssai)),e=TE(e,t)}var c;return e=SE(e=EE(e,n,i),t,i)}(t,n,i)}function TE(t,n){n.useCredentials?t.crossOrigin=Zg.Sg:n.crossOrigin&&(t.crossOrigin=ry(n.crossOrigin)),q(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Ag(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Ag(n.useNativePlayback)),n.dash&&(t.dash=oE(n.dash)),n.hls&&(t.hls=aE(n.hls)),n.lcevc&&(t.lcevc=Ag(n.lcevc));var i=void 0!==n.experimentalRendering?Ag(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var e=void 0!==n.nativeUiRendering?Ag(n.nativeUiRendering):void 0;return void 0!==e&&(t.nativeUiRendering=e),t}function SE(t,n,i){return t.abr=cE(q(n)?void 0:n.abr,null==i?void 0:i.abr),t}function EE(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!H(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!H(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===Zg.Eg&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=Zg.Tg),t.useCredentials=t.crossOrigin===Zg.Sg,q(r)&&!t.timeServer&&(t.timeServer=r),t}function IE(t){var n,i,e={src:""};if(t&&t.src){if(e.src=Sg(t.src),"default"in t&&(e.default=Ag(t.default)),e.kind=(n=t.kind,Xp(i=String(n||"").toLowerCase())?i:i?Up.YA:Up.WA),Cm(t.format)&&(e.format=t.format),"srclang"in t){var r=t.srclang;"string"==typeof r&&""!==r&&(e.srclang=r)}if("label"in t){var s=t.label;"string"==typeof s&&""!==s&&(e.label=s)}}return e}function RE(t,n){if(W(t))try{return n.uO(t).$O(t)}catch(t){return}}function NE(t){return q(t.sources)&&""!==t.sources||G(t.sources)&&q(t.sources.src)}function DE(t){return t.integration===HS.SPOTX&&!y(t.id)}function CE(t){return"freewheel"===t.integration}function OE(t,n,i){if(void 0===i&&(i=KS.Yn),kE(t))return{sources:[ly()]};var e=gg(t);if(e.sources=function(t,n,i){if(fy(t))return[bE(t,n,i)];if(z(t)&&fy(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(bE(s,n,i))}return e}return[ly()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!z(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=RE(s,n))&&(NE(s)||DE(s)||CE(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,a=!vy(e.sources),h=e.ads&&e.ads.length>0;if(a&&!h?delete e.ads:h&&!a&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=IE(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=Sg(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=sE(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?uE(u.stereoMode):$S.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=_y(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=gg(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==rE&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=My(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=bg(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var PE=function(){function t(t){this.tP=t}return t.prototype.nP=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";var h=t.length%4;if(h>0)for(;h++<4;)t+=this.tP.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.tP.indexOf(t.charAt(n))<<18|this.tP.indexOf(t.charAt(n+1))<<12|(s=this.tP.indexOf(t.charAt(n+2)))<<6|(u=this.tP.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.iP=function(t,n){var i,e,r,s,u,o,a,h=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.tP.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,h[o/3]=this.tP.charAt(e)+this.tP.charAt(r)+this.tP.charAt(s)+this.tP.charAt(u);return a=(a=h.join("")).slice(0,a.length-c.length),n||(a+=c),a},t.eA=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.eP=new t(t.eA.nP("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function BE(t){return"string"==typeof t}function LE(t){return"number"==typeof t}var xE={}.toString;var ME,UE=Array.isArray||function(t){return"[object Array]"===xE.call(t)};function FE(t,n){return UE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(ME||(ME={}));var HE,XE=l.keys(ME).map(function(t){return ME[t]});function VE(t){return-1!==XE.indexOf(t)}!function(t){t.MULTIVIEW="multiview"}(HE||(HE={}));var zE,GE=l.keys(HE).map(function(t){return HE[t]});function WE(t){return-1!==GE.indexOf(t)}function qE(t){try{var n=PE.eP.nP(t),i=JSON.parse(n);if(!function(t,n){var i,e=(d=t,"object"==typeof d&&null!==d),r=BE(t.key),s=BE(t.customer_id),u=LE(t.generation_date),o=LE(t.expiration_date),a=FE(t.domains_page,BE),h=FE(t.domains_source,BE),c=FE(t.sdks,n?VE:BE),f=(v=t.send_impression,"boolean"==typeof v);var v;var d;t.features?i=FE(t.features,n?WE:BE):(i=!0,t.features=[]);if(!(e&&r&&s&&u&&o&&a&&h&&c&&f&&i))return!1;return!0}(i,!1))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function YE(){return zE||(zE={jd:we.href,rP:le.parent&&le.parent!==r,sP:ZE()}),zE}var jE,QE=["http:","https:","ftp:","ws:","wss:"];function ZE(){try{return le.top.location.href}catch(t){return le&&le.document&&le.document.referrer}}!function(t){t[t.uP=0]="uP",t[t.oP=1]="oP",t[t.aP=2]="aP"}(jE||(jE={}));var JE,KE=function(t,n,i,e,r,s,u,o,a){void 0===r&&(r=[]),void 0===s&&(s=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.hP=t,this.cP=n,this.fP=i,this.vP=e,this.dP=r,this.lP=s,this.wP=u,this._P=o,this.gP=a};!function(t){t.oP="expired",t.yP="invaliddomain",t.mP="invalidsource",t.kP="invalidfeature",t.G_="error"}(JE||(JE={}));var $E=function(){function t(t,n,i){this.pP=void 0,this.AP=t,this.bP=n,this.Zo=i,this.pP=sI(this.Zo)}var n=t.prototype;return n.TP=function(t,n){var i=this;if(!kE(t)&&0!==n.fP.length&&!iI(n.fP)){var e=[];if(fy(t.sources)?e=[t.sources]:z(t.sources)&&(e=t.sources),!e.every(function(t){return i.SP(t,n)})){var r=JE.mP,s=oI.EP(r);throw new hf(tI(r),s)}}},n.IP=function(n){return this.RP(n._P)&&this.NP(n)?t.DP(n.vP)?jE.uP:jE.oP:jE.aP},n.CP=function(t,n){if(!js(n.dP,t)){var i=JE.kP,e=oI.EP(i);throw new hf(tI(i),e)}},n.RP=function(t){var n=this;return 0===t.length||t.some(function(t){return n.OP(t)})},n.OP=function(t){return"ios"===function(t){switch(t){case ME.ANDROID:return e.g;case ME.ANDROIDTV:case ME.FIRETV:return e.I;case ME.IOS:return e.R;case ME.TVOS:return e.N;case ME.CHROMECAST:case ME.CHROMECASTCAF:return e.M;default:return e.l}}(t)},t.DP=function(t){var n=Number(new Date);return!!t&&n<=t},n.NP=function(t){return!(this.pP&&0!==t.cP.length&&!iI(t.cP))||!!(this.pP&&this.PP(t.cP)&&this.BP(t.cP))},n.PP=function(t){return eI(this.Zo.jd,t)},n.BP=function(t){if(!this.Zo.rP)return!0;if(this.AP)return!0;var n=this.LP();return!!n&&eI(n,t)},n.LP=function(){if(this.Zo.rP){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Zo.sP?this.Zo.sP:void 0}},n.SP=function(n,i){return!!t.xP(n,i.fP)},t.xP=function(t,n){return eI(this.MP(t),n)},t.MP=function(t){return q(t)?t:cy(t)&&t.src||""},t}();function tI(t){switch(t){case JE.yP:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case JE.mP:return n.ErrorCode.LICENSE_INVALID_SOURCE;case JE.oP:return n.ErrorCode.LICENSE_EXPIRED;case JE.kP:return n.ErrorCode.LICENSE_INVALID_FEATURE;case JE.G_:return n.ErrorCode.LICENSE_ERROR}}function nI(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),a=e.match(o),h=function(t){return"*"===t?"("+s+")":t};if(null!==a&&5===a.length){var c=new RegExp("^"+a[1]+r+h(a[2])+r+h(a[3])+r+h(a[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function iI(t){return t.some(function(t){return"*"===t})}function eI(t,n){var e=i.Br(t);if(!rI(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(nI(e.hostname,s))return!0;if(nI(mw(t),s))return!0}return!1}function rI(t){return-1!==QE.indexOf(t.protocol)}function sI(t){var n=i.Br(t.jd);return rI(n)&&!nI(n.hostname,"localhost")&&!function(t){return nI(t.hostname,"theoplayer.doubleclick.net")}(n)}var uI,oI=function(){function t(){}return t.EP=function(t){return t===JE.yP?this.UP:t===JE.mP?this.FP:t===JE.oP?this.HP:t===JE.kP?this.XP:this.VP},t}();function aI(t){var n=[t.dS,t.zP,t.GP];switch(t.zP){case uI.WP:n.push(t.K_);break;case uI.qP:n.push(t.Xg),n.push(t.mu);break;case uI.YP:n.push(t.mu)}return n}oI.VP="The license for this player is invalid.",oI.HP="The usage license for this video player has expired.",oI.UP="The current domain is incompatible with the license for this player.",oI.FP="The provided video source is incompatible with the license for this player.",oI.XP="The requested feature is not available with the license for this player.",function(t){t[t.WP=1]="WP",t[t.qP=4]="qP",t[t.YP=5]="YP"}(uI||(uI={}));for(var hI=new Array(256),cI=0;cI<256;cI+=1)hI[cI]=(cI<16?"0":"")+cI.toString(16);function fI(){var t=Gt(),n=(4294967296*w.random()|0)+t&3029421624,i=(4294967296*w.random()|0)+t&3595553209,e=(4294967296*w.random()|0)+t&1130486254,r=(4294967296*w.random()|0)+t&1284287105;return hI[255&n]+hI[n>>>8&255]+hI[n>>>16&255]+hI[n>>>24&255]+"-"+hI[255&i]+hI[i>>>8&255]+"-"+hI[i>>>16&15|64]+hI[i>>>24&255]+"-"+hI[63&e|128]+hI[e>>>8&255]+"-"+hI[e>>>16&255]+hI[e>>>24&255]+hI[255&r]+hI[r>>>8&255]+hI[r>>>16&255]+hI[r>>>24&255]}var vI=function(){function t(t){this.tP=void 0,this.tP=t}var n=t.prototype;return n.nP=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.tP.indexOf(t.charAt(n))<<18|this.tP.indexOf(t.charAt(n+1))<<12|(s=this.tP.indexOf(t.charAt(n+2)))<<6|(u=this.tP.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.iP=function(t){var n,i,e,r,s,u,o,a=[],h="";if((u=t.length%3)>0)for(;u++<3;)h+=this.tP.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,a[u/3]=this.tP.charAt(i)+this.tP.charAt(e)+this.tP.charAt(r)+this.tP.charAt(s);return(o=a.join("")).slice(0,o.length-h.length)+h},t}();function dI(){return i.er()}vI.eA=new vI(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),vI.eP=new vI(vI.eA.nP("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var lI,wI="theoplayer-session-id";function _I(){if(!lI){var t=Sf.Ru(wI);t?lI=t:(lI=fI(),Sf.rf(wI,lI))}return lI}var gI=/[^\x00-\x7E]/g;function yI(t){return"\\u"+bs(t.charCodeAt(0).toString(16),4,"0")}var mI=0,kI=1,pI=6e4;function AI(t){var n,i,e,r,s,u=(n=function(t){return[t.jP,t.ic,t.hP,t.Rb,t.QP,t.ZP,t.JP.map(aI)]}(t),i=[],e=n,r=function(t,n){if(G(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(gI,yI));return vI.eP.iP(u)}var bI=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=vI.eA),void 0===r&&(r=mI),void 0===s&&(s=kI),this.KP=[],this.$P=null,this.tB=0,this.nB="unknown",this.Va=0,this.iB=void 0,this.eB=function(){dI()-u.tB>pI&&u.Pe()},this.rB=function(){u.Pe(!0)},this._h=t,this.wE=n,this.sB=i,this.uB=e,this.oB=r,this.aB=s,de.hB(this.rB),this.iB=c(this.eB,pI)}var n=t.prototype;return n.cB=function(){return Boolean(this.QP)},n.fB=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(this.sB.vB());case 2:if(i.sent.gP){i.next=5;break}return i.abrupt("return");case 5:return n={zP:uI.WP,GP:Gt(),K_:t},i.next=8,Lr.awrap(this.dB(n));case 8:case"end":return i.stop()}},null,this,null,We)},n.lB=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={zP:uI.qP,GP:Gt(),Xg:n,mu:t},e.next=3,Lr.awrap(this.dB(i));case 3:case"end":return e.stop()}},null,this,null,We)},n.wB=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={zP:uI.YP,GP:Gt(),mu:t},i.next=3,Lr.awrap(this.dB(n));case 3:case"end":return i.stop()}},null,this,null,We)},n.dB=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(this.sB.vB());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.uB.iP(n.hP)){i.next=6;break}if(t.zP===uI.YP){i.next=6;break}return i.abrupt("return");case 6:if(t.zP===uI.WP?this._B():this.cB()||this._B(),t.dS=this.Va++,this.KP.push(t),(e=t.zP)!==uI.WP&&e!==uI.YP){i.next=14;break}return i.next=12,Lr.awrap(this.Pe());case 12:i.next=19;break;case 14:if(!(this.KP.length>this.oB)){i.next=19;break}return i.next=17,Lr.awrap(this.gB());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,We)},n.Pe=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.KP.length>0)){n.next=6;break}return n.next=4,Lr.awrap(this.gB(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,We)},n.yB=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(this.sB.vB());case 2:return n=i.sent,i.abrupt("return",{jP:Gt(),ic:_I(),hP:this.uB.iP(n.hP)||"dev",Rb:this._h,QP:this.$P,ZP:this.nB,JP:t});case 4:case"end":return i.stop()}},null,this,null,We)},n.gB=function(t){var n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.KP.splice(0,this.aB),e.next=4,Lr.awrap(this.yB(n));case 4:i=e.sent,t?this.El(i):this.mB(i),this.tB=dI();case 7:case"end":return e.stop()}},null,this,null,We)},n.mB=function(t){var n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=AI(t),i=new fw({jd:"https://license.theoplayer.com",Dd:n,Tl:!1,zd:Df.$n,Vd:{"Content-Type":$b.jI},yl:4e3,_l:uw.POST}),r.prev=2,r.next=5,Lr.awrap(this.wE.qd(i));case 5:return e=r.sent,r.next=8,Lr.awrap(e.Id());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],We)},n.El=function(t){var n=AI(t);this.wE.El({jd:"https://license.theoplayer.com",Dd:n,Nd:$b.jI})},n._B=function(){this.cB()&&this.Pe(),this.$P=fI(),this.Va=0},n.Il=function(){de.kB(this.rB),f(this.iB),this.Pe()},b(t,[{key:"JP",get:function(){return this.KP}},{key:"QP",get:function(){return this.$P}}]),t}();var TI=M.Rn||M.hn&&M.Bn<13;function SI(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var EI=function(){function t(t){this.fD=void 0,this.qw=void 0,this.pB=void 0,this.fD=t}var n=t.prototype;return n.AB=function(t){if(!t||!t.drawImage)return!1;var n=this.fD.jy();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.bB=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.fD,a=o.jy();if(!a)return!1;if(TI){this.pB||(this.pB=s.createElement("canvas"));var h=this.pB,c=h.getContext("2d"),f=o.Zg,d=o.Qg,l=h.width,w=h.height;c.clearRect(0,0,h.width,h.height),l===f&&w===d||(h.width=f,h.height=d),c.drawImage(a,0,0,f,d);var _=!1;f>0&&SI(c,f-1,0)&&(h.width=l,_=!0),d>0&&SI(c,0,d-1)&&(h.height=w,_=!0),_&&c.drawImage(a,0,0,f,d),a=h}try{t.texImage2D(n,i,e,r,u,a)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},b(t,[{key:"Yw",get:function(){return this.qw||(this.qw=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.AB.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.bB(n,i,e,r,s,u)}}));var t}}]),t}(),II=function(t){function n(n,i){var e;return(e=t.call(this,"TB")||this).Ek=n,e.oT=i,e}return S(n,t),n.prototype.jw=function(){return new RI(this.Ek,this.oT)},n}(ng),RI=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return S(n,t),n}(Tu),NI=function(t,n){this.hm=void 0,this.SB=void 0,this.hm=t,this.SB=n},DI=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).EB=void 0,e.IB=0,e.RB=0,e.NB=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.RB=n.width,e.IB=n.height,e.SB(e.RB,e.IB)}},e.EB=new le.ResizeObserver(e.NB),e.EB.observe(e.hm),e}return S(n,t),n.prototype.Il=function(){this.EB.disconnect()},b(n,[{key:"DB",get:function(){return this.IB}},{key:"CB",get:function(){return this.RB}}]),n}(NI),CI=0;var OI,PI=h,BI=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,LI=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function xI(){return OI||(OI=le&&le.document&&le.document.createElement("span")),OI}BI&&LI||(BI=function(t){var n=dI(),i=w.max(0,16-(n-CI)),e=a(function(){return t(n+i)},i);return CI=n+i,e},LI=PI),BI=BI.bind(t),LI=LI.bind(t);var MI=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==le&&"function"==typeof le.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});le.addEventListener("testPassiveEventSupport",J,n),le.removeEventListener("testPassiveEventSupport",J,n)}}catch(t){}}();var UI=Ur();function FI(t){return UI.has(t)||UI.set(t,function(t){var n=xI();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<MI.length;e++){var r=MI[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),UI.get(t)}function HI(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function XI(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[FI("transition")]="0s"}var VI=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).OB=void 0,u.PB=0,u.RB=NaN,u.IB=NaN,u.BB=void 0,u.LB=void 0,u.xB=void 0,u.MB=void 0,u.UB=void 0,u.A_=function(){u.LB.style.width=1e5+"px",u.LB.style.height=1e5+"px",u.BB.scrollLeft=1e5,u.BB.scrollTop=1e5,u.xB.scrollLeft=1e5,u.xB.scrollTop=1e5,0===u.xB.scrollTop&&BI(u.A_)},u.FB=function(){var t=u.CB,n=u.DB;u.SB(t,n),u.RB=t,u.IB=n,u.A_(),u.PB=0},u.HB=function(){if(!u.PB){var t=u.CB,n=u.DB;t===u.RB&&n===u.IB||(u.PB=BI(u.FB))}},u.XB=function(){u.UB||(u.UB=a(u.VB,66))},u.VB=function(){u.UB=void 0,u.zB()},u.zB=function(){u.HB()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var h,c=s.createElement("div");return u.OB=c,u.BB=s.createElement("div"),u.LB=s.createElement("div"),u.xB=s.createElement("div"),u.MB=s.createElement("div"),HI(u.BB),HI(u.xB),XI(u.LB),XI(h=u.MB),h.style.width="200%",h.style.height="200%",c.appendChild(u.BB),c.appendChild(u.xB),u.BB.appendChild(u.LB),u.xB.appendChild(u.MB),n.appendChild(c),u.BB.addEventListener("scroll",u.HB),u.xB.addEventListener("scroll",u.HB),r&&r.addEventListener("resize",u.XB),u.HB(),u}return S(n,t),n.prototype.Il=function(){LI(this.PB),this.PB=0,this.BB.removeEventListener("scroll",this.HB),this.xB.removeEventListener("scroll",this.HB),tr(this.OB),r&&r.removeEventListener("resize",this.XB)},b(n,[{key:"DB",get:function(){return this.hm.getBoundingClientRect().height||this.IB||0}},{key:"CB",get:function(){return this.hm.getBoundingClientRect().width||this.RB||0}}]),n}(NI),zI=function(t){function n(n){var i;return(i=t.call(this)||this).hm=void 0,i.EB=void 0,i.NB=function(t,n){i.Zs(new II(t,n))},i.hm=n,i}S(n,t);var i=n.prototype;return i.cc=function(t){this.EB||("function"==typeof le.ResizeObserver?this.EB=new DI(this.hm,this.NB):this.EB=new VI(this.hm,this.NB,t))},i.Il=function(){this.tu(),this.EB&&(this.EB.Il(),this.EB=void 0)},b(n,[{key:"DB",get:function(){return this.EB?this.EB.DB:0}},{key:"CB",get:function(){return this.EB?this.EB.CB:0}}]),n}(Au),GI=function(t){function n(){return t.call(this,wS.u_)||this}return S(n,t),n}(Tu);var WI=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{GB:i[0],WB:i[1],qB:i[2],YB:i[3],jB:i[4],QB:i[5]}}}(),qI=function(t){function n(){return t.call(this,wS.lC)||this}return S(n,t),n}(Tu),YI=function(t){function n(i){var e;return(e=t.call(this)||this).hm=void 0,e._C=void 0,e.wC=!1,e.ZB=function(){return e.QC()},e.JB=function(){return e.JC()},e.hm=i,e._C=n.KB(i),s.addEventListener(WI.jB,e.ZB),e.QC(),e}S(n,t),n.KB=function(t){return Boolean(WI&&s[WI.YB]&&WI.GB in t)};var i=n.prototype;return i.Xm=function(){var t=this.hm[WI.GB]();t&&t.then?t.then(this.ZB,this.JB):(s.removeEventListener(WI.QB,this.JB),s.addEventListener(WI.QB,this.JB))},i.zm=function(){var t=s[WI.WB]();t&&t.then?t.then(this.ZB,this.JB):(s.removeEventListener(WI.QB,this.JB),s.addEventListener(WI.QB,this.JB))},i.QC=function(){var t=this.wC,n=this.hm===s[WI.qB];this.wC=n,t!==n&&this.Zs(new GI)},i.JC=function(){this.Zs(new mS)},i.Il=function(){this.tu(),s.removeEventListener(WI.jB,this.ZB),s.removeEventListener(WI.QB,this.JB)},n}(Au),jI=function(t){function n(i){var e;return(e=t.call(this)||this).hm=void 0,e._C=void 0,e.wC=!1,e.ZB=function(){return e.QC()},e.hm=i,e._C=n.KB(i),e.hm.addEventListener("webkitbeginfullscreen",e.ZB),e.hm.addEventListener("webkitendfullscreen",e.ZB),e.hm.addEventListener("webkitpresentationmodechanged",e.ZB),e.QC(),e}S(n,t),n.KB=function(t){return M.hn&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Xm=function(){var t=this;this.hm.webkitSupportsPresentationMode&&this.hm.webkitSupportsPresentationMode("fullscreen")?M.hn?requestAnimationFrame(function(){return t.hm.webkitSetPresentationMode("fullscreen")}):this.hm.webkitSetPresentationMode("fullscreen"):this.hm.webkitEnterFullscreen()},i.zm=function(){this.hm.webkitSupportsPresentationMode&&this.hm.webkitSupportsPresentationMode("inline")?this.hm.webkitSetPresentationMode("inline"):this.hm.webkitExitFullscreen()},i.QC=function(){var t,n=this.wC;t=this.hm.webkitPresentationMode?"fullscreen"===this.hm.webkitPresentationMode:!!this.hm.webkitDisplayingFullscreen,this.wC=t,n!==t&&this.Zs(new GI)},i.Il=function(){this.tu(),this.hm.removeEventListener("webkitbeginfullscreen",this.ZB),this.hm.removeEventListener("webkitendfullscreen",this.ZB),this.hm.removeEventListener("webkitpresentationmodechanged",this.ZB)},n}(Au),QI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).$B=[],n.tL=void 0,n.WC=!1,n.QC=function(){var t=n.WC,i=n.nL();t!==i&&(n.WC=i,n.Zs(new GI))},n}S(n,t);var i=n.prototype;return i.Xm=function(){this.tL?this.tL.Xm():this.Zs(new mS)},i.zm=function(){for(var t=0,n=this.$B;t<n.length;t++){var i=n[t];i.wC&&i.zm()}},i.iL=function(t){this.tL=t},i.eL=function(t){this.$B.push(t),t.Js(wS.u_,this.QC),t.Js(wS.G_,this.Qs),this.QC()},i.rL=function(t){Ws(this.$B,t),t.nu(wS.u_,this.QC),t.nu(wS.G_,this.Qs)},i.nL=function(){for(var t=0,n=this.$B;t<n.length;t++){if(n[t].wC)return!0}return!1},i.A_=function(){this.tL=void 0,this.WC=!1;for(var t=this.$B.slice(),n=0;n<t.length;n++){var i=t[n];this.rL(i),i.Il()}this.QC()},i.Il=function(){this.tu(),this.A_()},b(n,[{key:"_C",get:function(){return!!this.tL&&this.tL._C}},{key:"wC",get:function(){return this.WC}}]),n}(Au),ZI=function(t){function n(n,i){var e;return(e=t.call(this)||this).fD=void 0,e.sL=void 0,e.uL=void 0,e.oL=!1,e.aL=function(){return e.Jh()},e.QC=function(t){e.oL||e.Zs(t)},e.fD=n,e.sL=i,e.uL=kS,e.hL(),e.fD.Js(Nf.kf,e.aL),e.Jh(),e}S(n,t);var i=n.prototype;return i.Xm=function(){this.sL&&this.uL.Xm()},i.zm=function(){this.uL.zm()},i.hL=function(){this.uL.Js(wS.u_,this.QC),this.uL.Js(wS.G_,this.Qs)},i.cL=function(){this.uL.nu(wS.u_,this.QC),this.uL.nu(wS.G_,this.Qs)},i.Jh=function(){var t=this.uL,n=this.fD.Qy();if(t!==n){this.oL=!0;var i=this.wC,e=this._C;i&&this.zm(),this.cL(),this.uL=n,this.hL(),i&&!this.wC&&this._C?this.Xm():this.zm(),this.oL=!1,e!==this._C&&this.Zs(new qI),i!==this.wC&&this.Zs(new GI)}},i.Il=function(){this.tu(),this.cL(),this.fD.nu(Nf.kf,this.aL)},b(n,[{key:"_C",get:function(){return!!this.sL&&this.uL._C}},{key:"wC",get:function(){return this.uL.wC}}]),n}(Au);function JI(t){var n;return{get url(){return t.jd},get method(){return t._l},get headers(){return n||(n=t.Vd.Qf()),n},get body(){return t.Dd},get useCredentials(){return t.Tl},get type(){return iR(t.vs)},get subType(){return rR(t.Al)},get mediaType(){return uR(t.bl)},get responseType(){return $I(t.zd)}}}function KI(t){switch(t.toLowerCase()){case"arraybuffer":return Df.qf;case"json":return Df.Yf;case"stream":return Df.jf;case"text":default:return Df.$n}}function $I(t){return t}function tR(t){switch(t.toUpperCase()){case"POST":return uw.POST;case"PUT":return uw.PUT;case"DELETE":return uw.DELETE;case"HEAD":return uw.HEAD;case"OPTIONS":return uw.OPTIONS;case"GET":default:return uw.GET}}function nR(t){switch(t.toLowerCase()){case"manifest":return ow.Jd;case"segment":return ow.Kd;case"content-protection":return ow.$d;default:return ow.Zd}}function iR(t){return t}function eR(t){switch(t.toLowerCase()){case"initialization-segment":return aw.il;case"fairplay-license":return aw.ul;case"fairplay-certificate":return aw.ol;case"widevine-license":return aw.al;case"widevine-certificate":return aw.hl;case"playready-license":return aw.cl;case"clearkey-license":return aw.fl;case"aes128-key":return aw.vl;default:return aw.Zd}}function rR(t){return t}function sR(t){switch(t.toLowerCase()){case"audio":return hw.dl;case"video":return hw.ll;case"text":return hw.$n;case"image":return hw.wl;case"":default:return hw.Zd}}function uR(t){return t}var oR=function(){function t(t,n){this.fL=new Ko,this.vL=[],this.qw=void 0,this.dL=!1,this.Fl=void 0,this.lL=0,this.wL=t,this._L=n}var n=t.prototype;return n.gb=function(){this.dL=!0,this.fL.Wu(null)},n.gL=function(){this.fL.Yu(new Ul(this.vL))},n.yL=function(t){if(!this.mL)throw new d("Cannot respond more than once");if(!G(t))throw new d("Expected valid response");this.Fl=this.kL(t),this.gb()},n.pL=function(){try{var t=this._L(this.Yw);t?this.AL(t):this.bL||this.TL||this.gb()}catch(t){this.vL.push(t),this.gL()}},n.AL=function(t){if(this.TL)throw new v("Request has been redirected or a response already exists");if(j(t))this.SL(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new Ko;try{var i=t(function(t){t?n.Yu(t):n.Wu(void 0)});j(i)&&n.Wu(i)}catch(t){n.Yu(t)}this.SL(n.Xu)}},n.SL=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.lL++,n.next=4,Lr.awrap(t);case 4:this.lL--,this.bL||this.TL||(this.vL.length?this.gL():this.gb()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.lL--,this.vL.push(n.t0),this.bL||this.TL||this.gL();case 13:case"end":return n.stop()}},null,this,[[0,8]],We)},b(t,[{key:"EL",get:function(){return this.fL.Xu}},{key:"Yw",get:function(){return this.qw||(this.qw=this.IL()),this.qw}},{key:"TL",get:function(){return this.dL}},{key:"mL",get:function(){return!this.dL}},{key:"bL",get:function(){return this.lL>0}},{key:"Hl",get:function(){return this.Fl}}]),t}(),aR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).RL=void 0,r.RL=e,r.pL(),r}S(n,t),n.NL=function(t,n,i){var e=void 0===t.body?i:t.body;return new cw({Vi:e,qd:n.qd,zd:n.qd.zd,Vd:t.headers,Xd:t.status,Gd:t.statusText,Yd:t.url,Wd:!0},n)};var i=n.prototype;return i.IL=function(){return i=JI((t=this).qd),{get closed(){return!t.mL},get request(){return i},get url(){return t.jd},get status(){return t.Xd},get statusText(){return t.Gd},get headers(){return n||(n=t.Vd.Qf()),n},get body(){return t.Dd},respondWith:function(n){return t.yL(n)},waitUntil:function(n){return t.AL(n)}};var t,n,i},i.kL=function(t){return n.NL(t,this.wL,this.RL)},b(n,[{key:"Dd",get:function(){return this.RL}},{key:"Vd",get:function(){return this.wL.Vd}},{key:"qd",get:function(){return this.wL.qd}},{key:"Hl",get:function(){return this.Fl}},{key:"Xd",get:function(){return this.wL.Xd}},{key:"Gd",get:function(){return this.wL.Gd}},{key:"jd",get:function(){return this.wL.Yd}}]),n}(oR),hR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).DL=void 0,r.CL=void 0,r.CL=e,r.pL(),r}S(n,t);var i=n.prototype;return i.IL=function(){return t=this,{get url(){return t.jd},get method(){return t._l},get headers(){return n||(n=t.Vd.Qf()),n},get body(){return t.Dd},get closed(){return!t.mL},get useCredentials(){return t.Tl},get type(){return iR(t.vs)},get subType(){return rR(t.Al)},get mediaType(){return uR(t.bl)},get responseType(){return $I(t.zd)},redirect:function(n){return t.OL(n)},respondWith:function(n){return t.yL(n)},waitUntil:function(n){return t.AL(n)}};var t,n},i.kL=function(t){var n=this.wL.Dd,i=new cw({Vi:n,Vd:{},qd:this.wL,Yd:this.wL.jd,zd:this.wL.zd,Xd:200,Gd:"OK"});return aR.NL(t,i,n)},i.OL=function(t){if(!this.mL)throw new d("Cannot redirect, already redirected or has a response");var n;n=q(t)?{url:t}:t,this.DL=function(t,n){return new fw({jd:void 0===t.url?n.jd:t.url,_l:void 0!==t.method?tR(t.method):void 0,Vd:t.headers,Dd:t.body,Tl:t.useCredentials,vs:void 0!==t.type?nR(t.type):void 0,Al:void 0!==t.subType?eR(t.subType):void 0,bl:void 0!==t.mediaType?sR(t.mediaType):void 0,zd:void 0!==t.responseType?KI(t.responseType):void 0},n)}(n,this.wL),this.gb()},b(n,[{key:"Dd",get:function(){return this.wL.Dd}},{key:"mL",get:function(){return this.CL&&!this.dL}},{key:"Vd",get:function(){return this.wL.Vd}},{key:"_l",get:function(){return this.wL._l}},{key:"PL",get:function(){return this.DL}},{key:"Hl",get:function(){return this.Fl}},{key:"zd",get:function(){return this.wL.zd}},{key:"yl",get:function(){return this.wL.yl}},{key:"Ws",get:function(){return this.wL.Ws}},{key:"vs",get:function(){return this.wL.vs}},{key:"Al",get:function(){return this.wL.Al}},{key:"bl",get:function(){return this.wL.bl}},{key:"jd",get:function(){return this.wL.jd}},{key:"Tl",get:function(){return this.wL.Tl}},{key:"Sl",get:function(){return this.wL.Sl}}]),n}(oR);var cR,fR=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new vR(n);return(e=t.call(this,r,i)||this).BL=void 0,e.BL=r,e}S(n,t);var i=n.prototype;return i.LL=function(t){this.BL.LL(t)},i.xL=function(t){this.BL.xL(t)},i.ML=function(t){this.BL.ML(t)},i.UL=function(t){this.BL.UL(t)},i.FL=function(t){this.BL.FL(t)},n}(dw),vR=function(){function t(t){this.Rl=void 0,this.HL=[],this.XL=[],this.Rl=t}var n=t.prototype;return n.qd=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Lr.awrap(this.VL(t,t.Ws));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof kw)){i.next=12;break}return i.next=11,Lr.awrap(this.zL(i.t0,t.Ws));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Lr.awrap(this.GL(n,t.Ws));case 15:if(!sw(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new Aw(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],We)},n.El=function(t){return this.Rl.El(t)},n.VL=function(t,n){var i,e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:au(n),i=t,r=0,s=this.HL.slice();case 3:if(!(r<s.length)){a.next=21;break}if(u=s[r],au(n),(o=new hR(i,u,!e)).TL){a.next=17;break}return a.prev=8,a.next=11,Lr.awrap(o.EL);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(8),a.abrupt("continue",18);case 17:o.PL&&!e?i=o.PL:o.Hl&&!e&&(e=o.Hl);case 18:r++,a.next=3;break;case 21:if(!e){a.next=23;break}return a.abrupt("return",e);case 23:return a.abrupt("return",this.Rl.qd(i));case 24:case"end":return a.stop()}},null,this,[[8,13]],We)},n.zL=function(t,n){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof Aw?t.Hl:new cw({Vi:null,qd:t.qd,Xd:0,Gd:""}),r.next=3,Lr.awrap(this.GL(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!sw(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new Aw(e);case 13:case"end":return r.stop()}},null,this,null,We)},n.GL=function(t,n){var i,e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=t,e=0,r=this.XL.slice();case 2:if(!(e<r.length)){a.next=23;break}return s=r[e],au(n),a.next=7,Lr.awrap(We.resolve(i.Mu().Vi(n)));case 7:if(u=a.sent,(o=new aR(i,s,u)).TL){a.next=19;break}return a.prev=10,a.next=13,Lr.awrap(o.EL);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.abrupt("continue",20);case 19:i=o.Hl||i;case 20:e++,a.next=2;break;case 23:return a.abrupt("return",i);case 24:case"end":return a.stop()}},null,this,[[10,15]],We)},n.LL=function(t){this.HL.unshift(t)},n.xL=function(t){this.HL.push(t)},n.ML=function(t){Ws(this.HL,t)},n.UL=function(t){this.XL.unshift(t)},n.FL=function(t){Ws(this.XL,t)},n.Il=function(){this.Rl.Il(),Qs(this.HL),Qs(this.XL)},t}(),dR=function(){function t(t){this.qw=void 0,this.wE=t}var n=t.prototype;return n.LL=function(t){this.wE.LL(t)},n.ML=function(t){this.wE.ML(t)},n.UL=function(t){this.wE.UL(t)},n.FL=function(t){this.wE.FL(t)},b(t,[{key:"Yw",get:function(){var t;return this.qw||(this.qw=(t=this,{addRequestInterceptor:function(n){t.LL(n)},removeRequestInterceptor:function(n){t.ML(n)},addResponseInterceptor:function(n){t.UL(n)},removeResponseInterceptor:function(n){t.FL(n)}})),this.qw}}]),t}(),lR=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).qw=void 0,r.WL=function(t){r.Zs(t)},r.qL=function(t){r.Zs(t)},r.YL=n,r.wE=i,r.EC=e,r.YL.Js(Nf.Ef,r.WL),r.YL.Js(Nf.Sf,r.qL),r}S(n,t);var i=n.prototype;return i.jL=function(t){this.EC.jL(t)},i.LL=function(t){this.wE.LL(t)},i.ML=function(t){this.wE.ML(t)},i.UL=function(t){this.wE.UL(t)},i.FL=function(t){this.wE.FL(t)},i.Il=function(){this.tu(),this.YL.nu(Nf.Ef,this.WL),this.YL.nu(Nf.Sf,this.qL)},b(n,[{key:"Yw",get:function(){var t;return this.qw||(this.qw=(t=this,{get online(){return t.ym},get estimator(){return n=t.QL,{get bandwidth(){return n.PR},get roundTripTime(){return n.LR}};var n},setEstimator:function(n){t.jL(function(t){if(t)return{get PR(){return Tg(t.bandwidth)},get LR(){return Tg(t.roundTripTime)},OR:function(n){return function(t){if(t)return{ZL:function(n){t.markRequestStart(n)},JL:function(n){t.markResponseStart(n)},KL:function(n,i){t.markResponseData(n,i)},$L:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(JI(n)))}}}(n))},addRequestInterceptor:function(n){t.LL(n)},removeRequestInterceptor:function(n){t.ML(n)},addResponseInterceptor:function(n){t.UL(n)},removeResponseInterceptor:function(n){t.FL(n)},addEventListener:function(n,i){t.Js(n,i)},removeEventListener:function(n,i){t.nu(n,i)}})),this.qw}},{key:"ym",get:function(){return this.YL.ym}},{key:"QL",get:function(){return this.EC.QL}}]),n}(Au);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(cR||(cR={}));var wR=30,_R=1,gR=5;function yR(t,n,i,e,r,s){var u=[],o=t-w.max(s,_R),a=t+r;if(n&&i){var h=Mt(i,_R,gR),c=n-h;o=w.min(o,c);var f=n+i+h;a=w.max(a,f)}return 0!==o&&e.nC(0,o)&&u.push([0,o]),e.nC(a,1/0)&&u.push([a,1/0]),u}function mR(t){return t instanceof v&&"QuotaExceededError"===t.name}var kR={type:cR.BANDWIDTH},pR=20;function AR(t){var n,i,e,r=gg(kR);return q(t)?r.type=bR(t):G(t)&&function(t){switch(t){case cR.PERFORMANCE:case cR.QUALITY:case cR.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=bR(t.type)),G(t)&&G(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=bg(n.bitrate),y(e)||(i.bitrate=e),i)),r}function bR(t){switch(t){case"bandwidth":return cR.BANDWIDTH;case"performance":return cR.PERFORMANCE;case"quality":return cR.QUALITY}}var TR=function(t){function n(n){var i;return(i=t.call(this,"nx")||this).tx=n,i}return S(n,t),n}(Tu),SR=function(t){function n(n){var i;return(i=t.call(this,"ex")||this).ix=n,i}return S(n,t),n}(Tu),ER=function(t){function n(n){var i;return(i=t.call(this,"ux")||this).sx=n,i}return S(n,t),n}(Tu),IR=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).qw=(i=Kt(n),{get strategy(){return{metadata:(t=i.ix).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.ix=AR(t)},get targetBuffer(){return i.tx},set targetBuffer(t){var n=bg(t);y(n)||(i.tx=n)},get bufferLookbackWindow(){return i.sx},set bufferLookbackWindow(t){var n=bg(t);y(n)||(i.sx=n<=0?wR:n)},get maxBufferLength(){return i.ox}}),n.ax=kR,n.hx=pR,n.vx=wR,n.lx=1/0,n.wx=void 0,n._x=void 0,n}S(n,t);var i=n.prototype;return i.gx=function(t){this._x=t},i.jL=function(t){this.wx=t},i.yx=function(t){var n=w.min(t,.8*this.lx);if(n=w.max(10,n),this.lx===n)return!1;var i=this.mx;this.lx=n;var e=this.mx;return e!==i&&this.Zs(new TR(e)),!0},b(n,[{key:"kx",get:function(){switch(this.ax.type){case cR.PERFORMANCE:return 0;case cR.QUALITY:return 1/0;case cR.BANDWIDTH:return this.ax.metadata&&void 0!==this.ax.metadata.bitrate?this.ax.metadata.bitrate:8*jg.gg();default:return 8*jg.gg()}}},{key:"Yw",get:function(){return this.qw}},{key:"ix",get:function(){return this.ax},set:function(t){this.ax=t,this.Zs(new SR(t))}},{key:"tx",get:function(){return this.hx},set:function(t){this.hx=t,this.Zs(new TR(t))}},{key:"mx",get:function(){return w.min(this.hx,this.lx)}},{key:"sx",get:function(){return this.vx},set:function(t){this.vx=t,this.Zs(new ER(t))}},{key:"ox",get:function(){return this.lx}},{key:"QL",get:function(){var t;return null!=(t=this.wx)?t:this._x.ZN}}]),n}(Au),RR=function(t){function n(){return t.call(this,"o_")||this}return S(n,t),n.prototype.jw=function(){return new NR},n}(ng),NR=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(Tu),DR=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).Ax=void 0,r.KP=void 0,r.bx=function(t){ig(t)&&wu(function(){r.Zs(t.Yw)})},r.Ax=n,r.KP=i;for(var s=0,u=r.KP;s<u.length;s++){var o=u[s];r.Ax.Js(o,r.bx)}return r}return S(n,t),n.prototype.Il=function(){this.tu();for(var t=0,n=this.KP;t<n.length;t++){var i=n[t];this.Ax.nu(i,this.bx)}},n}(Au),CR=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).Ax=void 0,e.bx=function(t){ig(t)&&wu(function(){e.Zs(t.Yw)})},e.Ax=n,e.Ax.$s(e.bx),e}return S(n,t),n.prototype.Il=function(){this.tu(),this.Ax.au(this.bx)},n}(Gg),OR=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(CR);var PR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).rk=0,n.hk=1/0,n.qw=void 0,n}S(n,t);var i=n.prototype;return i.A_=function(){0===this.rk&&this.hk===1/0||(this.rk=0,this.hk=1/0,this.Zs(new RR))},i.Tx=function(){return new gS([this.Wm,this.qm],[!0,!0])},b(n,[{key:"Wm",get:function(){return this.rk},set:function(t){if(this.qm<=t)throw new v("Start time of a clip should be smaller than the end time.");this.rk!==t&&(this.rk=t,this.Zs(new RR))}},{key:"qm",get:function(){return this.hk},set:function(t){if(t<=this.Wm)throw new v("End time of a clip should be larger than the start time.");this.hk!==t&&(this.hk=t,this.Zs(new RR))}},{key:"Yw",get:function(){var t,n,i;return this.qw||(this.qw=(i={get startTime(){return t.Wm},set startTime(n){t.Wm=n},get endTime(){return t.qm},set endTime(n){t.qm=n},addEventListener:function(t,i){n.Js(t,i)},removeEventListener:function(t,i){n.nu(t,i)}},n=new CR(t=this,i),i)),this.qw}}]),n}(Gg),BR=function(t){function n(n){var i;return(i=t.call(this)||this).Sx=function(t){i.Ex(t)||i.Zs(t)},i.Ix=n,i.Ix.$s(i.Sx),i}S(n,t);var i=n.prototype;return i.Rx=function(){return this.Ix.Cy},i.Zy=function(){return this.Ix.Zy()},i.Nx=function(){return this.Ix.im},i.Dx=function(){return this.Ix.tm},i.Cx=function(){return this.Ix.um},i.Ox=function(t){this.Ix.um=t},i.Px=function(){return this.Ix.Xg},i.Bx=function(t){this.Ix.Xg=t},i.Lx=function(){return this.Ix.Vg},i.xx=function(){return this.Ix.hm},i.Mx=function(){return this.Ix.zg},i.Ux=function(){return this.Ix.mu},i.Fx=function(){return this.Ix.Gg},i.Hx=function(){return this.Ix.cm},i.Xx=function(){return this.Ix.Wg},i.Vx=function(t){this.Ix.Wg=t},i.zx=function(){return this.Ix.ym},i.Gx=function(){return this.Ix.qg},i.Wx=function(){return this.Ix.Yg},i.qx=function(t){this.Ix.Yg=t},i.Yx=function(){return this.Ix.mm},i.jx=function(){return this.Ix.pm},i.Qx=function(t){this.Ix.pm=t},i.Zx=function(){return this.Ix.Q_},i.Jx=function(){return this.Ix.Am},i.Kx=function(){return this.Ix.jg},i.Uy=function(){return this.Ix.Uy()},i.Fy=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return au(n),i.next=3,Lr.awrap(this.Ix.Fy(t,n));case 3:case"end":return i.stop()}},null,this,null,We)},i.$x=function(){return this.Ix.Py},i.tM=function(){return this.Ix.Qg},i.nM=function(){return this.Ix.Oy},i.iM=function(){return this.Ix.Zg},i.eM=function(){return this.Ix.Jg},i.rM=function(t){this.Ix.Jg=t},i.Qy=function(){return this.Ix.Qy()},i.jy=function(){return this.Ix.jy()},i.Gy=function(t){this.Ix.Gy(t)},i.Wy=function(){this.Ix.Wy()},i.Yy=function(){this.Ix.Yy()},i.zy=function(){this.Ix.zy()},i.xy=function(){this.Ix.xy()},i.Ly=function(){this.Ix.Ly()},i.qy=function(){this.Ix.qy()},i.My=function(){return this.Ix.My()},i.Hy=function(){return this.Ix.Hy()},i.Xy=function(){this.Ix.Xy()},i.Vy=function(){this.Ix.Vy()},i.A_=function(){return this.Ix.A_()},i.Il=function(){return this.Ix.Il()},i.nm=function(){this.Ix.nm()},i.Jy=function(t){return this.Ix.Jy(t)},i.Ex=function(t){return!1},b(n,[{key:"Cy",get:function(){return this.Rx()}},{key:"im",get:function(){return this.Nx()}},{key:"um",get:function(){return this.Cx()},set:function(t){this.Ox(t)}},{key:"tm",get:function(){return this.Dx()}},{key:"Xg",get:function(){return this.Px()},set:function(t){this.Bx(t)}},{key:"Vg",get:function(){return this.Lx()}},{key:"hm",get:function(){return this.xx()}},{key:"zg",get:function(){return this.Mx()}},{key:"mu",get:function(){return this.Ux()}},{key:"Gg",get:function(){return this.Fx()}},{key:"By",get:function(){return this.Ix.By}},{key:"cm",get:function(){return this.Hx()}},{key:"fm",get:function(){return this.Ix.fm}},{key:"Wg",get:function(){return this.Xx()},set:function(t){this.Vx(t)}},{key:"ym",get:function(){return this.zx()}},{key:"qg",get:function(){return this.Gx()}},{key:"Yg",get:function(){return this.Wx()},set:function(t){this.qx(t)}},{key:"mm",get:function(){return this.Yx()}},{key:"pm",get:function(){return this.jx()},set:function(t){this.Qx(t)}},{key:"Q_",get:function(){return this.Zx()}},{key:"Am",get:function(){return this.Jx()}},{key:"jg",get:function(){return this.Kx()}},{key:"Py",get:function(){return this.$x()}},{key:"Qg",get:function(){return this.tM()}},{key:"Oy",get:function(){return this.nM()}},{key:"Zg",get:function(){return this.iM()}},{key:"Jg",get:function(){return this.eM()},set:function(t){this.rM(t)}},{key:"Tm",get:function(){return this.Ix.Tm}},{key:"Sm",get:function(){return this.Ix.Sm},set:function(t){this.Ix.Sm=t}}]),n}(Wg),LR=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).sM=void 0,r.uM=!1,r.oM=void 0,r.aM=!1,r.hM=function(){r.cM(),r.fM()},r.vN=function(){r.vM(),r.fM(),r.dM&&r.Xg>=r.sM.qm-n.lM&&!r.zg&&(r.oM=BI(r.vN))},r.wM=function(){r.aM=!0},r._M=function(){r.aM&&(r.aM=!1,r.fM())},r.sM=e,r.sM.Js("o_",r.hM),r.Ix.Js("timeupdate",r.vN),r}S(n,t);var i=n.prototype;return i.Bx=function(n){var i=this.sM.Tx().HD(n);t.prototype.Bx.call(this,i),this.fM()},i.Mx=function(){return t.prototype.Mx.call(this)||this.uM},i.Jx=function(){return gS.cC(t.prototype.Jx.call(this)).zD(this.sM.Tx()).qN()},i.Ly=function(){this.Mx()?this.Bx(this.gM.start(0)):this.cM(),t.prototype.Ly.call(this),this.fM()},i.Fy=function(n,i){return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return au(i),this.uM=!1,this.sM.A_(),e.next=5,Lr.awrap(t.prototype.Fy.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,We)},i.Il=function(){return this.sM.nu("o_",this.hM),this.Ix.nu("timeupdate",this.vN),this.vM(),t.prototype.Il.call(this)},i.Ex=function(n){switch(n.type){case"seeking":return this.Zs(n),this.wM(),!0;case"seeked":case"emptied":return this.Zs(n),this._M(),!0;case"ended":if(this.dM)return!0}return t.prototype.Ex.call(this,n)},i.vM=function(){this.oM&&(LI(this.oM),this.oM=void 0)},i.fM=function(){var t=this.Xg,i=this.dM&&t>=this.sM.qm-n.Np;this.uM&&!i?(this.uM=!1,this.qg&&this.Ly()):this.uM||!i||this.jg||this.aM||(this.uM=!0,this.Zs(new Ry(t)),this.xy())},i.cM=function(){if(this.Vg!==1/0){var t=this.gM,i=gS.cC(t).HD(this.Xg);Ut(this.Xg,i,n.Np)||this.Bx(i)}},b(n,[{key:"gM",get:function(){return this.Jx().length?this.Jx():this.sM.Tx().qN()}},{key:"dM",get:function(){return this.sM.qm<this.Vg}}]),n}(BR);LR.lM=1,LR.Np=.001;var xR=function(){function t(){this.yM=void 0,this.yM=!1}return b(t,[{key:"mM",get:function(){return this.yM},set:function(t){this.yM=t}}]),t}(),MR=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).yM=void 0,e.kM=!1,e.pM=!1,e.yM=i,e}S(n,t);var i=n.prototype;return i.Mx=function(){return!this.yM.mM&&t.prototype.Mx.call(this)},i.xy=function(){this.pM=!0,t.prototype.xy.call(this)},i.Ly=function(){this.pM=!1,t.prototype.Ly.call(this)},i.Ex=function(n){if(this.yM.mM)switch(n.type){case"ended":return this.Xg=0,this.pM||(this.jg?this.kM=!0:this.Ly()),!0;case"seeked":this.kM&&(this.kM=!1,this.Ly());break;case"pause":if(this.kM||t.prototype.Mx.call(this))return!0}return t.prototype.Ex.call(this,n)},n}(BR);var UR=function(){function t(t){var n;this.qw=(n=this,{get currentBandwidthEstimate(){return n.wm},get corruptedVideoFrames(){return n.dm},get droppedVideoFrames(){return n.vm},get totalBytesLoaded(){return n._m},get bufferedSegments(){return n.gm}}),this.yD=t}return b(t,[{key:"Yw",get:function(){return this.qw}},{key:"dm",get:function(){return this.yD.AM.fm.dm}},{key:"wm",get:function(){return this.yD.AM.fm.wm}},{key:"vm",get:function(){return this.yD.AM.fm.vm}},{key:"bM",get:function(){throw new v("Not implemented")}},{key:"TM",get:function(){throw new v("Not implemented")}},{key:"_m",get:function(){return this.yD.AM.fm._m}},{key:"lm",get:function(){return this.yD.AM.fm.lm}},{key:"gm",get:function(){return this.yD.AM.fm.gm}}]),t}();function FR(t){if(!t||!fr(t))return{vm:0,dm:0,lm:0,wm:0,_m:0,gm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{vm:n.droppedVideoFrames,dm:n.corruptedVideoFrames||0,lm:n.totalVideoFrames}}return{vm:t.webkitDroppedFrameCount||0,dm:0,lm:t.webkitDecodedFrameCount||0}}var HR=function(t){function n(){return t.call(this,"SM")||this}return S(n,t),n.prototype.jw=function(){return new XR},n}(ng),XR=function(t){function n(){return t.call(this,"castingchange")||this}return S(n,t),n}(Tu);var VR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).EM=[],n.IM=!1,n.qw=void 0,n.RM=function(){var t=n.IM,i=n.NM;t!==i&&(n.IM=i,n.Zs(new HR))},n}S(n,t);var i=n.prototype;return i.DM=function(t){this.EM.push(t),t.Js("statechange",this.RM)},i.Il=function(){for(var t=0,n=this.EM;t<n.length;t++){n[t].nu("statechange",this.RM)}Qs(this.EM)},b(n,[{key:"NM",get:function(){return this.EM.some(function(t){return t.NM})}},{key:"Yw",get:function(){var t,n,i;return this.qw||(this.qw=(i={get casting(){return t.NM},addEventListener:function(t,i){n.Js(t,i)},removeEventListener:function(t,i){n.nu(t,i)}},n=new DR(t=this,["SM"],i),i)),this.qw}}]),n}(Au),zR=function(){function t(){}return t.CM=function(t,n){var i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new fw({jd:t,zd:Df.$n,_l:uw.GET}),s.next=4,Lr.awrap(n.qd(i));case 4:return e=s.sent,s.next=7,Lr.awrap(e.Vi());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),ou(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],We)},t.OM=function(t){try{var i=qE(t);return new KE(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new hf(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.PM=function(t){void 0===t&&(t=vI.eA),i.yr("The baked-in license is used. Please update the configuration with your license.");var n=t.nP("a:NsaOD?aLD-COc|CMYYaeUhiOpYC4n-a:Ur e_3 e*5C4tg"),e=["F$(:_L50F|aY",".$U9NLSs.j[6*uC7_4D\"",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.nP(n)}),r=["F$(:_L50F|aY",".$U9NLSs.j[6*uC7_4D\"",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.nP(n)}),s=Number(new Date(Number(t.nP("C:n]aOlSael3Ceo3Co\"\"")))),u=[].map(function(n){return t.nP(n)});return new KE(n,e,r,s,u)},t.convertLicenseToDummyLicense=function(t){return new KE(t.hP,t.cP,t.fP,864e13,t.dP,t.lP,Date.now(),t._P,t.gP)},t}(),GR=function(){function t(){}return t.sf=function(){return t.Yn||(t.Yn=WR.mc()?new WR:new Tf),t.Yn},t.Cu=function(n){t.sf().Cu(n)},t.ef=function(){t.sf().ef()},t.Ru=function(n){return t.sf().Ru(n)},t.rf=function(n,i){t.sf().rf(n,i)},t.BM=function(n){var i=t.Ru(n);if(void 0!==i)return g(i)},t.LM=function(n){return"true"===t.Ru(n)},t}();GR.Yn=void 0;var WR=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.mc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Cu=function(n){t.localStorage.removeItem(n)},e.ef=function(){t.localStorage.clear()},e.Ru=function(n){return t.localStorage[n]},e.rf=function(n,i){t.localStorage[n]=i},i}(GR),qR=w.floor(14399999*w.random()-72e5),YR=function(){function t(t,n,i,e,r,s){this.pP=void 0,this.wE=t,this.xM=n,this.MM=i,this.sB=e,this.UM=r,this.Zo=s,this.pP=sI(s)}var i=t.prototype;return i.FM=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(this.HM(this.UM.license,this.UM.licenseUrl));case 2:t=n.sent,this.sB.XM(t);case 4:case"end":return n.stop()}},null,this,null,We)},i.HM=function(t,i){var e,r,s,u,o,a,h,c,f;return Lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=zR.OM(t):e||(r=zR.PM()),e||(e="https://validate.theoplayer.com/1/"+r.hP),s=this.VM(),!r){v.next=14;break}if((u=this.xM.IP(r))!==jE.uP){v.next=14;break}if(!this.zM(r.vP)||!this.zM(null==s?void 0:s.vP)){v.next=13;break}return v.next=10,Lr.awrap(this.GM(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!s){v.next=25;break}if(this.xM.IP(s)!==jE.uP){v.next=24;break}if(!this.zM(null==s?void 0:s.vP)){v.next=23;break}return v.next=20,Lr.awrap(this.GM(e));case 20:if(!(a=v.sent)){v.next=23;break}return v.abrupt("return",a);case 23:return v.abrupt("return",s);case 24:GR.Cu("THEOplayer.license");case 25:return v.next=27,Lr.awrap(zR.CM(e,this.wE));case 27:if(!(h=v.sent)){v.next=37;break}if(c=zR.OM(h),this.xM.IP(c)!==jE.uP){v.next=34;break}return GR.rf("THEOplayer.license",h),v.abrupt("return",c);case 34:GR.Cu("THEOplayer.license"),v.next=39;break;case 37:if(this.pP||!r||u!==jE.oP||e!=="https://validate.theoplayer.com/1/"+r.hP){v.next=39;break}return v.abrupt("return",zR.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){v.next=43;break}this.WM(null!=(f=r)?f:c,new hf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new hf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,We)},i.TP=function(t){var n,i,e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Lr.awrap(this.sB.vB());case 2:if(n=a.sent,!this.zM(n.vP)){a.next=9;break}return e=null!=(i=this.UM.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.hP,a.next=7,Lr.awrap(this.GM(e));case 7:(r=a.sent)&&(this.sB.XM(r),n=r);case 9:if(a.prev=9,(s=this.xM.IP(n))!==jE.aP){a.next=16;break}throw u=JE.yP,new hf(tI(u),oI.EP(u));case 16:if(s!==jE.oP){a.next=19;break}throw o=JE.oP,new hf(tI(o),oI.EP(o));case 19:this.xM.TP(t,n),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),this.qM(a.t0);case 25:case"end":return a.stop()}},null,this,[[9,22]],We)},i.CP=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(this.sB.vB());case 2:n=i.sent;try{this.xM.CP(t,n)}catch(t){this.qM(t)}case 4:case"end":return i.stop()}},null,this,null,We)},i.GM=function(t){var n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lr.awrap(zR.CM(t,this.wE));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=zR.OM(n),this.xM.IP(i)!==jE.uP){e.next=11;break}return GR.rf("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],We)},i.zM=function(t){return!t||Number(new Date)+2592e5+qR>=t},i.VM=function(){var t=GR.Ru("THEOplayer.license");if(t)return zR.OM(t)},i.WM=function(t,n){this.sB.XM(t),this.qM(n)},i.qM=function(t){throw at(t.message),this.MM.wB(t.message),t},t}(),jR=function(){function t(){this.YM=void 0,this.jM=new Ko}var n=t.prototype;return n.XM=function(t){this.YM=t,this.jM.Wu()},n.vB=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.YM){t.next=2;break}return t.abrupt("return",We.resolve(this.YM));case 2:return t.next=4,Lr.awrap(this.jM.Xu);case 4:return t.abrupt("return",this.YM);case 5:case"end":return t.stop()}},null,this,null,We)},b(t,[{key:"QM",get:function(){return this.YM}}]),t}(),QR=function(t){function n(){return t.call(this,"o_")||this}return S(n,t),n.prototype.jw=function(){return new ZR},n}(ng),ZR=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(Tu);function JR(t){var n,i={get fontFamily(){return t.ZM},set fontFamily(n){t.ZM=n},get fontColor(){return t.JM},set fontColor(n){t.JM=n},get fontSize(){return t.KM},set fontSize(n){t.KM=n},get backgroundColor(){return t.$M},set backgroundColor(n){t.$M=n},get windowColor(){return t.tU},set windowColor(n){t.tU=n},get edgeStyle(){return t.nU},set edgeStyle(n){t.nU=n},get marginTop(){return t.iU},set marginTop(n){t.iU=n},get marginBottom(){return t.eU},set marginBottom(n){t.eU=n},get marginLeft(){return t.rU},set marginLeft(n){t.rU=n},get marginRight(){return t.sU},set marginRight(n){t.sU=n},addEventListener:function(t,i){var e=Ig(t,Sg);n.Js(e,i)},removeEventListener:function(t,i){var e=Ig(t,Sg);n.nu(e,i)}};return n=new bu(i),t.Js(["o_"],function(t){return n.Zs(t.Yw)}),i}var KR={ZM:void 0,JM:void 0,KM:void 0,$M:void 0,tU:void 0,nU:void 0,uU:void 0,iU:void 0,eU:void 0,rU:void 0,sU:void 0},$R="THEOplayer.textTrackStyle.",tN=function(t){function n(){var i;return(i=t.call(this)||this).oU=void 0,i.qw=void 0,i.oU=n.aU(),i}return S(n,t),n.prototype.Jh=function(t){this.oU=xr({},this.oU,t),n.hU(this.oU),this.Zs(new QR)},n.aU=function(){var t=xr({},KR);return t.ZM=GR.Ru($R+"fontFamily")||t.ZM,t.JM=GR.Ru($R+"fontColor")||t.JM,t.KM=GR.Ru($R+"fontSize")||t.KM,t.$M=GR.Ru($R+"backgroundColor")||t.$M,t.tU=GR.Ru($R+"windowColor")||t.tU,t.nU=GR.Ru($R+"edgeStyle")||t.nU,t},n.hU=function(t){GR.rf($R+"fontFamily",t.ZM||""),GR.rf($R+"fontColor",t.JM||""),GR.rf($R+"fontSize",t.KM||""),GR.rf($R+"backgroundColor",t.$M||""),GR.rf($R+"windowColor",t.tU||""),GR.rf($R+"edgeStyle",t.nU||"")},b(n,[{key:"cU",get:function(){return this.oU}},{key:"ZM",get:function(){return this.oU.ZM},set:function(t){this.Jh({ZM:t})}},{key:"JM",get:function(){return this.oU.JM},set:function(t){this.Jh({JM:t})}},{key:"KM",get:function(){return this.oU.KM},set:function(t){this.Jh({KM:t})}},{key:"$M",get:function(){return this.oU.$M},set:function(t){this.Jh({$M:t})}},{key:"tU",get:function(){return this.oU.tU},set:function(t){this.Jh({tU:t})}},{key:"nU",get:function(){return this.oU.nU},set:function(t){this.Jh({nU:t})}},{key:"uU",get:function(){return this.oU.uU}},{key:"iU",get:function(){return this.oU.iU},set:function(t){this.Jh({iU:t})}},{key:"eU",get:function(){return this.oU.eU},set:function(t){this.Jh({eU:t})}},{key:"sU",get:function(){return this.oU.sU},set:function(t){this.Jh({sU:t})}},{key:"rU",get:function(){return this.oU.rU},set:function(t){this.Jh({rU:t})}},{key:"Yw",get:function(){return this.qw||(this.qw=JR(this)),this.qw}}]),n}(Au);function nN(t,n){var i,e;t.style.marginLeft=(null!=(i=n.rU)?i:0)+"px",t.style.marginRight=(null!=(e=n.sU)?e:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}var iN,eN,rN=function(t){function n(n,e){var r;(r=t.call(this)||this).fU=void 0,r.uc=void 0,r.AM=void 0,r.vU=void 0,r.Xw=void 0,r.sM=void 0,r.yM=void 0,r.dU=void 0,r.lU=void 0,r.EC=void 0,r.xM=void 0,r.wU=void 0,r._U=void 0,r.SC=void 0,r.gU=!1,r.Ty=!1,r.Cm=void 0,r.yU=!1,r.mU=void 0,r.kU=void 0,r.pU=void 0,r.AU=void 0,r.bU=void 0,r.TU=function(t){if(!r.yU){r.yU=!0;var n=r.fU,i=am(t);r.AM.D_=new bS(r.hm,i,t),_u(n.Il())}},r.SU=function(t){r.Zs(t.Yw)},r.EU=function(t){t.type!==Nf.Ef&&t.type!==Nf.Sf&&r.Zs(t)};var s=bg(e.uid);y(s)?r.Cm=ym++:r.Cm=s,r.uc=e;var u=i.Xw,o=new jR;r.vU=new bI("4.6.0",u,o),r.Xw=new fR(u,e.allowMixedContent),r.EC=new IR,r.xM=new $E(e.isEmbeddable,"4.6.0",YE()),r.bU=new YR(u,r.xM,r.vU,o,e,YE()),r.bU.FM().catch(r.TU),r.wU=new zI(n),r.wU.Js("TB",r.SU),r.SC=new tN,r.sM=new PR,r.yM=new xR;var a=new AS(n,e,r.Xw,r.EC,r.wU,r.SC);r.EC.gx(a);var h=a;h=new LR(h,r.IU),h=new MR(h,r.mM),r.fU=h,r.AM=new rm(r.fU),r.AM.$s(r.EU),r.AU=new UR(Kt(r)),r.kU=new lR(r.AM,r.Xw,r.EC),r.dU=new EI(Kt(r)),r._U=new ZI(r.AM,e.allowNativeFullscreen),r.lU=new XS(r._U),r.wU.cc();var c=new fe(r.wU,r.SC,1,[fm.ll]);return r.mU=new ve(c),r.pU=new VR,r}S(n,t);var e=n.prototype;return e.Vx=function(t){this.AM.Wg=t,t||this.qg||this.zy()},e.rM=function(t){this.AM.Jg=t},e.RU=function(){Xy(this,VS,this)},e.Ly=function(){this.AM.Ly()},e.xy=function(){this.AM.xy()},e.Fy=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.bU.TP(t).catch(this.TU),i=sN(t),e.next=5,Lr.awrap(this.AM.Fy(i,n));case 5:case"end":return e.stop()}},null,this,null,We)},e.zy=function(){this.Ty||(this.AM.zy(),this.mU.zy(),this.Ty=!0)},e.wC=function(){return this.lU.tO()===xS.FULLSCREEN},e.qy=function(){this.AM.qy()},e.Yy=function(){this.AM.Yy()},e.jy=function(){return this.AM.jy()},e.A_=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lr.awrap(this.AM.My());case 2:return t.next=4,Lr.awrap(this.AM.A_());case 4:case"end":return t.stop()}},null,this,null,We)},e.Il=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tu(),this.pU.Il(),this.Xw.Il(),this.kU.Il(),this._U.Il(),this.lU.Il(),this.wU.Il(),this.vU.Il(),this.mU.Il(),t.next=11,Lr.awrap(this.AM.Il());case 11:case"end":return t.stop()}},null,this,null,We)},b(n,[{key:"NU",get:function(){return this.EC}},{key:"Ny",get:function(){return this.gU},set:function(t){this.gU=t,this.AM.Ny=t}},{key:"DU",get:function(){return this.mU}},{key:"Cy",get:function(){return this.AM.Cy}},{key:"CU",get:function(){return this.pU}},{key:"OU",get:function(){return this.wU}},{key:"By",get:function(){return this.AM.By}},{key:"fm",get:function(){return this.AU}},{key:"PU",get:function(){return this.kU}},{key:"Py",get:function(){return this.AM.Py}},{key:"BU",get:function(){return this.SC}},{key:"Oy",get:function(){return this.AM.Oy}},{key:"im",get:function(){return this.AM.im}},{key:"IU",get:function(){return this.sM}},{key:"mM",get:function(){return this.yM}},{key:"Xg",get:function(){return this.AM.Xg},set:function(t){this.AM.Xg=t}},{key:"um",get:function(){return this.AM.um},set:function(t){this.AM.um=t}},{key:"tm",get:function(){return this.AM.tm}},{key:"Vg",get:function(){return this.AM.Vg}},{key:"hm",get:function(){return this.AM.hm}},{key:"zg",get:function(){return this.AM.zg}},{key:"mu",get:function(){return this.AM.mu}},{key:"Gg",get:function(){return this.AM.Gg}},{key:"Wg",get:function(){return this.AM.Wg},set:function(t){var n=Boolean(t);this.Vx(n)}},{key:"qg",get:function(){return this.AM.qg}},{key:"Yg",get:function(){return this.AM.Yg},set:function(t){this.AM.Yg=t}},{key:"mm",get:function(){return this.AM.mm}},{key:"pm",get:function(){return this.AM.pm},set:function(t){this.AM.pm=fS(t)}},{key:"Q_",get:function(){return this.AM.Q_}},{key:"Am",get:function(){return this.AM.Am}},{key:"jg",get:function(){return this.AM.jg}},{key:"L_",get:function(){return this.Cm}},{key:"Qg",get:function(){return this.AM.Qg}},{key:"Zg",get:function(){return this.AM.Zg}},{key:"Jg",get:function(){return this.AM.Jg},set:function(t){var n=Mt(Number(t),0,1)||0;this.rM(n)}},{key:"Tm",get:function(){return this.AM.Tm}}]),n}(Wg);function sN(t){t.sources;var n=t.sources.filter(function(t){return X(t.integration)});return t.sources=n,t}!function(t){t[t.LU=0]="LU",t[t.xU=1]="xU"}(iN||(iN={})),function(t){t[t.MU=0]="MU"}(eN||(eN={}));var uN={};function oN(t,n){(uN[n]||(uN[n]=[])).push(t)}function aN(t,n){var i=t;if(uN[n])for(var e=0,r=uN[n];e<r.length;e++){i=(0,r[e])(i)}return i}var hN=[];function cN(t){hN.push(t)}var fN=t.CustomEvent;var vN=function(){try{var t=new fN("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},dN=function(){function t(t,n){var i=this;this.yD=void 0,this.UU=void 0,this.FU=!1,this.HU=function(t){i.UU.lB(t.error,i.Xg)},this.XU=function(){i.UU.fB(i.VU),i.yD.removeEventListener("playing",i.XU),i.FU=!1},this.zU=function(){i.FU||(i.yD.addEventListener("playing",i.XU),i.FU=!0)},this.UU=n,this.yD=t,this.yD.addEventListener("error",this.HU),this.yD.addEventListener("sourcechange",this.zU),this.zU()}return t.prototype.A_=function(){},b(t,[{key:"Xg",get:function(){var t=this.yD.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"VU",get:function(){return this.yD.src||""}}]),t}();cN(function(t){new dN(t.Yw,t.vU)});var lN="theoplayer-stored-volume",wN="theoplayer-stored-mutedstate";oN(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=GR.BM(lN);(void 0===r||y(r))&&(r=1);var s=GR.LM(wN)||!1;e.Jg=r,e.Wg=s}return e}S(n,t);var i=n.prototype;return i.Vx=function(n){this.uc.persistVolume&&GR.rf(wN,""+Boolean(n)),t.prototype.Vx.call(this,n)},i.rM=function(n){this.uc.persistVolume&&GR.rf(lN,""+Number(n)),t.prototype.rM.call(this,n)},n}(t)},iN.xU);var _N=new(function(){function t(){this.GU=[],this.qw=void 0}var n=t.prototype;return n.y_=function(t){return this.GU[t]},n.WU=function(t){this.GU.push(t),this.Yw.push(t.Yw)},n.Zh=function(t){var n=this.GU.indexOf(t);n<0||(qs(this.GU,n),this.qw&&qs(this.qw,n))},n.qU=function(t){for(var n=0,i=this.GU;n<i.length;n++){var e=i[n];if(e.L_===t)return e}},b(t,[{key:"T_",get:function(){return this.GU.length}},{key:"Yw",get:function(){return this.qw||(this.qw=function(t){for(var n=[],i=0;i<t.T_;i++)n[i]=t.y_(i).Yw;return n.getPlayerByUID=function(n){var i=t.qU(n);return i&&i.Yw},n}(this)),this.qw}}]),t}()),gN=function(){function t(t){var n=this;this.YU=[],this.jU=void 0,this.bw=new su,this.QU=void 0,this.ZU=function(){return 0===n.YU.length?n.QU?yN(n.QU,n.bw.Ws).then(n.JU,n.JU):n.JU():n.YU.shift()().then(n.ZU)},this.JU=function(){if(0!==n.YU.length)return n.ZU();n.jU=void 0},this.QU=t}var n=t.prototype;return n.KU=function(t,n){var i=this;return new We(function(e){var r=new su;r.zs(i.bw.Ws),n&&r.zs(n);var s=function(){r.xs()};i.YU.push(function(){var n=yN(t,r.Ws);return e(n),n.then(s,s)}),i.jU||(i.jU=i.ZU())})},n.Vs=function(){return this.$U(!0)},n.Il=function(){return this.QU=void 0,this.$U(!1)},n.$U=function(t){var n=this.jU;return this.bw.Vs(),t&&(this.bw=new su),We.resolve(n)},t}();function yN(t,n){return new We(function(i){return i(t(n))})}var mN,kN=function(t){function n(n){var i;return(i=t.call(this,Nf.Hf)||this).source=n,i}return S(n,t),n}(Tu),pN=function(t){function n(){var n;return(n=t.call(this)||this).yC=void 0,n.kC=void 0,n.AC=void 0,n.pC=void 0,n.yC=0,n.kC=!0,n.AC=!1,n.pC=1,n}S(n,t);var i=n.prototype;return i.Ly=function(){this.kC&&(this.kC=!1,this.Zs(new py(this.Xg)),this.Zs(new bA(this.Xg)))},i.xy=function(){this.kC||(this.kC=!0,this.Zs(new Iy(this.Xg,this.um)),this.Zs(new ky(this.Xg)))},i.A_=function(){this.yC=0,this.AC=!1,this.pC=1,this.xy(),this.Zs(new my(this.yC))},i.Il=function(){this.tu()},i.Yy=function(){},i.qy=function(){},b(n,[{key:"um",get:function(){},set:function(t){}},{key:"Xg",get:function(){return this.yC},set:function(t){this.AC&&this.yC===t||(this.yC=t,this.AC=!0,this.Zs(new Dy(this.Xg)))}},{key:"qg",get:function(){return this.kC}},{key:"Yg",get:function(){return this.pC},set:function(t){this.pC!==t&&(this.pC=t,this.Zs(new Ey(this.Xg,this.Yg)))}},{key:"Q_",get:function(){return ty.Dg}},{key:"jg",get:function(){return this.AC}}]),n}(Gg),AN=function(t){function n(){return t.call(this,Nf._f)||this}return S(n,t),n}(Tu),bN={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},TN={visibility:"hidden"},SN={visibility:"visible"},EN=function(){function t(t){var n,i=this;this.dD=void 0,this.yD=void 0,this.tF=!1,this.nF=void 0,this.iF=void 0,this.eF=function(t){var n;i.tF=!1,i.nF=null==(n=t.source)?void 0:n.poster,i.Jh()},this.xE=function(){i.tF=!0,i.Yy()},this.yD=t,this.bD(),this.dD=((n=le&&le.document&&le.document.createElement("div")).className="theoplayer-poster",ar(bN,n),n),t.hm.appendChild(this.dD)}var n=t.prototype;return n.Jh=function(){var t=this.yD.qg,n=this.tF;this.jd?this.dD.style.backgroundImage='url("'+Is(this.jd)+'")':this.dD.style.backgroundImage="",t&&this.jd&&!n?this.qy():this.Yy()},n.qy=function(){ar(TN,this.yD.hm),ar(SN,this.dD)},n.Yy=function(){ar(TN,this.dD),ar(SN,this.yD.hm)},n.bD=function(){this.yD.Js("sourcechange",this.eF),this.yD.Js("play",this.xE)},n.Il=function(){this.yD.nu("sourcechange",this.eF),this.yD.nu("play",this.xE),tr(this.dD)},b(t,[{key:"jd",get:function(){return void 0!==this.nF?this.nF:void 0!==this.iF?this.iF:void 0}},{key:"rF",set:function(t){this.iF=t,this.Jh()}}]),t}();function IN(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).yD=void 0,r.sF=void 0,r.uF=void 0,r.oF=void 0,r.aF=void 0,r.hF=void 0,r.cF=void 0,r.fF=void 0,r.pD=void 0,r.kD=void 0,r.nN=void 0,r.OC=void 0,r.qw=void 0,r.vF=function(t){t.type!==Nf.Df&&r.fF.push(t)},r.sF=new t(n,e),r.uF=new pN,r.yD=r.sF,r.oF=new EN(Kt(r)),r.hF=new gN,r.cF=!1,r.fF=[],r.pD=!0,r.bD(),r}S(e,i);var r=e.prototype;return r.KU=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.hF.KU(t,n).catch(cu));case 1:case"end":return i.stop()}},null,this,null,We)},r.dF=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return au(n),this.sF.$s(this.vF),i.next=4,Lr.awrap(this.sF.Fy(t,n));case 4:this.sF.au(this.vF);case 5:case"end":return i.stop()}},null,this,null,We)},r.lF=function(){var t,n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.Uy())&&!kE(t)&&this.Ny&&this.qg){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.uc.mutedAutoplay,e.next=6,Lr.awrap(this.DU.wF());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this._F(),e.abrupt("break",14);case 12:return(this.Wg||n===Ay.ALL)&&(this.Wg=!0,this.Ly()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,We)},r.Fy=function(t){var i=this,e=this.kD;e&&!kE(e)&&this.Zs(new my(0,0)),this.A_(),this.kD=t,_u(this.KU(function(e){return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return au(e),r.prev=1,r.next=4,Lr.awrap(i.dF(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.kD=void 0,i.fN((s=r.t0,u=n.ErrorCode.SOURCE_NOT_SUPPORTED,s instanceof hf?s:s instanceof v?new hf(u,s.message,s):new hf(u,String(s)))),r.abrupt("return");case 11:return r.next=13,Lr.awrap(i.gF());case 13:case"end":return r.stop()}var s,u},null,null,[[1,6]],We)}))},r.gF=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.yF(this.sF),this.Zs(new kN(this.Uy())),t.next=4,Lr.awrap(this.lF());case 4:case"end":return t.stop()}},null,this,null,We)},r.Bx=function(t){this.yD.Xg=t},r.Ux=function(){var t;return null!=(t=this.OC)?t:this.sF.mu},r.Fx=function(){var t;return null!=(t=this.nN)?t:this.sF.Gg},r.fN=function(t){void 0===this.Fx()&&(this.nN=t,this.OC=am(t),this.Zs(new xy(t)))},r.Ly=function(){this.yD.Ly()},r._F=function(){this.Wg||this.zy(),this.Ly()},r.zy=function(){this.sF.zy()},r.xy=function(){this.yD.xy()},r.My=function(){this.Fy(void 0)},r.qy=function(){this.pD=!0,this.yD.qy()},r.Yy=function(){this.pD=!1,this.yD.Yy()},r.RU=function(){this.sF.RU()},r.rM=function(t){this.sF.rM(t)},r.Vx=function(t){this.sF.Vx(t)},r.mF=function(t){this.aF=t,t.WU(this)},r.wC=function(){return this.sF.wC()},r.Uy=function(){return this.kD},r.jy=function(){return this.sF.jy()},r.Px=function(){return this.sF.Xg},r.Lx=function(){return this.sF.Vg},r.Nx=function(){return this.sF.im},r.Yx=function(){return this.sF.mm},r.Jx=function(){return this.sF.Am},r.A_=function(){var t=this;this.kD=void 0,this.nN=void 0,this.OC=void 0,Qs(this.fF),this.uF.A_(),this.yF(this.uF),this.hF.Vs(),_u(this.hF.KU(function(n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return au(n),i.next=3,Lr.awrap(t.sF.A_());case 3:case"end":return i.stop()}},null,null,null,We)}))},r.Il=function(){var t=this;this.Zs(new AN),this.oF.Il(),this.TD(),this.A_(),_u(this.KU(function(){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(t.sF.Il());case 2:t.aF&&(t.aF.Zh(t),t.aF=void 0),t.hF.Il();case 4:case"end":return n.stop()}},null,null,null,We)})),this.tu()},r.yF=function(t){if(this.yD!==t){var n=this.yD.qg,i=this.yD.Xg,e=this.yD.Yg,r=this.yD.jg;this.TD(),t===this.sF?((r||t.Xg!==i)&&(t.Xg=i),t.Yg!==e&&(t.Yg=e),n?t.xy():t.Ly()):this.uc.retainPlaybackRateOnSourceChange?t.Yg=e:1!==e&&this.Zs(new Ey(this.Px(),1)),this.yD=t,this.bD();for(var s=0,u=this.fF;s<u.length;s++){var o=u[s];this.Zs(o)}Qs(this.fF),this.pD?t.qy():t.Yy()}},r.bD=function(){this.yD.$s(this.Qs)},r.TD=function(){this.yD.au(this.Qs)},r.jw=function(){return t=this,e=function(n){i=n;var e=OE(n,t.uc);t.Fy(e)},r={get abr(){return t.NU.Yw},get audioTracks(){return t.Cy.Yw},get autoplay(){return t.Ny},set autoplay(n){t.Ny=Boolean(n)},get buffered(){return t.Nx()},get canvas(){return t.dU.Yw},get clip(){return t.IU.Yw},get currentProgramDateTime(){var n;return null!=(n=t.um)?n:null},set currentProgramDateTime(n){t.um=null!=n?n:void 0},get currentTime(){return t.Px()},set currentTime(n){t.Bx(Number(n))},get duration(){return t.Lx()},get element(){return t.hm},get ended(){return t.zg},get error(){return t.Ux()},get errorObject(){return t.Fx()},get loop(){return t.mM.mM},set loop(n){t.mM.mM=Boolean(n)},get metrics(){return t.fm.Yw},get muted(){return t.Wg},set muted(n){t.Vx(n)},get network(){return t.PU.Yw},get paused(){return t.qg},get playbackRate(){return t.Yg},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Yg=i},get played(){return t.Yx()},get poster(){return t.kF},set poster(n){t.kF=Sg(n)},get preload(){return t.pm},set preload(n){t.pm=n},get presentation(){return t.lU.Yw},get readyState(){return t.Q_},get seekable(){return t.Jx()},get seeking(){return t.jg},get source(){return i},set source(t){e(t)},get src(){return AE(t.Uy())},set src(t){e({sources:t})},get textTracks(){return t.Py.Yw},get textTrackStyle(){return t.BU.Yw},get uid(){return t.L_},get videoHeight(){return t.Qg},get videoTracks(){return t.Oy.Yw},get videoWidth(){return t.Zg},get volume(){return t.Jg},set volume(n){t.rM(Number(n))},get latency(){return t.Tm.Yw},destroy:function(){t.Il(),t=null,i=void 0},play:function(){t._F()},pause:function(){t.xy()},stop:function(){i=void 0,t.My()},prepareWithUserAction:function(){t.zy()},addEventListener:function(t,i){n.Js(t,i)},removeEventListener:function(t,i){n.nu(t,i)},setSource:function(t){e(t)}},(n=new FS(r,!0)).HC(t),r;var t,n,i,e,r},b(e,[{key:"vU",get:function(){return this.sF.vU}},{key:"dU",get:function(){return this.sF.dU}},{key:"uc",get:function(){return this.sF.uc}},{key:"fU",get:function(){return this.sF.fU}},{key:"Xw",get:function(){return this.sF.Xw}},{key:"FN",get:function(){return this.sF._U}},{key:"lU",get:function(){return this.sF.lU}},{key:"wU",get:function(){return this.sF.wU}},{key:"AM",get:function(){return this.sF.AM}},{key:"NU",get:function(){return this.sF.NU}},{key:"Ny",get:function(){return this.sF.Ny},set:function(t){this.sF.Ny=t,this.lF()}},{key:"DU",get:function(){return this.sF.DU}},{key:"Cy",get:function(){return this.sF.Cy}},{key:"CU",get:function(){return this.sF.CU}},{key:"OU",get:function(){return this.sF.wU}},{key:"Yw",get:function(){return this.qw||(this.qw=this.jw()),this.qw}},{key:"By",get:function(){return this.sF.By}},{key:"fm",get:function(){return this.sF.fm}},{key:"PU",get:function(){return this.sF.PU}},{key:"Py",get:function(){return this.sF.Py}},{key:"BU",get:function(){return this.sF.BU}},{key:"Oy",get:function(){return this.sF.Oy}},{key:"IU",get:function(){return this.sF.IU}},{key:"mM",get:function(){return this.sF.mM}},{key:"um",get:function(){return this.yD.um},set:function(t){this.yD.um=t}},{key:"tm",get:function(){return this.sF.tm}},{key:"hm",get:function(){return this.sF.hm}},{key:"zg",get:function(){return this.sF.zg}},{key:"Wg",get:function(){return this.sF.Wg},set:function(t){this.sF.Wg=t}},{key:"qg",get:function(){return this.yD.qg}},{key:"kF",get:function(){return this.oF.jd||""},set:function(t){this.oF.rF=t}},{key:"Yg",get:function(){return this.sF.Yg},set:function(t){this.yD.Yg=t}},{key:"pm",get:function(){return this.sF.pm},set:function(t){this.sF.pm=fS(t)}},{key:"Q_",get:function(){return this.yD.Q_}},{key:"jg",get:function(){return this.yD.jg}},{key:"L_",get:function(){return this.sF.L_}},{key:"Qg",get:function(){return this.sF.Qg}},{key:"Zg",get:function(){return this.sF.Zg}},{key:"Jg",get:function(){return this.sF.Jg},set:function(t){this.sF.Jg=t}},{key:"Tm",get:function(){return this.sF.Tm}}]),e}(Wg)}function RN(t,n){var i=Uy(n),e=new(mN||(mN=aN(mN=IN(rN),iN.LU),mN=aN(mN,iN.xU)),mN)(t,i),r=e.Yw;return e.RU(),e.mF(_N),l.defineProperty(r,"constructor",{value:RN}),r=lg(r),function(t){for(var n=0;n<hN.length;n++)(0,hN[n])(t)}(e),r}wu(function(){t.dispatchEvent&&t.dispatchEvent(vN("theoplayerready"))});var NN,DN={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Xu(t)},n.decode=function(t){return Fu(t)},t}())},CN=["hls","chromecast","ads","google-dai","airplay"],ON=_N.Yw,PN=nb.NI.registerContentProtectionIntegration.bind(nb.NI),BN=[Nf.Rf,Nf.If,yy.Hg,Nf.Xf,Nf.Nf,Nf.Af,Nf.Bf,Nf.Pf,Nf.mf,Nf.Df,Nf.Vf,Nf.gf,yy.a_,Nf.Of,Lg.G_,pu.pu,pu.bu,Nf.lf,Nf.df,Nf.zf],LN={pF:!1},xN=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.qO="AF"}(NN||(NN={}));var MN,UN=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Pc=void 0,s.$R=void 0,s.Gc=void 0,s.bF=!1,s.TF=new Ko,s.SF=!1,s.hF=new gN,s.EF=void 0,s.As=void 0,s.ec=void 0,s.IF=function(){s.SF=!0},s.RF=function(){s.NF(!0)},s.Pc=n,s.$R=i,s.Gc=i.EN,s.EF=e,s.As=r,s.Gc.addEventListener("loadedmetadata",s.IF);for(var u=0;u<xN.length;u++){var o=xN[u];s.Gc.addEventListener(o,s.RF)}return s}S(i,t);var e=i.prototype;return e.DF=function(t,n){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(this.As.Es(t.ds,n));case 2:return i=r.sent,r.next=5,Lr.awrap(i.lc());case 5:return e=r.sent,r.next=8,Lr.awrap(this.CF(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,We)},e.OF=function(t){var n=this,i=this.ec;return i?0!==t.DN.length&&t.DN.some(function(t){return t.rc.ds===i.rc}):0!==this.Pc.DN.length?t.DN.some(function(t){return n.Pc.DN.some(function(n){return t.rc===n.rc})}):0===t.DN.length||!this.SF},e.PF=function(t){return this.EF.PF(t),this.Pc=t,We.resolve()},e.xs=function(){var t,n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.tu(),this.Gc.removeEventListener("loadedmetadata",this.IF),t=0;t<xN.length;t++)n=xN[t],this.Gc.removeEventListener(n,this.RF);return i.next=5,Lr.awrap(this.hF.Il());case 5:return i.next=7,Lr.awrap(this.BF());case 7:return i.next=9,Lr.awrap(this.EF.A_());case 9:return i.next=11,Lr.awrap(this.CF(void 0));case 11:case"end":return i.stop()}},null,this,null,We)},e.NF=function(t){t!==this.bF&&(this.bF=t,t?this.TF.Wu(void 0):this.TF=new Ko)},e.CF=function(t){var n=this;return this.hF.KU(function(){return n.LF(t)})},e.LF=function(t){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.Gc.src){e.next=4;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.Gc.src){e.next=6;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.bF){e.next=9;break}return e.next=9,Lr.awrap(this.TF.Xu);case 9:if(!(i=this.ec)){e.next=14;break}return e.next=13,Lr.awrap(i.fc(this.Gc));case 13:this.ec=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Lr.awrap(t.cc(this.Gc));case 17:this.ec=t;case 18:case"end":return e.stop()}},null,this,null,We)},e.Fy=function(t){var n=this;return this.hF.KU(function(){return n.xF(t)})},e.xF=function(t){this.NF(!1);var n=this.$R.Yg;this.Gc.src=t,this.$R.Yg=n},e.MF=function(t){var n=this;return this.hF.KU(function(){return n.UF(t)})},e.UF=function(t){this.xF(t),this.Gc.load()},e.BF=function(){var t=this;return this.hF.KU(function(){return t.FF()})},e.FF=function(){this.NF(!1),vr(this.Gc)},b(i,[{key:"Cy",get:function(){throw new v("Not implemented")}},{key:"uc",get:function(){return this.Pc}},{key:"EN",get:function(){return this.Gc}},{key:"Oy",get:function(){throw new v("Not implemented")}}]),i}(Au),FN=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.gx=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.uc,n.t0=t.ON,n.next=n.t0===Zg.Tg?4:n.t0===Zg.Sg?4:(n.t0,Zg.Eg,6);break;case 4:return this.Gc.setAttribute("crossorigin",t.ON),n.abrupt("break",8);case 6:return this.Gc.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.pm?this.Gc.preload=t.pm:this.Gc.preload=hS.DR,void 0!==t.PN?this.Gc.title=t.PN:cr(this.Gc),n.next=12,Lr.awrap(this.Fy(t.K_));case 12:this.EF.Qh(this,t);case 13:case"end":return n.stop()}},null,this,null,We)},i.OF=function(t){return!1},i.PF=function(t){return We.resolve(void 0)},i.xs=function(){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return cr(this.Gc),n.next=3,Lr.awrap(t.prototype.xs.call(this));case 3:case"end":return n.stop()}},null,this,null,We)},n.HF=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Nd))},b(n,[{key:"im",get:function(){return gS.cC(this.Gc.buffered)}},{key:"Vg",get:function(){return this.Gc.duration}},{key:"XF",get:function(){var t=this.Vg;if(!isFinite(t))return!1;var n=this.im;return 0!==n.T_&&t-n.OD(n.T_-1)<1/6}},{key:"pm",get:function(){return this.Gc.preload},set:function(t){this.Gc.preload=t}},{key:"Am",get:function(){return gS.cC(this.Gc.seekable)}},{key:"VF",get:function(){return this.im}},{key:"zF",get:function(){if(fr(this.Gc)&&(this.Gc.videoWidth>0||this.Gc.videoHeight>0))return this.im}}]),n}(UN),HN=function(t){function n(n){var i;return(i=t.call(this,Nf.Nf)||this).currentTime=n,i}return S(n,t),n}(Tu),XN=function(t){function n(){return t.call(this,Nf.Af)||this}return S(n,t),n}(Tu);!function(t){t.GF="WF"}(MN||(MN={}));var VN,zN,GN=[MN.GF];!function(t){t[t.qF=0]="qF",t[t.jf=1]="jf",t[t.YF=2]="YF"}(VN||(VN={})),function(t){t.jF="QF"}(zN||(zN={}));var WN=function(t){function n(n){var i;return(i=t.call(this,zN.jF)||this).ZF=n,i}return S(n,t),n}(Tu),qN=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).JF=gS.dC(),n}S(n,t);var i=n.prototype;return i.KF=function(t,n){var i=new gS([t,n]);this.JF=this.JF.QD(i),this.Zs(new WN(i))},i.tH=function(t,n){this.JF=this.JF.JD(new gS([t,n]))},i.A_=function(){this.JF=gS.dC()},i.Il=function(){this.tu()},b(n,[{key:"nH",get:function(){return this.JF}}]),n}(Au);function YN(t,n){return void 0===n&&(n=new Tl({highWaterMark:1/0})),new wl(new QN(t,n),{highWaterMark:0})}var jN,QN=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.hv=void 0,this.iH=void 0,this.eH=void 0,this.bv=[],this.Tv=0,this.jM=void 0,this.rH=!1,this.sH=void 0,this.uH=function(t){return t.done?(i.oH(),void i.jM.close()):(i.bv.push(t.value),i.Tv+=i.iH(t.value),i.rH&&i.oH(),i.aH()?i.hv.read().then(i.uH):void 0)},this.cw=function(t){i.oH(),i.jM.error(t)},this.hv=t.getReader(),this.iH=r,this.eH=u}var n=t.prototype;return n.start=function(t){this.jM=t,this.aH()&&this.hH()},n.pull=function(){this.bv.length>0?this.oH():this.rH=!0,this.aH()&&this.hH()},n.cancel=function(t){return Qs(this.bv),this.Tv=0,this.rH=!1,this.hv.cancel(t)},n.oH=function(){if(0!==this.bv.length){var t=this.bv;this.bv=[],this.Tv=0,this.rH=!1,this.jM.enqueue(t)}},n.aH=function(){return!!this.rH||this.eH-this.Tv>0},n.hH=function(){var t=this;if(!this.sH){var n=this.hv.read().then(this.uH).catch(this.cw);this.sH=n;var i=function(){t.sH===n&&(t.sH=void 0)};n.then(i,i)}},t}(),ZN=function(){function t(){this.cH=[],this.Ou=0}var n=t.prototype;return n.WU=function(t){this.cH.push(t),this.Ou+=t.byteLength},n.fH=function(t){if(this.Ou<=t)return this.vH();for(var n=this.cH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(Xo(n[e],0,s)),i+=s}return{cH:r,Ou:i}},n.dH=function(t){var n=this.fH(t);return 1===n.cH.length?n.cH[0]:Yu(n.cH,n.Ou)},n.vH=function(){return{cH:this.cH,Ou:this.Ou}},n.lH=function(t){if(this.Ou<=t)return this.wH();for(var n=this.cH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(Xo(n[0],0,s)),n[0]=Xo(n[0],s),i+=s}return this.Ou-=i,{cH:r,Ou:i}},n._H=function(t){var n=this.lH(t);return 1===n.cH.length?n.cH[0]:Yu(n.cH,n.Ou)},n.wH=function(){var t=this.vH();return this.cH=[],this.Ou=0,t},n.gH=function(){var t=1===this.cH.length?this.cH[0]:Yu(this.cH,this.Ou);return this.cH=[],this.Ou=0,t},t}();!function(t){t[t.yH=0]="yH",t[t.mH=1]="mH",t[t.kH=2]="kH"}(jN||(jN={}));var JN=function(){var t=n.prototype;function n(){this.bv=new ZN,this.me=jN.yH,this.pH=0,this.AH=0,this.bH()}return t.TH=function(t,n){},t.SH=function(){},t.EH=function(t){this.bv.WU(t),this.IH(!1)},t.RH=function(){this.IH(!0)},t.NH=function(){return this.me!==jN.yH||0!==this.bv.Ou},t.IH=function(t){for(;0!==this.bv.Ou;){if(!t&&this.pH>this.bv.Ou)return;switch(this.me){case jN.yH:this.DH(t);break;case jN.mH:this.CH(t);break;case jN.kH:this.OH(t)}}},t.bH=function(){this.me=jN.yH,this.pH=8},t.DH=function(t){var n=zo(this.bv.dH(this.pH)),i=new Zo,e=ap.Ab(n,i);if(!e.gb)return this.pH=e.Tb,void(t&&this.pH>this.bv.Ou&&this.PH(this.bv.Ou));var r=e.bb.vs,s=e.bb.Ou;0===s&&(s=1/0),this.TH(r,s),this.BH(r)?this.LH(s):this.PH(s)},t.LH=function(t){this.me=jN.mH,this.pH=t},t.CH=function(t){var n=zo(this.bv._H(this.pH)),i=new Zo,e=ap.yb(n,i,!t);if(!e.gb)throw new op(i.Pu);this.SH(),this.xH(e.mb),this.bH()},t.PH=function(t){this.me=jN.kH,this.pH=0,this.AH=t},t.OH=function(t){var n=this.bv.lH(this.AH);this.AH-=n.Ou;for(var i=0,e=n.cH;i<e.length;i++){var r=e[i];this.MH(r)}(0===this.AH||t&&this.AH===1/0)&&(this.SH(),this.bH())},n}();function KN(t){return t instanceof Kh}function $N(t){return t instanceof Zh}function tD(t){return t instanceof Yh||t instanceof jh}function nD(t){return t instanceof yh}function iD(t){return t instanceof ja}function eD(t){return t instanceof cc}function rD(t){return t instanceof rc}function sD(t,n){var i=Vs(t.boxes,rD);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof uc&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}}var uD=function(t){function n(n){var i;return(i=t.call(this)||this).jM=void 0,i.UH=void 0,i.FH=void 0,i.HH=Fr(),i.UH=n,i}S(n,t);var i=n.prototype;return i.start=function(t){this.jM=t},i.transform=function(t){this.EH(t)},i.flush=function(){this.RH()},i.BH=function(t){return t===yk.rA||t===yk.DA||t===yk.HA},i.xH=function(t){var n=this.XH(t);this.jM.enqueue(n)},i.MH=function(t){this.jM.enqueue(t)},i.XH=function(t){var n=Go(t.Vi.Vi);switch(t.vs){case"moov":return this.VH(n);case"sidx":return this.zH(n);case"moof":return this.GH(n)}return n},i.WH=function(t){var n=this.HH.get(t);if(void 0===n)throw new v("Expected to have found a media header timescale for track ID "+t+".");return n},i.VH=function(t){for(var n=Rc(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof zh?n.boxes[i]=this.qH(e):e instanceof Gh?n.boxes[i]=this.YH(e):e instanceof Zh&&this.jH(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof Hh&&this.QH(u)}return n.serialize().join()},i.qH=function(t){this.FH=t.timescale;var n=aD(ft.fromNumber(t.duration,!0),this.ZH,this.UH);return 0!==n.getHighBits()?this.YH(function(t){return new Gh({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ft.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.UH,t.duration=n.toInt(),t)},i.YH=function(t){return this.FH=t.timescale,t.timescale=this.UH,t.duration=aD(t.duration,this.ZH,this.UH),t},i.jH=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Yh?(n=e.trackId,t.boxes[i]=this.JH(e)):e instanceof jh?(n=e.trackId,t.boxes[i]=this.KH(e)):e instanceof yh?this.$H(e,n):e instanceof oh&&this.tX(e)}},i.JH=function(t){var n=aD(ft.fromNumber(t.duration,!0),this.ZH,this.UH);return 0!==n.getHighBits()?this.KH(function(t){return new jh({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),duration:ft.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.KH=function(t){return t.duration=aD(t.duration,this.ZH,this.UH),t},i.$H=function(t,n){for(var i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof lh?t.boxes[i]=this.nX(e,n):e instanceof wh&&(t.boxes[i]=this.iX(e,n))}},i.nX=function(t,n){this.HH.set(n,t.timescale);var i=aD(ft.fromNumber(t.duration,!0),t.timescale,this.UH);return 0!==i.getHighBits()?this.iX(function(t){return new wh({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ft.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.UH,t.duration=i.toInt(),t)},i.iX=function(t,n){return this.HH.set(n,t.timescale),t.timescale=this.UH,t.duration=aD(t.duration,t.timescale,this.UH),t},i.tX=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof rh?this.eX(e):e instanceof sh&&this.rX(e)}},i.eX=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=oD(e.mediaTime,this.ZH,this.UH),e.segmentDuration=oD(e.segmentDuration,this.ZH,this.UH)}},i.rX=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=aD(e.mediaTime,this.ZH,this.UH),e.segmentDuration=aD(e.segmentDuration,this.ZH,this.UH)}},i.QH=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Uh?this.sX(i):i instanceof Lh?t.boxes[n]=this.uX(i):i instanceof xh&&(t.boxes[n]=this.oX(i))}},i.sX=function(t){var n=this.WH(t.trackId);t.defaultSampleDuration=oD(t.defaultSampleDuration,n,this.UH)},i.uX=function(t){var n=aD(ft.fromNumber(t.fragmentDuration,!0),this.ZH,this.UH);return 0!==n.getHighBits()?this.oX(function(t){return new xh(ft.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.oX=function(t){return t.fragmentDuration=aD(t.fragmentDuration,this.ZH,this.UH),t},i.zH=function(t){var n=Nc(t);return(n=n instanceof _c?this.aX(n):this.hX(n)).serialize().join()},i.aX=function(t){var n=t.timescale,i=aD(ft.fromNumber(t.earliestPresentationTime,!0),n,this.UH);if(0!==i.getHighBits())return this.hX(function(t){return new gc(t.referenceId,t.timescale,ft.fromNumber(t.earliestPresentationTime,!0),ft.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.UH,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=oD(s.subsegmentDuration,n,this.UH)}return t},i.hX=function(t){var n=t.timescale;t.timescale=this.UH,t.earliestPresentationTime=aD(t.earliestPresentationTime,n,this.UH);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=oD(r.subsegmentDuration,n,this.UH)}return t},i.GH=function(t){for(var n=Dc(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof ac&&this.cX(s)}var u=n.getSize();if(u!==i)for(var o=u-i,a=0,h=n.boxes;a<h.length;a++){var c=h[a];c instanceof ac&&sD(c,o)}return n.serialize().join()},i.cX=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof rc?(n=this.WH(e.trackId),this.fX(e,n)):e instanceof nc?t.boxes[i]=this.vX(e,n):e instanceof ic?t.boxes[i]=this.dX(e,n):e instanceof uc&&this.lX(e,n)}},i.fX=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=oD(t.defaultSampleDuration,n,this.UH))},i.vX=function(t,n){var i=aD(ft.fromNumber(t.baseMediaDecodeTime,!0),n,this.UH);return 0!==i.getHighBits()?this.dX(function(t){return new ic(ft.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.dX=function(t,n){return t.baseMediaDecodeTime=aD(t.baseMediaDecodeTime,n,this.UH),t},i.lX=function(t,n){for(var i,e,r,s=0,u=0,o=0,a=t.samples;o<a.length;o++){var h=a[o];if(void 0!==h.duration){var c=oD(u+=h.duration,n,this.UH);h.duration=c-s,s=c}void 0!==h.compositionTimeOffset&&(h.compositionTimeOffset=(i=h.compositionTimeOffset,e=n,r=this.UH,ft.fromInt(i,!1).multiply(r).divide(e).toNumber()))}},b(n,[{key:"ZH",get:function(){if(void 0===this.FH)throw new v("Expected to have found a movie header timescale.");return this.FH}}]),n}(JN);function oD(t,n,i){return ft.fromInt(t,!0).multiply(i).divide(n).toNumber()}function aD(t,n,i){return ek.Wk(t).lp(ek.qk(i,!0)).yp(ek.qk(n,!0)).ip()}var hD,cD,fD,vD=1e5,dD=function(){function t(t){this.wX=void 0,this.wX=new uD(t)}return t.prototype._X=function(t){return t.pipeThrough(new Sl(this.wX))},t}();function lD(t,n,i){var e=co(t,n);if(e!==i)throw new d("Expected descriptor with tag "+i+", but found "+e)}function wD(t,n){lD(t,n,hD.gX);var i,e,r,s=_D(t,n),u=n.Pu+s,o=go(t,n),a=co(t,n),h=0!=(64&a),c=0!=(32&a),f=31&a;(0!=(128&a)&&(i=go(t,n)),h)&&(e=bo(t,n,co(t,n)));c&&(r=bo(t,n,2));var v=function(t,n){lD(t,n,hD.yX);var i,e=_D(t,n),r=n.Pu+e,s=co(t,n),u=co(t,n),o=u>>2,a=0!=(2&u),h=_o(t,n,3),c=mo(t,n),f=mo(t,n);if(n.Pu<r){var v=function(t,n){return t.getUint8(n.Pu)}(t,n);v===hD.mX&&(i=function(t,n){lD(t,n,hD.mX);var i=_D(t,n),e=vo(t,n,i);return{kX:hD.mX,pX:e}}(t,n))}return n.xu(r),{kX:hD.yX,AX:s,bX:o,TX:a,SX:h,EX:c,IX:f,RX:i}}(t,n);return n.xu(u),{kX:hD.gX,B_:o,NX:i,jd:e,DX:f,CX:r,OX:v}}function _D(t,n){for(var i=0,e=0;e<4;e++){var r=co(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function gD(t,n){for(var i=co(t,n),e=co(t,n),r=co(t,n),s=co(t,n),u=3&co(t,n),o=31&co(t,n),a=[],h=0;h<o;h++){var c=go(t,n);a.push(vo(t,n,c))}for(var f=co(t,n),v=[],d=0;d<f;d++){var l=go(t,n);v.push(vo(t,n,l))}return{PX:i,BX:e,LX:r,xX:s,MX:u,UX:a,FX:v}}function yD(t){var n=up(dp.Db(t),yk.rA);if(n){for(var i=n.bb.pp,e=[],r=0,s=n.Wb;r<s.length;r++){for(var u=s[r],o=u.bb.rT,a=u.tT.bb.pp,h=void 0,c=void 0,f=0,v=u.tT.vT.wT.gT.mT;f<v.length;f++){var d,l,w=mD(v[f]);if(w)h=null!=(d=w.HX)?d:h,c=null!=(l=w.XX)?l:c}e.push({rT:o,pp:a,VX:{HX:h,XX:c,zX:void 0}})}return{pp:i,Wb:e}}}function mD(t){var n,i;if(t.vs===yk.gA)n=function(t){return"avc1."+kD(t.BX,2)+kD(t.LX,2)+kD(t.xX,2)}(gD(zo(t.WT.Vi),new Zo));else if(t.vs===yk.mA||t.vs===yk.kA){var e=function(t,n){for(var i=n.Hu(),e=Ku(t,i,8),r=Ku(t,i,2),s=Ku(t,i,1),u=Ku(t,i,5),o=Ku(t,i,32),a=[],h=0;h<6;h++)a.push(Ku(t,i,8));var c=Ku(t,i,8);i.Bu(4);var f=Ku(t,i,12);i.Bu(6);var v=Ku(t,i,2);i.Bu(6);var d=Ku(t,i,2);i.Bu(5);var l=Ku(t,i,3);i.Bu(5);for(var w=Ku(t,i,3),_=Ku(t,i,16),g=Ku(t,i,2),y=Ku(t,i,3),m=Ku(t,i,1),k=Ku(t,i,2),p=Ku(t,i,8),A=[],b=0;b<p;b++){var T=Ku(t,i,1);i.Bu(1);for(var S=Ku(t,i,6),E=Ku(t,i,16),I=[],R=0;R<E;R++){var N=Ku(t,i,16),D=vo(t,new Zo(i.Pu>>3),N);i.Bu(8*N),I.push({GX:N,WX:D})}A.push({qX:T,YX:S,jX:E,QX:I})}return{PX:e,ZX:r,JX:s,KX:u,$X:a,tV:c,nV:f,iV:v,eV:o,rV:d,sV:l,uV:w,oV:_,aV:y,hV:m,cV:g,MX:k,fV:p,vV:A}}(zo(t.QT.Vi),new Zo);n=function(t,n){var i=t.toString()+".";switch(n.ZX){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.KX.toString()+".",i+=(e=n.eV,r=e,r=(r=(r=(r=(r=r>>>1&1431655765|(1431655765&r)<<1)>>>2&858993459|(858993459&r)<<2)>>>4&252645135|(252645135&r)<<4)>>>8&16711935|(16711935&r)<<8)>>>16|r<<16).toString(16)+".",n.JX){case 0:i+="L";break;case 1:i+="H";break;default:return}var e,r;i+=n.tV.toString();for(var s=n.$X.reduce(function(t,n){return 0===t?n:n+1},0),u=0;u<s;u++)i+="."+n.$X[u].toString(16).toUpperCase();return i}(t.vs,e)}else{if(t.vs!==yk.bA)return(t.vs===yk.NA||t.vs===yk.RA)&&t.KT?mD(t.KT):void 0;i=function(t){var n=t.OX;switch(n.AX){case cD.dV:return function(t){var n;if(null==(n=t.RX)||!n.pX)return"mp4a.40";return"mp4a.40."+function(t,n){var i=Ku(t,n,5);31===i&&(i=32+Ku(t,n,6));var e,r=Ku(t,n,4);return 15===r&&(e=Ku(t,n,24)),{lV:i,wV:r,_V:e,gV:Ku(t,n,4)}}(zo(t.RX.pX),new $u).lV}(n);case cD.yV:return"mp4a.40.2";case cD.mV:return"mp4a.40.34"}}(wD(zo(t.FT.Vi),new Zo))}return{HX:n,XX:i,zX:void 0}}function kD(t,n){return bs(t.toString(16),n,"0")}function pD(t,n){var i=dp.Db(zo(t)),e=function(t,n){for(var i,e=0,r=t.Wb;e<r.length;e++){var s,u=r[e],o=null==(s=u.yS)?void 0:s.yS;o&&function(){var t=u.bb.rT,e=Vs(n.Wb,function(n){return n.rT===t}),r=vk.Wk(o,e.pp);i&&!r.Lk(i)||(i=r)}()}return i}(up(i,yk.DA),n),r=up(i,yk.MA);return{Wm:e.Rk(),kV:r.Vi}}function AD(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.vs,e.next=e.t0===VN.qF?3:e.t0===VN.jf?4:e.t0===VN.YF?9:10;break;case 3:return e.abrupt("return",t);case 4:return e.next=6,Lr.awrap(Xl(t.Vi,n));case 6:return i=e.sent,au(n),e.abrupt("return",{vs:VN.qF,Vi:new m(i)});case 9:throw new v("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 10:case"end":return e.stop()}},null,null,null,We)}!function(t){t[t.gX=3]="gX",t[t.yX=4]="yX",t[t.mX=5]="mX"}(hD||(hD={})),function(t){t[t.dV=64]="dV",t[t.yV=103]="yV",t[t.mV=107]="mV"}(cD||(cD={})),function(t){t[t.pV=0]="pV",t[t.AV=1]="AV",t[t.yV=2]="yV",t[t.bV=5]="bV",t[t.TV=34]="TV"}(fD||(fD={}));var bD=20,TD=M.Pn,SD=function(t){function n(n,i,e,r,s){var u,o;return(o=t.call(this)||this).SV=void 0,o.EV=void 0,o.RV=void 0,o.NV=void 0,o.DV=void 0,o.hx=bD,o.vx=wR,o.CV=!1,o.OV=!1,o.PV=void 0,o.BV=new su,o.LV=void 0,o.xV=!1,o.MV=void 0,o.UV=!1,o.FV=void 0,o.HV=function(){o.CV=!1},o.SV=i,o.EV=n,o.RV=e,o.RV.addEventListener("updateend",o.HV),o.NV=r,o.DV=s,o.UV=ED(r.Nd,s),null!=(u=i.uc)&&u.Ke&&(o.LV=new dD(vD)),o}S(n,t);var i=n.prototype;return i.XV=function(t,n,i){var e=this;switch(t.vs){case VN.qF:case VN.jf:return this.VV(function(i){return e.zV(t,n,i)},i);case VN.YF:throw new v("Opaque segments are not supported on web.")}},i.GV=function(t,n){var i=this;switch(t.vs){case VN.qF:return this.VV(function(n){return i.WV(t,n)},n);case VN.jf:throw new v("Streaming initialization segments are not supported on web.");case VN.YF:throw new v("Opaque initialization segments are not supported on web.")}},i.WV=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.UV){i.next=3;break}return this.FV=yD(zo(t.Vi)),i.abrupt("return");case 3:return i.next=5,Lr.awrap(this.qV(t,void 0,n));case 5:TD&&(this.xV=!1,this.MV=t);case 6:case"end":return i.stop()}},null,this,null,We)},i.zV=function(t,n,i){var e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(TD&&this.xV&&this.MV)){u.next=3;break}return u.next=3,Lr.awrap(this.WV(this.MV,i));case 3:if(u.prev=3,au(i),!this.UV||!this.FV){u.next=12;break}return u.next=8,Lr.awrap(AD(t,i));case 8:r=u.sent,s=pD(r.Vi,this.FV),t={vs:VN.qF,Vi:s.kV},n=xr({},n,{Kp:s.Wm+(null!=(e=n.Kp)?e:0)});case 12:return u.next=14,Lr.awrap(this.qV(t,n,i));case 14:this.Zs(new Tu(MN.GF));case 15:return u.prev=15,t.vs===VN.jf&&t.Vi.cancel(new uu).catch(J),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[3,,15,18]],We)},i.qV=function(t,n,i){var e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:au(i),n&&this.YV(n),s.t0=t.vs,s.next=s.t0===VN.qF?5:s.t0===VN.jf?13:21;break;case 5:if(!this.LV){s.next=10;break}return e=this.LV._X(Fl(t.Vi)),s.next=9,Lr.awrap(this.jV(e,i));case 9:return s.abrupt("return",s.sent);case 10:return s.next=12,Lr.awrap(this.QV(t.Vi));case 12:return s.abrupt("return",s.sent);case 13:if(!this.LV){s.next=18;break}return r=this.LV._X(t.Vi),s.next=17,Lr.awrap(this.jV(r,i));case 17:return s.abrupt("return",s.sent);case 18:return s.next=20,Lr.awrap(this.jV(t.Vi,i));case 20:return s.abrupt("return",s.sent);case 21:case"end":return s.stop()}},null,this,null,We)},i.jV=function(t,n){var i,e,r,s,u,o,a,h;return Lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.EV.im,e=YN(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,Lr.awrap(fu(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return au(n),o=qu(u.value),s=!0,c.next=17,Lr.awrap(this.QV(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(J),!s){c.next=35;break}return c.next=27,Lr.awrap(this.ZV());case 27:a=this.EV.im.zD(i.GD()),h=0;case 29:if(!(h<a.T_)){c.next=35;break}return c.next=32,Lr.awrap(this.JV(a.DD(h),a.OD(h)));case 32:h++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],We)},i.KV=function(t,n){var i=this;return this.VV(function(){return i.$V(t,n)})},i.$V=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.RV.appendWindowStart===t&&this.RV.appendWindowEnd===n){i.next=6;break}return i.next=3,Lr.awrap(this.ZV());case 3:this.RV.appendWindowStart=0,this.RV.appendWindowEnd=n,this.RV.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,We)},i.YV=function(t){this.RV.timestampOffset!==t.Kp&&(this.RV.timestampOffset=t.Kp)},i.QV=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.RV.appendBuffer(t),this.OV=!0,n.next=4,Lr.awrap(this.tz());case 4:case"end":return n.stop()}},null,this,null,We)},i.nz=function(t,n,i){var e=this;return this.VV(function(i){return e.JV(t,n,i)},i)},i.JV=function(t,n,i){return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return au(i),this.RV.remove(t,n),e.next=4,Lr.awrap(this.tz());case 4:case"end":return e.stop()}},null,this,null,We)},i.tz=function(){var t=this,n=this.EV.im;return new We(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},a=function(){s=!1,r="aborted"},h=function(){c(),s&&!r?(n.eC(t.EV.im)||t.Zs(new Tu(MN.GF)),i()):e(new v(r))},c=function(){t.RV.removeEventListener("update",u),t.RV.removeEventListener("error",o),t.RV.removeEventListener("abort",a),t.RV.removeEventListener("updateend",h)};t.RV.addEventListener("update",u),t.RV.addEventListener("error",o),t.RV.addEventListener("abort",a),t.RV.addEventListener("updateend",h)})},i.iz=function(){var t=this;return this.VV(function(){return t.ZV()})},i.ZV=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.SV.Q_===qD.Ll){t.next=2;break}return t.abrupt("return");case 2:TD&&(this.xV=!0),this.RV.updating&&(this.CV=!0);try{this.RV.abort()}catch(t){0,this.CV=!1}if(!this.oL){t.next=8;break}return t.next=8,Lr.awrap(this.tz().catch(J));case 8:case"end":return t.stop()}},null,this,null,We)},i.ez=function(){return"function"==typeof this.RV.changeType},i.PF=function(t){var n;this.rz(),this.SV.Q_!==qD.sz&&(this.NV=t,this.DV=null!=(n=ZD(t.Nd))?n:t.Nd,this.UV=ED(t.Nd,this.DV),this.ez()&&this.RV.changeType(this.DV))},i.oz=function(){this.SV.Q_!==qD.mf||this.PV||this.oL||(this.RV.timestampOffset=this.RV.timestampOffset,this.SV.cz())},i.VV=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.rz(),(i=new su).zs(this.BV.Ws),n&&i.zs(n),e.prev=4,this.PV=t(i.Ws),e.next=8,Lr.awrap(this.PV);case 8:if(this.SV.cz(),!this.oL){e.next=12;break}return e.next=12,Lr.awrap(this.tz());case 12:return e.prev=12,this.PV=void 0,i.xs(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],We)},i.rz=function(){if(this.PV)throw new v("Internal error")},i.xs=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.tu(),this.BV.Vs(),!this.PV){t.next=6;break}return t.next=5,Lr.awrap(this.PV.catch(J));case 5:this.PV=void 0;case 6:this.RV.removeEventListener("updateend",this.HV);case 7:case"end":return t.stop()}},null,this,null,We)},b(n,[{key:"tx",get:function(){return this.hx},set:function(t){this.hx=t}},{key:"sx",get:function(){return this.vx},set:function(t){this.vx=t}},{key:"oL",get:function(){return this.CV||this.RV.updating}}]),n}(Au);function ED(t,n){return ms(t,"audio/mp4")&&ms(n,"audio/mpeg")}var ID=function(){function t(t,n){this.fz=void 0,this.RV=void 0,this.vz=void 0,this.fz=n,this.RV=t}var n=t.prototype;return n.XF=function(){return!!this.vz&&this.im.UD().WN(this.vz)},n.lz=function(){var t=this.im;this.vz=t.T_>0?t.OD(t.T_-1):0,this.fz.wz()},n.oz=function(){this.vz=void 0},b(t,[{key:"im",get:function(){if(this.fz.Q_===qD.sz)return gS.dC();var t=gS.cC(this.RV.buffered).zD(new gS([0,1/0])),n=this.vz;return void 0!==n&&t.T_>0&&t.OD(t.T_-1)===n&&(t=t.QD(gS.vC(n))),t}}]),t}();function RD(t){var n=t.gc("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function ND(t,n){var i=DD(t)||CD(t),e=DD(n)||CD(n);return!i&&!e||t===n}function DD(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function CD(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function OD(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],a=e[2];if(s!==o)return!1;if(Number(u)!==Number(a))return!1}return!0}function PD(t,n,i,e,r,s,u){var o=new ID(r,t),a=new SD(o,t,r,i,s);return new BD(t,n,i,e,o,a,u)}var BD=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).SV=void 0,a.Pc=void 0,a._z=void 0,a.$R=void 0,a.Dc=void 0,a.gz=void 0,a.EV=void 0,a.yz=void 0,a.mz=Ur(),a.SV=n,a.Pc=e,a.Dc=e.Nd,a._z=r,a.$R=i,a.EV=s,a.yz=u,a.gz=o,a.yz.Js(MN.GF,a.Qs),a}S(n,t);var i=n.prototype;return i.XF=function(){return this.EV.XF()},i.lz=function(){this.EV.lz()},i.oz=function(){this.EV.oz(),this.yz.oz()},i.kz=function(t,n){this.gz.KF(t,n)},i.pz=function(t,n){this.gz.tH(t,n)},i.Az=function(){return this.yz.iz()},i.XV=function(t,n,i){return this.yz.XV(t,n,i)},i.GV=function(t,n,i){return this.yz.GV(t,i)},i.KV=function(t,n){return M.Tn&&M.Sn<3?this.yz.KV(t,1/0):this.yz.KV(t,n)},i.Zh=function(t,n,i){var e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.pz(t,n),e=this.im,s.next=4,Lr.awrap(this.yz.nz(t,n,i));case 4:r=0!==e.T_&&0===this.im.T_,(M.Mn||M.En)&&r&&this.$R.xu(this.$R.Xg);case 6:case"end":return s.stop()}},null,this,null,We)},i.OF=function(t){var n=t.Nd;if(this.Dc===n)return!0;var i=this.mz.get(n);if(void 0!==i)return i;var e=this.bz(t);return this.mz.set(n,e),e},i.bz=function(t){var n=ZD(t.Nd);if(void 0===n)return!1;var i=Hc(this.Dc),e=Hc(n),r=RD(i),s=RD(e);if(this.yz.ez()){if(!function(t,n){return eu(t,n,ND)}(r,s))return!1}else{if(i.vs!==e.vs)return!1;if(!function(t,n){return eu(t,n,OD)}(r,s))return!1}return!0},i.PF=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.Nd,this.Dc!==n&&(this.mz.clear(),this.yz.PF(t),this.Dc=n),this.Pc=t,this.SV.Tz();case 4:case"end":return i.stop()}},null,this,null,We)},i.xs=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mz.clear(),this.tu(),this.gz.Il(),t.prev=3,this.yz.nu(MN.GF,this.Qs),t.next=7,Lr.awrap(this.yz.xs());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],We)},b(n,[{key:"im",get:function(){return this.EV.im}},{key:"uc",get:function(){return this.Pc}},{key:"Nd",get:function(){return this.Dc}},{key:"Sz",get:function(){return this._z}},{key:"Ez",get:function(){return this.gz.nH}},{key:"tx",get:function(){return this.yz.tx},set:function(t){this.yz.tx=t}},{key:"sx",get:function(){return this.yz.sx},set:function(t){this.yz.sx=t}},{key:"oL",get:function(){return this.yz.oL}}]),n}(Au),LD=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.Iz=void 0,this.DD=t,this.OD=n,this.Rz=i,this.Nz=e,this.Iz=dI()}return t.prototype.Dz=function(){var t=this.DD,n=this.OD;if(this.Rz||this.Nz){var i=.001*(dI()-this.Iz);this.Rz&&(t+=i),this.Nz&&(n+=i)}return t>=n?gS.dC():new gS([t,n])},t}(),xD=100,MD=3500,UD=1e3,FD=2e3,HD=1e4,XD=.01,VD=1,zD=[Nf.Rf,Nf.If,Nf.Bf,Nf.Pf,Nf.mf,Nf.Df,yy.a_,Lg.G_],GD=function(){function t(t,n,e){var r=this;this.SE=ty.Dg,this.Cz=!1,this.Oz=[],this.Pz=void 0,this.Bz=void 0,this.Lz=0,this.xz=0,this.Mz=0,this.Uz=0,this.Fz=1,this.Hz=void 0,this.Xz=void 0,this.Vz=function(t){var n=r.$R.Xg;t.ZF.WN(n)&&r.zz(n)},this.Gz=$(function(){r.Wz(yy.a_)},xD),this.qz=$(function(){r.Wz(Nf.Nf)},xD),this.Yz=$(function(){r.Wz(Nf.Xf)},xD),this.jz=function(){r.Qz()?0===r.Uz&&(r.$R.Js(Nf.Xf,r.Yz),r.Bz=i.Qn(function(){r.Zz()},MD)):r.Jz()},this.Kz=function(){var t=r.Lz,n=r.Mz,e=r.$R.Xg,s=i.er(),u=r.EV.im,o=t!==e;if(o||!r.Qz()||0===u.T_)return r.Lz=e,r.Mz=s,void(o&&(r.Fz=1,r.Hz=i.Bw?FD:UD));if(n>0&&s>n+r.Hz){var a,h,c=r.nH.UD().JD(u),f=c.uC(e);if(-1!==f){var v=c.DD(f);if(v-e<VD){var d=c.OD(f);0,a=d}}if(!a)(a=null==(h=r.Xz)?void 0:h.determineStallJumpTarget())||(a=e+r.Fz*XD,u.WN(a)||(a=r.$z(e,u)));0,r.Lz=a,r.Mz=s,r.Fz++,r.Hz=w.min(2*r.Hz,HD),r.$R.xu(a)}},this.EV=t,this.$R=n,this.$R.Js(yy.a_,this.Gz),this.$R.Js(Nf.Nf,this.qz),this.$R.Js(zD,this.jz),this.Xz=e,this.Hz=i.Bw?FD:UD}var n=t.prototype;return n.tG=function(t){this.Oz.push(t),t.Js(zN.jF,this.Vz)},n.Il=function(){var t=this;this.Jz(),this.SE=ty.Dg,this.$R.nu(yy.a_,this.Gz),this.$R.nu(Nf.Nf,this.qz),this.$R.nu(zD,this.jz),this.Oz.forEach(function(n){return n.nu(zN.jF,t.Vz)}),void 0!==this.Pz&&(i.jn(this.Pz),this.Pz=void 0),this.Cz=!0},n.Wz=function(t){if(!this.Cz)if(t!==Nf.Xf||0!==this.Uz){var n=this.$R.Q_;if(n<=ty.Og){var i=this.$R.Xg,e=this.EV.im,r=e.KD(i),s=e.OD(r);-1!==r&&(t===yy.a_&&n<this.SE||t===Nf.Nf&&n===this.SE)&&s<i+.5&&(i=s),this.zz(i)||this.Kz()}t===yy.a_&&(this.SE=n)}else this.Zz()},n.zz=function(t){var n=this;if(this.$R.zg)return!1;var e=this.EV.im,r=-1,s=e.KD(t);if(-1!==s){if(e.OD(s)<=t+.5&&e.T_>s+1){var u=e.DD(s+1);u<=t+1&&(r=u)}}else{var o=this.nH.UD().JD(this.EV.im),a=o.KD(t);-1!==a&&(r=o.OD(a))}if(-1!==r&&!(w.abs(r-t)<=.001)){if(i.Bw){if(void 0!==this.Pz)return!1;this.xz=this.$R.Xg,this.Pz=i.Qn(function(){n.xz===n.$R.Xg&&n.$R.xu(r),n.Pz=void 0},250)}else this.$R.xu(r);return!0}return!1},n.nG=function(){this.Bz&&(i.jn(this.Bz),this.Bz=void 0),this.$R.nu(Nf.Xf,this.Yz)},n.Zz=function(){0===this.Uz&&(this.nG(),this.Uz=i.Tr(this.Kz,250))},n.Jz=function(){0!==this.Uz&&(i.Sr(this.Uz),this.Uz=0),this.nG(),this.$R.jg||(this.Mz=0)},n.Qz=function(){return!this.$R.qg&&!this.$R.jg&&0!==this.$R.Yg&&!this.$R.zg&&!this.$R.mu&&this.$R.Q_>=ty.Pg},n.$z=function(t,n){var i=n.KD(t);return i>-1?n.OD(i):t},b(t,[{key:"nH",get:function(){return this.Oz.reduce(function(t,n){return t.QD(n.nH)},gS.dC())}}]),t}();function WD(t){var n=[];if(t.iG&&n.push(t.iG.im),t.eG&&n.push(t.eG.im),0===n.length)return gS.dC();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.T_>0&&(i=w.max(i,r.OD(r.T_-1)))}for(var s=t.XF,u=new gS([0,i],[!0,s]),o=0;o<n.length;o++){var a=n[o];s&&a.T_>0&&(a=a.QD(new gS([a.OD(a.T_-1),i],[!0,!0]))),u=u.zD(a)}return u}var qD,YD=M.In||M.Rn;!function(t){t.sz="closed",t.Ll="open",t.mf="ended"}(qD||(qD={}));var jD=function(){function t(){}return t.prototype.rG=function(){return new MediaSource},t}(),QD=function(t){function n(n,i,e,r,s,u){var o;return void 0===s&&(s=new jD),(o=t.call(this,n,i,e,r)||this).sG=void 0,o.uG=void 0,o.oG=void 0,o.aG=new LD(0,1/0),o.tN=void 0,o.hG=void 0,o.cG=void 0,o.fG=!1,o.vG=function(){o.dG()},o.lG=function(){o.$R.lG()},o.sG=s,o.tN=o.sG.rG(),o.$R.Js(Nf.Bf,o.vG),o.cG=new GD(Kt(o),o.$R,u),o}S(n,t);var i=n.prototype;return i.wG=function(t){if(y(t)||t<0)throw new v("Invalid duration");this._G()?this.gG(t):this.hG=t},i.gG=function(t){var n=t===1/0,i=n?Lt:t;if(n&&this.tN.setLiveSeekableRange){var e=w.pow(2,39);this.tN.setLiveSeekableRange(0,e)}this.tN.duration=i,this.hG=void 0},i.yG=function(t,n,i,e){this.aG=new LD(t,n,!!i,!!e)},i.gx=function(){var t,n,i,e,r,s,u,o,a,h,c;return Lr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return t=this.Pc,n=Vs(t.mG,function(t){return ms(t.Nd,"audio")}),i=Vs(t.mG,function(t){return ms(t.Nd,"video")}),f.next=5,Lr.awrap(this.kG());case 5:n&&(r=new qN,this.cG.tG(r),s=null!=(e=ZD(n.Nd))?e:n.Nd,u=this.tN.addSourceBuffer(s),this.uG=PD(this,this.$R,n,fm.dl,u,s,r),this.uG.Js(MN.GF,this.lG)),i&&(a=new qN,this.cG.tG(a),h=null!=(o=ZD(i.Nd))?o:i.Nd,c=this.tN.addSourceBuffer(h),this.oG=PD(this,this.$R,i,fm.ll,c,h,a),this.oG.Js(MN.GF,this.lG)),this.EF.Qh(this,t);case 8:case"end":return f.stop()}},null,this,null,We)},i.kG=function(){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.tN),i.next=3,Lr.awrap(t.prototype.MF.call(this,n));case 3:if(this.Q_===qD.Ll){i.next=6;break}return i.next=6,Lr.awrap(J_(this.tN,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,We)},i._G=function(){if(this.Q_!==qD.Ll)return!1;var t=this.uG&&this.uG.oL,n=this.oG&&this.oG.oL;return!(t||n)},i.lz=function(){this.fG=!0,this.uG&&this.uG.lz(),this.oG&&this.oG.lz(),this.fG=!1,this.dG()},i.oz=function(){this.uG&&this.uG.oz(),this.oG&&this.oG.oz()},i.OF=function(n){var i=Vs(n.mG,function(t){return ms(t.Nd,"audio")}),e=Vs(n.mG,function(t){return ms(t.Nd,"video")});if(this.uG){if(!i)return!1;if(!this.uG.OF(i))return!1}else if(i)return!1;if(this.oG){if(!e)return!1;if(!this.oG.OF(e))return!1}else if(e)return!1;return!!t.prototype.OF.call(this,n)},i.PF=function(n){var i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=Vs(n.mG,function(t){return ms(t.Nd,"audio")}),e=Vs(n.mG,function(t){return ms(t.Nd,"video")}),r=[],this.uG&&r.push(this.uG.PF(i)),this.oG&&r.push(this.oG.PF(e)),s.next=7,Lr.awrap(We.all(r));case 7:return s.next=9,Lr.awrap(t.prototype.PF.call(this,n));case 9:case"end":return s.stop()}},null,this,null,We)},i.xs=function(){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.uG){n.next=4;break}return n.next=3,Lr.awrap(this.uG.xs());case 3:this.uG=void 0;case 4:if(!this.oG){n.next=8;break}return n.next=7,Lr.awrap(this.oG.xs());case 7:this.oG=void 0;case 8:return this.Gc.src&&URL.revokeObjectURL(this.Gc.src),this.$R.nu(Nf.Bf,this.vG),this.cG.Il(),n.next=13,Lr.awrap(t.prototype.xs.call(this));case 13:case"end":return n.stop()}},null,this,null,We)},i.Tz=function(){var t=this,n=this.Pc,i=n.mG.map(function(n){return ms(n.Nd,"audio")&&t.uG?t.uG.uc:ms(n.Nd,"video")&&t.oG?t.oG.uc:n});this.Pc=xr({},n,{mG:i})},i.wz=function(){this.fG||this.dG()},i.dG=function(){this.pG&&this._G()&&(this.tN.endOfStream(),this.hG=void 0,this.Zs(new Tu(NN.qO)),this.$R.lG())},i.cz=function(){this._G()&&(this.XF?this.dG():void 0!==this.hG&&this.gG(this.hG))},i.zz=function(t){return this.cG.zz(t)},n.HF=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.mG;n<i.length;n++){if(void 0===ZD(i[n].Nd))return!1}return!0},b(n,[{key:"iG",get:function(){return this.uG}},{key:"eG",get:function(){return this.oG}},{key:"Vg",get:function(){if(this.hG)return this.hG;var t=this.tN.duration;return t===Lt?1/0:t}},{key:"im",get:function(){return YD?WD(this):(t=this,n=gS.cC(this.Gc.buffered),(i=n).T_>0&&t.XF&&(i=i.QD(gS.vC(i.OD(i.T_-1)))),i);var t,n,i}},{key:"VF",get:function(){var t;return null==(t=this.uG)?void 0:t.im}},{key:"zF",get:function(){var t;return null==(t=this.oG)?void 0:t.im}},{key:"Am",get:function(){return this.aG.Dz().zD(new gS([0,this.Vg],[!0,!0]))}},{key:"XF",get:function(){return(!this.uG||this.uG.XF())&&(!this.oG||this.oG.XF())}},{key:"Q_",get:function(){return this.tN.readyState}},{key:"pG",get:function(){if(!this.XF)return!1;var t=this.im;return 0!==t.T_&&t.DD(t.T_-1)<=this.$R.Xg}}]),n}(UN);function ZD(t){var n=Hc(t),i="audio/mp4"===n.vs&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(RD(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!M.Pn))return t;if(i){var e=Vs(['audio/mp4; codecs="mp3"',"audio/mpeg"],function(t){return MediaSource.isTypeSupported(t)});return void 0!==e?e:void 0}}var JD=[Nf.Vf,Nf.Df,Nf.Bf,Nf.Rf,Nf.If],KD=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this)||this).yC=n,c.oa=i,c.AG=e,c.kC=r,c.AC=s,c.mC=u,c.pC=o,c.Da=a,c.bG=h,c}S(n,t);var i=n.prototype;return i.xy=function(){this.kC||(this.kC=!0,this.Zs(new ky(this.Xg)))},i.Ly=function(){this.kC&&(this.kC=!1,this.Zs(new py(this.Xg)))},i.xs=function(){this.tu()},b(n,[{key:"Xg",get:function(){return this.yC},set:function(t){this.Xg!==t&&(this.yC=t,this.AC=!0,this.Zs(new Dy(this.Xg)))}},{key:"Vg",get:function(){return this.oa}},{key:"zg",get:function(){return this.AG}},{key:"qg",get:function(){return this.kC}},{key:"Q_",get:function(){return this.bG}},{key:"jg",get:function(){return this.AC}},{key:"Wg",get:function(){return this.mC},set:function(t){this.Wg!==t&&(this.mC=t,this.Zs(new Oy(this.Xg,this.Jg)))}},{key:"Yg",get:function(){return this.pC},set:function(t){this.Yg!==t&&(this.pC=t,this.Zs(new Ey(this.Xg,this.Yg)))}},{key:"Jg",get:function(){return this.Da},set:function(t){this.Jg!==t&&(this.Da=t,this.Zs(new Oy(this.Xg,this.Jg)))}}]),n}(Au);var $D=function(t){function n(n){var i;return(i=t.call(this)||this).$R=void 0,i.SE=ty.Dg,i.TG=function(){i.SG()},i.$R=n,i}S(n,t);var i=n.prototype;return i.EG=function(t){this.SE!==t&&(this.SE=t,this.Zs(new Ly(this.$R.Xg,t)))},i.SG=function(){this.EG(this.Zx())},i.A_=function(){this.EG(ty.Dg)},i.xs=function(){this.tu()},b(n,[{key:"Q_",get:function(){return this.Zx()}}]),n}(Au),tC=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],nC=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<tC.length;e++){var r=tC[e];i.$R.EN.addEventListener(r,i.TG)}return i}S(n,t);var i=n.prototype;return i.Zx=function(){var t=this.$R.EN.readyState;return t>ty.Og&&this.$R.IG?ty.Og:(this.$R.EN.seeking&&t>ty.Cg&&(t=ty.Cg),t)},i.xs=function(){for(var n=0;n<tC.length;n++){var i=tC[n];this.$R.EN.removeEventListener(i,this.TG)}t.prototype.xs.call(this)},n}($D),iC=function(t){function n(n){var i;(i=t.call(this,n)||this).$R.Js(Nf.Bf,i.TG);for(var e=0;e<tC.length;e++){var r=tC[e];i.$R.EN.addEventListener(r,i.TG)}return i}S(n,t);var i=n.prototype;return i.Zx=function(){if(this.$R.EN.readyState===ty.Dg)return ty.Dg;var t=this.RG(),n=t?t.OD-t.DD:0;if(!t)return ty.Cg;var i=this.$R.Yg;return this.NG()||n>=3*i?ty.Bg:n>=3?ty.Pg:ty.Og},i.RG=function(){var t=this.$R.Xg,n=this.$R.im.jD(.04),i=n.KD(t);if(!(i<0))return{DD:t,OD:n.OD(i)}},i.NG=function(){if(this.$R.zg)return!0;var t=this.$R.Vg,n=this.RG();return!!n&&t-n.OD<=1/6},i.xs=function(){this.$R.nu(Nf.Bf,this.TG);for(var n=0;n<tC.length;n++){var i=tC[n];this.$R.EN.removeEventListener(i,this.TG)}t.prototype.xs.call(this)},n}($D),eC=[yy.a_,Nf.Rf,Nf.If,Nf.Bf,Nf.Pf,Nf.mf,Lg.G_],rC=function(t){function n(n){var i;return(i=t.call(this,n)||this).Gc=void 0,i.DG=!1,i.UE=function(){i.DG=!0,i.Jh()},i.Gc=n.EN,i.Gc.addEventListener(yy.Hg,i.UE),i}S(n,t);var i=n.prototype;return i.CG=function(){return this.DG&&t.prototype.CG.call(this)},i.Jh=function(){this.DG&&(this.Gc.paused||this.Gc.ended||this.Gc.error)&&(this.DG=!1),t.prototype.Jh.call(this)},i.A_=function(){t.prototype.A_.call(this),this.DG=!1},i.xs=function(){this.Gc.removeEventListener(yy.Hg,this.UE),t.prototype.xs.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).DE=void 0,i.OG=!1,i.aL=function(){i.Jh()},i.DE=n,i.DE.Js(eC,i.aL),i}S(n,t);var i=n.prototype;return i.PG=function(){return this.DE.Q_<ty.Pg},i.CG=function(){return!this.DE.jg&&!(this.DE.qg||this.DE.zg||this.DE.mu||this.PG())},i.Jh=function(){var t=this.OG;this.OG=this.CG(),!t&&this.OG&&this.Zs(new TA(this.DE.Xg))},i.A_=function(){this.OG=!1},i.xs=function(){this.tu(),this.DE.nu(eC,this.aL)},n}(Au)),sC=function(t){function n(n){var i;return(i=t.call(this,Lg.G_)||this).mu=void 0,i.mu=n,i}return S(n,t),n}(Tu);function uC(t,n){return t.Wm<=n&&t.qm>n}function oC(t,n){return function(t,n){return Hs(t.Wm,n.Wm,Gm)}(t,n)||function(t,n){return Hs(t.qm,n.qm,Gm)}(t,n)}function aC(t,n){var i=function(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,a=u-1;o<=a;){var h=o+(a-o>>1),c=e(i(t[h]),n);if(c<0)o=h+1;else if(c>0)a=h-1;else{if(!(r&&h>s&&0===e(i(t[h-1]),n)))return h;a=h-1}}return~o}(t,n,K,oC,!0);if(i<0)return i;for(;i<t.length&&oC(n,t[i])===Os.Rs;i++)if(t[i].wk(n))return i;return-(i+1)}function hC(t){var n=t.Qw;if(!n)return-1;if(t instanceof qm)return n.BG(t);var i=n.Z_;if(!i)return-1;var e=aC(i.b_,t);return e>=0?e:-1}function cC(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],a=[];s<e&&u<r;){var h=t[s],c=n[u];h===c?(s++,u++):i(c,h)<=0?(o.push(c),u++):(a.push(h),s++)}for(;s<e;)a.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{LG:o,xG:a}}(t,n,oC);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var fC=function(){function t(t){this.MG=void 0,this.qw=void 0,this.MG=t}var n=t.prototype;return n.jw=function(){return function(t){for(var n=[],i=0;i<t.T_;i++)n[i]=t.Ru(i).Yw;return n.item=function(n){var i=0|n,e=t.Ru(i);return e&&e.Yw||void 0},l.defineProperty(n,"constructor",{value:Hm}),n}(this)},n.Rm=function(t){for(var n=this.MG,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.wk(e))return!0}return!1},n.Ru=function(t){return this.MG[t]},b(t,[{key:"b_",get:function(){return this.MG}},{key:"T_",get:function(){return this.MG.length}},{key:"Yw",get:function(){if(this.qw){var t=this.MG;this.qw.length=t.length;for(var n=0;n<t.length;n++)this.qw[n]=t[n].Yw}else this.qw=this.jw();return this.qw}}]),t}(),vC=function(t){function n(n,i){var e;return(e=t.call(this,eg.a_)||this).Qw=n,e.Q_=i,e}return S(n,t),n.prototype.jw=function(){return new dC(this.Qw.Yw,Vg(this.Q_))},n}(rg),dC=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return S(n,t),n}(sg),lC=function(t){function n(n){var i;return(i=t.call(this,eg.c_)||this).Qw=n,i}return S(n,t),n.prototype.jw=function(){return new wC(this.Qw.Yw)},n}(rg),wC=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return S(n,t),n}(sg),_C=function(t){function n(n){var i;return(i=t.call(this,eg.Zw)||this).Gm=n,i}return S(n,t),n.prototype.jw=function(){return new gC(this.Gm.Yw)},n}(rg),gC=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return S(n,t),n}(sg),yC=function(t){function n(n){var i;return(i=t.call(this,eg.Kw)||this).Gm=n,i}return S(n,t),n.prototype.jw=function(){return new mC(this.Gm.Yw)},n}(rg),mC=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return S(n,t),n}(sg),kC=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).qw=void 0,h.Bh=void 0,h.Cm=gm(),h.UG=!1,h.FG=void 0,h.HG=void 0,h.Dm=void 0,h.va=void 0,h.VC=Bg.X_,h.bG=Em.NONE,h.XG=void 0,h.Gi=void 0,h.VG=void 0,h.MG=[],h.zG=[],h.GG=void 0,h.WG=void 0,h.qG=0,h.YG=0,h.Bh=i||"",h.FG=a||"",h.HG=n,h.va=r||"",h.UG=Boolean(s),h.VG=Boolean(o),h.Gi=u||Im.DEFAULT,h.Dm=e||"",h.GG=new fC(h.MG),h.WG=new fC(h.zG),h}S(n,t);var i=n.prototype;return i.jG=function(t){return Vs(this.GG.b_,function(n){return n.B_===t})},i.jw=function(){return Fg(this)},i.eO=function(t){var n=Mg(t);n!==this.q_&&(this.VC=n,n===Bg.X_&&(this.zG.forEach(function(t){t._k=!1}),Qs(this.zG),this.YG=0),this.Zs(new fg(this)))},i.kE=function(t){if(t&&!t.Qw){var n=aC(this.Z_.b_,t);if(!(n>=0)){t.Qw=this;var i=-(n+1);this.MG.splice(i,0,t),this.QG(i),t.lk=i,i<this.YG&&(this.YG=i),this.Zs(new _C(t))}}},i.oE=function(t){if(t&&t.Qw===this){var n=this.BG(t);if(!(n<0)){t._k=!1;var i=this.zG,e=aC(i,t);e>=0&&qs(i,e),qs(this.MG,n),this.QG(n),t.lk=-1,this.YG>n&&--this.YG,this.Zs(new yC(t))}}},i.ZG=function(t,n){var i=this.zG,e=this.MG,r=this.YG,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){uC(i[u],t)||(s=!0,qs(i,u))}for(;r<e.length&&e[r].Wm<=t;){var o=e[r];if(0===t)break;uC(o,t)&&!Ys(i,o)&&(s=!0,i.push(o)),r++}s&&Ls(i,oC),this.YG=r},i.BG=function(t){return(-1===t.lk||t.lk>=this.qG)&&this.JG(),t.lk},i.JG=function(){for(var t=this.MG,n=this.qG;n<t.length;n++)t[n].lk=n;this.qG=t.length},i.QG=function(t){t<this.qG&&(this.qG=t)},i.Y_=function(t){this.j_||(this.q_=t)},i.Il=function(){this.tu();for(var t=this.MG.slice(),n=0;n<t.length;n++){t[n].Il()}Qs(this.MG),Qs(this.zG)},b(n,[{key:"J_",get:function(){return this.WG}},{key:"Z_",get:function(){return this.GG}},{key:"AE",get:function(){return this.UG},set:function(t){this.UG=t}},{key:"j_",get:function(){return this.VG}},{key:"Yw",get:function(){return this.qw||(this.qw=this.jw()),this.qw}},{key:"B_",get:function(){return this.Bh}},{key:"L_",get:function(){return this.Cm}},{key:"W_",get:function(){return this.FG},set:function(t){this.FG=t}},{key:"x_",get:function(){return this.HG}},{key:"M_",get:function(){return this.Dm},set:function(t){t!==this.Dm&&(this.Dm=t,this.Zs(new lm(this)))}},{key:"U_",get:function(){return this.va}},{key:"q_",get:function(){return this.VC},set:function(t){this.eO(t)}},{key:"Q_",get:function(){return this.bG},set:function(t){this.bG!==t&&(this.bG=t,this.Zs(new vC(this,this.bG)))}},{key:"K_",get:function(){return this.XG},set:function(t){this.XG=t}},{key:"vs",get:function(){return this.Gi},set:function(t){this.Gi!==t&&(this.Gi=t,this.Zs(new lC(this)))}}]),n}(Au),pC=function(t){function n(n,i){var e;return(e=t.call(this,Om.Hm,n)||this).kp=i,e}return S(n,t),n.prototype.jw=function(){return new AC(this.Gm.Yw)},n}(Mm),AC=function(t){function n(n){return t.call(this,"enter",n)||this}return S(n,t),n}(Um),bC=function(t){function n(n,i){var e;return(e=t.call(this,Om.Vm,n)||this).kp=i,e}return S(n,t),n.prototype.jw=function(){return new TC(this.Gm.Yw)},n}(Mm),TC=function(t){function n(n){return t.call(this,"exit",n)||this}return S(n,t),n}(Um),SC=function(t){function n(n){var i;return(i=t.call(this,eg.t_)||this).Gm=n,i}return S(n,t),n.prototype.jw=function(){return new EC(this.Gm.Yw)},n}(rg),EC=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return S(n,t),n}(sg),IC=function(t){function n(n){var i;return(i=t.call(this,eg.i_)||this).Gm=n,i}return S(n,t),n.prototype.jw=function(){return new RC(this.Gm.Yw)},n}(rg),RC=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return S(n,t),n}(sg),NC=function(t){function n(n){var i;return(i=t.call(this)||this).KG=void 0,i.vk=void 0,i.Cm=void 0,i.ck=void 0,i.qw=void 0,i.fk=!1,i.$G=function(){i._k=!0},i.tW=function(){i._k=!1},i.Cm=Am(),i.KG=n,i.KG.addEventListener("enter",i.$G),i.KG.addEventListener("exit",i.tW),i}S(n,t);var i=n.prototype;return i.jw=function(){return Fm(this)},i.wk=function(t){return this===t||mg(this,t)&&Wm(this,t)},i.Il=function(){this.tu(),this.KG.removeEventListener("enter",this.$G),this.KG.removeEventListener("exit",this.tW)},b(n,[{key:"L_",get:function(){return this.Cm}},{key:"Wm",get:function(){return this.KG.startTime},set:function(t){this.KG.startTime=t}},{key:"qm",get:function(){return this.KG.endTime},set:function(t){this.KG.endTime=t}},{key:"Ym",get:function(){return this.vk},set:function(t){this.vk=t}},{key:"gk",get:function(){return!!this.KG.pauseOnExit},set:function(t){this.KG.pauseOnExit=!!t}},{key:"Qw",get:function(){return this.ck},set:function(t){this.ck=t}},{key:"B_",get:function(){return this.KG.id||""}},{key:"Yw",get:function(){return this.qw||(this.qw=this.jw()),this.qw}},{key:"_k",get:function(){return this.fk},set:function(t){this._k!==t&&(this.fk=t,t?(this.Zs(new pC(this,this.Wm)),this.ck&&this.ck.Zs(new SC(this))):(this.Zs(new bC(this,this.qm)),this.ck&&this.ck.Zs(new IC(this))))}}]),n}(Gg),DC=function(t){function n(n){var i;return(i=t.call(this,eg.r_)||this).Qw=n,i}return S(n,t),n.prototype.jw=function(){return new CC(this.Qw.Yw)},n}(rg),CC=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return S(n,t),n}(sg);function OC(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new PC(t),t.THEOplayerVTTRegion=n),n}}var PC=function(){function t(t){this.nW=void 0,this.qw=void 0,this.nW=t}return b(t,[{key:"iW",get:function(){return this.nW}},{key:"B_",get:function(){return this.nW.id||""}},{key:"Ek",get:function(){return+this.nW.width||0},set:function(t){this.nW.width=t||0}},{key:"yk",get:function(){return+this.nW.lines||0},set:function(t){this.nW.lines=t||0}},{key:"pk",get:function(){return+this.nW.regionAnchorX||0},set:function(t){this.nW.regionAnchorX=t||0}},{key:"Ak",get:function(){return+this.nW.regionAnchorY||0},set:function(t){this.nW.regionAnchorY=t||0}},{key:"Tk",get:function(){return+this.nW.viewportAnchorX||0},set:function(t){this.nW.viewportAnchorX=t||0}},{key:"Sk",get:function(){return+this.nW.viewportAnchorY||0},set:function(t){this.nW.viewportAnchorY=t||0}},{key:"bk",get:function(){return this.nW.scroll||""}},{key:"Yw",get:function(){return this.qw||(this.qw=$m(this)),this.qw}}]),t}();var BC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),b(n,[{key:"Ym",get:function(){return this.KG.text},set:function(t){this.KG.text=t}},{key:"ek",get:function(){return this.KG.vertical||""},set:function(t){this.KG.vertical=t||""}},{key:"nk",get:function(){return this.KG.snapToLines},set:function(t){this.KG.snapToLines=t}},{key:"Qm",get:function(){return this.KG.line},set:function(t){this.KG.line=t}},{key:"Ou",get:function(){return+this.KG.size},set:function(t){this.KG.size=Mt(t,0,100)}}]),n}(NC),LC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.wk=function(n){return this===n||mg(this,n)&&t.prototype.wk.call(this,n)&&Ym(this,n)},b(n,[{key:"$m",get:function(){return OC(this.KG.region)}},{key:"Zm",get:function(){return this.KG.lineAlign||"start"},set:function(t){this.KG.lineAlign=t||"start"}},{key:"Jm",get:function(){return this.KG.position},set:function(t){this.KG.position=t}},{key:"Km",get:function(){return this.KG.positionAlign||"auto"},set:function(t){this.KG.positionAlign=t||"auto"}},{key:"jm",get:function(){return this.KG.align||"center"},set:function(t){this.KG.align=t||"center"}},{key:"Yw",get:function(){return this.qw||(this.qw=Xm(this)),this.qw}}]),n}(BC),xC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.wk=function(n){return this===n||mg(this,n)&&t.prototype.wk.call(this,n)&&Ym(this,n)},b(n,[{key:"$m",get:function(){return OC(this.iW)}},{key:"iW",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.KG.track,this.KG.regionId)}},{key:"Zm",get:function(){return"middle"===(t=this.KG.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.KG.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"Jm",get:function(){return this.KG.position},set:function(t){var n,i;this.KG.position=(n=t,i=this.jm,xm(n,i))}},{key:"Km",get:function(){return t=this.KG.positionAlign||"middle",Bm[t];var t},set:function(t){var n,i;this.KG.positionAlign=(n=t||"center",i=this.jm,Pm[Lm(n,i)])}},{key:"jm",get:function(){return"middle"===(t=this.KG.align||"middle")?"center":t;var t},set:function(t){var n;this.KG.align="center"===(n=t||"center")?"middle":n}},{key:"Yw",get:function(){return this.qw||(this.qw=Xm(this)),this.qw}}]),n}(BC);function MC(t,n){return t.Ym===n.Ym}function UC(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Wm<t.Wm)FC(n,i,t.Wm);else{var e=n[0];if(e.Wm>t.Wm)t.qm=e.Wm;else{var r=aC(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0)n[u].Wm<t.Wm&&FC(n,u,t.Wm);if(s<n.length){var o=n[s];t.qm=o.Wm}}}}}}function FC(t,n,i){for(var e=t[n].Wm,r=n;r>=0&&t[r].Wm===e;r--)t[r].qm=i}function HC(t){return Fm(t)}var XC,VC,zC=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).eW=void 0,e.eW=i,e}return S(n,t),n.prototype.wk=function(n){return this===n||mg(this,n)&&t.prototype.wk.call(this,n)&&MC(this,n)},b(n,[{key:"Ym",get:function(){return this.eW}},{key:"Yw",get:function(){return this.qw||(this.qw=HC(this)),this.qw}}]),n}(NC);function GC(t){switch(t){case XC.ISO_8859_1:case XC.UTF16_BOM:case XC.UTF16:case XC.UTF8:return!0}return!1}function WC(t){switch(t){case XC.ISO_8859_1:return So;case XC.UTF16_BOM:return Ro;case XC.UTF16:return No;case XC.UTF8:return Mo}}function qC(t,n){var i=n.Pu,e=t.byteLength,r=Go(t);return n.Bu(e-i),Yo(r,i,e).buffer}function YC(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function jC(t,n,i){var e=co(t,n);if(GC(e)){var r=WC(e);return{id:i,language:bo(t,n,3),description:r(t,n),text:r(t,n)}}}function QC(t,n,i){var e=co(t,n);if(GC(e)){var r=WC(e);return{id:i,mimeType:So(t,n),fileName:r(t,n),description:r(t,n),data:qC(t,n)}}}function ZC(t,n,i){var e=co(t,n);if(GC(e)){for(var r=WC(e),s=[];n.Pu<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function JC(t,n,i){var e=co(t,n);if(GC(e)){for(var r=WC(e),s=bo(t,n,3),u=co(t,n),o=co(t,n),a=r(t,n),h=!1,c=[];n.Pu<t.byteLength;){var f=void 0;if(e===XC.UTF16_BOM){var v=Io(t,n);void 0===v?v=h:h=v,f=No(t,n,v)}else f=r(t,n);if(!f||n.Pu+4>t.byteLength)break;c.push({text:f,timestamp:mo(t,n)})}return{id:i,language:s,format:u,contentType:o,description:a,entries:c}}}function KC(t,n,i){return{id:i,ownerIdentifier:So(t,n),identifier:qC(t,n)}}function $C(t,n,i){var e=co(t,n);if(GC(e)){var r=WC(e);return{id:i,language:bo(t,n,3),description:r(t,n),text:r(t,n)}}}function tO(t,n,i){var e=co(t,n);if(GC(e))return{id:i,text:WC(e)(t,n)}}function nO(t,n,i){return{id:i,url:So(t,n)}}function iO(t,n,i){var e=co(t,n);if(GC(e)){var r=WC(e);return{id:i,description:r(t,n),text:r(t,n)}}}function eO(t,n,i){var e=co(t,n);if(GC(e))return{id:i,description:WC(e)(t,n),url:So(t,n)}}function rO(t,n,i){switch(i){case"COM":return jC(t,n,i);case"GEO":return QC(t,n,i);case"IPL":return ZC(t,n,i);case"PIC":return function(t,n,i){var e=co(t,n);if(GC(e)){var r,s,u=WC(e),o=bo(t,n,3),a=co(t,n),h=u(t,n);return"--\x3e"===o?(r=o,s=So(t,n)):(r="image/"+o.toLowerCase(),s=qC(t,n)),{id:i,mimeType:r,pictureType:a,description:h,data:s}}}(t,n,i);case"SLT":return JC(t,n,i);case"TXX":return iO(t,n,i);case"UFI":return KC(t,n,i);case"ULT":return $C(t,n,i);case"WXX":return eO(t,n,i);default:if("T"===i.charAt(0))return tO(t,n,i);if("W"===i.charAt(0))return nO(t,n,i)}}function sO(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=co(t,n);if(GC(e)){var r=WC(e),s=So(t,n);return{id:i,mimeType:s,pictureType:co(t,n),description:r(t,n),data:"--\x3e"===s?So(t,n):qC(t,n)}}}(t,n,i);case"COMM":return jC(t,n,i);case"COMR":return function(t,n,i){var e=co(t,n);if(GC(e)){var r,s,u=WC(e),o=So(t,n),a=bo(t,n,8),h=So(t,n),c=co(t,n),f=u(t,n),v=u(t,n);return n.Pu<t.byteLength&&(r=So(t,n)||"image/",s=qC(t,n)),{id:i,price:o,validUntil:a,contactURL:h,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return QC(t,n,i);case"IPLS":return ZC(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:So(t,n),data:qC(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:co(t,n),position:mo(t,n)}}(t,n,i);case"SYLT":return JC(t,n,i);case"TXXX":return iO(t,n,i);case"UFID":return KC(t,n,i);case"USER":return function(t,n,i){var e=co(t,n);if(GC(e)){var r=WC(e);return{id:i,language:bo(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return $C(t,n,i);case"WXXX":return eO(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return tO(t,n,i);default:var e=i.charAt(0);if("T"===e)return tO(t,n,i);if("W"===e)return nO(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(XC||(XC={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(VC||(VC={}));var uO=10;function oO(t,n){return(127&co(t,n))<<21|(127&co(t,n))<<14|(127&co(t,n))<<7|127&co(t,n)}function aO(t,n){switch(t){case VC.V24:return{rW:ho(n,0),sW:ho(n,1),uW:ho(n,2),oW:ho(n,3)};case VC.V23:return{rW:ho(n,0),sW:ho(n,1),uW:ho(n,2)};case VC.V22:return{rW:ho(n,0),aW:ho(n,1)}}}function hO(t,n,i){switch(i.Rb){case VC.V23:i.Nb.sW&&function(t,n){var i=n.Pu,e=mo(t,n)+4,r=32768&go(t,n);n.xu(i+e),r&&mo(t,n)}(t,n);break;case VC.V24:i.Nb.sW&&function(t,n){var i=n.Pu,e=oO(t,n);n.xu(i+e)}(t,n)}}function cO(t,n){if(t.byteLength-n.Pu<uO)return null;if(73!==co(t,n)||68!==co(t,n)||51!==co(t,n))return null;var i=co(t,n),e=co(t,n);if(!function(t){switch(t){case VC.V22:case VC.V23:case VC.V24:return!0}return!1}(i))return null;var r=co(t,n),s=oO(t,n);return{Rb:i,hW:e,Nb:aO(i,r),cW:s}}function fO(t,n,i){switch(i.Rb){case VC.V22:return function(t,n,i){return{B_:bo(t,n,3),Ou:_o(t,n,3)}}(t,n);case VC.V23:return function(t,n,i){var e=bo(t,n,4),r=mo(t,n);co(t,n);var s=co(t,n);return{B_:e,Ou:r,Nb:{aW:ho(s,0),fW:ho(s,1),groupingIdentity:ho(s,2)}}}(t,n);case VC.V24:return function(t,n,i){var e=bo(t,n,4),r=oO(t,n);co(t,n);var s=co(t,n);return{B_:e,Ou:r,Nb:{groupingIdentity:ho(s,1),aW:ho(s,4),fW:ho(s,5),rW:ho(s,6),vW:ho(s,7)}}}(t,n)}}function vO(t){for(var n=new m(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function dO(t,n){var i=n||new Zo,e=cO(t,i);return e?{bb:e,dW:function(t,n,i){var e=[],r=n.Pu,s=Vo(t,r,r+i.cW),u=new Zo;switch(n.Bu(i.cW),i.Rb){case VC.V22:case VC.V23:i.Nb.rW&&(s=vO(s))}hO(t,n,i);for(;u.Pu<s.byteLength;)e.push(lO(s,u,i));return e}(t,i,e)}:null}function lO(t,n,i){var e,r,s=fO(t,n,i),u=n.Pu,o=Vo(t,u,u+s.Ou);switch(n.Bu(s.Ou),i.Rb){case VC.V22:var a=s;e=rO(r=o,new Zo,a.B_);break;case VC.V23:var h=s,c=new Zo;!function(t,n,i){var e,r,s,u=i.Nb;u.aW&&(e=mo(t,n)),u.fW&&(r=co(t,n)),u.groupingIdentity&&(s=co(t,n))}(o,c,h),e=sO(r=Vo(o,c.Pu,o.byteLength),new Zo,h.B_);break;case VC.V24:var f=s,v=new Zo;f.Nb.rW&&(o=vO(o)),function(t,n,i){var e,r,s,u,o=i.Nb;o.groupingIdentity&&(e=co(t,n)),o.aW&&(r=mo(t,n)),o.fW&&(s=co(t,n)),o.vW&&(u=oO(t,n))}(o,v,f),e=sO(r=Vo(o,v.Pu,o.byteLength),new Zo,f.B_)}if(!e){var d=jo(Go(r));e=YC(s.B_,d.buffer)}return e}function wO(t){return function(t,n,i){return tO(t,n,i)}(new DataView(t.data),new Zo,t.key)}function _O(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return wO(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return YC(t.key,t.data)}(t)}var gO="org.id3";var yO=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Nm=void 0,r.lW=void 0,r.MG=[],r.zG=[],r.GG=void 0,r.WG=void 0,r.Cm=void 0,r.Dm=void 0,r.VC=Bg.X_,r.bG=Em.NONE,r.qw=void 0,r.XG=void 0,r.Gi=Im.DEFAULT,r.wW=void 0,r._W=function(){r.gW(),r.Nm.removeEventListener("cuechange",r._W)},r.yW=function(){r.q_!==Bg.X_&&(r.mW(),r.ZG(),r.MG.length&&r.kW(Em.LOADING))},r.pW=function(){r.kW(Em.LOADED)},r.AW=function(){r.kW(Em.ERROR)},r.Nm=n,r.wW=e,r.Nm.addEventListener("cuechange",r._W),r.Nm.addEventListener("cuechange",r.yW),r.lW=i,r.lW&&(r.XG=ww(r.lW.src),r.lW.addEventListener("load",r.pW),r.lW.addEventListener("error",r.AW)),r.Cm=gm(),r.Dm=n.label||"",r.GG=new fC(r.MG),r.WG=new fC(r.zG),r.q_=r.bW,wu(function(){r.yW(),r.kW(Em.NONE)}),r}S(n,t);var i=n.prototype;return i.jw=function(){return Fg(this)},i.gW=function(){var t=this.q_;this.TW||t!==Bg.z_?this.bW=t:this.bW=Bg.V_},i.SW=function(){var t=this.q_,n=this.bW;t!==n&&(this.TW||t!==Bg.z_||n!==Bg.V_)&&("metadata"===this.x_&&n===Bg.X_?this.q_=t:this.q_=n)},i.SG=function(t){this.bG!==t&&(this.bG=t,this.Zs(new vC(this,t)))},i.kW=function(t){var n=w.max(this.bG,this.EW,t);this.SG(n)},n.IW=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.RW=function(t){var i=n.IW(t);if(i)return i;if(z(i=this.NW(t)))for(var e=0,r=i;e<r.length;e++){r[e].Qw=this}else i.Qw=this;return t.THEOplayerTextTrackCue=i,i},i.NW=function(t){return(n=t)&&n.type===gO&&n.value?(this.vs=Im.ID3,function(t){var n;try{n=_O(t.value)}catch(t){n=YC("")}return new zC(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.vs=Im.ID3,function(t){var n=[];try{var i=dO(new DataView(t.data));if(i)for(var e=0,r=i.dW;e<r.length;e++){var s=r[e];n.push(new zC(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.vs=Im.WEBVTT,function(t){return"regionId"in t}(t)?new xC(t):new LC(t)):new NC(t);var n},i.DW=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.RW(t[e]||t.item(e));if(z(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.mW=function(){for(var t=this.DW(this.Nm.cues),n=cC(this.MG,t),i=0,e=n.xG;i<e.length;i++){var r=e[i];r.nu(Om.Vm,this.yW),r.nu(Om.Hm,this.yW),this.Zs(new yC(r))}for(var s=0,u=n.LG;s<u.length;s++){var o=u[s];o.Js(Om.Hm,this.yW),o.Js(Om.Vm,this.yW),this.Zs(new _C(o))}},i.ZG=function(){for(var t=this.DW(this.Nm.activeCues),n=cC(this.zG,t),i=0,e=n.xG;i<e.length;i++){e[i]._k=!1}for(var r=0,s=n.LG;r<s.length;r++){s[r]._k=!0}(n.LG.length||n.xG.length)&&this.Zs(new DC(this))},i.Y_=function(t){this.q_=t},i.Il=function(){this.tu();for(var t=this.MG.slice(),n=0;n<t.length;n++){t[n].Il()}Qs(this.MG),Qs(this.zG),this.Nm.removeEventListener("cuechange",this.yW),this.lW&&(this.Nm.removeEventListener("load",this.pW),this.Nm.removeEventListener("error",this.AW)),this.lW&&tr(this.lW)},b(n,[{key:"J_",get:function(){return this.WG}},{key:"AE",get:function(){return this.lW?this.lW.default:void 0}},{key:"Z_",get:function(){return this.GG}},{key:"Yw",get:function(){return this.qw||(this.qw=this.jw()),this.qw}},{key:"B_",get:function(){return this.Nm.id||this.lW&&this.lW.id||""}},{key:"L_",get:function(){return this.Cm}},{key:"W_",get:function(){return this.Nm.inBandMetadataTrackDispatchType||""}},{key:"x_",get:function(){return this.Nm.kind||Up.WA}},{key:"M_",get:function(){return this.Dm},set:function(t){t!==this.M_&&(this.Dm=t,this.Zs(new lm(this)))}},{key:"U_",get:function(){return this.Nm.language||""}},{key:"q_",get:function(){return this.VC},set:function(t){var n=this.q_;this.VC=Mg(t),this.gW();var i=this.q_;n!==i&&this.Zs(new fg(this)),i!==Bg.X_&&this.kW(Em.LOADING)}},{key:"bW",get:function(){return Mg(this.Nm.mode)},set:function(t){this.Nm.mode=t}},{key:"xm",get:function(){return this.Nm}},{key:"Q_",get:function(){return this.bG}},{key:"EW",get:function(){return this.lW?+this.lW.readyState||Em.NONE:Em.LOADED}},{key:"K_",get:function(){return this.XG}},{key:"vs",get:function(){return this.Gi},set:function(t){this.Gi!==t&&(this.Gi=t,this.Zs(new lC(this)))}},{key:"TW",get:function(){return this.wW},set:function(t){this.wW=t,this.gW()}}]),n}(Au);function mO(t,n){return Fs(t.kp,n.kp)||function(t,n){return t.Qw===n.Qw?Us(hC(t),hC(n)):$p(t.Qw,n.Qw)}(t.Gm,n.Gm)||function(t,n){return t===n?Os.Rs:t===Om.Hm?Os.Ds:Os.Ns}(t.type,n.type)}var kO=function(){function t(t,n){var i=this;this.yD=void 0,this.OW=void 0,this.Iy=[],this.PW=0,this.BW=0,this.LW=[],this.xW=[],this.MW=!1,this.UW=!1,this.FW=void 0,this.HW=function(){i.PW=0,i.XW(),i.VW()},this.zW=function(){i.XW(),i.VW()},this.GW=function(){i.UW=!0,i.FW=i.yD.Xg,i.WW()},this.qW=function(){i.XW(),i.VW()},this.YW=function(){i.jW(),i.XW(),i.VW()},this.QW=function(t){Ys(i.xW,t.Gm)||i.xW.push(t.Gm),i.ZW()},this.JW=function(t){Ws(i.LW,t.Gm),Ws(i.xW,t.Gm),i.ZW()},this.OW=n,this.yD=t,t.Js(Nf.Xf,this.zW),t.Js(Nf.Rf,this.zW),t.Js(yy.Hg,this.zW),t.Js(Nf.If,this.zW),t.Js(Nf.Bf,this.GW),t.Js(Nf.Pf,this.qW),this.ZW()}var n=t.prototype;return n.A_=function(){Qs(this.LW);for(var t=0,n=this.Iy.slice();t<n.length;t++){var i=n[t];this.k_(i)}this.WW(),this.PW=0,this.BW=0,this.MW=!1,this.UW=!1,this.FW=void 0},n.m_=function(t){if(!Ys(this.Iy,t)){if(this.Iy.push(t),t.Js(eg.Zw,this.QW),t.Js(eg.Kw,this.JW),t.Js(eg.u_,this.YW),t.Z_.T_>0){for(var n=0,i=t.Z_.b_;n<i.length;n++){var e=i[n];this.xW.push(e)}this.ZW()}this.jW()}},n.k_=function(t){if(Ws(this.Iy,t)){if(t.nu(eg.Zw,this.QW),t.nu(eg.Kw,this.JW),t.nu(eg.u_,this.YW),t.Z_.T_>0){for(var n=0,i=t.Z_.b_;n<i.length;n++){var e=i[n];Ws(this.LW,e),Ws(this.xW,e)}this.ZW()}this.jW()}},n.jW=function(){this.MW=this.Iy.some(function(t){return t.q_!==Bg.X_})},n.VW=function(){this.yD.jg||this.yD.qg?this.WW():this.ZW()},n.ZW=function(){this.MW&&(this.PW||(this.PW=this.OW.Oe(this.HW)))},n.WW=function(){this.PW&&(this.OW.KW(this.PW),this.PW=0)},n.XW=function(){var t;if(this.MW&&!this.yD.jg){var n=this.Iy,i=this.BW,e=null!=(t=this.FW)?t:this.yD.Xg,r=e-i<-.1,s=this.UW||r;s&&e>i&&e-i<.1&&(s=!1),this.UW=!1,this.FW=void 0;for(var u,o=[],a=0;a<n.length;a++){var h=n[a];if(h.q_!==Bg.X_){h.ZG(e,s);for(var c=0,f=h.J_.b_;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.LW;else{u=[];for(var d=0;d<n.length;d++){var l=n[d];l.q_!==Bg.X_&&Kp(l,i-1/6,e,u)}}for(var _=u.length-1;_>=0;_--)Ys(o,u[_])&&qs(u,_);var g=[];if(!s)for(var y=u.length-1;y>=0;y--){var m=u[y];m.Wm>i&&m.qm<=e&&(g.push(m),qs(u,y))}for(var k=0,p=this.xW;k<p.length;k++){Ws(g,p[k])}Qs(this.xW);for(var A=[],b=[],T=0;T<g.length;T++){var S=g[T];S._k||A.push(new pC(S,S.Wm)),A.push(new bC(S,w.max(S.Wm,S.qm))),S._k=!1}for(var E=0,I=u;E<I.length;E++){var R=I[E];R._k&&(A.push(new bC(R,w.max(R.Wm,R.qm))),R._k=!1)}for(var N=0;N<o.length;N++){var D=o[N];D._k||(A.push(new pC(D,D.Wm)),D._k=!0)}A.sort(mO);for(var C=0;C<A.length;C++){var O=A[C],P=O.Gm;P.Zs(O);var B=P.Qw;B&&(O.type===Om.Hm?B.Zs(new SC(P)):B.Zs(new IC(P)),Ys(b,B)||b.push(B))}b.sort($p);for(var L=0;L<b.length;L++){var x=b[L];x.Zs(new DC(x))}this.BW=e,this.LW=o}},n.Il=function(){this.A_(),this.yD.nu(Nf.Xf,this.zW),this.yD.nu(Nf.Rf,this.zW),this.yD.nu(yy.Hg,this.zW),this.yD.nu(Nf.If,this.zW),this.yD.nu(Nf.Bf,this.GW),this.yD.nu(Nf.Pf,this.qW)},t}(),pO=function(){function t(){}var n=t.prototype;return n.Oe=function(t){return BI(t)},n.KW=function(t){LI(t)},t}(),AO=new pO,bO=function(t){function n(n,i){return void 0===i&&(i=AO),t.call(this,n,i)||this}return S(n,t),n}(kO),TO=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return S(n,t),n.prototype.wk=function(n){return this===n||mg(this,n)&&t.prototype.wk.call(this,n)&&MC(this,n)},b(n,[{key:"Yw",get:function(){return this.qw||(this.qw=HC(this)),this.qw}}]),n}(qm),SO=function(t){function n(n,i,e){return void 0===e&&(e=Im.DEFAULT),t.call(this,Up.YA,"",i||"","",!1,e,!1,n)||this}return S(n,t),n}(kC),EO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).vs=Im.ID3,e}S(n,t);var i=n.prototype;return i.kE=function(n){UC(n,this.MG),t.prototype.kE.call(this,n)},i.jw=function(){return Fg(this)},n}(SO);function IO(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=_O(t.value);return t.THEOplayerTextTrackCue=new TO(i,e),t.THEOplayerTextTrackCue}var RO=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Nm=void 0,i.yW=function(){i.q_!==Bg.X_&&(i.mW(),i.kW(Em.LOADED))},i.Nm=n,i.Nm.addEventListener("cuechange",i.yW),i.q_=i.bW,wu(function(){i.yW()}),i}S(n,t);var i=n.prototype;return i.eO=function(n){t.prototype.eO.call(this,n),this.bW=this.q_},i.kW=function(t){this.Q_=w.max(this.Q_,t)},i.mW=function(){var t=this.Nm.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(IO(t[e]||t.item(e)));return Ls(i,oC),i}(t),i=cC(this.Z_.b_.slice(),n),e=0,r=i.xG;e<r.length;e++){var s=r[e];this.oE(s)}for(var u=0,o=i.LG;u<o.length;u++){var a=o[u];this.kE(a)}}},i.Il=function(){this.Nm.removeEventListener("cuechange",this.yW),t.prototype.Il.call(this)},b(n,[{key:"B_",get:function(){return this.Nm.id||""}},{key:"W_",get:function(){return this.Nm.inBandMetadataTrackDispatchType||""}},{key:"U_",get:function(){return this.Nm.language||""}},{key:"bW",get:function(){return Mg(this.Nm.mode)},set:function(t){this.Nm.mode=t}},{key:"xm",get:function(){return this.Nm}}]),n}(EO),NO=function(t){function n(n,i){var e;return(e=t.call(this)||this).$W=Fr(),e.zR=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Qw).vs){i.next=4;break}return i.next=4,Lr.awrap(n.fu(eg.c_));case 4:if(n.vs===Im.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Z_.T_){i.next=11;break}return i.next=9,Lr.awrap(n.fu(eg.Zw));case 9:i.next=6;break;case 11:e.tq(n);case 12:case"end":return i.stop()}},null,null,null,We)},e.GR=function(t){var n=t.Qw;if(n.vs===Im.ID3&&e.$W.has(n.L_)){var i=e.$W.get(n.L_);e.k_(i),e.lE.pE(i),n.nu(eg.Zw,e.nq)}},e.nq=function(t){DO(t.Gm)&&e.iq(t.Gm)},e.lE=n,e.rq=i,e.uq(),e}S(n,t);var i=n.prototype;return i.uq=function(){this.rq.Js($_.Vw,this.zR),this.rq.Js($_.Gw,this.GR)},i.oq=function(){this.rq.nu($_.Vw,this.zR),this.rq.nu($_.Gw,this.GR)},i.tq=function(t){var n=t.Z_.b_[0];if(DO(n)){var i=function(t){var n=t.match(CO);if(!n)return;return{Qw:n[1],U_:n[2]}}(n.Ym.description),e=i.Qw,r=i.U_;if(!this.aq(e,r)){var s=this.lE.yE(Up.WA,t.B_,e,r,!1,Im.TTML);this.m_(s),this.$W.set(t.L_,s);for(var u=0,o=t.Z_.b_;u<o.length;u++){var a=o[u];DO(a)&&this.iq(a)}t.Js(eg.Zw,this.nq)}}},i.aq=function(t,n){return this.Wb.b_.some(function(i){return i.M_===t&&i.U_===n})},i.iq=function(t){if(t.Qw)for(var n=this.$W.get(t.Qw.L_),i=Ep(t.Ym.text,n,{Zp:0,Jp:1/0,Kp:t.Wm}),e=0;e<i.length;e++){var r=i[e];n.kE(r)}},i.A_=function(){var n,i,e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.rq.b_;n<i.length;n++)i[n].nu(eg.Zw,this.nq);for(e=0,r=this.Wb.b_;e<r.length;e++)s=r[e],this.lE.pE(s);return this.$W.clear(),u.next=5,Lr.awrap(t.prototype.A_.call(this));case 5:case"end":return u.stop()}},null,this,null,We)},i.Il=function(){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.oq(),n.next=3,Lr.awrap(t.prototype.Il.call(this));case 3:case"end":return n.stop()}},null,this,null,We)},n}(rA);function DO(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Ym)&&CO.test(n.description);var n}var CO=/^Track:(.+),Lang:(.+)$/;var OO=function(t){function n(n){var i;return(i=t.call(this,Nf.df)||this).errorObject=void 0,i.errorObject=n,i}return S(n,t),b(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Tu),PO=function(t){function n(){return t.call(this,Nf.lf)||this}return S(n,t),n}(Tu),BO=function(t){function n(n){var i;return(i=t.call(this,"Gf")||this).hq=n,i}return S(n,t),n}(Tu),LO=new gN,xO=function(t){function n(n){var i;return(i=t.call(this,"Yh")||this).session=n,i}return S(n,t),n}(Tu),MO=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).cq=!1,u.fq=!1,u.bw=new su,u.vq=void 0,u.Vh=function(t){if(!u.bw.Ws.Cs)switch(t._u){case"license-request":case"license-renewal":u.rI(t.wu,t.yu).catch(function(t){return u.Ec(t)});break;default:u.Ec(new sm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t._u))}},u.dq=function(t){u.lq.nc.Nu(function(t,n){switch(t){case"usable":i.Qn(function(){u.fq=!0,u.Zs(new PO)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Zs(new BO(n))}})},u.wq=function(t){u.Ec(new sm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.lq=e,u._q=r,u.gq=s,e.Js("wu",u.Vh),e.Js("du",u.dq),e.Js("mu",u.wq),e.$h.then(function(){return u.yq()}),u}S(e,t);var r=e.prototype;return r.jh=function(){var t=this;return this.cq=!0,LO.KU(function(n){return t.mq(n)},this.bw.Ws)},r.mq=function(t){var i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,au(t),s.next=4,Lr.awrap(this._q.JE(t));case 4:return s.next=6,Lr.awrap(this._q.KE(this.gq.ls,this.gq.Su,t));case 6:return i=s.sent,s.next=9,Lr.awrap(this.lq.jh(this.gq.ls,this.gq.Su,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),hu(s.t0),e=s.t0 instanceof ea?s.t0.Qu:void 0,r=new sm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Ec(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],We)},r.rI=function(t,i){var e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!ta(t)){o.next=7;break}return o.next=4,Lr.awrap(this._q.vI(new m(t),this.bw.Ws));case 4:e=o.sent,o.next=10;break;case 7:return o.next=9,Lr.awrap(this._q.dI(new m(t),i,this.bw.Ws));case 9:e=o.sent;case 10:o.next=17;break;case 12:if(o.prev=12,o.t0=o.catch(0),!ou(o.t0)){o.next=16;break}return o.abrupt("return");case 16:throw o.t0;case 17:if(!this.bw.Ws.Cs){o.next=19;break}return o.abrupt("return");case 19:return r=this.vq,s=new Ko,this.vq=s,o.prev=22,o.next=25,Lr.awrap(this.lq.Jh(e));case 25:return o.next=27,Lr.awrap(yu(100));case 27:o.next=33;break;case 29:throw o.prev=29,o.t1=o.catch(22),u=o.t1 instanceof ea?o.t1.Qu:void 0,new sm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o.t1,void 0,void 0,void 0,void 0,u);case 33:if(o.prev=33,void 0===r){o.next=37;break}return o.next=37,Lr.awrap(r.Xu);case 37:return s.Wu(),this.vq===s&&(this.vq=void 0),o.finish(33);case 40:case"end":return o.stop()}},null,this,[[0,12],[22,29,33,40]],We)},r.Ec=function(t){var i=t instanceof sm?t:new sm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Zs(new OO(i)),this.Yh()},r.yq=function(){this.lq.nu("wu",this.Vh),this.lq.nu("du",this.dq),this.lq.nu("mu",this.wq),this.fq=!1,this.bw.Vs(),this.Zs(new xO(this))},r.Yh=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.tu();case 1:if(void 0===(t=this.vq)){n.next=5;break}return n.next=5,Lr.awrap(t.Xu);case 5:if(this.vq!==t){n.next=1;break}case 6:return this.yq(),n.next=9,Lr.awrap(this.lq.Yh().catch(J));case 9:case"end":return n.stop()}},null,this,null,We)},e}(Au),UO=[Nf.lf,Nf.df,Nf.zf],FO=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Gh=void 0,r.ec=void 0,r.kq=void 0,r.pq=[],r.Aq=void 0,r.bq=[],r.Tq=function(t){t.session.nu(UO,r.Qs),t.session.nu("Yh",r.Tq),Ws(r.pq,t.session)},r.Gh=n,r.ec=i,r.kq=e,r}S(n,t);var i=n.prototype;return i.fI=function(){return this.kq.fI()},i.Sq=function(t){return this.Aq||(this.Aq=this.Eq(t)),this.Aq},i.Eq=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return au(t),i.next=3,Lr.awrap(this.kq.vI(new m($o()),t));case 3:if(n=i.sent,au(t),this.ec){i.next=7;break}throw new v("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Lr.awrap(this.ec.hc(n.buffer));case 9:case"end":return i.stop()}},null,this,null,We)},i.Iq=function(t){var n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ec){e.next=2;break}throw new v("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.bq.push(t),e.next=6,Lr.awrap(this.ec.ac("temporary"));case 6:return n=e.sent,i=new MO(n,this.kq,t),this.pq.push(i),i.Js(UO,this.Qs),i.Js("Yh",this.Tq),e.abrupt("return",i);case 12:return e.prev=12,Ws(this.bq,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],We)},i.Rq=function(t){if(t.Nq)return!1;for(var n=0,i=this.pq;n<i.length;n++){if(HO(i[n].gq,t))return!0}for(var e=0,r=this.bq;e<r.length;e++){if(HO(r[e],t))return!0}return!1},i.Il=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ec=void 0,this.tu(),t=this.pq.slice(),Qs(this.pq),n.next=6,Lr.awrap(We.all(t.map(function(t){return t.Yh()})));case 6:this.kq.xs();case 7:case"end":return n.stop()}},null,this,null,We)},b(n,[{key:"rc",get:function(){return this.Gh}}]),n}(Au);function HO(t,n){return!t.Nq&&t.ls===n.ls&&Gu(t.Su,n.Su)}var XO=function(t){function e(n){var i;return(i=t.call(this)||this).$R=void 0,i.bw=new su,i.hF=new gN,i.Pc=void 0,i.kq=void 0,i.tN=void 0,i.Gh=void 0,i.Dq=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Lr.awrap(i.Cq(t.ls,t.Su,i.bw.Ws));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),ou(n.t0)||i.Ec(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],We)},i.$R=n,i.$R.Js(pu.pu,i.Dq),i}S(e,t);var r=e.prototype;return r.Qh=function(t,n){this.tN=t,this.PF(n)},r.PF=function(t){this.Pc=t,this.Oq(this.bw.Ws).catch(cu)},r.Oq=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Mr.We){n.next=5;break}return n.next=3,Lr.awrap(this.Pq(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Pc||!this.Pc.Bq){n.next=9;break}return n.next=8,Lr.awrap(this.Lq(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,We)},r.Pq=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Pc)?void 0:n.DN){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Pc)?void 0:u.DN)?s:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],a=0,h=null!=(c=o.FR)?c:[];case 8:if(!(a<h.length)){v.next=22;break}return f=h[a],v.prev=10,v.next=13,Lr.awrap(this.Cq(o.rc.ls,f,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),hu(v.t0);case 19:a++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],We)},r.Cq=function(t,e,r){var s,u,o,a,h,c,f,v,d,l;return Lr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(au(r),e.byteLength){w.next=3;break}return w.abrupt("return");case 3:if(this.Pc&&this.Pc.DN.length){w.next=5;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Zr||t===Kr||t===Jr){w.next=8;break}return w.abrupt("return");case 8:s=pb(t,e),u=this.Pc.DN,a=0;case 11:if(!(a<u.length)){w.next=42;break}if(h=u[a],au(r),(c=s[h.rc._s])&&h.rc.ls===t){w.next=17;break}return w.abrupt("continue",39);case 17:return w.prev=17,w.next=20,Lr.awrap(this.xq(h,r));case 20:if(!(f=w.sent).fI()){w.next=24;break}return w.next=24,Lr.awrap(f.Sq());case 24:if(v=this.$R.cm,d={ls:h.rc.ls,Su:c,Nq:v},!this.Mq(f,d)){w.next=32;break}return w.next=29,Lr.awrap(f.Iq(d));case 29:return l=w.sent,w.next=32,Lr.awrap(l.jh());case 32:return w.abrupt("return");case 35:w.prev=35,w.t0=w.catch(17),hu(w.t0),o=w.t0;case 39:a++,w.next=11;break;case 42:return w.next=44,Lr.awrap(i.Er());case 44:if(!w.sent){w.next=48;break}throw new sm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new sm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return w.stop()}},null,this,[[17,35]],We)},r.Lq=function(t){var n,i,e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Pc)?void 0:n.DN){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],au(t),u.prev=7,u.next=10,Lr.awrap(this.xq(r,t));case 10:if(!(s=u.sent).fI()){u.next=14;break}return u.next=14,Lr.awrap(s.Sq());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),hu(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],We)},r.Mq=function(t,n){return i.Mr.Ge||!t.Rq(n)},r.xq=function(t,n){var i=this;return this.hF.KU(function(n){return i.Uq(t,n)},n)},r.Uq=function(t,n){var i,e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(au(n),this.Pc&&this.kq&&this.tN){o.next=3;break}throw new v("Not initialized");case 3:if(!this.Gh){o.next=7;break}if(this.Gh.rc===t.rc){o.next=6;break}throw new v("Internal key system error");case 6:return o.abrupt("return",this.Gh);case 7:return i=this.kq,e=xr({},t,{GN:t.GN.map(function(n){var e;return xr({},n,{persistentState:null!=(e=n.persistentState)?e:i.BI(t.rc),yc:n.yc||i.yc(t.rc)})})}),o.next=11,Lr.awrap(this.tN.DF(e.rc,e.GN));case 11:return r=o.sent,s=i.UR(e),(u=new FO(e.rc,r,s)).Js([Nf.lf,Nf.df,Nf.zf],this.Qs),this.Gh=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,We)},r.Ec=function(t){var i=t instanceof sm?t:new sm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Zs(new OO(i))},r.A_=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tN=void 0,this.Pc=void 0,this.bw.Vs(),this.bw=new su,t.next=6,Lr.awrap(this.Fq());case 6:case"end":return t.stop()}},null,this,null,We)},r.Fq=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(this.hF.Vs());case 2:if(!(t=this.Gh)){n.next=8;break}return t.nu(Nf.zf,this.Qs),this.Gh=void 0,n.next=8,Lr.awrap(t.Il());case 8:case"end":return n.stop()}},null,this,null,We)},r.xs=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tu(),this.$R.nu(pu.pu,this.Dq),t.next=4,Lr.awrap(this.A_());case 4:return t.next=6,Lr.awrap(this.hF.Il());case 6:case"end":return t.stop()}},null,this,null,We)},b(e,[{key:"Hq",get:function(){var t;return null==(t=this.Gh)?void 0:t.rc}},{key:"IN",get:function(){return this.kq},set:function(t){this.kq=t}}]),e}(Au),VO=M.In||M.Rn,zO=M.qn,GO=.5,WO=5,qO=M.Pn,YO=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Gc=void 0,s.Xq=void 0,s.nN=void 0,s.pD=!0,s.tN=void 0,s.Vq=new gN,s.zq=void 0,s.Gq=void 0,s.Wq=void 0,s.EF=void 0,s.Iy=void 0,s.SC=void 0,s.qq=[],s.Yq=void 0,s.jq=void 0,s.Qq=void 0,s.Zq=void 0,s.Jq=void 0,s.Kq=void 0,s.$q=NaN,s.tY=void 0,s.nY=void 0,s.AC=!1,s.iY=We.resolve(),s.eY=new su,s.rY=[],s.sY=gS.dC(),s.uY=void 0,s.oY=1,s.aY=!1,s.hY=!1,s.cY=!1,s.fY=!1,s.As=void 0,s.vY=!1,s.dY=!1,s.lY=!1,s.wY=!1,s._Y=0,s.Xz=void 0,s.gY=function(t){var n=t.track,i=s.yY(n);s.mY(n,i)},s.kY=function(t){var n=JO(s.Yq,t.track);n&&s.Yq.k_(n)},s.pY=function(){for(var t=0;t<s.Iy.T_;t++){var n=s.Iy.y_(t);n instanceof yO&&n.SW()}},s.AY=function(){s.Yq.A_()},s.bY=function(){var t=s.tN,n=t.iG,i=t.eG;if(n&&i)if(t.XF)s.TY();else if(t.Q_!==qD.sz){var e=n.im,r=i.im;if(0!==e.T_&&0!==r.T_){var u=s.Xg;if(u<e.DD(0)||u<r.DD(0))s.TY();else if(e.WN(u)!==r.WN(u)){if(t.zz(u))return;s.SY()}else{if(s.TY(),!s._Y&&s.Wq.CG())e.ZD(r).nC(u,u+GO)&&(s._Y=BI(s.EY))}}else s.TY()}},s.EY=function(){s._Y=0,s.bY()},s.IY=function(){if(!(s.jg||s.Q_>=ty.Pg)){0;var t=s.tN,n=t.iG,i=t.eG;if(n&&i){var e=s.Xg,r=n.im,u=i.im;if(r.WN(e)&&u.WN(e))r.ZD(u).nC(e-WO,e)&&(s.lY?s.TY():s.RY())}}},s.NY=function(){s.Zs(new py(s.Xg))},s.DY=function(){s.CY(new uu),s.Zs(new ky(s.Xg))},s.OY=function(){s.PY(),s.Zs(new TA(s.Xg))},s.BY=function(){s.LY(s.Yg)},s.xY=function(){s.Zs(new Sy(s.Vg))},s.MY=function(){s.Zs(new HN(s.Xg))},s.UY=function(){s.Zs(new XN)},s.FY=function(){var t=s.Xg,n=s.jg,i=s.Q_<ty.Pg&&!s.zg,e=void 0!==s.nY,r=e&&s.nY!==t;(n||!e||r&&!i)&&(s.Zs(new Iy(s.Xg,void 0)),s.nY=t)},s.HY=function(){!s.aY&&s.zg&&(s.aY=!0,s.Zs(new Ry(s.Xg)))},s.XY=function(){if(null!==s.Gc.error){var t,n=s.Gc.error;s.fN(new um(null!=(t=n.code)?t:im.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.VY=function(){s.hY&&(s.zY(),s.cY=!0)},s.GY=function(){s.Zs(new Oy(s.Xg,s.Jg))},s.WY=function(){s.Zg>0&&s.Qg>0&&s.Zs(new dA)},s.qY=function(t){s.Zs(new Du(t.initDataType,t.initData||new ArrayBuffer(0)))},s.YY=function(){s.Zs(new Cu)},s.jY=function(t){var n=t.initData,i=n?jo(n).buffer:new ArrayBuffer(0);s.Zs(new Du(Zr,i))},s.QY=function(t){if(t.initData){var n=jO(t.initData);if(!n)return;s.Zs(new Du(Kr,n))}else s.Zs(new Du(Kr,new ArrayBuffer(0)))},s.ZY=function(t){var n=t.initData,i=n?jo(n).buffer:new ArrayBuffer(0);s.Zs(new Du(Zr,i))},s.JY=function(){s.PY()},s.KY=function(t){s.CY(t)},s.$Y=function(t){s.Zs(t),t.type===Nf.df&&s.fN(am(t.errorObject))},s.Gc=n,s.As=i,s.Xq=e,s.SC=r,s.Gq=new nC(Kt(s)),s.Gq.Js(yy.a_,s.Qs),s.Wq=new rC(Kt(s)),s.Wq.Js(yy.Hg,s.OY),s.EF=new XO(Kt(s)),s.EF.Js([Nf.lf,Nf.df,Nf.zf],s.$Y),s.Iy=new Fp,s.Yq=new Fp,s.jq=new JT([s.Iy,s.Yq]),s.Qq=new NO(Kt(s),s.jq),s.Zq=new JT([s.jq,s.Qq.Wb]),s.Jq=new bO(Kt(s)),s.tj(),s.NN(),s}S(n,t);var e=n.prototype;return e.nj=function(){this.EN.ended||this.Xg===this.Vg||(this.aY=!1)},e.ij=function(){return void 0!==this.Kq&&this.Vg===this.Kq},e.LY=function(t){this.oY!==t&&(this.oY=t,this.Zs(new Ey(this.Xg,t)))},e.jN=function(){return FR(this.Gc)},e.Ly=function(){var t=this.ej();return this.rj(),t},e.rj=function(){this.vY?this.dY&&(this.dY=!1,this.Zs(new py(this.Xg))):this.sj()},e.sj=function(){if(this.zq)this.zq.Ly();else{M.Pn&&!M.hn&&this.Gc.preload===hS.wD&&(this.Gc.preload=hS.YA);var t=this.Yg,n=this.Gc.play();t!==this.EN.playbackRate&&(this.Yg=t),j(n)?n.then(this.JY,this.KY):this.Wq.CG()&&this.PY()}},e.xy=function(){this.vY?this.dY||(this.dY=!0,this.Zs(new ky(this.Xg))):this.uj()},e.uj=function(){this.zq?this.zq.xy():(this.Gc.pause(),this.Wq.Jh()),this.aj(new uu)},e.ej=function(){var t=new Ko;return this.rY.push(t),t.Xu},e.hj=function(){for(var t=0,n=this.rY;t<n.length;t++){n[t].Wu(void 0)}Qs(this.rY)},e.aj=function(t){for(var n=0,i=this.rY;n<i.length;n++){i[n].Yu(t)}Qs(this.rY)},e.PY=function(){this.vY||this.zq||this.hj()},e.CY=function(t){this.vY||this.zq||this.aj(t)},e.xu=function(t,n){this.zq?this.zq.Xg=t:(this.eY.Vs(),this.eY=new su,this.iY=this.cj(t,this.iY,this.eY.Ws).catch(J))},e.YN=function(t){var n=this.QN;if(n&&!y(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.xu(i)}},e.cj=function(t,n,i){var e,r,s,u,o,a,h,c,f=this;return Lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,this.Kq=t,this.$q=t,this.AC=!0,this.aY&&!this.ij()&&(this.aY=!1),this.Zs(new Dy(t)),v.next=8,Lr.awrap(n.catch(J));case 8:if(au(i),this.fY&&this.vj(),this.Q_!==ty.Dg){v.next=13;break}return v.next=13,Lr.awrap(this.fu(yy.a_,i));case 13:if(0!==this.Gc.seekable.length){v.next=19;break}return v.next=16,Lr.awrap(We.race([J_(this.Gc,"timeupdate",i),yu(100,i)]));case 16:au(i),v.next=13;break;case 19:e=this.dj(t),r=this.Am,s=!0,u=!1;case 23:if((r=this.Am).T_>0&&!r.WN(e)&&(e=r.HD(e),s=!0),qO&&void 0!==(o=this.lj())&&e>o&&(e=o,s=!0),u){v.next=37;break}if(!(void 0!==(a=this.wj())&&e>a)){v.next=37;break}return u=!0,v.next=33,Lr.awrap(this._j(a,i));case 33:return v.next=35,Lr.awrap(J_(this.Gc,"seeked",i));case 35:au(i),s=!0;case 37:if(!s){v.next=56;break}return s=!1,v.next=41,Lr.awrap(this._j(e,i));case 41:au(i),h=this.Xg,r=this.Am,e=r.HD(e),c=1;case 46:if(!(w.abs(e-h)>=1/6)){v.next=56;break}return r=this.Am,e=ZO(e,r,c),v.next=51,Lr.awrap(this._j(e,i));case 51:au(i),h=this.Xg,c++,v.next=46;break;case 56:if(this.Gc.seeking||this.Q_<ty.Og){v.next=58;break}return v.abrupt("break",63);case 58:return v.next=60,Lr.awrap(du(function(t){var n;return We.race([J_(f.Gc,"seeked",t),f.fu([Nf.Nf,Nf.gf,yy.a_],t),null==(n=f.tN)?void 0:n.fu(NN.qO,t)].filter(H))},i));case 60:au(i),v.next=23;break;case 63:this.gj(),v.next=71;break;case 66:if(v.prev=66,v.t0=v.catch(0),!ou(v.t0)){v.next=70;break}return v.abrupt("return");case 70:0;case 71:case"end":return v.stop()}},null,this,[[0,66]],We)},e._j=function(t,n){var i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(au(n),i=this.Am,t=i.HD(t),!this.fY){s.next=18;break}e=!0;case 5:if(!(e||this.Q_<ty.Pg)){s.next=17;break}if((i=this.Am).WN(t)||(t=i.HD(t),e=!0),!e){s.next=13;break}return e=!1,this.Kq=t,this.yj(this.Xg),s.abrupt("continue",5);case 13:return s.next=15,Lr.awrap(this.fu([yy.a_,Nf.gf],n));case 15:s.next=5;break;case 17:au(n);case 18:if(r=J_(this.Gc,"seeking",n),this.Gc.currentTime=t,this.Kq=void 0,this.yj(this.Xg),!this.Gc.seeking){s.next=25;break}return s.next=25,Lr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,We)},e.dj=function(t){var n=this.im;if(n&&!n.WN(t)){var i=n.KD(t,.05);if(i>-1){var e=n.DD(i);if(t<e)return e}}return t},e.lj=function(){if(this.tN&&this.tN.XF){var t=this.tN.VF,n=this.tN.zF,i=t&&n?t.zD(n):t||n;if(i&&0!==i.T_){var e=i.DD(i.T_-1),r=i.OD(i.T_-1);return w.max(e,r-.001)}}},e.wj=function(){if(this.tN&&this.tN.XF){var t=this.tN.zF;if(t&&0!==t.T_){var n=t.DD(t.T_-1),i=t.OD(t.T_-1)-.02;return i-=.001,w.max(n,i)}}},e.yj=function(t){this.$q!==t&&(this.$q=t,this.Zs(new Dy(t)))},e.gj=function(){this.AC=!1,this.$q=NaN,this.fY&&this.mj(),this.Zs(new Cy(this.Xg))},e.vj=function(){this.vY||(this.dY=this.qg,this.vY=!0,this.uj())},e.mj=function(){this.vY&&(this.vY=!1,this.dY||this.rj())},e.HF=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.vs===vA.bE&&FN.HF(i,this.Gc))return i;if(i.vs===vA.TE&&QD.HF(i))return i}},e.Yy=function(){this.pD=!1,fr(this.Gc)&&(this.Gc.style.display="none")},e.qy=function(){this.pD=!0,fr(this.Gc)&&(this.Gc.style.display="block")},e.yE=function(t,n,i,e,r,s,u,o){var a=new kC(t,n,i,e,r,s,u,o);return this.Iy.m_(a),this.Jq.m_(a),a},e.LN=function(){return!0},e.MN=function(t,n,i,e){var r=s.createElement("track");r.src=ww(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=fI(),this.Gc.appendChild(r);var u=this.Gc.textTracks.getTrackById(r.id),o=new yO(u,r);return this.Yq.m_(o),this.qq.push(o),o},e.pE=function(t){this.Iy.k_(t),this.Jq.k_(t)},e.HN=function(){for(var t=0,n=this.Iy.b_.slice();t<n.length;t++){n[t].Il()}this.Iy.A_();for(var i=0,e=this.qq.slice();i<e.length;i++){var r=e[i];this.Yq.k_(r),r.Il()}Qs(this.qq)},e.NN=function(){var t=this.Gc.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.gY),t.addEventListener("removetrack",this.kY),t.addEventListener("change",this.pY)),this.Gc.addEventListener("emptied",this.AY)},e.VN=function(){var t=this.Gc.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.gY),t.removeEventListener("removetrack",this.kY),t.removeEventListener("change",this.pY)),this.Gc.removeEventListener("emptied",this.AY)},e.mY=function(t,n){if(M.Pn){if(t.kind===Up.YA)return void this.pj(t);if(t.kind===Up.nE&&""===t.label&&""===t.language&&!KO(t))return void this.Aj(t,n)}JO(this.Yq,t)||this.Yq.m_(new yO(t,n))},e.pj=function(t){t.mode=Bg.V_;var n=new RO(t);this.Yq.m_(n),this.Jq.m_(n)},e.Aj=function(t,n){var i=this;t.addEventListener("cuechange",function e(){KO(t)&&(t.removeEventListener("cuechange",e),i.Yq.m_(new yO(t,n)))}),t.mode=Bg.V_},e.yY=function(t){for(var n=this.Gc.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.Qh=function(t){var n=this;return this.Vq.KU(function(i){var e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(au(i),!n.tN){r.next=3;break}throw new v("Already loaded a media source");case 3:if(t.vs!==vA.bE){r.next=9;break}e=new FN(t,n,n.EF,n.As),n.fY=!1,n.bj(new nC(n)),r.next=17;break;case 9:if(t.vs!==vA.TE){r.next=16;break}e=new QD(t,n,n.EF,n.As,void 0,n.Xz),n.fY=VO,n.bj(n.fY?new iC(n):new nC(n)),zO&&(n.Js(Nf.Xf,n.bY),n.Js(yy.a_,n.IY)),r.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.tN=e,r.next=20,Lr.awrap(e.gx());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,We)})},e.SY=function(){if(!this.lY){var t=this.Yg;this.lY=!0,this.Yg=t,this.Gc.playbackRate=0,this.Gq&&this.Gq.SG()}},e.TY=function(){if(this.lY){var t=this.Yg;this.lY=!1,this.Yg=t,this.RY()}},e.RY=function(){this.Gc.currentTime=this.Gc.currentTime,this.Gq&&this.Gq.SG()},e.bj=function(t){var n=this.Q_;this.Gq.xs(),this.Gq=t,this.Gq.Js(yy.a_,this.Qs);var i=this.Q_;n!==i&&this.Zs(new Ly(this.Xg,i))},e.A_=function(){var t=this;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.AC=!1,this.sY=gS.dC(),this.eY.Vs(),this.Kq=void 0,this.$q=NaN,this.tY=void 0,this.fY=!1,this.vY=!1,this.nN=void 0,this.aY=!1,this.nY=void 0,this.hY=!1,this.cY&&(this.tj(),this.cY=!1),this.aj(new uu),this.bj(new nC(this)),this.Wq.A_(),this.TY(),zO&&(LI(this._Y),this._Y=0,this.nu(Nf.Xf,this.bY),this.nu(yy.a_,this.IY)),n.next=20,Lr.awrap(this.Vq.Vs());case 20:return n.next=22,Lr.awrap(this.Vq.KU(function(){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.tN){n.next=4;break}return n.next=3,Lr.awrap(t.tN.xs());case 3:t.tN=void 0;case 4:case"end":return n.stop()}},null,null,null,We)}));case 22:case"end":return n.stop()}},null,this,null,We)},e.xs=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.cY=!1,this.zY(),this.VN(),t.next=5,Lr.awrap(this.A_());case 5:return t.next=7,Lr.awrap(this.Vq.Il());case 7:return this.Wq.xs(),this.Gq.xs(),t.next=11,Lr.awrap(this.EF.xs());case 11:return this.HN(),this.Iy.Il(),this.Yq.Il(),t.next=16,Lr.awrap(this.Qq.Il());case 16:this.jq.Il(),this.Zq.Il(),this.tu();case 19:case"end":return t.stop()}},null,this,null,We)},e.tj=function(){this.EN.addEventListener("play",this.NY),this.EN.addEventListener("pause",this.DY),this.EN.addEventListener("timeupdate",this.FY),this.EN.addEventListener("progress",this.MY),this.EN.addEventListener("loadstart",this.UY),this.EN.addEventListener("ended",this.HY),this.EN.addEventListener("ratechange",this.BY),this.EN.addEventListener("volumechange",this.GY),this.EN.addEventListener("durationchange",this.xY),this.EN.addEventListener("resize",this.WY),this.EN.addEventListener("loadedmetadata",this.WY),this.EN.addEventListener("error",this.XY),this.EN.addEventListener("emptied",this.VY),Ds()?(this.Gc.addEventListener("encrypted",this.qY),this.Gc.addEventListener("waitingforkey",this.YY)):void 0!==le.WebKitMediaKeys&&"function"==typeof le.WebKitMediaKeys.isTypeSupported?this.Gc.addEventListener("webkitneedkey",this.QY):Cs()?this.Gc.addEventListener("webkitneedkey",this.ZY):void 0!==le.MSMediaKeys&&"function"==typeof le.MSMediaKeys.isTypeSupported&&this.Gc.addEventListener("msneedkey",this.jY)},e.zY=function(){this.EN.removeEventListener("play",this.NY),this.EN.removeEventListener("pause",this.DY),this.EN.removeEventListener("timeupdate",this.FY),this.EN.removeEventListener("progress",this.MY),this.EN.removeEventListener("loadstart",this.UY),this.EN.removeEventListener("ended",this.HY),this.EN.removeEventListener("ratechange",this.BY),this.EN.removeEventListener("volumechange",this.GY),this.EN.removeEventListener("durationchange",this.xY),this.EN.removeEventListener("resize",this.WY),this.EN.removeEventListener("loadedmetadata",this.WY),this.EN.removeEventListener("error",this.XY),this.EN.removeEventListener("encrypted",this.qY),this.EN.removeEventListener("waitingforkey",this.YY),this.EN.removeEventListener("webkitneedkey",this.QY),this.EN.removeEventListener("webkitneedkey",this.ZY),this.EN.removeEventListener("msneedkey",this.jY),this.EN.removeEventListener("emptied",this.VY)},e.Tj=function(){var t;this.zq||(this.sY=this.mm,this.zq=new KD((t=this).Xg,t.Vg,t.zg,t.qg,t.jg,t.Wg,t.Yg,t.Jg,t.Q_),this.zY(),this.zq.Js(JD,this.Qs))},e.Sj=function(){if(this.zq){var t,n,i=this.zq;this.zq=void 0,this.Gq.SG(),t=this,(n=i).Vg===t.Vg||y(n.Vg)&&y(t.Vg)||t.Zs(new Sy(t.Vg)),t.Wg=n.Wg,t.Jg=n.Jg,t.Yg=n.Yg,n.qg?t.xy():t.Ly().catch(J),n.Xg!==t.Xg||n.Q_>ty.Dg&&t.Q_===ty.Dg?t.xu(n.Xg):!n.jg&&t.jg?t.Zs(new Dy(t.Xg)):n.jg&&!t.jg&&t.Q_>=ty.Og&&t.Zs(new Cy(t.Xg)),!n.zg&&t.zg&&t.Zs(new Ry(t.Xg)),i.xs(),this.tj()}},e.fN=function(t){this.nN=t,this.aj(this.nN),this.Zs(new sC(this.nN))},e.Ej=function(){this.Ij||(AB(this.Gc,i.Mr),this.wY=!0)},e.Rj=function(t){t.appendChild(this.Gc)},e.lG=function(){zO&&this.bY(),this.Gq.SG()},e.nm=function(){this.EF.Fq().catch(J)},b(n,[{key:"IG",get:function(){return this.lY}},{key:"im",get:function(){return this.tN?this.tN.im:gS.dC()}},{key:"um",get:function(){var t=this.QN;if(t&&!y(t.getTime())){var n=1e3*this.Xg;return new Date(t.getTime()+n)}}},{key:"QN",get:function(){if(this.EN.getStartDate)return this.AC&&this.tY||(this.tY=this.EN.getStartDate()),this.tY}},{key:"Xg",get:function(){return this.zq?this.zq.Xg:void 0!==this.Kq?this.Kq:this.Gc.currentTime}},{key:"OU",get:function(){return this.Xq}},{key:"Vg",get:function(){return this.zq?this.zq.Vg:this.tN?this.tN.Vg:this.Gc.duration}},{key:"zg",get:function(){return this.jg?this.ij():this.zq?this.zq.zg:this.Gc.ended||this.aY}},{key:"mu",get:function(){return this.nN}},{key:"EN",get:function(){return this.Gc}},{key:"qg",get:function(){return this.vY?this.dY:this.zq?this.zq.qg:this.Gc.paused}},{key:"mm",get:function(){return this.sY.QD(gS.cC(this.Gc.played))}},{key:"oT",get:function(){return this.Gc.offsetHeight*i.Mr.Ve}},{key:"Ek",get:function(){return this.Gc.offsetWidth*i.Mr.Ve}},{key:"FN",get:function(){return kS}},{key:"Q_",get:function(){return this.Gq.Q_}},{key:"Am",get:function(){return this.tN?this.tN.Am:gS.dC()}},{key:"jg",get:function(){return this.zq?this.zq.jg:this.AC}},{key:"Wg",get:function(){return this.zq?this.zq.Wg:this.Gc.muted},set:function(t){this.zq?this.zq.Wg=t:this.Gc.muted=t}},{key:"Yg",get:function(){return this.zq?this.zq.Yg:void 0!==this.uY?this.uY:this.Gc.playbackRate},set:function(t){this.zq?this.zq.Yg=t:this.qg||this.lY?(this.uY=t,this.LY(t)):(this.uY=void 0,this.Gc.playbackRate=t)}},{key:"Nj",get:function(){return this.pD}},{key:"Jg",get:function(){return this.zq?this.zq.Jg:this.Gc.volume},set:function(t){this.zq?this.zq.Jg=t:this.Gc.volume=t}},{key:"Py",get:function(){return this.Zq}},{key:"BU",get:function(){return this.SC}},{key:"cm",get:function(){return!!this.Gc.webkitCurrentPlaybackTargetIsWireless}},{key:"Ij",get:function(){return this.wY}},{key:"Dj",get:function(){return xr({},LN)}},{key:"IN",get:function(){return this.EF.IN},set:function(t){this.EF.IN=t}},{key:"Cj",get:function(){return this.Xz},set:function(t){this.Xz=t}},{key:"Hq",get:function(){return this.EF.Hq}},{key:"Sm",get:function(){return this.hY},set:function(t){this.hY=t,this.cY&&!this.hY&&(this.cY=!1,this.tj())}}]),n}(Au);function jO(t){try{var n=zo(t),i=new Zo;return Po(Bo(vo(n,i,mo(n,i,!0)),!0))}catch(t){return}}var QO=.01;function ZO(t,n,i){if(void 0===i&&(i=0),!n.T_)return 0;var e=n.HD(t),r=QO*i;return e===n.DD(0)?e+=r:e===n.OD(n.T_-1)&&(e-=r),e}function JO(t,n){for(var i=0,e=t.b_;i<e.length;i++){var r=e[i];if(r.xm===n)return r}}function KO(t){return!!t.cues&&t.cues.length>0}var $O={ZM:void 0,JM:void 0,KM:void 0,$M:void 0,tU:void 0,nU:void 0,uU:void 0,iU:void 0,eU:void 0,rU:void 0,sU:void 0},tP=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).qw=void 0,n}return S(n,t),b(n,[{key:"Yw",get:function(){return this.qw||(this.qw=JR(this)),this.qw}},{key:"ZM",get:function(){}},{key:"JM",get:function(){}},{key:"KM",get:function(){}},{key:"$M",get:function(){}},{key:"tU",get:function(){}},{key:"nU",get:function(){}},{key:"uU",get:function(){}},{key:"iU",get:function(){}},{key:"eU",get:function(){}},{key:"rU",get:function(){}},{key:"sU",get:function(){}}]),n}(Au);new tP;var nP=function(t){function n(n,i,e){return t.call(this,n,i,e,new tP)||this}return S(n,t),n.prototype.jy=function(){},b(n,[{key:"Qg",get:function(){return 0}},{key:"Zg",get:function(){return 0}}]),n}(YO),iP="theoplayer-texttracks",eP=function(){function t(t){void 0===t&&(t=5),this.Oj=void 0;var n=le.document.createElement("div");n.className=iP,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.Oj=n,this.qy()}var n=t.prototype;return n.Yy=function(){this.Oj.style.display="none"},n.qy=function(){this.Oj.style.display="block"},n.Rj=function(t){t.appendChild(this.Oj)},n.Il=function(){tr(this.Oj)},b(t,[{key:"hm",get:function(){return this.Oj}}]),t}();function rP(t,n){return xr({},n,kg({ZM:(i=t).ZM,JM:i.JM,KM:i.KM,$M:i.$M,tU:i.tU,nU:i.nU,uU:i.uU,iU:i.iU,eU:i.eU,rU:i.rU,sU:i.sU}));var i}function sP(t){return t.KM&&ks(t.KM,"%")?Number(t.KM.replace("%",""))/100:t.KM&&ks(t.KM,"em")?Number(t.KM.replace("em","")):1}var uP,oP,aP=function(){function t(t,n,i,e,r){var s=this;this.Pj=Fr(),this.Bj=!0,this.Lj=void 0,this.xj=xr({},$O),this.Mj=[],this.ck=void 0,this.Gc=void 0,this.Xq=void 0,this.Uj=void 0,this.Fj=function(t){return s.kE(t.Gm)},this.Hj=function(t){return s.removeCue(t.Gm)},this.Xj=function(){return s.Vj()},this.zj=function(t){return s.Gj(t.Gm)},this.Wj=function(t){return s.qj(t.Gm)},this.Yj=function(t){return s.jj(t.Gm)},this.Qj=function(t){s.Zj(t.Ek,t.oT)},this.ck=t,this.Uj=this.Lj=r,this.Gc=this.Jj(i),this.Xq=e,n.appendChild(this.Gc)}var n=t.prototype;return n.Kj=function(t){var n=this.$j(t);if(!n)return!1;for(var i=0;i<n.length;i++){tr(n[i])}return this.tQ(t),!0},n.gx=function(){var t=this;this.nQ(),this.ck.Z_.b_.forEach(function(n){return t.kE(n)}),this.OU.Js("TB",this.Qj),this.Zj(this.OU.CB,this.OU.DB)},n.iQ=function(t){this.xj=t,this.Lj=rP(this.xj,this.Uj),this.Lj.ZM&&(this.EN.style.fontFamily=this.Lj.ZM),this.Lj.uU&&(this.EN.style.visibility=this.Lj.uU),this.Zj(this.OU.CB,this.OU.DB),this.eQ(!0)},n.rQ=function(){return this.Lj},n.sQ=function(t){return this.Pj.has(t.L_)},n.nQ=function(){this.ck.Js(eg.Zw,this.Fj),this.ck.Js(eg.Kw,this.Hj),this.ck.Js(eg.u_,this.Xj)},n.uQ=function(){this.ck.nu(eg.Zw,this.Fj),this.ck.nu(eg.Kw,this.Hj),this.ck.nu(eg.u_,this.Xj)},n.oQ=function(t){t.Js(Om.Hm,this.zj),t.Js(Om.Vm,this.Wj),t.Js(Om.v_,this.Yj)},n.aQ=function(t){t.nu(Om.Hm,this.zj),t.nu(Om.Vm,this.Wj),t.nu(Om.v_,this.Yj)},n.kE=function(t){this.oQ(t),t._k&&this.Gj(t)},n.removeCue=function(t){this.aQ(t),this.qj(t)},n.Vj=function(){this.ck.q_===Bg.z_?this.hQ():this.cQ()},n.hQ=function(){if(this.Bj){this.Bj=!1;var t=this.OU.CB,n=this.OU.DB;this.Zj(t,n),this.eQ(!1)}},n.cQ=function(){this.Bj||(this.Bj=!0,this.eQ(!0))},n.Gj=function(t){this.Bj||t._k&&!this.sQ(t)&&this.eQ(!1)},n.qj=function(t){this.sQ(t)&&this.eQ(!1)},n.jj=function(t){(t._k||this.sQ(t))&&this.eQ(!0)},n.eQ=function(t){var n=this.Mj,i=this.Bj?[]:this.ck.J_.b_.slice();this.fQ(i,n,t),this.Mj=i},n.$j=function(t){var n;return null==(n=this.Pj.get(t.L_))?void 0:n.vQ},n.dQ=function(t,n){this.Pj.set(t.L_,{Gm:t,vQ:n})},n.tQ=function(t){this.Pj.delete(t.L_)},n.lQ=function(){return this.Mj.slice()},n.Il=function(){var t=this;tr(this.EN),this.Pj.clear(),this.uQ(),this.ck.Z_.b_.forEach(function(n){return t.aQ(n)}),this.OU.nu("TB",this.Qj)},b(t,[{key:"Qw",get:function(){return this.ck}},{key:"EN",get:function(){return this.Gc}},{key:"OU",get:function(){return this.Xq}},{key:"wQ",get:function(){return this.Lj}},{key:"_Q",get:function(){return this.xj}}]),t}();function hP(t){return cP[t||"none"]}!function(t){t.gQ='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.yQ='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.mQ='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.kQ='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(uP||(uP={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(oP||(oP={}));var cP={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},fP=Hr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),vP={JM:oP.WHITE,ZM:"Arial, Helvetica, Sans-Serif",KM:"100%",$M:oP.TRANSPARENT,tU:oP.TRANSPARENT,nU:"none",uU:"visible",iU:void 0,eU:void 0,rU:void 0,sU:void 0},dP=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,vP)||this}S(n,t);var i=n.prototype;return i.Jj=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",ur(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.Zj=function(t,n){var i=w.min(t,n)/15;this.EN.style.fontSize=i+"px"},i.fQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r._k||this.Kj(r)}for(var s=0;s<t.length;s++){var u=t[s];this.pQ(u)}},i.pQ=function(t){var n=this.$j(t);n||(n=this.AQ(t),this.dQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.EN.appendChild(r)}},i.AQ=function(t){var n,i=[],e=t.ZS,r=t.$p,u=t.Ym;if(0===l.keys(r).length){pP(n=s.createElement("div"));for(var o=lP(u,e,t.JS,void 0),a=0;a<o.length;a++){var h=o[a];n.appendChild(h)}i.push(n)}else for(var c=0,f=l.keys(r);c<f.length;c++){var v=f[c],d=s.createElement("div");d.id=v;var w=lP(u,e,t.JS,d);if(w){pP(d),_P(d,"region",r[v],e);for(var _=0;_<w.length;_++){var g=w[_];d.appendChild(g)}i.push(d)}i.push(d)}return i},i.iQ=function(t){var n,i,e,r;n=this.EN,i=t,n.style.marginTop=(null!=(e=i.iU)?e:0)+"px",n.style.marginBottom=(null!=(r=i.eU)?r:0)+"px",n.style.height="calc(100% - "+n.style.marginTop+" - "+n.style.marginBottom+")",nN(this.EN,t)},n}(aP);function lP(t,n,i,e){var r,u;if(Zt(t)&&("SPAN"===(u=t).wi.toUpperCase()||"P"===u.wi.toUpperCase()||"BR"===u.wi.toUpperCase()||"DIV"===u.wi.toUpperCase()||"BODY"===u.wi.toUpperCase())){var o=function t(n){var i=n.Bi("region");if("p"===n.wi.toLowerCase())return i;var e=[];for(var r=0,s=n.Pi;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(r="BODY"===t.wi.toUpperCase()?e:function(t){var n;switch(t.wi.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":wP(n=s.createElement("span"),t);break;case"P":n=s.createElement("p"),(i=n).style.fontFamily="inherit",i.style.color="inherit",i.style.textAlign="inherit",i.style.padding="0",i.style.margin="0",i.style.lineHeight="inherit",wP(n,t);break;case"DIV":wP(n=s.createElement("div"),t)}var i;return n}(t))&&(function(t,n,i,e){var r=n.Bi("style");yP(t,n.wi,r,i,e),function(t,n,i){for(var e=0,r=n.Hi;e<r.length;e++){var s=r[e],u=kp(s._i,["ebutts","tts","xml"]);mP(t,n.wi,u,s.Ti,i)}}(t,n,e)}(r,t,n,e),function(t,n,i){var e=null==n?void 0:n.Bi("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&function t(n,i){if(i(n))return n;for(var e=0,r=n.Pi;e<r.length;e++){var s=r[e],u=t(s,i);if(u)return u}return null}(i,function(t){return t.Hi.some(function(t){return"id"===t.wi&&t.Ti===e})});r&&gP(t,r,n,!0)}!function(t,n){var i=n.Pi[0];if(!i||"metadata"!==i.wi.toLowerCase())return;var e=i.Pi[0];gP(t,e,n)}(t,n)}(r,t,i));for(var a=[],h=t.Ri,c=0;c<h.length;c++){var f=lP(h[c],n,i,e);f&&(a=a.concat(f))}if("BODY"!==t.wi.toUpperCase()){for(var v=0,d=a;v<d.length;v++){var l,w=d[v];null==(l=r)||l.appendChild(w)}return r?[r]:[]}return a}}else Jt(t)&&(r=s.createTextNode(t.Vi));return r?[r]:[]}function wP(t,n){var i=n.Li(gp,"id");i&&(t.id=i)}function _P(t,n,i,e){yP(t,n,i.style,e,t);for(var r=0,s=l.keys(i);r<s.length;r++){var u=s[r];mP(t,n,u,i[u],t)}}function gP(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Ri.length>0?t.Ri[0]:null;return n&&Jt(n)?"data:image/png;base64,"+n.Vi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){ur(t.style,"flex");var i=n.Bi("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Bi("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function yP(t,n,i,e,r){if(i)for(var s=0,u=i.split(" ");s<u.length;s++){var o=u[s];if(e[o])for(var a=0,h=l.keys(e[o]);a<h.length;a++){var c=h[a],f=kp(c,["ebutts","tts","xml"]);"style"===f.toLowerCase()?yP(t,n,e[o][c],e,r):mP(t,n,f,e[o][c],r)}}}function mP(t,n,i,e,r){switch(i){case"backgroundColor":t.style.backgroundColor=e;break;case"color":t.style.color=e;break;case"direction":t.style.direction=e;break;case"display":"none"===e&&(t.style.display="none");break;case"fontFamily":var s=fP.get(e);t.style.fontFamily=s||e;break;case"fontSize":ks(e,"px")?e=_(e)/24+"em":ks(e,"c")&&(e=e.replace("c","em")),t.style.fontSize=e;break;case"fontStyle":t.style.fontStyle=e;break;case"fontWeight":t.style.fontWeight=e;break;case"lineHeight":t.style.lineHeight=e;break;case"opacity":t.style.opacity=e;break;case"overflow":t.style.overflow=e;break;case"padding":t.style.padding=e;break;case"textAlign":"right"===e?(t.style.textAlign="right",t.style.justifyContent="flex-end"):"start"===e?(t.style.textAlign="start",t.style.justifyContent="flex-start"):"center"===e?(t.style.textAlign="center",t.style.justifyContent="center"):"end"===e?(t.style.textAlign="end",t.style.justifyContent="flex-end"):"left"===e&&(t.style.textAlign="left",t.style.justifyContent="flex-start");break;case"textDecoration":var u=e;u=(u=(u=(u=u.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),t.style.textDecoration=u;break;case"unicodeBidi":t.style.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":t.style.visibility=e;break;case"zIndex":t.style.zIndex=e;break;case"displayAlign":var o;if("before"===e.toLowerCase())o="flex-start";else if("center"===e.toLowerCase())o="center";else{if("after"!==e.toLowerCase())return;o="flex-end"}t.style.alignItems=o;break;case"extent":var a,h,c=kP(n.toLowerCase())?r:t,f=e.split(" ");f.length>=2?(a=f[0],h=f[1]):a=h="100%",c&&(c.style.height=h,c.style.width=a);break;case"origin":var v=kP(n.toLowerCase())?r:t,d=e.split(" "),l=d[0],w=d[1];v&&(l||w)&&(l&&(v.style.left=l),w&&(v.style.top=w));break;case"showBackground":break;case"wrapOption":t.style.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var g,y,m,k;switch(e){case"lrtb":g="horizontal-tb";break;case"rltb":g="horizontal-tb",y="rtl",k="bidi-override";break;case"tbrl":g="vertical-rl",m="upright";break;case"tblr":g="vertical-lr",m="upright";break;case"lr":g="horizontal-tb";break;case"rl":g="horizontal-tb",y="rtl";break;case"tb":g="vertical-rl",m="upright";break;default:return}t.style.writingMode=g,t.style.setProperty("-webkit-writing-mode",g),y&&(t.style.direction=y),m&&(t.style.textOrientation=m,t.style.setProperty("-webkit-text-orientation",m)),k&&(t.style.unicodeBidi=k);break;case"textOutline":break;case"linePadding":if(ks(e,"c")){var p=e.replace("c","em");t.style.paddingLeft=t.style.paddingRight=p}break;case"multiRowAlign":"auto"===e.toLowerCase()?t.style.textAlign="":t.style.textAlign="value"}}function kP(t){return"div"===t||"p"===t||"span"===t}function pP(t){ur(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",t.style.textAlign="start",t.style.writingMode="horizontal-tb",t.style.setProperty("-webkit-writing-mode","horizontal-tb"),t.style.padding="0",t.style.margin="0",t.style.lineHeight="1.3em"}var AP,bP,TP=void 0;function SP(t,n){for(var i,e=AP.bQ,r="",s=[],u=t.charAt(n.Pu),o="",a={vs:bP.TQ,Ni:"",SQ:[]};n.Pu<t.length+1;){switch(u=n.Pu<t.length?t.charAt(n.Pu):"EOF",e){case AP.bQ:switch(u){case"&":var h=t.substring(n.Pu).match(/&#?[0-9a-zA-Z]+;/);h?(r+=(i=h[0],TP||(TP=le.document.createElement("textarea")),TP.innerHTML=i,TP.value),n.Bu(h[0].length-1)):r+="&";break;case"<":if(r)return{vs:bP.EQ,Ym:r};e=AP.IQ;break;case"EOF":return{vs:bP.EQ,Ym:r};default:r+=u}break;case AP.IQ:switch(u){case"\t":case"\n":case"\f":case" ":e=AP.RQ;break;case".":e=AP.NQ;break;case"/":e=AP.DQ;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=AP.CQ;break;case">":return n.Bu(1),a;case"EOF":return a;default:r=u,e=AP.OQ}break;case AP.OQ:switch(u){case"\t":case"\f":case" ":e=AP.RQ;break;case"\n":o=u,e=AP.RQ;break;case".":e=AP.NQ;break;case">":return n.Bu(1),{vs:bP.TQ,Ni:r,SQ:[]};case"EOF":return{vs:bP.TQ,Ni:r,SQ:[]};default:r+=u}break;case AP.NQ:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=AP.RQ;break;case"\n":s.push(o),o=u,e=AP.RQ;break;case".":s.push(o),o="";break;case">":return n.Bu(1),s.push(o),{vs:bP.TQ,Ni:r,SQ:s};case"EOF":return s.push(o),{vs:bP.TQ,Ni:r,SQ:s};default:o+=u}break;case AP.RQ:switch(u){case"&":e=AP.BQ;break;case">":n.Bu(1);var c=o.trim();return c=c.replace(/\s/," "),{vs:bP.TQ,Ni:r,SQ:s,LQ:c};default:o+=u}break;case AP.BQ:for(var f="",v=n.Pu;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=AP.RQ;break;case AP.DQ:switch(u){case">":return n.Bu(1),{vs:bP.xQ,Ni:r};case"EOF":return{vs:bP.xQ,Ni:r};default:r+=u}break;case AP.CQ:switch(u){case">":return n.Bu(1),{vs:bP.MQ,UQ:r};case"EOF":return{vs:bP.MQ,UQ:r};default:r+=u}}n.Bu(1)}return a}function EP(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.bQ="Data",t.IQ="Tag",t.OQ="StartTag",t.NQ="StartTagClass",t.RQ="StartTagAnnotation",t.BQ="CharRefInAnnotation",t.DQ="EndTag",t.CQ="TimestampTag"}(AP||(AP={})),function(t){t.EQ="string",t.TQ="starttag",t.xQ="endtag",t.MQ="timestamp"}(bP||(bP={}));var IP,RP=function(){function t(t,n,i,e){this.FQ=void 0,this.HQ=void 0,this.Ek=void 0,this.oT=void 0,this.FQ=t,this.HQ=n,this.Ek=i,this.oT=e}var n=t.prototype;return n.XQ=function(t){return this.FQ<t.VQ&&this.VQ>t.FQ&&this.HQ<t.zQ&&this.zQ>t.HQ},n.Rm=function(t){return this.FQ<=t.FQ&&t.VQ<=this.VQ&&this.HQ<=t.HQ&&t.zQ<=this.zQ},n.Mu=function(){return new t(this.FQ,this.HQ,this.Ek,this.oT)},b(t,[{key:"VQ",get:function(){return this.FQ+this.Ek},set:function(t){this.FQ=t-this.Ek}},{key:"zQ",get:function(){return this.HQ+this.oT},set:function(t){this.HQ=t-this.oT}}]),t}(),NP={JM:oP.WHITE,ZM:"sans-serif",KM:"100%",$M:"rgba(0,0,0,0.8)",tU:oP.TRANSPARENT,nU:"none",uU:"visible",iU:void 0,eU:void 0,rU:void 0,sU:void 0},DP="theoplayer-webvtt-region-",CP="theoplayer-webvtt-styling-",OP="theoplayer-webvtt-voice-",PP="theoplayer-webvtt-default-style",BP=5.23,LP=1.14,xP=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,NP)||this).GQ=Ur(),s.WQ=XP(3),s}S(n,t);var i=n.prototype;return i.Jj=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,hr(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.wQ.ZM;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(s.getElementById(PP))return;for(var t=[],n=0;n<QP.length;n++){var i=QP[n],e=i[0],r=i[1];t.push("."+CP+e+" { color: "+r+" !important; }"),t.push("."+CP+"qQ"+e+" { background-color: "+r+" !important; }"),t.push("video::cue(."+e+") { color: "+r+"; }"),t.push("YQ"+e+") { background-color: "+r+"; }")}var u=s.createElement("style");u.id=PP,u.innerHTML=t.join("\n"),s.body.appendChild(u)}(),n},i.gx=function(){this.EN.appendChild(this.WQ),t.prototype.gx.call(this)},i.Zj=function(t,n){var i=this,e=w.min(t/100,n/100),r=sP(this.wQ);this.GQ.forEach(function(t){var n=t.$m,s=t.jQ;i.QQ(s,e,r,n)}),this.QQ(this.WQ,e,r)},i.iQ=function(n){nN(this.EN,n),t.prototype.iQ.call(this,n)},i.fQ=function(t,n,i){for(var e=this,r=this.EN,s=this.OU.DB/100,u=[],o=0;o<t.length;o++){var a=t[o];void 0!==a.$m&&(Ys(u,a.$m)||u.push(a.$m))}this.GQ.forEach(function(t,n){var r=t.$m,s=t.jQ;!i&&Ys(u,r)||(tr(s),e.GQ.delete(n))});for(var h=0;h<n.length;h++){var c=n[h];!i&&c._k||this.Kj(c)}var f=[],v=WP(this.WQ.getBoundingClientRect());f.push.apply(f,this.ZQ(v));for(var d=0;d<u.length;d++){var l=u[d],w=void 0;this.GQ.has(l.B_)?w=this.GQ.get(l.B_).jQ:(w=VP(l,s),r.appendChild(w),this.GQ.set(l.B_,{$m:l,jQ:w})),f.push(WP(w.getBoundingClientRect()))}for(var _=0;_<t.length;_++){var g=t[_],y=this.pQ(g,f,v);void 0!==y&&f.push(y)}},i.ZQ=function(t){var n=[],i=this.wQ;if(void 0!==i.iU){var e=t.Mu();e.oT=i.iU,n.push(e)}if(void 0!==i.eU){var r=t.Mu();r.oT=i.eU,r.zQ=t.zQ,n.push(r)}return n},i.pQ=function(t,n,i){var e,r;t.$m?(r=this.GQ.get(t.$m.B_).jQ,"up"===t.$m.bk&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.WQ;var s=null==(e=this.$j(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.JQ(t),r.appendChild(s),t.$m||(t.nk?function(t,n,i,e){var r=zP(t),s=r?i.oT:i.Ek,u=g(getComputedStyle(n).lineHeight);if(0===u)return;var o=WP(n.getBoundingClientRect()),a=w.round(Qm(t));"rl"===t.ek&&(a=-(a+1));var h=u*a;"rl"===t.ek&&(h=h-o.Ek+u);a<0&&(h+=s,u=-u);r?o.HQ+=h:o.FQ+=h;var c=o.Mu(),f=!1;for(;!i.Rm(o)||GP(o,e);)if(r)if(u<0&&o.HQ<i.HQ||u>0&&o.zQ>i.zQ){if(o.HQ=c.HQ,f)break;u=-u,f=!0}else o.HQ+=u;else if(u<0&&o.FQ<i.FQ||u>0&&o.VQ>i.VQ){if(o.FQ=c.FQ,f)break;u=-u,f=!0}else o.FQ+=u;r?n.style.top=(o.HQ-i.HQ)/i.oT*100+"%":n.style.left=(o.FQ-i.FQ)/i.Ek*100+"%"}(t,s,i,n):function(t,n,i,e){var r=WP(n.getBoundingClientRect());if(0===r.Ek||0===r.oT)return;zP(t)?"center"===t.Zm?r.HQ-=r.oT/2:"end"===t.Zm&&(r.HQ-=r.oT):"center"===t.Zm?r.FQ-=r.Ek/2:"end"===t.Zm&&(r.FQ-=r.Ek);var s,u=r.Mu(),o=u,a=1,h=!1;s=""===t.ek?[IP.POS_Y,IP.NEG_Y,IP.POS_X,IP.NEG_X]:"lr"===t.ek?[IP.POS_X,IP.NEG_X,IP.POS_Y,IP.NEG_Y]:[IP.NEG_X,IP.POS_X,IP.POS_Y,IP.NEG_Y];var c=g(getComputedStyle(n).lineHeight)/4;if(c>0){for(var f=0;f<s.length&&!h;f++){for(;!YP(r,i,s[f],.01)&&(!i.Rm(r)||GP(r,e));)qP(r,s[f],c);if(i.Rm(r)){o=r.Mu(),h=!0;break}var v=(d=r,l=i,_=void 0,y=void 0,void 0,_=w.max(0,w.min(d.VQ,l.VQ)-w.max(d.FQ,l.FQ)),y=w.max(0,w.min(d.zQ,l.zQ)-w.max(d.HQ,l.HQ)),_*y/(d.Ek*d.oT));a>v&&(o=r.Mu(),a=v),r=u.Mu()}i.Rm(r)||(o=u.Mu())}var d,l,_,y;n.style.left=(o.FQ-i.FQ)/i.Ek*100+"%",n.style.top=(o.HQ-i.HQ)/i.oT*100+"%"}(t,s,i,n)),this.dQ(t,[s])),!t.$m)return WP(s.getBoundingClientRect())},i.JQ=function(t){for(var n=new Zo,i=t.Ym,e=this.KQ(t),r={$Q:void 0,hm:e},u=r,o="",a="",h=[r],c=[],f=[];n.Pu<i.length;){var v=SP(i,n);if(v.vs===bP.EQ){var d=s.createElement("span");EP(d,v.Ym),MP(d,h),""!==o&&(d.lang=o),this.tZ(d,a),u.hm.appendChild(d)}else if(v.vs===bP.TQ){var l=v.Ni.toLowerCase();switch(l){case"i":case"b":case"u":case"ruby":var w=s.createElement(l);u.hm.appendChild(w),u={$Q:v,hm:w},h.push(u);break;case"rt":var _;if("ruby"===(null==(_=u.$Q)?void 0:_.Ni.toLowerCase())){var g=s.createElement("rt");u.hm.appendChild(g),u={$Q:v,hm:g},h.push(u)}break;case"c":case"v":u={$Q:v,hm:u.hm},h.push(u);break;case"font":var y,m=null==(y=v.LQ)?void 0:y.match(/(?:^| )color=["']([^"']+)/i);m&&(a=m[1],f.push(a),u={$Q:v,hm:u.hm},h.push(u));break;case"lang":var k;o=null!=(k=v.LQ)?k:"",c.push(o)}}else if(v.vs===bP.xQ){var p,A=v.Ni.toLowerCase(),b=null==(p=u.$Q)?void 0:p.Ni.toLowerCase();b===A?(h.pop(),u=h[h.length-1],"font"===A&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===b&&"ruby"===A?(h.pop(),h.pop(),u=h[h.length-1]):"lang"===A&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(v.vs===bP.MQ){var T=v.UQ,S=new Zo;try{Xk(T,S)}catch(t){at("ERROR collecting timestamp",t)}}}return e},i.tZ=function(t,n){var i=this.wQ,e=this._Q;i.$M&&(t.style.background=i.$M);var r=e.JM||n||i.JM;r&&(t.style.color=r)},i.QQ=function(t,n,i,e){if(e){var r=UP(e,n);t.style.height=r*i+"px",t.style.left=FP(e)+"%",t.style.top=HP(e,n)+"px"}t.style.fontSize=BP*n*i+"px"},i.KQ=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.jm,function(t,n){"rl"===n.ek?t.style.writingMode="vertical-rl":"lr"===n.ek?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Km(n);zP(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=Jm(n),s=Zm(n),u=Km(n);if(zP(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.nk?0:Qm(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.nk?0:Qm(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.wQ.tU;i&&(n.style.background=i);var e=this.wQ.JM;return e&&(n.style.color=e),n.style.textShadow=hP(this.wQ.nU),n},n}(aP);function MP(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.$Q){for(var r=0,s=e.$Q.SQ;r<s.length;r++){var u=s[r];rr(t,CP+u)}"v"===e.$Q.Ni.toLowerCase()&&e.$Q.LQ&&rr(t,OP+e.$Q.LQ)}}}function UP(t,n){return t.yk*(BP*n)*LP}function FP(t){return t.Tk-t.pk*t.Ek/100}function HP(t,n){var i=t.Sk,e=t.Ak*UP(t,n)/100;return w.max(0,i-e)}function XP(t){var n=s.createElement("div");return n.className=DP+"default",hr(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=BP*t+"px",n.style.lineHeight=LP+"em",n}function VP(t,n){var i=XP(n);i.className=DP+t.B_;var e=t.Ek,r=UP(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=FP(t)+"%",i.style.right="",i.style.top=HP(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function zP(t){return""===t.ek}function GP(t,n){return n.some(function(n){return t.XQ(n)})}function WP(t){return new RP(t.left,t.top,t.width,t.height)}function qP(t,n,i){switch(n){case IP.POS_X:t.FQ+=i;break;case IP.NEG_X:t.FQ-=i;break;case IP.POS_Y:t.HQ+=i;break;case IP.NEG_Y:t.HQ-=i}}function YP(t,n,i,e){switch(i){case IP.POS_X:return t.VQ>n.VQ+e;case IP.NEG_X:return t.FQ<n.FQ-e;case IP.POS_Y:return t.zQ>n.zQ+e;case IP.NEG_Y:return t.HQ<n.HQ-e}}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(IP||(IP={}));var jP,QP=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(jP||(jP={}));var ZP={JM:oP.WHITE,ZM:uP.mQ,KM:"100%",$M:oP.BLACK,tU:"transparent",nU:"none",nZ:jP.FONT_REGULAR,uU:"visible",iU:void 0,eU:void 0,rU:void 0,sU:void 0},JP=[{iZ:oP.WHITE,nZ:jP.FONT_REGULAR,eZ:0},{iZ:oP.WHITE,nZ:jP.FONT_UNDERLINE,eZ:0},{iZ:oP.GREEN,nZ:jP.FONT_REGULAR,eZ:0},{iZ:oP.GREEN,nZ:jP.FONT_UNDERLINE,eZ:0},{iZ:oP.BLUE,nZ:jP.FONT_REGULAR,eZ:0},{iZ:oP.BLUE,nZ:jP.FONT_UNDERLINE,eZ:0},{iZ:oP.CYAN,nZ:jP.FONT_REGULAR,eZ:0},{iZ:oP.CYAN,nZ:jP.FONT_UNDERLINE,eZ:0},{iZ:oP.RED,nZ:jP.FONT_REGULAR,eZ:0},{iZ:oP.RED,nZ:jP.FONT_UNDERLINE,eZ:0},{iZ:oP.YELLOW,nZ:jP.FONT_REGULAR,eZ:0},{iZ:oP.YELLOW,nZ:jP.FONT_UNDERLINE,eZ:0},{iZ:oP.MAGENTA,nZ:jP.FONT_REGULAR,eZ:0},{iZ:oP.MAGENTA,nZ:jP.FONT_UNDERLINE,eZ:0},{iZ:oP.WHITE,nZ:jP.FONT_ITALICS,eZ:0},{iZ:oP.WHITE,nZ:jP.FONT_UNDERLINE_ITALICS,eZ:0},{iZ:oP.WHITE,nZ:jP.FONT_REGULAR,eZ:0},{iZ:oP.WHITE,nZ:jP.FONT_UNDERLINE,eZ:0},{iZ:oP.WHITE,nZ:jP.FONT_REGULAR,eZ:4},{iZ:oP.WHITE,nZ:jP.FONT_UNDERLINE,eZ:4},{iZ:oP.WHITE,nZ:jP.FONT_REGULAR,eZ:8},{iZ:oP.WHITE,nZ:jP.FONT_UNDERLINE,eZ:8},{iZ:oP.WHITE,nZ:jP.FONT_REGULAR,eZ:12},{iZ:oP.WHITE,nZ:jP.FONT_UNDERLINE,eZ:12},{iZ:oP.WHITE,nZ:jP.FONT_REGULAR,eZ:16},{iZ:oP.WHITE,nZ:jP.FONT_UNDERLINE,eZ:16},{iZ:oP.WHITE,nZ:jP.FONT_REGULAR,eZ:20},{iZ:oP.WHITE,nZ:jP.FONT_UNDERLINE,eZ:20},{iZ:oP.WHITE,nZ:jP.FONT_REGULAR,eZ:24},{iZ:oP.WHITE,nZ:jP.FONT_UNDERLINE,eZ:24},{iZ:oP.WHITE,nZ:jP.FONT_REGULAR,eZ:28},{iZ:oP.WHITE,nZ:jP.FONT_UNDERLINE,eZ:28}],KP=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function $P(t,n){return dk(t.rZ,n.rZ)||Us(t.dS,n.dS)}var tB=32,nB=function(){function t(t,n,i){this.sZ=void 0,this.uZ=t,this.oZ=n,this.Lj=i}var n=t.prototype;return n.aZ=function(){return this.sZ=this.hZ(),this.cZ(),this.fZ(),this.sZ},n.hZ=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.vZ/tB*this.oZ.dZ*100+"%",t.style.height=1.2*this.lZ+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.oZ.wZ?"calc(1em - 1ch)":"";var n=this.Lj.ZM;n&&(t.style.fontFamily=n);var i=this.Lj.tU;return i&&(t.style.backgroundColor=i),t},n.cZ=function(){if(this.sZ){var t=this.gZ._Z/15*100,n=this.gZ.eZ/tB*100,i=(tB-this.yZ.eZ-1)/tB*100,e=(15-this.yZ._Z-1)/15*100;this.oZ.mZ||(n=i=1,this.sZ.style.width="98%"),e<t?this.sZ.style.bottom=e*this.oZ.dZ+"%":this.sZ.style.top=t*this.oZ.dZ+"%",i<n?this.sZ.style.right=i+"%":this.sZ.style.left=n+"%"}},n.fZ=function(){for(var t=this.uZ.kZ.sort(iB),n=0;n<t.length;n++)this.pZ(t[n-1],t[n]),this.AZ(t[n]);this.pZ(t[t.length-1],void 0)},n.AZ=function(n){var i,e=rP(this.Lj,n.bZ),r=t.TZ(e);EP(r,n.SZ),null==(i=this.sZ)||i.appendChild(r)},t.TZ=function(t){var n=s.createElement("span");n.style.display="inline-block",t.nZ!==jP.FONT_ITALICS&&t.nZ!==jP.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.nZ!==jP.FONT_UNDERLINE&&t.nZ!==jP.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.JM;i&&(n.style.color=i);var e=t.$M;return e&&(n.style.backgroundColor=e),n.style.textShadow=hP(t.nU),n.style.height="1.2em",n},n.pZ=function(t,n){var i=t?t.EZ._Z:this.uZ.IZ._Z,e=n?n.IZ._Z:this.uZ.EZ._Z,r=t?t.EZ.eZ:this.uZ.IZ.eZ,s=n?n.IZ.eZ:this.uZ.EZ.eZ;i<e&&(!n||t&&t.IZ._Z!==n.IZ._Z?this.RZ():this.NZ(this.uZ.EZ.eZ-r),r=this.uZ.IZ.eZ),r<s&&(n?this.NZ(s-r):this.RZ())},n.RZ=function(){var t,n=s.createElement("br");null==(t=this.sZ)||t.appendChild(n)},n.NZ=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",EP(i,As(" ",t)),null==(n=this.sZ)||n.appendChild(i)}},b(t,[{key:"gZ",get:function(){return this.uZ.IZ}},{key:"yZ",get:function(){return this.uZ.EZ}},{key:"vZ",get:function(){return this.uZ.EZ.eZ-this.uZ.IZ.eZ+1}},{key:"lZ",get:function(){return this.uZ.EZ._Z-this.uZ.IZ._Z+1}}]),t}();function iB(t,n){return function(t,n){if(t._Z!==n._Z)return t._Z-n._Z;return t.eZ-n.eZ}(t.IZ,n.IZ)}var eB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,ZP)||this).DZ=void 0,s.CZ=void 0,s}S(n,t);var i=n.prototype;return i.Jj=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.wQ.ZM&&(n.style.fontFamily=this.wQ.ZM),n},i.Zj=function(t,n){this.OZ()},i.OZ=function(){var t,n=sP(this.wQ);this.CZ={dZ:(t=100*n)/100,wZ:t<=100,mZ:t<=150};var i=this.PZ/tB;this.DZ=i*n,this.EN.style.fontSize=this.DZ+"px"},i.fQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r._k||this.Kj(r)}for(var s=0;s<t.length;s++){var u=t[s];this.pQ(u)}},i.pQ=function(t){this.CZ&&this.CZ.mZ?this.BZ(80):this.BZ(100),this.OZ();var n=this.$j(t);n||(n=this.AQ(t),this.dQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.EN.appendChild(r)}},i.AQ=function(t){var n=this;return t.Ym.map(function(t){return new nB(t,n.CZ,n.wQ).aZ()})},i.BZ=function(t){var n=(100-t)/2;this.EN.style.left=n+"%",this.EN.style.width=t+"%"},b(n,[{key:"PZ",get:function(){var t=this.EN.offsetWidth;return this.CZ&&this.CZ.mZ||(t*=.8),t}}]),n}(aP),rB=function(){function t(t,n,i,e,r){var s=this;this.LZ=void 0,this.Xq=void 0,this.Iy=void 0,this.xZ=void 0,this.MZ=[],this.SC=void 0,this.UZ=function(t){var n=t.Qw;n.Js(eg.a_,s.FZ),n.Js(eg.c_,s.FZ),n instanceof yO&&(n.TW=s.TW),s.HZ(n)},this.FZ=function(t){var n=t.Qw;s.HZ(n)},this.XZ=function(t){var n=t.Qw;n.nu(eg.a_,s.FZ),n.nu(eg.c_,s.FZ),s.VZ(n)},this.zZ=function(){for(var t=s.TW,n=0,i=s.Iy.b_;n<i.length;n++){var e=i[n];e instanceof yO&&(e.TW=t)}},this.GZ=function(){for(var t=0,n=s.MZ;t<n.length;t++){n[t].iQ(s.SC)}},this.WZ=function(){for(var t=0,n=s.MZ;t<n.length;t++){var i=n[t];i.iQ(xr({},i.rQ(),{uU:"hidden"}))}},this.qZ=function(){for(var t=0,n=s.MZ;t<n.length;t++){var i=n[t];i.iQ(xr({},i.rQ(),{uU:"visible"}))}},this.LZ=t,this.Xq=n,this.Iy=i,this.xZ=r,this.SC=e,this.Iy.Js($_.Vw,this.UZ),this.Iy.Js($_.Gw,this.XZ),this.Iy.Js(eg.u_,this.FZ),this.xZ.Js(wS.u_,this.zZ),this.SC.Js("o_",this.GZ),this.zZ()}var n=t.prototype;return n.YZ=function(t){for(var n=0,i=this.MZ;n<i.length;n++){var e=i[n];if(e.Qw===t)return e}},t.jZ=function(t){switch(t.vs){case Im.TTML:case Im.SRT:case Im.WEBVTT:case Im.CEA608:return!0}return!1},n.QZ=function(t){switch(t.vs){case Im.TTML:return new dP(t,this.LZ,t.M_,this.Xq);case Im.SRT:case Im.WEBVTT:return new xP(t,this.LZ,t.M_,this.Xq);case Im.CEA608:return new eB(t,this.LZ,t.M_,this.Xq)}},n.ZZ=function(t){var n=this.YZ(t);n||(n=this.QZ(t))&&(n.gx(),n.iQ(this.SC),this.MZ.push(n),t.q_===Bg.z_&&n.hQ())},n.VZ=function(t){for(var n=this.MZ,i=n.length-1;i>=0;i-=1){var e=n[i];e.Qw===t&&(e.Il(),qs(n,i))}},n.HZ=function(n){var i;(i=n.x_)!==Up.WA&&i!==Up.nE||!t.jZ(n)||(n.Q_===Em.ERROR?this.VZ(n):this.ZZ(n))},n.A_=function(){for(var t=0,n=this.MZ;t<n.length;t++){var i=n[t];i.Qw.nu(eg.a_,this.FZ),i.Qw.nu(eg.c_,this.FZ),i.Il()}Qs(this.MZ)},n.Il=function(){this.A_();for(var t=0,n=this.MZ;t<n.length;t++){n[t].Il()}this.Iy.nu($_.Vw,this.UZ),this.Iy.nu($_.Gw,this.XZ),this.Iy.nu(eg.u_,this.FZ),this.xZ.nu(wS.u_,this.zZ),this.SC.nu("o_",this.GZ)},b(t,[{key:"TW",get:function(){return this.xZ.wC}}]),t}();function sB(t){var n=new QI,i=function(t){var n=[];return YI.KB(t)&&n.push(new YI(t)),jI.KB(t)&&n.push(new jI(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.eL(r)}n.iL(i[0])}return n}var uB,oB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).JZ=void 0,s.KZ=void 0,s.$Z=void 0,s.$Z=sB(n),s.JZ=new eP,s.KZ=new rB(s.JZ.hm,s.OU,s.Py,s.BU,s.FN),s}S(n,t);var i=n.prototype;return i.jy=function(){return this.Gc},i.xs=function(){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.$Z.Il(),this.JZ.Il(),this.KZ.Il(),n.next=5,Lr.awrap(t.prototype.xs.call(this));case 5:case"end":return n.stop()}},null,this,null,We)},i.Yy=function(){t.prototype.Yy.call(this),this.JZ.Yy()},i.qy=function(){t.prototype.qy.call(this),this.JZ.qy()},i.Rj=function(n){t.prototype.Rj.call(this,n),this.JZ.Rj(n)},b(n,[{key:"EN",get:function(){return this.Gc}},{key:"Qg",get:function(){return this.Gc.videoHeight}},{key:"Zg",get:function(){return this.Gc.videoWidth}},{key:"FN",get:function(){return this.$Z}}]),n}(YO);!function(t){t.tJ="HELLO",t.nJ="HI_THERE",t.iJ="INITIALIZE",t.eJ="APPEND_INIT",t.rJ="APPEND_DATA",t.sJ="ACK",t.uJ="REMOVE",t.oJ="DESTROY_SESSION"}(uB||(uB={}));var aB=function(){function t(){this._e=void 0,this.Vc=void 0,this.hF=new gN}var n=t.prototype;return n.aJ=function(t){var n=this;return this.hF.KU(function(t){var i,e,r,s,u,a;return Lr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(au(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){h.next=7;break}return h.next=7,Lr.awrap(J_(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){h.next=10;break}return h.next=10,Lr.awrap(J_(o.serviceWorker.controller,"activate",t));case 10:return s={kind:uB.tJ,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n._e=e,h.prev=15,h.next=18,Lr.awrap(J_(e,"message",t));case 18:if(u=h.sent,(a=u.data).kind===uB.nJ){h.next=23;break}throw new v("Could not set up message channel");case 23:n.Vc=a.sessionId,h.next=30;break;case 26:throw h.prev=26,h.t0=h.catch(15),ou(h.t0)&&n.hJ(),h.t0;case 30:case"end":return h.stop()}},null,null,[[15,26]],We)},t)},n.cJ=function(t,n){var i=this;return this._e,this.hF.KU(function(){var e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i._e){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i._e.postMessage(t,n),r.next=7,Lr.awrap(J_(i._e,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,We)})},n.fJ=function(){var t=this;return this.hF.KU(function(){return t.hJ()})},n.hJ=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this._e){var t={kind:uB.oJ};this._e.postMessage(t),this._e.close(),this._e=void 0}},t}(),hB=function(){function t(){this.vJ=rk.Dp}var n=t.prototype;return n.dJ=function(t,n){var i=t.Fk(n);this.vJ=i.Nk(this.lJ)?this.vJ:i},n.wJ=function(t){this.vJ=t},b(t,[{key:"lJ",get:function(){return this.vJ}}]),t}(),cB=function(t){function n(n,i){var e;return(e=t.call(this)||this)._J=void 0,e.gJ=void 0,e.hF=new gN,e.yJ=!1,e.mJ=!1,e.nB=n,e.kJ=i,e}S(n,t);var i=n.prototype;return i.kz=function(t,n){},i.pz=function(t,n){},i.XF=function(){return this.mJ},i.Az=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,We)},i.KV=function(t,n){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,We)},i.XV=function(t,n,i){var e,r,s=this;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.vs===VN.qF){u.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return e=t.Vi,r=function(){var t,i,r;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.buffer,i={kind:uB.rJ,mimeType:s.nB,segment:e,startPts:n.pJ,totalDuration:n.Vg},u.next=4,Lr.awrap(s.kJ.cJ(i,[t]));case 4:void 0===s._J&&(r=n.pJ+n.Kp,s._J=r,s.gJ=r),s.gJ=s.gJ+n.Vg,s.Zs(new Tu(MN.GF));case 7:case"end":return u.stop()}},null,null,null,We)},u.abrupt("return",this.hF.KU(function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return au(t),n.prev=1,s.yJ=!0,n.next=5,Lr.awrap(r());case 5:return n.prev=5,s.yJ=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 5:case"end":return u.stop()}},null,this,null,We)},i.GV=function(t,n,i){var e,r,s=this;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.vs===VN.qF){n.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.Vi,r=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t={kind:uB.eJ,mimeType:s.nB,segment:e},n.next=3,Lr.awrap(s.kJ.cJ(t,[]));case 3:case"end":return n.stop()}},null,null,null,We)},n.abrupt("return",this.hF.KU(function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return au(t),n.prev=1,s.yJ=!0,n.next=5,Lr.awrap(r());case 5:return n.prev=5,s.yJ=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 5:case"end":return n.stop()}},null,this,null,We)},i.lz=function(){this.mJ=!0},i.oz=function(){this.mJ=!1},i.Zh=function(t,n,i){var e,r=this;return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:uB.uJ,mimeType:r.nB,endTime:n},i.next=3,Lr.awrap(r.kJ.cJ(t));case 3:r._J=void 0,r.gJ=void 0,r.Zs(new Tu(MN.GF));case 6:case"end":return i.stop()}},null,null,null,We)},t.abrupt("return",this.hF.KU(function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return au(t),n.prev=1,r.yJ=!0,n.next=5,Lr.awrap(e());case 5:return n.prev=5,r.yJ=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 2:case"end":return t.stop()}},null,this,null,We)},i.OF=function(t){return this.nB===t.Nd},i.PF=function(t){return this.nB=t.Nd,We.resolve()},i.xs=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tu(),t.next=3,Lr.awrap(this.hF.Il());case 3:case"end":return t.stop()}},null,this,null,We)},b(n,[{key:"im",get:function(){return void 0===this._J||void 0===this.gJ?gS.dC():new gS([this._J,this.gJ])}},{key:"uc",get:function(){return{Nd:this.nB}}},{key:"Sz",get:function(){return fm.Zd}},{key:"ZP",get:function(){return this.nB}},{key:"Ez",get:function(){return gS.dC()}},{key:"tx",get:function(){return 30},set:function(t){}},{key:"sx",get:function(){return 30},set:function(t){}},{key:"oL",get:function(){return this.yJ}},{key:"AJ",get:function(){return this._J}},{key:"qm",get:function(){return this.gJ}}]),n}(Au),fB=function(){function t(t,n){this.Pc=void 0,this.uG=void 0,this.oG=void 0,this.Pc=t,this.oG=Vs(n,function(t){return Boolean(t.ZP.match(/video/))}),this.uG=Vs(n,function(t){return Boolean(t.ZP.match(/audio/))}),this.bJ()}t.TJ=function(n,i){for(var e=[],r=0;r<n.mG.length;r++){var s=n.mG[r].Nd;e.push(new cB(s,i))}return new t(n,e)};var n=t.prototype;return n.bJ=function(){},n.xs=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lr.awrap(We.all([this.uG,this.oG].filter(H).map(function(t){return t.xs()})));case 2:case"end":return t.stop()}},null,this,null,We)},n.wG=function(t){},n.yG=function(t,n,i,e){},n.lz=function(){var t,n;null==(t=this.uG)||t.lz(),null==(n=this.oG)||n.lz()},n.oz=function(){var t,n;null==(t=this.uG)||t.oz(),null==(n=this.oG)||n.oz()},n.OF=function(t){return t===this.Pc},n.PF=function(t){return this.Pc=t,We.resolve()},b(t,[{key:"SJ",get:function(){return[this.uG,this.oG].filter(H)}},{key:"iG",get:function(){return this.uG}},{key:"im",get:function(){return WD(this)}},{key:"uc",get:function(){return this.Pc}},{key:"Vg",get:function(){return 0}},{key:"XF",get:function(){var t,n,i,e,r=null==(t=null==(n=this.uG)?void 0:n.XF())||t,s=null==(i=null==(e=this.oG)?void 0:e.XF())||i;return r&&s}},{key:"Am",get:function(){return new gS([0,1/0])}},{key:"eG",get:function(){return this.oG}},{key:"Oy",get:function(){throw new v("Not implemented")}}]),t}(),vB=rk.jk,dB=new rk(-1/0),lB=rk.Dp,wB=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Dk=function(t,n){return t.Lk(n)?Os.Ds:t.wk(n)?Os.Rs:Os.Ns},i.Im=function(t,n){return t.Im(n)},i.Fk=function(t,n){return t.Fk(n)},i.Bk=function(t,n){return t.Bk(n)},i.XD=function(){return vB},i.VD=function(){return lB},i.qD=function(){return dB},n.cC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new rk(t.start(e)),new rk(t.end(e)));return new n(i)},n.EJ=function(t){for(var i=[],e=[],r=0;r<t.T_;r++)i.push(new rk(t.DD(r))),i.push(new rk(t.OD(r))),e.push(t.CD(r)),e.push(t.PD(r));return new n(i,e)},n.vC=function(t){return new n([t,t],[!0,!0])},i.FD=function(t,i){return new n(t,i)},i.MD=function(t){return t.Rp},n.dC=function(){return _B},n}(_S),_B=new wB([]),gB=function(t){function n(n){var i;return(i=t.call(this)||this).IJ=!0,i.kJ=new aB,i.RJ=new hB,i.tN=void 0,i.Gq=void 0,i.NJ=!0,i.DJ=new Ko,i.AC=!1,i.iY=We.resolve(),i.eY=new su,i.CJ=!0,i.sY=gS.dC(),i.$Z=void 0,i.OJ=void 0,i.wY=!1,i.uN=void 0,i.PJ=function(){i.qg||i.BJ.T_<=0||i.im.T_<=0||i.RJ.dJ(new rk(i.im.OD(i.im.T_-1)),i.BJ.OD(i.BJ.T_-1))},i.LJ=function(){i.Zs(new Ry(i.Xg))},i.xJ=function(){i.Zs(new Iy(i.Xg,i.um))},i.MJ=function(){i.Zs(new Ey(i.Xg,i.Yg))},i.UJ=function(){i.Zs(new Oy(i.Xg,i.Jg))},i.FJ=function(){i.Zs(new Sy(i.Vg))},i.HJ=function(){i.Zs(new TA(i.Xg))},i.XJ=function(){i.xu(i.Xg)},i.VJ=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.CJ&&i.Zs(new py(i.Xg)),i.NJ=!1,i.CJ=!0;case 3:case"end":return t.stop()}},null,null,null,We)},i.zJ=function(){i.NJ=!0,i.Zs(new ky(i.Xg))},i.OJ=n,i.Gq=new nC(Kt(i)),i.OJ.setAttribute("id","player_video"),i.OJ.setAttribute("x-webkit-airplay","deny"),i.OJ.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.OJ.playsInline=!0,i.OJ.style.width="100%",i.OJ.style.height="100%",i.GJ(),i.WJ(),i.$Z=sB(i.OJ),i}S(n,t);var e=n.prototype;return e.GJ=function(){this.OJ.addEventListener("timeupdate",this.PJ),this.OJ.addEventListener("ended",this.LJ),this.OJ.addEventListener("timeupdate",this.xJ),this.OJ.addEventListener("ratechange",this.MJ),this.OJ.addEventListener("volumechange",this.UJ),this.OJ.addEventListener("durationchange",this.FJ),this.OJ.addEventListener("playing",this.HJ),this.OJ.addEventListener("seeking",this.XJ),this.OJ.addEventListener("play",this.VJ),this.OJ.addEventListener("pause",this.zJ)},e.qJ=function(){this.OJ.removeEventListener("timeupdate",this.PJ),this.OJ.removeEventListener("ended",this.LJ),this.OJ.removeEventListener("timeupdate",this.xJ),this.OJ.removeEventListener("ratechange",this.MJ),this.OJ.removeEventListener("volumechange",this.UJ),this.OJ.removeEventListener("durationchange",this.FJ),this.OJ.removeEventListener("playing",this.HJ),this.OJ.removeEventListener("seeking",this.XJ),this.OJ.removeEventListener("play",this.VJ),this.OJ.removeEventListener("pause",this.zJ)},e.WJ=function(){this.Gq.Js(yy.a_,this.Qs)},e.YJ=function(){this.Gq.nu(yy.a_,this.Qs)},e.xu=function(t,n){this.eY.Vs(),this.eY=new su,this.iY=this.cj(t,this.iY,this.eY.Ws).catch(J)},e.cj=function(t,n,i){var e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.sY=this.mm,r=null==(e=this.tN)?void 0:e.SJ){u.next=4;break}return u.abrupt("return");case 4:return s=w.max.apply(w,r.map(function(t){return t.AJ?t.AJ:1/0})),this.AC=!0,this.Zs(new Dy(t)),u.next=9,Lr.awrap(n.catch(J));case 9:if(au(i),u.prev=10,this.IJ||this.jJ(),this.OJ.load(),this.NJ){u.next=17;break}return this.CJ=!1,u.next=17,Lr.awrap(fu(this.OJ.play(),i));case 17:if(!(this.Q_<ty.Og)){u.next=22;break}return u.next=20,Lr.awrap(this.Gq.fu(yy.a_,i));case 20:u.next=17;break;case 22:this.DJ.Wu(),this.IJ=!1,this.AC=!1,this.Zs(new Cy(this.Xg)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.DJ.Yu(u.t0),u.t0;case 32:return u.prev=32,this.QJ(),this.RJ.wJ(new rk(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],We)},e.xy=function(){this.NJ=!0,this.OJ.pause()},e.Ly=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.NJ){t.next=2;break}return t.abrupt("return");case 2:return this.OJ.src||this.Ej(),t.next=5,Lr.awrap(this.DJ.Xu);case 5:return t.next=7,Lr.awrap(this.OJ.play());case 7:case"end":return t.stop()}},null,this,null,We)},e.xs=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.kJ&&this.kJ.fJ().catch(J),this.eY.Vs(),this.qJ(),this.YJ(),this.Gq.xs(),this.tu();case 6:case"end":return t.stop()}},null,this,null,We)},e.A_=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.kJ&&this.kJ.fJ().catch(J),this.eY.Vs(),this.OJ.removeAttribute("src"),this.OJ.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.OJ.removeAttribute("x-airplay-deny"),this.OJ.load(),this.Gq.A_(),this.sY=gS.dC();case 8:case"end":return t.stop()}},null,this,null,We)},e.Ej=function(){this.Ij||(AB(this.OJ,i.Mr),this.wY=!0)},e.jJ=function(){var t,n=this.OJ.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.OJ.videoWidth/this.OJ.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.OJ.style.width=i+"px",this.OJ.style.height=e+"px",this.OJ.style.marginLeft=(r-i)/2+"px",this.OJ.style.marginTop=(u-e)/2+"px",this.OJ.style.backgroundColor="black"}},e.QJ=function(){this.OJ.style.width="100%",this.OJ.style.height="100%",this.OJ.style.marginLeft="",this.OJ.style.marginTop="",this.OJ.style.backgroundColor=""},e.MN=function(t,n,i,e){},e.yE=function(t,n,i,e,r,s){},e.HF=function(t){},e.jN=function(){return FR(this.OJ)},e.qy=function(){this.OJ.style.display="block"},e.Yy=function(){this.OJ.style.display="none"},e.Tj=function(){},e.Qh=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.vs!==vA.bE){i.next=2;break}throw new v("Not yet implemented");case 2:return i.next=4,Lr.awrap(this.kJ.aJ());case 4:return n={kind:uB.iJ,mediaBufferConfigs:t.mG.map(function(t){return t.Nd})},i.next=7,Lr.awrap(this.kJ.cJ(n));case 7:return this.tN=fB.TJ(t,this.kJ),this.OJ.preload="none",this.OJ.src="https://theo.proxy/"+this.kJ.Vc+"/master.m3u8",i.abrupt("return",this.tN);case 11:case"end":return i.stop()}},null,this,null,We)},e.Sj=function(){},e.pE=function(t){},e.HN=function(){},e.YN=function(t){},e.LN=function(){return!1},e.Rj=function(t){t.appendChild(this.OJ)},e.jy=function(){return this.OJ},e.nj=function(){},e.nm=function(){},b(n,[{key:"EN",get:function(){return this.OJ}},{key:"IG",get:function(){return!1}},{key:"Xg",get:function(){return this.OJ.currentTime+this.RJ.lJ.Rp}},{key:"qg",get:function(){return this.OJ.paused}},{key:"Jg",get:function(){return this.OJ.volume},set:function(t){this.OJ.volume=t}},{key:"Yg",get:function(){return this.OJ.playbackRate},set:function(t){this.OJ.playbackRate=t}},{key:"ZJ",get:function(){return this.OJ.defaultPlaybackRate}},{key:"im",get:function(){var t,n;return null!=(t=null==(n=this.tN)?void 0:n.im)?t:gS.dC()}},{key:"BJ",get:function(){return wB.cC(this.OJ.buffered)}},{key:"mm",get:function(){var t=gS.fC(this.JJ);return this.sY.QD(t.Bu(this.RJ.lJ.Rp))}},{key:"JJ",get:function(){return wB.cC(this.OJ.played)}},{key:"jg",get:function(){return this.AC}},{key:"Vg",get:function(){return this.OJ.duration}},{key:"Wg",get:function(){return this.OJ.muted},set:function(t){this.OJ.muted=t}},{key:"bZ",get:function(){return this.OJ.style}},{key:"Dj",get:function(){return xr({},LN,{pF:!0})}},{key:"Q_",get:function(){return this.Gq.Q_}},{key:"Qg",get:function(){return this.OJ.videoHeight}},{key:"Zg",get:function(){return this.OJ.videoWidth}},{key:"zg",get:function(){return this.OJ.ended}},{key:"oT",get:function(){return this.OJ.height||this.OJ.clientHeight}},{key:"Ek",get:function(){return this.OJ.width||this.OJ.clientWidth}},{key:"cm",get:function(){return!1}},{key:"Ij",get:function(){return this.wY}},{key:"um",get:function(){}},{key:"OU",get:function(){}},{key:"mu",get:function(){}},{key:"FN",get:function(){return this.$Z}},{key:"Am",get:function(){return this.tN?this.tN.Am:gS.dC()}},{key:"QN",get:function(){}},{key:"Py",get:function(){}},{key:"BU",get:function(){}},{key:"Sm",get:function(){return!1},set:function(t){}},{key:"Nj",get:function(){return"block"===this.OJ.style.display}},{key:"IN",get:function(){return this.uN},set:function(t){this.uN=t}},{key:"Cj",get:function(){},set:function(t){}},{key:"Hq",get:function(){}}]),n}(Au),yB=2,mB=[fm.dl,fm.ll];function kB(t){var n=s.createElement(t);return fr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),pB(n),n}function pB(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),nr(t),vr(t),t.pause(),t.playbackRate=1,t.preload=hS.lD,t.controls=!1,t.style.display="none",fr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function AB(t,n){if(n.xe){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();j(e)&&_u(e),t.pause()}}var bB,TB,SB;function EB(t){return{get bandwidth(){return t.PR},get codecs(){return t.VX},get id(){return t.B_},get uid(){return t.L_},get name(){return t.M_},get averageBandwidth(){return t.KJ},get label(){return t.M_},set label(n){t.M_=Sg(n)},get height(){return t.oT},get width(){return t.Ek},get frameRate(){return t.$J},get firstFrame(){return t.tK},get available(){return t.nK},addEventListener:function(n,i){t.Js(n,i)},removeEventListener:function(n,i){t.nu(n,i)}}}function IB(t){return{get bandwidth(){return t.PR},get codecs(){return t.VX},get id(){return t.B_},get uid(){return t.L_},get name(){return t.M_},get averageBandwidth(){return t.KJ},get label(){return t.M_},set label(n){if(!q(n))throw new v("Unexpected - The provided label is not a string");t.M_=n},get audioSamplingRate(){return t.iK},get available(){return t.nK},addEventListener:function(n,i){t.Js(n,i)},removeEventListener:function(n,i){t.nu(n,i)}}}function RB(t,n){return[t,void 0!==n?t+n-1:Lt]}function NB(t){return Boolean(t.tT)}function DB(t){return Boolean(t.eK)}fe=(bB={rK:function(){function t(t,n,i,e,r){void 0===i&&(i=yB),void 0===e&&(e=mB),void 0===r&&(r=bf()),this.sK=void 0,this.uK=void 0,this.As=void 0,this.oK=void 0,this.Xq=void 0,this.SC=void 0,this.aK=void 0,this.sK=i,this.uK=[].concat(e),this.As=r,this.Xq=t,this.SC=n,this.oK=Ur(),this.hK()}var n=t.prototype;return n.RC=function(t){for(var n=0,i=this.DC;n<i.length;n++){i[n].Rj(t)}},n.SN=function(t){var n=Vs(this.oK.get(t),function(t){return t.nK});if(n)return n.nK=!1,n.cK},n.fK=function(t){if(!this.aK)throw new v("Error creating iOS Safari MediaController");return this.aK},n.zN=function(t){var n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.EN,i=n.tagName.toLowerCase(),r.next=4,Lr.awrap(t.A_());case 4:pB(n),(e=Vs(this.oK.get(i)||[],function(n){return t===n.cK}))&&(e.nK=!0);case 7:case"end":return r.stop()}},null,this,null,We)},n.NC=function(){for(var t=0,n=this.DC;t<n.length;t++){n[t].Ej()}},n.Il=function(){for(var t=0,n=this.DC;t<n.length;t++){var i=n[t],e=i.EN;i.xs(),pB(e),tr(e)}},n.hK=function(){for(var t=0,n=this.uK;t<n.length;t++){var i=n[t],e=[];this.oK.set(i,e);for(var r=0;r<this.sK;r++){var s=kB(i),u=i===fm.dl?new nP(s,this.As,this.Xq):new oB(s,this.As,this.Xq,this.SC);e.push({cK:u,nK:!0})}}if(M.Pn&&M.hn){var o=kB(fm.ll);this.aK=new gB(o)}},b(t,[{key:"DC",get:function(){for(var t=[],n=0,i=this.uK;n<i.length;n++){var e=i[n],r=this.oK.get(e).map(function(t){return t.cK});t.push.apply(t,r)}return this.aK&&t.push(this.aK),t}}]),t}(),vK:function(){function t(n){var i=this;this.dK=new gN,this.lK=function(){var n,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.bC.SN(fm.ll),e=n.EN,s.next=4,Lr.awrap(t.wK(e));case 4:return r=s.sent,s.next=7,Lr.awrap(i.bC.zN(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,We)},this.bC=n}var n=t.prototype;return n.wF=function(){return this.dK.KU(this.lK)},n.zy=function(){this.bC.NC()},t.wK=function(n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!M.En&&!M.Tn){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,Lr.awrap(t._K());case 5:return i.next=7,Lr.awrap(t.gK(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,Lr.awrap(t.yK(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,We)},t.gK=function(t){var n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,j(n)){e.next=4;break}return e.abrupt("return",!M.dn);case 4:return i=yu(100),e.next=7,Lr.awrap(We.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],We)},t.yK=function(n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,Lr.awrap(t.gK(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,We)},t._K=function(){return new We(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.Il=function(){this.dK.Il()},t}(),mK:{hB:function(t){le.addEventListener("beforeunload",t)},kB:function(t){le.removeEventListener("beforeunload",t)}},kK:r}).rK,ve=bB.vK,de=bB.mK,le=bB.kK,we=le&&le.location,_e=le&&le.navigator,function(t){t.pK="currentbufferingrenditionchange",t.AK="bK",t.TK="SK",t.EK="IK"}(TB||(TB={})),function(t){t[t.dl=0]="dl",t[t.ll=1]="ll",t[t.WA=2]="WA",t[t.RK=3]="RK"}(SB||(SB={}));var CB,OB,PB,BB=[SB.dl,SB.ll,SB.WA,SB.RK];function LB(t){return t?t.NK?t.Ti+"@"+t.NK.DD+"-"+(null!=(n=t.NK.T_)?n:""):""+t.Ti:"";var n}function xB(t,n){if(n===t)return!0;if(n.Ti!==t.Ti)return!1;if(!t.NK)return!0;if(n.NK){var i=RB(t.NK.DD,t.NK.T_),e=RB(n.NK.DD,n.NK.T_);return i[0]<=e[0]&&i[1]>=e[1]}return!1}function MB(t,n){return t===n||t.Ti===n.Ti&&(Boolean(t.NK)===Boolean(n.NK)&&(!t.NK||!n.NK||t.NK.DD===n.NK.DD&&t.NK.T_===n.NK.T_))}function UB(t){var n=!!t.DK||void 0;return{B_:t.B_,CK:t.CK,QN:t.QN,PK:t.PK,Vg:t.Vg,BK:t.BK,DK:n,LK:t.xK,MK:t.UK,FK:t.FK,HK:t.HK}}!function(t){t[t.XK=0]="XK",t[t.VK=1]="VK"}(CB||(CB={})),function(t){t[t.wD=0]="wD",t[t.zK=1]="zK",t[t.GK=2]="GK"}(OB||(OB={})),function(t){t[t.Zd=0]="Zd",t[t.WK=1]="WK",t[t.qK=2]="qK"}(PB||(PB={}));var FB=function(t,n){this.L_=void 0,this.YK=void 0,this.vs=void 0,this.jK=void 0,this.QK=void 0,this.ZK=void 0,this._i=void 0,this.U_=void 0,this.JK=void 0,this.KK=void 0,this.$K=void 0,this.L_=km(),this.YK=n,this.vs=t.vs,this.jK=t.jK,this.QK=t.QK,this.ZK=t.ZK,this._i=t._i,this.U_=t.U_,this.JK=t.JK,this.KK=t.KK,this.$K=void 0===t.t$};function HB(t,n){return t.vs===n.vs&&(t._i===n._i||!(!XB(t)||!XB(n)))}function XB(t){return t.vs===SB.ll&&t.jK&&t.$K&&void 0===t.U_}function VB(t,n){return t.YK===n.YK}function zB(t,n){for(var i=0;i<t.length;i++){if(VB(t[i],n))return!0}return!1}var GB,WB,qB=function(t){function n(n,i){var e;return(e=t.call(this,eg.w_)||this).F_=void 0,e.Qw=void 0,e.F_=n||[],e.Qw=i,e}return S(n,t),n.prototype.jw=function(){return new YB(this.F_.map(function(t){return t.Yw}))},n}(ng),YB=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return S(n,t),n}(Tu);!function(t){t.n$="alternative",t.i$="main",t.e$="commentary",t.r$="",t.iE="descriptions",t.s$="main-desc",t.u$="translation"}(GB||(GB={})),function(t){t.n$="alternative",t.i$="main",t.e$="commentary",t.r$="",t.nE="captions",t.o$="sign",t.WA="subtitles"}(WB||(WB={}));var jB=function(t){function n(n,i,e){var r;return(r=t.call(this,eg.d_)||this).a$=n,r.h$=i,r.c$=e,r}return S(n,t),n.prototype.jw=function(){return new QB(this.a$&&this.a$.Yw)},n}(ng),QB=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return S(n,t),n}(Tu);function ZB(t){return{PR:t.PR,ir:t.VX,oT:JB(t)?t.oT:0,vs:JB(t)?fm.ll:fm.dl,Ek:JB(t)?t.Ek:0}}function JB(t){var n=t;return void 0!==n.oT&&void 0!==n.Ek}var KB,$B=function(t){function n(){return t.call(this,eg.NO_QUALITY)||this}return S(n,t),n}(Tu),tL=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return S(n,t),n}(Tu),nL=function(t){function n(n,i,e){var r,s,u;(u=t.call(this)||this).Dm=void 0,u.va=void 0,u.f$=void 0,u.v$=void 0,u.d$=void 0,u.qw=void 0,u.Cm=void 0,u.l$=function(){return u.Zs(new lm(Kt(u)))},u.w$=function(){var t=u.O_;t&&u.v$!==t&&(u.v$=t,u.Zs(new jB(t)))},u._$=function(){var t=u.P_;u.d$!==t&&(u.d$=t,u.g$.Zs(new fg(Kt(u))),u.Zs(new fg(Kt(u))))},u.yD=n,u.g$=i,u.F_=e,u.v$=u.O_,u.d$=u.P_;var o=e.y_(0);u.Dm=null!=(r=null==o?void 0:o.y$._i)?r:"",u.va=null!=(s=null==o?void 0:o.y$.U_)?s:"",u.Cm=gm(),u.yD.Js(TB.pK,u.w$),u.yD.Js(TB.AK,u._$);for(var a=0;a<u.F_.T_;a++){u.F_.y_(a).Js("update",u.l$)}return u}S(n,t);var e=n.prototype;return e.Bm=function(t){this.P_=t},e.Il=function(){this.tu(),this.yD.nu(TB.pK,this.w$),this.yD.nu(TB.AK,this._$);for(var t=0,n=this.F_.b_;t<n.length;t++){n[t].Il()}this.F_.A_()},b(n,[{key:"P_",get:function(){var t=this.m$();if(!t)return!1;for(var n=0,i=this.F_.b_;n<i.length;n++){if(i[n].y$===t)return!0}return!1},set:function(t){if(t!==this.P_&&t){for(var n=this.F_.y_(0).y$,i=this.yD.k$,e=0,r=this.F_.b_;e<r.length;e++){var s=r[e];if(s.p$===i){n=s.y$;break}}this.A$(n)}}},{key:"O_",get:function(){if(this.P_)for(var t=this.yD.b$,n=0,i=this.F_.b_;n<i.length;n++){var e=i[n];if(zB(t,e.y$))return e}}},{key:"Yw",get:function(){return this.qw||(this.qw=Cg(this)),this.qw}},{key:"B_",get:function(){return this.Cm.toString()}},{key:"L_",get:function(){return this.Cm}},{key:"M_",get:function(){return this.Dm},set:function(t){t!==this.Dm&&(this.Dm=t,this.Zs(new lm(this)))}},{key:"U_",get:function(){return this.va}},{key:"q_",get:function(){return this.P_?"enabled":"disabled"}},{key:"H_",get:function(){return this.f$},set:function(t){var n=this,e=[];t?e=t.filter(function(t){var e=n.O_?ZB(n.O_):void 0;return i.Mr.Ue(e,ZB(t))}).filter(function(i){return n.F_.Rm(t)&&i.nK}):e=this.F_.b_.filter(function(t){return t.nK});0!==e.length?t!==this.f$&&(this.f$&&Zs(this.f$,e)||(this.f$=t?e:void 0,this.yD.T$(e.map(function(t){return t.p$})),1===e.length&&_u(this.yD.S$(e[0].p$,!1)),this.Zs(new qB(e,this)))):this.Zs(new $B)}}]),n}(Au),iL=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.m$=function(){return this.yD.E$},i.A$=function(t){_u(this.yD.I$(t))},b(n,[{key:"x_",get:function(){return GB.i$}}]),n}(nL),eL=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.m$=function(){return this.yD.R$},i.A$=function(t){_u(this.yD.N$(t))},b(n,[{key:"x_",get:function(){return WB.i$}}]),n}(nL),rL=function(t){function n(n,i){var e;return(e=t.call(this)||this).Dm="",e.nK=!0,e.p$=n,e.y$=i,e}S(n,t);var i=n.prototype;return i.fE=function(){},i.Il=function(){this.tu()},b(n,[{key:"B_",get:function(){return String(this.p$.B_)}},{key:"L_",get:function(){return this.p$.B_}},{key:"PR",get:function(){return this.p$.PR}},{key:"KJ",get:function(){return this.p$.KJ}},{key:"M_",get:function(){var t;return null!=(t=this.Dm)?t:this.y$._i},set:function(t){this.M_!==t&&(this.Dm=t,this.Zs(new tL(this.Yw)))}},{key:"t$",get:function(){return this.y$.YK.D$()}}]),n}(Au),sL=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).qw=void 0,e}return S(n,t),n.prototype.jw=function(){return IB(this)},b(n,[{key:"iK",get:function(){return 0}},{key:"VX",get:function(){var t;return(null==(t=this.p$.VX)?void 0:t.XX)||""}},{key:"Yw",get:function(){return this.qw||(this.qw=this.jw()),this.qw}}]),n}(rL),uL=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).qw=void 0,e}return S(n,t),n.prototype.jw=function(){return EB(this)},b(n,[{key:"VX",get:function(){var t;return(null==(t=this.p$.VX)?void 0:t.HX)||""}},{key:"tK",get:function(){return 0}},{key:"$J",get:function(){return 0}},{key:"oT",get:function(){var t,n;return null!=(t=null==(n=this.p$.C$)?void 0:n.oT)?t:0}},{key:"Ek",get:function(){var t,n;return null!=(t=null==(n=this.p$.C$)?void 0:n.Ek)?t:0}},{key:"Yw",get:function(){return this.qw||(this.qw=this.jw()),this.qw}}]),n}(rL);!function(t){t.O$="FATAL",t.G_="ERROR",t.P$="WARNING",t.B$="INFO",t.L$="DEBUG"}(KB||(KB={}));var oL,aL=new(function(){function t(){this.P_=function(){return!1}}var n=t.prototype;return n.x$=function(t){if(!this.P_())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.M$=function(t){if(this.x$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.gr.apply(i,[KB.L$+" "+t+" -"].concat(e))}},n.vT=function(t){if(this.x$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.gr.apply(i,[KB.B$+" "+t+" -"].concat(e))}},n.U$=function(t){if(this.x$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.yr.apply(i,[KB.P$+" "+t+" -"].concat(e))}},n.mu=function(t){if(this.x$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.pr.apply(i,[KB.G_+" "+t+" -"].concat(e))}},n.F$=function(t){if(this.x$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.pr.apply(i,[KB.O$+" "+t+" -"].concat(e))}},t}()),hL="HLSPlaylistParser",cL=function(){function t(t,n,i){this.yD=t,this.H$=n,this.X$=i}var n=t.prototype;return n.V$=function(){var t,n,i=null==(t=this.yD.z$)?void 0:t.G$;if(i&&0!==i.length){for(var e=null!=(n=Vs(i,function(t){return 0!==t.W$.length&&0!==t.q$.length}))?n:i[0],r=i.filter(function(t){return t!==e}),s=0,u=e.W$;s<u.length;s++){var o=u[s],a=new dm,h=[];a.Im(new sL(e,o)),h.push(o);for(var c=0;c<r.length;c++)for(var f=r[c],v=0,d=f.W$;v<d.length;v++){var l=d[v];if(HB(l,o)&&!zB(h,l)){a.Im(new sL(f,l)),h.push(l);break}}this.H$.m_(new iL(this.yD,this.H$,a))}for(var w=0,_=e.q$;w<_.length;w++){var g=_[w],y=new dm,m=[];y.Im(new uL(e,g)),m.push(g);for(var k=0;k<r.length;k++)for(var p=r[k],A=0,b=p.q$;A<b.length;A++){var T=b[A];if(HB(T,g)&&!zB(m,T)){y.Im(new uL(p,T)),m.push(T);break}}this.X$.m_(new eL(this.yD,this.X$,y))}}else aL.U$("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.Y$=function(){this.j$(this.H$),this.j$(this.X$)},n.j$=function(t){for(var n=[],i=0,e=t.b_;i<e.length;i++){for(var r=e[i],s=[],u=0,o=r.F_.b_;u<o.length;u++){var a=o[u];Ys(a.p$.Q$,a.y$)||s.push(a)}for(var h=0;h<s.length;h++){var c=s[h];r.F_.Zh(c),c.Il()}0===r.F_.T_&&n.push(r)}for(var f=0;f<n.length;f++){var v=n[f];t.k_(v),v.Il()}},t}(),fL=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).EC=void 0,e.EC=i,e}return S(n,t),n.prototype.qd=function(t){var n,e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=new fw(t),e=this.EC.QL.OR(n)){o.next=4;break}return o.abrupt("return",this.wE.qd(n));case 4:return e.ZL(i.er()/1e3),o.next=7,Lr.awrap(this.wE.qd(t));case 7:return r=o.sent,e.JL(i.er()/1e3),s=r.Rd().pipeThrough(new Sl(new vL(e))),u={Vi:s,qd:r.qd},o.abrupt("return",new cw(u,r));case 12:case"end":return o.stop()}},null,this,null,We)},n}(function(){function t(t){this.wE=void 0,this.wE=t}var n=t.prototype;return n.qd=function(t){return this.wE.qd(t)},n.El=function(t){this.wE.El(t)},n.Il=function(){this.wE.Il()},t}()),vL=function(){function t(t){this.jM=void 0,this.Z$=t}var n=t.prototype;return n.start=function(t){this.jM=t},n.transform=function(t){this.Z$.KL(i.er()/1e3,t),this.jM.enqueue(t)},n.flush=function(){this.Z$.$L(i.er()/1e3)},t}(),dL=function(){function t(t){this.J$=void 0,this.K$=0,this.n0=0,this.J$=w.exp(w.log(.5)/t)}var n=t.prototype;return n.i0=function(t,n){var i=w.pow(this.J$,t),e=n*(1-i)+i*this.K$;y(e)||(this.K$=e,this.n0+=t)},n.PF=function(t){var n=w.exp(w.log(.5)/t);if(n!==this.J$)if(0!==this.n0){var i=this.dJ,e=1-w.pow(n,this.n0);this.K$=i*e,this.J$=n}else this.J$=n},b(t,[{key:"dJ",get:function(){var t=1-w.pow(this.J$,this.n0);return this.K$/t}}]),t}();!function(t){t.e0="sample"}(oL||(oL={}));var lL=function(t){function n(i,e,r,s){var u;return void 0===r&&(r=n.r0),void 0===s&&(s=n.s0),(u=t.call(this)||this).u0=void 0,u.o0=void 0,u.a0=0,u.h0=void 0,u.c0=void 0,u.c0=r,u.u0=new dL(i),u.o0=new dL(e),u.h0=s,u}S(n,t);var i=n.prototype;return i.f0=function(t,n,i){if(0!==t){var e=8*n/t;this.u0.i0(i,e),this.o0.i0(i,e),this.a0+=n,this.Zs(new Tu(oL.e0))}},i.v0=function(){return this.a0>=this.c0},b(n,[{key:"dJ",get:function(){return this.v0()?w.min(this.u0.dJ,this.o0.dJ):this.h0}}]),n}(Au);lL.r0=128e3,lL.s0=5e5;var wL=function(){function t(n,i,e,r){void 0===n&&(n=t.d0),void 0===i&&(i=t.l0),void 0===e&&(e=t.s0),void 0===r&&(r=!1),this.u0=void 0,this.o0=void 0,this.w0=0,this._0=[],this.g0=void 0,this.y0=6e4,this.m0=10,this.k0=void 0,this.p0=void 0,this.h0=void 0,this.A0=void 0,this.k0=n,this.p0=i,this.h0=e,this.A0=r,this.u0=new dL(n),this.o0=new dL(i)}var n=t.prototype;return n.i0=function(t){var n=i.er(),e=t;this.A0&&void 0!==this.g0&&n-this.g0>=this.y0&&this.A_(),this.w0+=1,this.u0.i0(1,e),this.o0.i0(1,e),this._0.push(e),this._0.length>this.m0&&this._0.shift(),this.g0=n},n.v0=function(){return void 0!==this.g0&&i.er()-this.g0<=this.y0},n.A_=function(){this.u0=new dL(this.k0),this.o0=new dL(this.p0),this.w0=0,this._0=[],this.g0=void 0},b(t,[{key:"dJ",get:function(){return this.v0()?w.max(this.u0.dJ,this.o0.dJ):this.h0}}]),t}();wL.d0=2,wL.l0=5,wL.s0=.1;var _L=function(){function t(t){this.b0=t}var n=t.prototype;return n.ZL=function(t){for(var n=0,i=this.b0;n<i.length;n++){i[n].ZL(t)}},n.JL=function(t){for(var n=0,i=this.b0;n<i.length;n++){i[n].JL(t)}},n.KL=function(t,n){for(var i=0,e=this.b0;i<e.length;i++){e[i].KL(t,n)}},n.$L=function(t){for(var n=0,i=this.b0;n<i.length;n++){i[n].$L(t)}},t}(),gL=function(){function t(t){this.T0=void 0,this.S0=void 0,this.T0=t}var n=t.prototype;return n.ZL=function(t){this.S0=t},n.JL=function(t){this.T0.i0(t-this.S0)},n.KL=function(t){},n.$L=function(t){},t}(),yL=function(){function t(t){this.E0=void 0,this.I0=void 0,this.R0=[],this.E0=t}var n=t.prototype;return n.KL=function(t,n){if(void 0!==this.I0){var i=t-this.I0,e=this.R0.length>0?this.R0.reduce(function(t,n){return n+t},0)/this.R0.length:0;i>e/2&&i<e+e/2&&this.E0.i0(i,n.length),this.R0.push(i),this.R0.length>100&&this.R0.shift(),this.I0=t}else this.I0=t},n.ZL=function(t){},n.JL=function(t){},n.$L=function(t){},t}(),mL=function(){function t(t,n){void 0===n&&(n=0),this.E0=void 0,this.N0=void 0,this.D0=new kL,this.BW=0,this.C0=0,this.E0=t,this.N0=n}var n=t.prototype;return n.ZL=function(t){},n.KL=function(t,n){var e=n.byteLength,r=this.C0;this.C0=e;var s=t-this.BW;this.BW=t,this.D0.EH(n);var u=!this.D0.O0(),o=e>=this.N0;r!==i.Mr.Ze&&u&&o&&this.E0.i0(s,e)},n.JL=function(t){this.BW=t},n.$L=function(t){},t}(),kL=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).P0=void 0,n.B0=!1,n}S(n,t);var i=n.prototype;return i.O0=function(){return this.B0},i.EH=function(n){this.B0=!1,t.prototype.EH.call(this,n)},i.TH=function(n,i){this.P0&&this.P0!==yk.MA||(this.B0=!0),t.prototype.TH.call(this,n,i),this.P0=n},i.BH=function(t){return!1},i.xH=function(t){},i.MH=function(t){},n}(JN),pL=function(t){function n(i,e,r,s){return void 0===i&&(i=n.d0),void 0===e&&(e=n.l0),t.call(this,i,e,r,s)||this}return S(n,t),n.prototype.i0=function(t,n){this.f0(t,n,t)},n}(lL);pL.d0=.5,pL.l0=5;var AL=function(){function t(t){this.E0=void 0,this.L0=void 0;var n=t.PR>0?t.PR:lL.s0,i=t.LR>0?t.LR:wL.s0;this.E0=new pL(pL.d0,pL.l0,1,n),this.L0=new wL(wL.d0,wL.l0,i)}var n=t.prototype;return n.OR=function(t){if("segment"===t.vs)return new _L([new gL(this.L0),new yL(this.E0),new _L([new yL(this.E0),new mL(this.E0,1e3)])])},n.x0=function(t){this.E0=new pL(pL.d0,pL.l0,1,t)},b(t,[{key:"PR",get:function(){return this.E0.dJ}},{key:"LR",get:function(){return this.L0.dJ}}]),t}(),bL=function(t){function n(n){var i;return(i=t.call(this,TB.EK)||this).mu=n,i}return S(n,t),n}(Tu),TL=function(){function t(t){this.cK=t}return t.prototype.HF=function(t){var n={vs:vA.TE,DN:[],mG:[{Nd:t}]};return We.resolve(void 0!==this.cK.HF([n]))},t}(),SL=function(t,n,i,e,r){return We.resolve(t.filter(function(t){return!!Ys(r,t)||1.1*t.PR<=i.PR}))},EL=function(t,n,i,e,r){return We.resolve(t.filter(function(t){if(Ys(r,t))return!0;for(var s=1/0,u=0,o=t.Q$;u<o.length;u++){var a,h,c=o[u];s=w.min(s,null!=(a=null!=(h=c.YK.M0)?h:c.YK.U0)?a:1/0)}s===1/0&&(s=1);var f=3*i.LR+t.PR*s/i.PR;return t.PR<=n.PR||e>f}))},IL=function(t,n,i,e,r){return We.resolve(Bs(t,function(t,n){return n.PR-t.PR}))},RL=function(t,n,i,e,r){return We.resolve(t.every(function(t){return t.F0&&!y(t.F0)})?Bs(t,function(t,n){return n.F0-t.F0}):t)},NL=function(t,n,i,e,r){return We.resolve(Bs(t,function(t,n){var i=Ys(r,t)?1:0;return(Ys(r,t)?1:0)-i}))},DL=function(t,n,i,e,r){return We.resolve(t.filter(function(t){return!t.VX||!n.VX||(t.VX.HX?!!n.VX.HX&&(t.VX.HX.split(".")[0]===n.VX.HX.split(".")[0]&&(t.VX.XX?!!n.VX.XX&&(t.VX.XX.split(".")[0]===n.VX.XX.split(".")[0]&&t.VX.zX===n.VX.zX):!n.VX.XX)):!n.VX.HX)}))},CL=function(){function t(t){this.H0=[DL,SL,EL,IL,RL,NL],this.EC=t}var n=t.prototype;return n.X0=function(t){this.H0=t},n.V0=function(t,n,i,e){var r,s,u,o,a;return Lr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(t.length){h.next=2;break}throw new v("AbrEvaluator - Unable to select optimal variant stream from an empty list.");case 2:aL.M$("AbrEvaluator","Performing optimal variant stream selection."),r=this.z0,s=t,u=0,o=this.H0;case 6:if(!(u<o.length)){h.next=14;break}return a=o[u],h.next=10,Lr.awrap(a(s,n,r,i,e));case 10:s=h.sent;case 11:u++,h.next=6;break;case 14:if(s.length){h.next=17;break}return aL.U$("AbrEvaluator","No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),h.abrupt("return",Ks(t,function(t){return t.PR}));case 17:return h.abrupt("return",s[0]);case 18:case"end":return h.stop()}},null,this,null,We)},b(t,[{key:"z0",get:function(){return this.EC.QL}}]),t}();function OL(t,n,i,e){var r=[],s=Vs(i,function(t){return t.G0===Qr});if(void 0!==s){var u=s.Ti?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Ti.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var a=i[o];if(a.G0!==Qr)for(var h=0,c=_s(a.G0);h<c.length;h++){var f=c[h];r.push({rc:f,FR:a.W0?[a.W0]:[],$I:void 0})}}if(r.length)return{VE:t,q0:{Y0:u,zE:s.zE},j0:r,Q0:n===fm.dl?e.slice():[],Z0:n===fm.ll?e.slice():[],Bq:!1}}}}function PL(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Ur();return BL(e,r,t.j0),BL(e,r,n.j0),{VE:t.VE,q0:{Y0:t.q0.Y0,zE:null!=(i=t.q0.zE)?i:n.q0.zE},j0:e,Q0:LL(t.Q0,n.Q0,Ys),Z0:LL(t.Z0,n.Z0,Ys),Bq:t.Bq||n.Bq||!1}}function BL(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.rc.gs,u=void 0;n.has(s)?(u=n.get(s)).FR=LL(u.FR,r.FR,xL):(u=xr({},r),t.push(u),n.set(s,u))}}function LL(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function xL(t,n){for(var i=0;i<t.length;i++){if(Gu(t[i],n))return!0}return!1}function ML(t,n){var i,e=t.J0;if(e){for(var r=t.ZP,s=[],u=0,o=t.VX;u<o.length;u++){var a=o[u];s.push(r+'; codecs="'+a+'"')}i=OL(n||{},t.vs,e,s)}for(var h=0,c=t.K0;h<c.length;h++){i=PL(i,UL(c[h],n))}return i}function UL(t,n){return OL(n||{},t.vs,t.J0||[],[t.Nd])}function FL(t,n){switch(n.vs){case jr.rs:return t.widevine;case jr.$r:return t.playready;case jr.hs:return t.fairplay;case jr.us:return t.clearkey}}function HL(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}function XL(t,n,i,e){var r,s,u,o,a,h,c,f,v;return Lr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(t){d.next=2;break}return d.abrupt("return",[]);case 2:return r=n.filter(function(t){return ys(t,"audio")}),s=n.filter(function(t){return ys(t,"video")}),u=[],o=i.map(function(t){return VL(t,e)}),d.next=8,Lr.awrap(We.all(o));case 8:for(a=d.sent.filter(H),h=GL(a,t.preferredKeySystems),c=0;c<h.length;c++)f=h[c],v=FL(t,f.rc),"cbcs",u.push({rc:f.rc,FR:f.FR,$I:f.$I,GN:[{initDataTypes:[f.rc.ls],audioCapabilities:HL(r,"cbcs",null==v?void 0:v.audioRobustness),videoCapabilities:HL(s,"cbcs",null==v?void 0:v.videoRobustness),persistentState:null==v?void 0:v.persistentState,distinctiveIdentifier:null==v?void 0:v.distinctiveIdentifier}]});return d.abrupt("return",u);case 12:case"end":return d.stop()}},null,null,null,We)}function VL(t,n){var i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.t$){s.next=2;break}return s.abrupt("return");case 2:if(t.$0){s.next=4;break}return s.abrupt("return");case 4:if(t._l===OB.GK){s.next=6;break}return s.abrupt("return");case 6:if(i=zL(t.$0)){s.next=9;break}return s.abrupt("return");case 9:if(i.gs!==os){s.next=13;break}return s.abrupt("return",{rc:i,FR:[],$I:t.t$});case 13:return aL.vT("HLSDrmUtils","Fetching key uri "+t.t$+"."),s.next=16,Lr.awrap(n.qd({jd:t.t$}));case 16:return e=s.sent,s.next=19,Lr.awrap(e.Id());case 19:return r=s.sent,s.abrupt("return",{rc:i,FR:[r],$I:void 0});case 21:case"end":return s.stop()}},null,null,null,We)}function zL(t){return t===es?fs:t===ns?cs:t===hs?ds:void 0}function GL(t,n){var i=function(t){var i=n.indexOf(t.rc.gs);return i>=0?i:n.length};return Bs(t,function(t,n){return i(t)-i(n)})}function WL(t){if("#"!==t[0])throw new v("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function qL(t){return"#"!==t[0]?t:t.split(":",1)[0]}function YL(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new v("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function jL(t){var n=$L(YL(t));if(void 0===n)throw new v("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function QL(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],s=void 0;s=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=s:aL.U$(hL,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function ZL(t,n){var e,r,s=QL(t);try{e=s.URI?i.Lr(s.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return SB.dl;case"VIDEO":return SB.ll;case"SUBTITLES":return SB.WA;case"CLOSED-CAPTIONS":return SB.RK}throw new v("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(s.TYPE)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=s["GROUP-ID"],o=s.LANGUAGE,a=s["ASSOC-LANGUAGE"],h=s.NAME,c="YES"===s.DEFAULT,f="YES"===s.AUTOSELECT,d="YES"===s.FORCED,l=s["INSTREAM-ID"],w=s.CHARACTERISTICS,_=s.CHANNELS;if(u||aL.U$(hL,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),o||aL.U$(hL,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),h||aL.U$(hL,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===SB.RK?(e&&aL.U$(hL,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),l?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(l)||aL.U$(hL,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):aL.U$(hL,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):l&&aL.U$(hL,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!f&&(f=!0,s.AUTOSELECT&&aL.U$(hL,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),r===SB.WA&&s.FORCED&&aL.U$(hL,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===h)throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{n1:a,i1:_,e1:w,JK:u,QK:f,jK:c,ZK:d,KK:l,U_:o,_i:h,vs:r,t$:e}}function JL(t,n,e){var r,s,u,o=QL(t);try{r=i.Lr(e,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(y(i)||y(e))throw new v("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Ek:i,oT:e}}(o.RESOLUTION),s=function(t){if(!t)return;for(var n,i,e,r=t.split(","),s=0;s<r.length;s++){var u=r[s],o=u.trim();ms(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:ms(o,"avc")||ms(o,"hvc1")||ms(o,"hev1")||ms(o,"dvh")?i=u:e=e?e+","+o:o}return{XX:n,HX:i,zX:e}}(o.CODECS)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var a=$L(o.BANDWIDTH),h=$L(o["AVERAGE-BANDWIDTH"]),c=$L(o.SCORE),f=$L(o["FRAME-RATE"]),d=o["HDCP-LEVEL"],l=[];if(void 0!==o["ALLOWED-CPC"]){var w=o["ALLOWED-CPC"].split(",");l.push.apply(l,w.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))}var _=o["VIDEO-RANGE"],g=o.AUDIO,m=o.VIDEO,k=o.SUBTITLES,p=o["CLOSED-CAPTIONS"];if(void 0===a?aL.U$(hL,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==h&&h>a&&aL.U$(hL,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),s||aL.vT(hL,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),s&&s.HX&&void 0===u&&aL.vT(hL,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===d||Ys(["TYPE-0","TYPE-1","NONE"],d)||aL.U$(hL,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===_||Ys(["SDR","PQ","HLG"],_)||aL.U$(hL,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===a)throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{s1:l,u1:g,KJ:h,PR:a,o1:p,VX:s,$J:f,a1:d,C$:u,F0:c,h1:k,t$:r,c1:m,f1:_}}function KL(t,n){var i=QL(t);if(!i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return JL(t,n,i.URI)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function $L(t){var n=Number(t);return y(n)?void 0:n}function tx(t,n){var i,e,r=QL(t);try{i=function(t){switch(t){case"NONE":return OB.wD;case"AES-128":return OB.zK;case"SAMPLE-AES":return OB.GK;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new v("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(r.METHOD),e=r.URI?ax(r.URI,n):void 0}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var s,u,o,a,h,c=r.KEYFORMAT,f=r.IV,d=r.KEYFORMATVERSIONS;if(i!==OB.wD){if(o=c||"identity","SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(zL(o)!==fs)throw new v("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");s=OB.GK}else s=i;u=e,a=f?Jo(f):void 0,h=d?d.split("/").map(function(t){return Number(t)}):[1]}else s=OB.wD,(e||c||d||f)&&aL.U$(hL,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{_l:s,t$:u,v1:a,$0:o,d1:h}}function nx(t){var n=YL(t);if(!n)return[void 0,""];var i=n.split(","),e=i[0],r=i[1];return[$L(e),r]}function ix(t,n){var i=t.split("@"),e=$L(i[0]),r=i.length>1?$L(i[1]):n;if(void 0===e||void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{DD:r,T_:e}}function ex(t){if(void 0!==t)return ix(t,void 0)}function rx(t,n){return ix(YL(t),n)}function sx(t,n){var i=QL(t);try{return{Ti:ax(i.URI,n),NK:ex(i.BYTERANGE)}}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function ux(t){var n=YL(t);if(!n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!zt(i))throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function ox(t){var n,i,e,r=QL(t),s=r["START-DATE"],u=r["END-DATE"],o=$L(r["PLANNED-DURATION"]),a=$L(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=Jo(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=Jo(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=Jo(r["SCTE35-OUT"]).buffer);var h,c,f="YES"===r["END-ON-NEXT"],d=function(t){for(var n={},i=0,e=l.keys(t);i<e.length;i++){var r=e[i],s=t[r];void 0!==s&&ms(r,"X-")&&(n[r]=s)}return n}(r),w=r.ID,_=r.CLASS;if(void 0===s)aL.U$(hL,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(h=new Date(s),c=void 0!==u?new Date(u):void 0,zt(h)||aL.U$(hL,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+h+"."),void 0!==a){var g=new Date(h.getTime()+1e3*a);c?c.getTime()!==g.getTime()&&(aL.U$(hL,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),c=g):c=g}else c&&(a=(h.getTime()-c.getTime())/1e3);if(f&&(r.CLASS||aL.U$(hL,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&aL.U$(hL,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),c&&aL.U$(hL,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===w&&aL.U$(hL,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===w||void 0===h)throw new v("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{B_:w,CK:_,QN:h,PK:c,Vg:a,BK:o,UK:n,HK:i,FK:e,DK:f,xK:d}}function ax(t,n){if(void 0===t)throw new v("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return i.Lr(t,n)}function hx(t,n){var i=QL(t),e=$L(i.DURATION),r=ax(i.URI,n),s=ex(i.BYTERANGE),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===e)throw new v("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{Vg:e,t$:{Ti:r,NK:s},l1:u,w1:o}}function cx(t){var n=QL(t);return{_1:"YES"===n["CAN-BLOCK-RELOAD"],g1:$L(n["CAN-SKIP-UNTIL"]),m1:"YES"===n["CAN-SKIP-DATERANGES"],A1:$L(n["HOLD-BACK"]),b1:$L(n["PART-HOLD-BACK"])}}function fx(t,n){var i=QL(t);if(void 0===i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var e=ax(i.URI,n),r=$L(i["LAST-MSN"]),s=$L(i["LAST-PART"]);if(void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{t$:e,T1:r,S1:s}}function vx(t,n){var i,e=QL(t),r=$L(e["SKIPPED-SEGMENTS"]),s=null==(i=e["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{E1:r,I1:s,R1:n}}function dx(t){var n=$L(QL(t)["PART-TARGET"]);if(void 0===n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function lx(t){switch(YL(t)){case"VOD":return PB.WK;case"EVENT":return PB.qK;default:return aL.U$(hL,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),PB.Zd}}function wx(t,n){var i,e,r=QL(t);try{i=function(t){if(void 0===t)throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return CB.XK;if("PART"===t)return CB.VK;throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(r.TYPE),e=ax(r.URI,n)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var s,u=$L(r["BYTERANGE-START"]),o=$L(r["BYTERANGE-LENGTH"]);return void 0===u&&void 0===o||(s={DD:u||0,T_:o}),{vs:i,t$:{Ti:e,NK:s}}}var _x=function(){function t(n){this.N1=0,this.D1=void 0,this.D1=t.C1(n)}var n=t.prototype;return n.O1=function(){var t=this.D1[this.N1];return this.N1+=1,t},n.P1=function(){return this.D1[this.N1]},n.Mu=function(){var n=new t("");return n.N1=0,n.D1=this.D1.slice(this.N1),n},t.C1=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function gx(t,n,i){var e=t.t$,r=t.Rb,s=t.B1,u=t.DD;switch(i){case"#EXT-X-VERSION":r=function(t){var n=jL(t);return y(n)?(aL.U$(hL,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=QL(t),i=$L(n["TIME-OFFSET"]);if(void 0===i)throw new v("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{L1:i,M1:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":aL.U$(hL,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:aL.vT(hL,"Ignoring unrecognized line or comment: "+n+".")}return{t$:e,Rb:r,B1:s,DD:u}}function yx(t,n){return t.map(function(t){return t._l===OB.wD||t.v1?t:xr({},t,{v1:mx(n)})})}function mx(t){var n=new DataView(new ArrayBuffer(16)),i=new Zo;return i.Bu(8),function(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=e?r:s;ko(t,n,e?s:r,e),ko(t,n,u,e)}(n,i,ft.fromNumber(t)),new m(n.buffer)}function kx(t,n,e){aL.vT(hL,"Parsing M3U8 playlist at "+t+".");var r=new _x(e);if("#EXTM3U"!==r.O1())throw new v("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,n){var e,r;try{r=i.Lr(t)}catch(n){throw aL.U$(hL,"The master playlist has no valid base URI: "+t+"."),new v("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var s={t$:r,B1:void 0,DD:void 0,Rb:void 0},u=[],o=[],a=[],h=[];;){var c=n.O1();if(!c)break;try{var f=WL(c);switch(f){case"#EXT-X-MEDIA":var d=ZL(c,r);u.push(d);break;case"#EXT-X-STREAM-INF":var l=JL(c,r,n.O1());o.push(l);break;case"#EXT-X-I-FRAME-STREAM-INF":var w=KL(c,r);a.push(w);break;case"#EXT-X-SESSION-DATA":aL.U$(hL,"Ignoring unsupported #EXT-X-SESSION-DATA: "+c+".");break;case"#EXT-X-SESSION-KEY":var _=tx(c,r);h.push(_);break;default:s=gx(s,c,f)}}catch(t){aL.U$(hL,"Ignoring unparsable line: "+c,t)}}var g=s.Rb,y=null!=(e=s.B1)&&e,m=s.DD;return void 0===g&&(aL.U$(hL,"The playlist has no #EXT-X-VERSION, assuming version is 2."),g=2),g>=8&&(o.some(function(t){return void 0!==t.F0})||a.some(function(t){return void 0!==t.F0}))&&(o.some(function(t){return void 0===t.F0})||a.some(function(t){return void 0===t.F0}))&&aL.U$(hL,"If one master playlist variant stream has a SCORE, all variants should have it."),{t$:r,Rb:g,B1:y,DD:m,U1:a,F1:h,tT:u,H1:o}}(t,r):function(t,n,e){var r,s,u,o,a,h,c,f,d,l,w,_,g,y,m,k,p,A,b,T={t$:t,B1:void 0,DD:void 0,Rb:void 0},S=[],E=!1,I=!1,R=[],N=Ur(),D=[],C=[],O=!1,P=!1,B=[],L=[],x=0,M=!1,U=PB.Zd,F=!1,H=0;try{b=i.Lr(t)}catch(n){throw aL.U$(hL,"The media playlist has no valid base URI: "+t+".",n),new v("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var X=e.Mu();void 0===k||void 0===p;){var V=X.O1();if(!V)break;try{switch(qL(V)){case"#EXT-X-MEDIA-SEQUENCE":k=jL(V);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":p=jL(V)}}catch(t){aL.U$(hL,"Ignoring unparsable line: "+V,t)}}void 0===k&&(aL.vT(hL,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),k=0),void 0===p&&(aL.vT(hL,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),p=0);for(var z=k,G=p;;){var W=e.O1();if(!W)break;var q=!1;try{var Y=qL(W);switch(Y){case"#EXTINF":q=!0;var j=nx(W);h=j[0],c=j[1];break;case"#EXT-X-BYTERANGE":q=!0,(f=rx(W,x))&&(x=f.DD+f.T_);break;case"#EXT-X-DISCONTINUITY":q=!0,O=!0,G++;break;case"#EXT-X-KEY":var Q,Z;q=!0;var J=tx(W,b);if(J._l===OB.wD){N.clear(),y=void 0;break}var K=null!=(Q=null==(Z=J.$0)?void 0:Z.toString())?Q:"identity";N.set(K,J),J._l===OB.zK&&(y=J);break;case"#EXT-X-MAP":q=!0,l=sx(W,b),w=y;break;case"#EXT-X-PROGRAM-DATE-TIME":q=!0,_=ux(W);break;case"#EXT-X-GAP":q=!0,P=!0;break;case"#EXT-X-BITRATE":q=!0,g=jL(W);break;case"#EXT-X-TARGETDURATION":s=jL(W);break;case"#EXT-X-DATERANGE":var $=ox(W);S.push($);break;case"#EXT-X-PART":q=!0;var tt=hx(W,b);C.push(tt);break;case"#EXT-X-PRELOAD-HINT":var nt=wx(W,b);B.push(nt);break;case"#EXT-X-SKIP":R.length>0&&aL.U$(hL,"#EXT-X-SKIP must appear before any #EXTINF tags."),q=!0;var it=vx(W,z);H=it.E1,A=it.I1,z+=it.E1;break;case"#EXT-X-SERVER-CONTROL":var et=cx(W);E=et._1,u=et.g1,I=et.m1,o=et.A1,a=et.b1;break;case"#EXT-X-RENDITION-REPORT":var rt=fx(W,b);L.push(rt);break;case"#EXT-X-PART-INF":m=dx(W);break;case"#EXT-X-MEDIA-SEQUENCE":q&&aL.U$(hL,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":q&&aL.U$(hL,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":M=!0;break;case"#EXT-X-PLAYLIST-TYPE":U=lx(W);break;case"#EXT-X-I-FRAMES-ONLY":F=!0;break;default:if(ms(Y,"#"))T=gx(T,W,Y);else{d=i.Lr(W,b);var st=l?{t$:l,X1:w}:void 0,ut={F1:yx(Xr(N),z),JS:D,V1:C,Vg:h,PN:c,z1:O,t$:{NK:f,Ti:d},G1:st,W1:_,w1:P,q1:g,R1:z,Y1:G};R.push(ut),z++,D=[],C=[],h=void 0,h=void 0,c=void 0,O=!1,f=void 0,d=void 0,_=void 0,P=!1,g=void 0}}}catch(t){aL.U$(hL,"Ignoring unparsable line: "+W,t)}}if(C.length){var ot=l?{t$:l,X1:y}:void 0,at={F1:yx(Xr(N),z),JS:D,V1:C,Vg:h,PN:c,z1:O,t$:void 0,G1:ot,W1:_,w1:P,q1:g,R1:z,Y1:G};R.push(at)}var ht=T.Rb,ct=null!=(r=T.B1)&&r,ft=T.DD;void 0===ht&&(aL.U$(hL,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),ht=2),void 0===s&&aL.U$(hL,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var vt=R.length,dt=vt>0;dt||aL.U$(hL,"The HLS media playlist contains no segments.");var lt=dt&&R[vt-1].V1.length>0;return lt&&void 0===m&&aL.U$(hL,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),lt&&void 0===a&&aL.U$(hL,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{_1:E,g1:u,m1:I,j1:S,Y1:p,Q1:M,B1:ct,A1:o,Z1:F,R1:k,E1:H,b1:a,M0:m,J1:U,K1:B,I1:A,n2:L,i2:s,eK:R,DD:ft,t$:b,e2:n,Rb:ht}}(t,n,r)}var px=function(){function t(t,n,i){var e,r,s,u;this.B_=Ax++,this.YK=void 0,this.PR=void 0,this.F0=void 0,this.C$=void 0,this.u1=void 0,this.c1=void 0,this.h1=void 0,this.o1=void 0,this.s2=void 0,this.u2=void 0,this.o2=[],this.YK=n,this.PR=t.PR,this.s2=t.KJ,this.F0=t.F0,this.u2=t.VX?bx(t.VX):void 0,this.C$=t.C$,this.u1=null!=(e=t.u1)?e:"a2"+this.B_,this.c1=null!=(r=t.c1)?r:"h2"+this.B_,this.h1=null!=(s=t.h1)?s:"c2"+this.B_,this.o1=null!=(u=t.o1)?u:"f2"+this.B_,this.o2=i}var n=t.prototype;return n.d2=function(t){for(var n=0,i=this.o2;n<i.length;n++){var e=i[n].YK.d2(t);if(void 0!==e)return e}},n.l2=function(t){for(var n=0,i=this.o2;n<i.length;n++){var e=i[n].YK.l2(t);if(void 0!==e)return e}},n.w2=function(t){for(var n=0,i=this.o2;n<i.length;n++){var e=i[n];if(e.vs===t&&e.$K)return void Ws(this.o2,e)}},b(t,[{key:"t$",get:function(){return this.YK.t$}},{key:"VX",get:function(){return this.u2},set:function(t){this.u2=t?bx(t):void 0}},{key:"KJ",get:function(){return this.s2||this.PR}},{key:"_2",get:function(){var t,n;if(!this.o2.length)return gS.dC();var i=null!=(t=$s(this.o2,function(t){var n;return null!=(n=t.YK.g2)?n:0}))?t:this.Q$[0],e=i.YK.eK;if(!e.length||e.length<2)return gS.dC();var r=i.YK.Q1?e[0].Wm:e[1].Wm,s=e[e.length-1],u=s.Wm+(null!=(n=s.Vg)?n:s.m2)-this.Q$.reduce(function(t,n){var i,e;return w.max(null!=(i=null!=(e=n.YK.b1)?e:n.YK.A1)?i:0,t)},0);return u<r?gS.dC():new gS([r,u])}},{key:"Q$",get:function(){return this.o2}},{key:"W$",get:function(){return this.o2.filter(function(t){return t.vs===SB.dl})}},{key:"q$",get:function(){return this.o2.filter(function(t){return t.vs===SB.ll})}},{key:"A2",get:function(){return this.o2.filter(function(t){return t.vs===SB.WA})}},{key:"b2",get:function(){return this.o2.filter(function(t){return t.vs===SB.RK})}}]),t}(),Ax=0;function bx(t){return xr({},t,{HX:t.HX?zc(t.HX):void 0})}var Tx=function(){function t(t,n,i,e,r){this.T2=void 0,this.S2=void 0,this.Vg=void 0,this.t$=void 0,this.l1=void 0,this.w1=void 0,this.E2=void 0,this.rk=void 0,this.pJ=void 0,this.I2=void 0,this.T2=t,this.S2=n,this.rk=i,this.E2=e,this.Vg=r.Vg,this.t$=r.t$,this.l1=r.l1,this.w1=r.w1}return t.prototype.R2=function(t,n){this.rk=t,this.E2=n},b(t,[{key:"Wm",get:function(){var t;return this.rk+(null!=(t=this.I2)?t:0)}},{key:"N2",get:function(){return this.E2}},{key:"F1",get:function(){return this.T2.F1}}]),t}();function Sx(t){return void 0!==t.V1}var Ex,Ix=function(){function t(t,n,i,e,r){this.oa=void 0,this.W1=void 0,this.D2=void 0,this.G1=void 0,this.w1=void 0,this.C2=void 0,this.E2=void 0,this.R1=void 0,this.z1=void 0,this.Y1=void 0,this.F1=void 0,this.rk=void 0,this.pJ=void 0,this.O2=[],this.P2=0,this.B2=void 0,this.rk=t,this.G1=r.G1,this.C2=i,this.E2=e,this.oa=r.Vg,this.W1=r.W1,this.D2=r.t$,this.w1=r.w1,this.R1=r.R1,this.z1=r.z1,this.Y1=n,this.F1=r.F1,this.L2(r.V1)}var n=t.prototype;return n.M2=function(t){return this.O2[t]},n.U2=function(t){for(var n=0;n<this.O2.length;n++){var i=this.O2[n],e=i.Wm,r=e+i.Vg;if(e<=t&&t<=r)return t===r&&n+1<this.O2.length?this.O2[n+1]:i}},n.F2=function(t){for(var n=this.O2.length-1;n>=0;n--){var i=this.O2[n];if(i.Wm<=t)return i}},n.H2=function(t){for(var n=this.F2(t);n&&!n.l1&&n.S2>0;)n=this.M2(n.S2-1);return n},n.R2=function(t,n,i){var e=t.V1.length!==this.O2.length||i!==this.E2;this.C2=n,this.E2=i,this.oa=t.Vg,void 0===this.D2&&(this.D2=t.t$),e&&this.L2(t.V1)},n.L2=function(t){this.O2.length>t.length&&(this.O2.length=t.length);for(var n=0,i=0;i<t.length;i++){var e=t[i],r=!!this.E2&&i===t.length-1,s=this.rk+n;if(i<this.O2.length)this.O2[i].R2(s,r);else{var u=new Tx(this,i,s,r,e);this.O2.push(u)}n+=e.Vg}this.P2=n},n.X2=function(){Qs(this.O2),this.P2=0},b(t,[{key:"Wm",get:function(){var t;return this.rk+(null!=(t=this.B2)?t:0)}},{key:"V2",get:function(){return this.rk}},{key:"Vg",get:function(){return this.oa}},{key:"t$",get:function(){return this.D2}},{key:"z2",get:function(){return this.C2}},{key:"N2",get:function(){return this.E2}},{key:"V1",get:function(){return this.O2}},{key:"m2",get:function(){return this.P2}},{key:"I2",get:function(){return this.B2},set:function(t){this.B2=t;for(var n=0,i=this.O2;n<i.length;n++){i[n].I2=t}}}]),t}();!function(t){t.G2="YES",t.W2="v2"}(Ex||(Ex={}));var Rx=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(tn);var Nx=function(t){function n(n,i){var e,r=Dx(i,n.Vg,n.QN,n.PK);return(e=t.call(this,i,r,void 0,!1,n.B_)||this).q2=void 0,e.Y2=void 0,e.j2=void 0,e.oa=void 0,e.Q2=void 0,e.Z2=void 0,e.J2=void 0,e.K2=void 0,e.n3=void 0,e.i3=void 0,e.q2=n.CK,e.Y2=n.QN,e.j2=n.PK,e.oa=n.Vg,e.Q2=n.BK,e.Z2=Boolean(n.DK),e.J2=n.LK||{},e.K2=n.MK,e.n3=n.FK,e.i3=n.HK,e.e3(),e.r3(),e}S(n,t);var i=n.prototype;return i.Jh=function(t){var n=!1;void 0===this.q2&&void 0!==t.CK&&(n=!0,this.q2=t.CK),void 0===this.j2&&void 0!==t.PK&&(n=!0,this.j2=t.PK),void 0===this.oa&&void 0!==t.Vg&&(n=!0,this.oa=t.Vg),void 0===this.Q2&&void 0!==t.BK&&(n=!0,this.Q2=t.BK),!this.Z2&&t.DK&&(n=!0,this.Z2=t.DK),n=this.updateCustomAttributes(t,n),void 0===this.K2&&void 0!==t.MK&&(n=!0,this.K2=t.MK),void 0===this.n3&&void 0!==t.FK&&(n=!0,this.n3=t.FK),void 0===this.i3&&void 0!==t.HK&&(n=!0,this.i3=t.HK),this.e3(),this.r3(),this.s3(),n&&this.Zs(new Vm(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.LK)for(var e=0,r=l.keys(t.LK);e<r.length;e++){var s=r[e];void 0===this.J2[s]&&(i=!0,this.J2[s]=t.LK[s])}return i},i.e3=function(){this.oa&&!this.j2&&(this.j2=new Date(this.Y2.getTime()+qt(this.oa)))},i.r3=function(){this.j2&&!this.oa&&(this.oa=Wt(this.j2.getTime()-this.Y2.getTime()))},i.s3=function(){this.hk===1/0&&(this.j2||this.oa)&&(this.hk=Dx(this.rk,this.oa,this.Y2,this.j2))},b(n,[{key:"Yw",get:function(){var t;return this.qw||(this.qw=_g(Fm(t=this),{get content(){return t.Ym},get class(){return t.CK},get startDate(){return t.QN},get endDate(){return t.PK},get duration(){return t.Vg},get plannedDuration(){return t.BK},get endOnNext(){return t.DK},get scte35Cmd(){return t.MK},get scte35Out(){return t.FK},get scte35In(){return t.HK},get customAttributes(){return t.LK}})),this.qw}},{key:"CK",get:function(){return this.q2}},{key:"QN",get:function(){return this.Y2}},{key:"PK",get:function(){return this.j2}},{key:"Vg",get:function(){return this.oa}},{key:"BK",get:function(){return this.Q2}},{key:"DK",get:function(){return this.Z2}},{key:"MK",get:function(){return this.K2}},{key:"FK",get:function(){return this.n3}},{key:"HK",get:function(){return this.i3}},{key:"LK",get:function(){return this.J2}}]),n}(qm);function Dx(t,n,i,e){return H(n)?t+n:e?t+(Wt(e.getTime())-Wt(i.getTime())):1/0}var Cx=function(t){function n(){return t.call(this,void 0,void 0,Im.DATE_RANGE)||this}S(n,t);var i=n.prototype;return i.Jh=function(t,n){Ox(this,Px(t),n)},i.kE=function(n){var i,e,r;i=this.Z_.b_,e=n,(r=zs(i,function(t){return t.CK===e.CK}))&&r.DK&&r.Jh({B_:r.B_,PK:e.QN}),t.prototype.kE.call(this,n)},n}(SO);function Ox(t,n,i){for(var e=t.Z_.b_,r=function(i){var r=e[i],s=Vs(n,function(t){return t.B_===r.B_});s?r.Jh(s):t.oE(r)},s=e.length-1;s>=0;s--)r(s);for(var u=0;u<n.length;u++){var o=n[u],a=o.QN;if(void 0!==a&&!t.jG(o.B_)){var h=i(a);t.kE(new Nx(o,h))}}}function Px(t){for(var n=Ur(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.B_)){var s=n.get(r.B_),u=xr({},s,kg(r),{LK:xr({},s.LK,r.LK)});n.set(r.B_,u)}else n.set(r.B_,r),i.push(r.B_)}return i.map(function(t){return n.get(t)})}var Bx=String.fromCharCode(95),Lx=Bx+"HLS_msn",xx=Bx+"HLS_part",Mx=Bx+"HLS_skip",Ux=function(){function t(t){this.t$=void 0,this.u3=void 0,this.o3=void 0,this.a3=void 0,this.h3=void 0,this.c3=void 0,this.f3=void 0,this.v3=void 0,this.d3=[],this.l3=[],this.B2=void 0,this.w3=!1,this._3=void 0,this.g3=!1,this.y3=PB.Zd,this.aG=gS.dC(),this.m3=gS.dC(),this.oa=void 0,this.A3=-1/0,this.b3=void 0,this.t$=t}var n=t.prototype;return n.D$=function(t){if(!t)return this.t$;var n=i.Br(this.t$);return void 0!==t.R1&&n.searchParams.append(Lx,String(t.R1)),void 0!==t.T3&&n.searchParams.append(xx,String(t.T3)),void 0!==t.cb&&n.searchParams.append(Mx,t.cb),n.href},n.S3=function(t){return Vs(this.d3,function(n){return n.R1===t})},n.E3=function(t){for(var n=0;n<this.d3.length;n++){var i,e=this.d3[n],r=e.Wm,s=r+(null!=(i=e.Vg)?i:e.m2);if(r<=t&&t<=s)return t===s&&n+1<this.d3.length?this.d3[n+1]:e}},n.d2=function(t){var n=this.I3();if(void 0!==n)return new Date(1e3*t+n)},n.l2=function(t){var n=this.I3();if(void 0!==n)return(t.getTime()-n)/1e3},n.I3=function(){for(var t=this.eK,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.W1)return i.W1.getTime()-1e3*i.Wm}},n.R3=function(t){switch(t){case CB.XK:return this.o3;case CB.VK:return this.a3;default:return}},n.R2=function(t){var n;void 0===this.h3&&(this.h3=null!=(n=t.i2)?n:this.N3(t));void 0===this.f3&&void 0!==t.A1&&(this.f3=t.A1),void 0===this.c3&&void 0!==t.M0&&(this.c3=t.M0),void 0===this.v3&&void 0!==t.b1&&(this.v3=t.b1),this.w3=t._1,this._3=t.g1,this.g3=t.m1,this.y3=t.J1,this.D3(t),this.C3(t);var e=Vs(t.K1,function(t){return t.vs===CB.XK}),r=Vs(t.K1,function(t){return t.vs===CB.VK});this.o3=e?{t$:e.t$,vs:e.vs,Y1:t.Y1}:void 0,this.a3=r?{t$:r.t$,vs:r.vs,Y1:t.Y1}:void 0,this.u3=i.er()/1e3,this.m3=this.O3(),this.aG=this.P3(this.m3),this.oa=this.B3()},n.O3=function(){var t,n=this.eK;if(0===n.length)return gS.dC();var i=n[0].Wm,e=n[n.length-1],r=e.Wm,s=null!=(t=e.Vg)?t:e.m2;return new gS([i,r+s])},n.P3=function(t){var n,i;if(0===t.T_||this.Q1)return t;var e=t.DD(0),r=t.OD(0)-(null!=(n=null!=(i=this.b1)?i:this.A1)?n:0);return r<e?gS.vC(e):new gS([e,r])},n.B3=function(){return 0===this.d3.length?0:this.Q1?(t=this.d3,n=function(t){var n;return null!=(n=t.Vg)?n:t.m2},t.reduce(function(t,i){return t+n(i)},0)):1/0;var t,n},n.N3=function(t){for(var n,i=0,e=t.eK;i<e.length;i++){var r=e[i];if(void 0!==r.Vg){var s=w.max(1,w.round(r.Vg));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new v("HLSModel - Could not determine required segment target duration.");return n},n.D3=function(t){if(0===t.eK.length)return Qs(this.d3),void this.L3();var n=this.x3(t);if(n){var i,e,r;n.M3>0&&this.d3.splice(0,n.M3);var s=t.E1;if(s>0){if(s>this.d3.length)throw new Rx("New playlist skips over missing segments.");var u=this.d3[s-1];if(void 0===u.Vg)throw new Rx("New playlist skips over an incomplete segment.");i=u.V2+u.Vg,r=u.Y1-t.Y1,e=s;for(var o=0;o<s;o++)this.d3[o].X2()}else i=n.U3,r=0,e=0;for(var a=0;a<t.eK.length;a++,e++){var h=t.eK[a],c=0===a,f=t.Q1&&a===t.eK.length-1,v=h.Vg,d=h.Y1+r;if(e<this.d3.length){var l=this.d3[e];0,l.R2(h,c,f)}else{var w=new Ix(i,d,c,f,h);w.I2=this.B2,this.d3.push(w)}void 0!==v&&(i+=v)}}},n.x3=function(t){if(0===this.d3.length)return{M3:0,U3:0};var n=this.d3[0].R1,i=this.d3[this.d3.length-1].R1,e=t.eK[0].R1-t.E1,r=t.eK[t.eK.length-1].R1,s=0,u=0;if(e<n)aL.U$("HLSMediaPlaylist","Ignoring older playlist (first media sequence number is "+e+", but previous playlist already started at "+n+")");else{if(!(r<i)){if(i<e){var o;u=null!=(o=function(t,n){var i=zs(t,function(t){return void 0!==t.W1});if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(r.z1)return;if(r.W1)return[r,n];n+=null!=(e=r.Vg)?e:0}return}(n.eK);if(void 0===e)return;var r=e[0],s=e[1];if(i.Y1!==r.Y1)return;var u=(r.W1.getTime()-i.W1.getTime())/1e3;return i.V2+u-s}(this.d3,t))?o:(h=this.d3,c=this.h3,v=h[h.length-1],d=null!=(f=v.Vg)?f:w.max(c,v.m2),v.V2+d),aL.M$("HLSMediaPlaylist","New playlist (starting at "+e+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+u+"s"),s=this.d3.length,this.L3()}else{0;var a=Gs(this.d3,function(t){return t.R1===e});0,u=this.d3[a].V2,a>0&&(s=a)}var h,c,f,v,d;return{M3:s,U3:u}}aL.U$("HLSMediaPlaylist","Ignoring older playlist (last media sequence number is "+r+", but previous playlist already ended at "+i+")")}},n.C3=function(t){var n=this,i=t.j1.map(UB);if(t.m1&&t.e2.cb===Ex.W2&&(i=this.l3.concat(i)),this.l3=Px(i),t.I1)for(var e=function(t,i){var e=i[t],r=Gs(n.l3,function(t){return t.B_===e});r>=0&&qs(n.l3,r)},r=0,s=t.I1;r<s.length;r++)e(r,s)},n.F3=function(t,n){if(this.B2!==t){this.B2=t;for(var i=0,e=this.d3;i<e.length;i++){e[i].I2=this.B2}}this.b3=n},n.L3=function(){this.B2=void 0,this.b3=void 0},b(t,[{key:"Q1",get:function(){return Boolean(Vs(this.d3,function(t){return t.N2}))}},{key:"Vg",get:function(){return this.oa}},{key:"Am",get:function(){return this.aG}},{key:"H3",get:function(){return this.m3}},{key:"U0",get:function(){return this.h3}},{key:"M0",get:function(){return this.c3}},{key:"A1",get:function(){return this.Q1?0:this.f3?this.f3:this.h3?3*this.h3:void 0}},{key:"b1",get:function(){var t;return null!=(t=this.v3)?t:this.c3?3*this.c3:void 0}},{key:"X3",get:function(){var t,n,i;if(!this.Q1&&0!==this.d3.length){var e=this.d3[this.d3.length-1],r=null!=(t=e.Vg)?t:e.m2,s=null!=(n=null!=(i=this.b1)?i:this.A1)?n:0;return e.Wm+r-s}}},{key:"_1",get:function(){return this.w3}},{key:"g1",get:function(){return this._3}},{key:"m1",get:function(){return this.g3}},{key:"J1",get:function(){return this.y3}},{key:"V3",get:function(){return void 0!==this.M0}},{key:"z3",get:function(){if(this.Q1)return!0;var t=i.er()/1e3,n=this.g2,e=this.G3;return void 0!==n&&t-n<e}},{key:"g2",get:function(){return this.u3}},{key:"I2",get:function(){return this.B2}},{key:"G3",get:function(){var t;return null!=(t=this.h3)?t:1}},{key:"eK",get:function(){return this.d3}},{key:"j1",get:function(){return this.l3}},{key:"W3",get:function(){return this.A3},set:function(t){this.A3=t}},{key:"q3",get:function(){return this.b3}}]),t}();var Fx=function(){function t(){this.Y3=[],this.j3=Fr()}var n=t.prototype;return n.Q3=function(t){var n=this.j3.get(t);return void 0!==n&&Hx(n)},n.Z3=function(t){return this.K3(t).J3.Xu},n.t4=function(t){var n=this.j3.get(t);if(!n||!Hx(n))throw new v("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.n4=function(t){return this.t4(t).Kp},n.i4=function(t,n){var i=Sx(n)?n:n.T2,e=this.t4(i.Y1),r=t.Im(e.Kp);if(e.e4){var s=vk.Op(n.Wm).Fk(r);if(s.xk().Nk(gk)){var u=w.round(s.Rk()/_k.Rk());r=r.Im(_k.lp(u))}}return r},n.r4=function(t,n){return this.i4(t,n).Fk(t)},n.s4=function(t,n,i,e,r){var s=this.K3(t);void 0===s.Kp&&(s.u4.some(function(t){return t.o4===n})||(s.u4.push({o4:n,a4:i,h4:e.Ep(i.pp),e4:r}),this.c4(s)))},n.c4=function(t){if(!t.Kp&&this.f4(t)){var n=tu(t.u4,Xx);Qs(t.u4),t.Kp=n.h4.Fk(n.a4),t.e4=n.e4,t.J3.Wu()}},n.f4=function(t){return this.Y3.length>0&&this.Y3.every(function(n){return t.u4.some(function(t){return t.o4===n})})},n.K3=function(t){if(this.j3.has(t))return this.j3.get(t);var n={Kp:void 0,e4:!1,J3:new Ko,u4:[]};return this.j3.set(t,n),n},n.v4=function(t){var n=this;this.Y3=t,this.j3.forEach(function(t){return n.c4(t)})},n.xs=function(){this.j3.forEach(function(t){return t.J3.Vs()}),this.j3.clear()},t}();function Hx(t){return void 0!==t.Kp}function Xx(t,n){return t.e4||n.e4?(i=t.a4,e=n.a4,r=i.Fk(e),i.Xk()||e.Xk()?r:(r.Ck(gk)?r=r.Fk(_k):r.Lk(gk.Uk())&&(r=r.Im(_k)),r)).Dk(vk.jk):t.a4.Dk(n.a4);var i,e,r}var Vx=function(){function t(t){this.d4=[],this.l4=[],this.w4=Ur(),this._4=new Fx,this.g4=t}var n=t.prototype;return n.R2=function(t,n){if(DB(t))if(0===this.d4.length)this.y4(t);else{if(!n)return void aL.U$("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.YK.R2(t)}else{if(0!==this.d4.length)return void aL.U$("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.m4(t)}},n.y4=function(t){var n=this.A4(t.t$);n.R2(t);var i=this.b4(SB.dl,n),e=this.b4(SB.ll,n),r=new px({t$:n.t$,PR:0,KJ:0,F0:NaN,VX:void 0,C$:void 0,$J:0,s1:[],a1:void 0,f1:void 0,u1:void 0,c1:void 0,h1:void 0,o1:void 0},n,[i,e]);this.d4.push(r)},n.m4=function(t){var n,i=this;(n=this.l4).push.apply(n,t.F1);for(var e=this.T4(t),r=function(t,n){var r=n[t],s=e.filter(function(t){return function(t,n){return zx(t.vs,t.JK,n)&&(!t.$K||t.YK.t$===n.t$)}(t,r)});i.S4(r,s);var u=new px(r,i.A4(r.t$),s);i.d4.push(u)},s=0,u=t.H1;s<u.length;s++)r(s,u)},n.A4=function(t){var n=this.w4.get(t);return void 0===n&&(n=new Ux(t),this.w4.set(t,n)),n},n.T4=function(t){for(var n=[],i=0,e=t.tT;i<e.length;i++){var r=e[i];if(void 0===r.t$)for(var s=0,u=t.H1;s<u.length;s++){var o=u[s];if(zx(r.vs,r.JK,o)){var a=new FB(r,this.A4(o.t$));n.push(a)}}else{var h=new FB(r,this.A4(r.t$));n.push(h)}}return n},n.b4=function(t,n){return new FB({vs:t,t$:void 0,JK:"",U_:void 0,n1:void 0,_i:"",jK:!0,QK:!1,ZK:!1,e1:void 0,KK:void 0,i1:void 0},n)},n.S4=function(t,n){var i=n.filter(function(t){return t.vs===SB.dl}),e=n.filter(function(t){return t.vs===SB.ll}),r=t.VX&&(t.VX.HX||t.VX.XX);if((!r||t.VX.HX)&&0===e.length){var s=this.b4(SB.ll,this.A4(t.t$));n.push(s)}if((!r||t.VX.XX)&&0===i.length){var u=this.b4(SB.dl,this.A4(t.t$));n.push(u)}t.VX&&t.VX.zX},n.E4=function(t){for(var n=0,i=this.d4;n<i.length;n++)for(var e=0,r=i[n].Q$;e<r.length;e++){var s=r[e];if(s===t)return s}},n.I4=function(t){for(var n=0,i=this.d4;n<i.length;n++){var e=i[n];if(e===t)return e}},n.R4=function(t){for(var n=0,i=this.d4;n<i.length;n++){var e=i[n];if(Ys(e.Q$,t))return e}},n.xs=function(){Qs(this.d4),Qs(this.l4),this.w4.clear(),this._4.xs()},b(t,[{key:"N4",get:function(){return this.l4}},{key:"G$",get:function(){return this.d4}},{key:"qS",get:function(){return this._4}}]),t}();function zx(t,n,i){switch(t){case SB.dl:return i.u1===n;case SB.ll:return i.c1===n;case SB.WA:return i.h1===n;case SB.RK:return i.o1===n}return!1}var Gx=function(t){function n(n){var i;return(i=t.call(this,qx.D4)||this).y$=n,i}return S(n,t),n}(Tu);function Wx(t,n,i,e,r){var s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Lr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),hu(o.t0),!(s<i)){o.next=20;break}return u=w.min(e*w.pow(2,s),r),s++,o.next=19,Lr.awrap(yu(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],We)}var qx,Yx=function(t){function n(n){var i;return(i=t.call(this,qx.C4)||this).y$=n,i}return S(n,t),n}(Tu),jx="HlsModelUpdater";!function(t){t.D4="O4",t.C4="P4"}(qx||(qx={}));var Qx=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).B4=void 0,r.L4=!1,r.x4=void 0,r.M4=void 0,r.U4=Fr(),r.wE=n,r.F4=i,r.rootURI=e,r.B4=new Vx(e),r}S(n,t);var e=n.prototype;return e.H4=function(t){var n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.B4.g4){e.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");case 3:return e.next=5,Lr.awrap(this.X4(n,{},2,t));case 5:if(NB(i=e.sent)||DB(i)){e.next=8;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");case 8:return NB(i)||aL.vT(jx,"Detected media playlist only HLS stream."),this.V4(i),e.next=12,Lr.awrap(this.z4(t));case 12:this.L4=!0;case 13:case"end":return e.stop()}},null,this,null,We)},e.G4=function(t,n,i,e){var r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this.B4.E4(t)){o.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");case 3:return s={R1:n,T3:i,cb:$x(r)},u=qt(w.max(1,3*t.YK.G3)),o.prev=5,o.next=8,Lr.awrap(this.W4(r,s,e,u));case 8:o.next=15;break;case 10:throw o.prev=10,o.t0=o.catch(5),hu(o.t0),this.q4(r),o.t0;case 15:case"end":return o.stop()}},null,this,[[5,10]],We)},e.Y4=function(t,n){var i=this.B4.E4(t);if(!i)throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e={R1:void 0,T3:void 0,cb:$x(i)},r=qt(w.max(1,3*t.YK.G3));return this.W4(i,e,n,r)},e.j4=function(t,n){return this.U4.has(t.L_)||this.U4.set(t.L_,new Ko),fu(this.U4.get(t.L_).Xu,n)},e.q4=function(t){this.Zs(new Yx(t))},e.W4=function(t,n,e,r){var s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.YK.D$(n),a.prev=1,a.next=4,Lr.awrap(this.X4(s,n,0,e,r));case 4:u=a.sent,a.next=12;break;case 7:throw a.prev=7,a.t0=a.catch(1),hu(a.t0),t.YK.W3=i.er(),a.t0;case 12:if(DB(u)){a.next=14;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");case 14:a.prev=14,this.V4(u,t),a.next=24;break;case 18:if(a.prev=18,a.t1=a.catch(14),!(a.t1 instanceof Rx&&void 0!==n.cb)){a.next=23;break}return o=xr({},n,{cb:void 0}),a.abrupt("return",this.W4(t,o,e,r));case 23:throw a.t1;case 24:if(!this.x4||t===this.x4||this.x4.YK.z3){a.next=35;break}return a.prev=25,a.next=28,Lr.awrap(this.Y4(this.x4,e));case 28:a.next=35;break;case 30:a.prev=30,a.t2=a.catch(25),hu(a.t2),this.x4=t,this.Q4();case 35:this.Z4(t);case 36:case"end":return a.stop()}},null,this,[[1,7],[14,18],[25,30]],We)},e.X4=function(t,n,i,e,r){var s,u,o,a=this;return Lr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return aL.vT(jx,"Loading HLS playlist at "+t+"."),h.prev=1,h.next=4,Lr.awrap(this.F4.J4([t]));case 4:if(s=h.sent,au(e),void 0===s){h.next=8;break}return h.abrupt("return",kx(s.responseURL,{},s.data));case 8:h.next=14;break;case 10:h.prev=10,h.t0=h.catch(1),hu(h.t0);case 14:return u={jd:t,zd:Df.$n,_l:uw.GET,vs:ow.Jd,Ws:e,yl:r},h.next=17,Lr.awrap(Wx(function(){return a.K4(u)},e,i));case 17:return o=h.sent,h.abrupt("return",kx(o.Yd,n,o.Vi));case 19:case"end":return h.stop()}},null,this,[[1,10]],We)},e.K4=function(t){var n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lr.awrap(this.wE.qd(t));case 2:return n=e.sent,e.next=5,Lr.awrap(n.Sd());case 5:return i=e.sent,e.abrupt("return",{Vi:i,Yd:n.Yd});case 7:case"end":return e.stop()}},null,this,null,We)},e.z4=function(t){var n,i,e,r,s,u,o,a;return Lr.async(function(h){for(;;)switch(h.prev=h.next){case 0:au(t),n=[],i=0,e=this.B4.G$;case 3:if(!(i<e.length)){h.next=26;break}r=e[i],s=0,u=r.Q$;case 6:if(!(s<u.length)){h.next=23;break}return o=u[s],h.prev=8,h.next=11,Lr.awrap(this.F4.J4([o.YK.t$]));case 11:a=h.sent,au(t),void 0===a||o.YK.z3||n.push(this.Y4(o,t)),h.next=20;break;case 16:h.prev=16,h.t0=h.catch(8),hu(h.t0);case 20:s++,h.next=6;break;case 23:i++,h.next=3;break;case 26:return h.next=28,Lr.awrap(We.all(n));case 28:case"end":return h.stop()}},null,this,[[8,16]],We)},e.Q4=function(){for(var t=0,n=this.B4.G$;t<n.length;t++)for(var i=0,e=n[t].Q$;i<e.length;i++){var r=e[i];r!==this.x4&&(void 0!==r.YK.I2&&(r.YK.z3?this.Z4(r):r.YK.L3()))}},e.Z4=function(t){if(0!==t.YK.eK.length){if(!this.x4)return this.x4=t,void this.x4.YK.F3(0,void 0);if(this.t6(this.x4),!this.t6(t)&&void 0===t.YK.I2){var n=this.n6(t,this.x4);aL.M$(jx,"Assuming global timeline offset of "+n+"s for rendition "+t.YK.t$+"."),t.YK.F3(n,void 0)}}},e.n6=function(t,n){var i;if(Zx(t)){var e=t.YK.eK[0],r=n.YK.eK[0];return aL.M$(jx,"Synchronizing by start of VOD: "+r.Wm+" vs "+e.Wm),r.Wm-e.V2}var s=function(t,n){var i=t.length-1,e=n.length-1;for(;i>=0&&e>=0;){var r=t[i],s=n[e];if(r.Y1>s.Y1)i--;else if(r.Y1<s.Y1)e--;else if(r.z1){if(s.z1)return{segment:r,referenceSegment:s};e--}else i--}return}(t.YK.eK,n.YK.eK);if(void 0!==s){var u=s.segment,o=s.referenceSegment;return aL.M$(jx,"Synchronizing by start of discontinuity #"+o.Y1+": "+o.Wm+" vs "+u.Wm),o.Wm-u.V2}var a=Kx(t.YK.eK);if(void 0!==a){var h=Kx(n.YK.eK);if(void 0!==h)return aL.M$(jx,"Synchronizing by PDT:",h.W1.toISOString()+" vs "+a.W1.getTime()),h.Wm-a.V2-(h.W1.getTime()-a.W1.getTime())/1e3}var c=Jx(n),f=Jx(t),v=null!=(i=t.YK.I2)?i:0;return aL.M$(jx,"Synchronizing by last segment:",c+" vs "+f),c-f+v},e.t6=function(t){var n=this.B4.E4(t);if(!n)return!1;if(Zx(n))return!1;var i,e,r=(i=n.YK.eK,e=this.B4.qS,zs(i,function(t){return void 0!==t.pJ&&e.Q3(t.Y1)}));if(void 0===r)return!1;if(n.YK.q3===r.Y1)return!0;var s=this.B4.qS.i4(r.pJ,r).Rk()-r.V2;return aL.M$(jx,"Synchronize by media timestamp: "+s+"s for rendition "+t.YK.t$+"."),n.YK.F3(s,r.Y1),(void 0===this.x4||void 0===this.x4.YK.q3||this.x4.YK.q3<r.Y1)&&(this.x4=n),!0},e.V4=function(t,n){var i;(this.B4.R2(t,n),DB(t)&&n)&&(this.M4=n,this.Zs(new Gx(n)),null==(i=this.U4.get(n.L_))||i.Wu(),this.U4.delete(n.L_))},e.i6=function(t,n){var i=this.B4.I4(t);if(!i)throw new v("HLSModelUpdater - Could not update HLS variant stream: the stream does not exist on the internal model.");for(var e=0,r=this.B4.G$;e<r.length;e++){var s=r[e];s.VX||(n.HX||s.w2(SB.ll),n.XX||s.w2(SB.dl))}i.VX=n},e.xs=function(){this.tu(),this.B4.xs(),this.U4.forEach(function(t){return t.Vs()}),this.U4.clear()},b(n,[{key:"e6",get:function(){return this.L4}},{key:"z$",get:function(){return this.B4}},{key:"r6",get:function(){return this.M4}}]),n}(Au);function Zx(t){return t.YK.Q1||t.YK.J1===PB.qK}function Jx(t){var n,i=t.YK.eK[t.YK.eK.length-1];return i.Wm+(null!=(n=i.Vg)?n:i.m2)}function Kx(t){return zs(t,function(t){return void 0!==t.W1})}function $x(t){if(void 0!==t.YK.g1&&!t.YK.Q1&&!(void 0===t.YK.g2||i.er()/1e3-t.YK.g2>=t.YK.g1/2))return t.YK.m1?Ex.W2:Ex.G2}var tM=function(){function t(t,n,i){var e=this;this.s6=void 0,this.u6=void 0,this.$R=void 0,this.o6=void 0,this.a6=void 0,this.h6=function(t){e.u6.hlsDateRange&&e.C3(t.y$)},this.u6=t,this.s6=n,this.$R=i,this.o6=new Fp,this.s6.Js(qx.D4,this.h6)}return t.prototype.C3=function(t){if(0!==t.YK.j1.length){this.a6||(this.a6=this.$R.yE(Up.YA,void 0,void 0,void 0,void 0,Im.DATE_RANGE),this.o6.m_(this.a6));Ox(this.a6,t.YK.j1,function(n){var i;return null!=(i=t.YK.l2(n))?i:NaN})}},b(t,[{key:"Py",get:function(){return this.o6}}]),t}(),nM=function(t){function n(){return t.call(this,TB.pK)||this}return S(n,t),n}(Tu);var iM,eM=function(){function t(t){this.d3=[],this.MV=void 0,this.c6=void 0,this.f6=t}var n=t.prototype;return n.v6=function(t){var n;return null==(n=this.d6(t))?void 0:n.y$},n.l6=function(t){this.MV=t,this.w6()},n._6=function(t,n,i,e,r,s){this.d3.push({R1:n,y$:t,g6:new gS([r,s]),y6:new gS([i,e])}),this.w6()},n.d6=function(t){for(var n=0,i=this.d3;n<i.length;n++){var e=i[n];if(e.y6.WN(t))return e}},n.m6=function(t){for(var n=0,i=this.d3;n<i.length;n++){var e=i[n];if(e.R1===t)return e}},n.lz=function(){var t=this.im;t.T_>0&&(this.c6=t.OD(t.T_-1))},n.w6=function(){var t=this.f6.im;this.d3=this.d3.filter(function(n){return 0!==t.zD(n.y6).T_})},b(t,[{key:"k6",get:function(){return this.MV}},{key:"im",get:function(){return t=this.f6.im,n=this.f6.Ez,i=n.rC(function(n,i){return t.nC(n,i,!1,!1)}),t.QD(i);var t,n,i}},{key:"eK",get:function(){return this.d3}},{key:"p6",get:function(){return this.c6}}]),t}(),rM=function(){function t(t,n,i,e,r){var s=this;this.f6=void 0,this.A6=void 0,this.b6=void 0,this.Gi=void 0,this.T6=void 0,this.S6=void 0,this.bw=new su,this.E6=gS.dC(),this.I6=function(t){s.S6&&(t?mR(t)&&s.R6?s.T6.yx(s.f6.im.hC)?s.S6.Wu():s.S6.Yu(t):ou(t)?s.S6.Wu():s.S6.Yu(t):s.S6.Wu(),s.S6=void 0)},this.Gi=t,this.b6=i,this.f6=n,this.A6=e,this.T6=r}var n=t.prototype;return n.N6=function(){if(this.D6)throw new v("Cannot perform new operation while BufferAppender is still busy")},n.C6=function(t){this.f6!==t&&(this.N6(),this.f6=t,this.A6=new eM(t))},n.O6=function(){return this.S6?this.S6.Xu:We.resolve()},n.P6=function(t){var n,i,e=this.A6.p6,r=this.A6.im;if(void 0===e)return!1;var s=w.min(t,e);return null!=(n=null==(i=r.UD().JD(this.B6).aC(s))?void 0:i.WN(e))&&n},n.L6=function(t){return this.A6.v6(t)},n.Vs=function(){this.bw.Vs(),this.bw=new su},n.GV=function(t){var n=this;this.N6(),this.S6=new Ko;var i=function(i){n.b6.x6(t),n.I6(i)};this.WV(t,this.bw.Ws).then(i,i)},n.WV=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return aL.M$("Buffering","Appending initializer",LB(t.M6.t$)),i.next=3,Lr.awrap(this.f6.GV(t,n));case 3:aL.M$("Buffering","Appended initializer",LB(t.M6.t$)),this.A6.l6(t);case 5:case"end":return i.stop()}},null,this,null,We)},n.U6=function(t){var n=this;this.N6(),this.S6=new Ko;var i=function(i){n.b6.x6(t),n.I6(i)};this.F6(t,this.bw.Ws).then(i,i)},n.F6=function(t,n){var i,e,r,s,u,o,a,h,c,f,d,l,w,_;return Lr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(e=t.y$,r=t.R1,void 0!==e.YK.U0){g.next=4;break}throw new v("MediaBufferWrapper - Cannot append HLSAsset to "+this.Gi+" MediaBuffer for a HLSRendition with an undefined targetDuration.");case 4:return s=this.A6.im.BD,u=this.f6.im,aL.M$("Buffering","Appending",LB(t.M6.t$)),g.next=9,Lr.awrap(this.f6.XV(t,n));case 9:aL.M$("Buffering","Appended",LB(t.M6.t$),s,this.A6.im.BD),o=t.Wm,a=o+t.Vg,h=t.M6,c=h.Wm,f=h.Wm+(null!=(i=h.Vg)?i:0),this.A6._6(e,r,o,a,c,f),d=this.f6.im.JD(u),(l=this.A6.m6(r-1))?this.H6(l)?0===d.T_?Boolean(this.X6.m6(r))||(w=this.f6.Ez.zD(new gS([o,a])),this.E6=this.E6.QD(w)):(this.E6=this.E6.JD(new gS([d.DD(0),a])),d.DD(0)>o&&(this.E6=this.E6.QD(new gS([o,d.DD(0)])))):this.E6=this.E6.JD(new gS([o,a])):0===d.T_?(_=this.f6.Ez.zD(new gS([o,a])),this.E6=this.E6.QD(_)):d.DD(0)>o&&(this.E6=this.E6.QD(new gS([o,d.DD(0)]))),t.M6.N2&&this.A6.lz();case 20:case"end":return g.stop()}},null,this,null,We)},n.H6=function(t){var n=t.y6,i=n.DD(0),e=n.OD(n.T_-1),r=n.CD(0),s=n.PD(n.T_-1);return this.E6.$D(i,e,r,s)},b(t,[{key:"vs",get:function(){return this.Gi}},{key:"R6",get:function(){return this.Gi===fm.dl||this.Gi===fm.ll}},{key:"X6",get:function(){return this.A6}},{key:"B6",get:function(){return this.E6}},{key:"D6",get:function(){return void 0!==this.S6}}]),t}(),sM=function(){function t(t,n){this.V6=void 0,this.z6=t,this.wE=n}var n=t.prototype;return n.G6=function(t,n,i,e){var r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Lr.awrap(this.W6(n,e));case 2:return r=s.sent,s.next=5,Lr.awrap(this.z6.G6(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,We)},n.W6=function(t,n){var i,e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if((null==(i=this.V6)?void 0:i.jd)===t){u.next=10;break}return aL.M$("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),u.next=4,Lr.awrap(this.wE.qd({jd:t,zd:Df.qf,_l:uw.GET,Ws:n,vs:ow.$d,Al:aw.vl}));case 4:return e=u.sent,u.next=7,Lr.awrap(e.Id());case 7:r=u.sent,s=new m(r),this.V6={jd:t,Vi:s};case 10:return u.abrupt("return",this.V6.Vi);case 11:case"end":return u.stop()}},null,this,null,We)},t}(),uM=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.wE=t,this.F4=n,this.q6=i,this.Y6=e,this.j6=r}var n=t.prototype;return n.qd=function(t,n,i){var e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(this.Q6(t,n,Df.qf,i));case 2:return e=r.sent,r.t0=m,r.next=6,Lr.awrap(e.Id(i));case 6:return r.t1=r.sent,r.abrupt("return",new r.t0(r.t1));case 8:case"end":return r.stop()}},null,this,null,We)},n.Z6=function(t,n,i){var e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(this.Q6(t,n,Df.jf,i));case 2:return e=r.sent,r.abrupt("return",e.Rd(i));case 4:case"end":return r.stop()}},null,this,null,We)},n.Q6=function(t,n,i,e){var r,s,u,o,a=this;return Lr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return t.NK&&0===(r=RB(t.NK.DD,t.NK.T_))[0]&&r[1]===Lt&&(r=void 0),s=r?{Range:"bytes="+r[0]+"-"+r[1]}:void 0,u=new fw({jd:t.Ti,zd:i,Vd:s,Tl:this.Y6,_l:uw.GET,vs:ow.Kd,Al:n,bl:this.q6,Ws:e}),h.prev=3,h.next=6,Lr.awrap(this.F4.J6(t.Ti,r));case 6:if(o=h.sent,au(e),void 0===o){h.next=10;break}return h.abrupt("return",new cw({qd:u,Vi:o.buffer}));case 10:h.next=16;break;case 12:h.prev=12,h.t0=h.catch(3),hu(h.t0);case 16:return h.next=18,Lr.awrap(Wx(function(){return fu(a.wE.qd(u),u.Ws)},e,this.j6));case 18:return h.abrupt("return",h.sent);case 19:case"end":return h.stop()}},null,this,[[3,12]],We)},t}(),oM=function(){function t(t,n){this.s6=void 0,this.K6=void 0,this.t5=void 0,this.n5=new su,this.BW=-1/0,this.i5=!1,this.s6=t,this.K6=n,this.e5()}var n=t.prototype;return n.r5=function(){return this.K6.YK._1},n.s5=function(t,n,e){return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.r5()){r.next=2;break}throw new v("Could not perform blocking playlist update.");case 2:return r.prev=2,r.next=5,Lr.awrap(this.u5());case 5:return au(e),r.next=8,Lr.awrap(this.s6.G4(this.K6,t,n,e));case 8:this.BW=i.er(),r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(2),ou(r.t0)&&this.e5(),r.t0;case 15:this.e5();case 16:case"end":return r.stop()}},null,this,[[2,11]],We)},n.o5=function(t){return this.s6.j4(this.K6,t)},n.e5=function(){var t=this;if(!this.t5&&!this.i5){var n=function(){t.t5=void 0};this.t5=this.a5(this.n5.Ws).then(n,n)}},n.u5=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.t5){t.next=6;break}return this.n5.Vs(),this.n5=new su,t.next=5,Lr.awrap(this.t5.catch(J));case 5:this.t5=void 0;case 6:case"end":return t.stop()}},null,this,null,We)},n.a5=function(t){var n,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.K6.YK.Q1||!this.K6.YK.z3){r.next=3;break}return r.abrupt("return");case 3:if(n=i.er()-this.BW,e=1e3*this.K6.YK.G3,!(n<e)){r.next=8;break}return r.next=8,Lr.awrap(yu(e-n,t));case 8:return r.prev=8,r.next=11,Lr.awrap(this.s6.Y4(this.K6,t));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r.catch(8),hu(r.t0),this.s6.q4(this.K6),r.t0;case 18:this.BW=i.er(),r.next=0;break;case 21:case"end":return r.stop()}},null,this,[[8,13]],We)},n.xs=function(){this.i5=!0,_u(this.u5())},t}();!function(t){t[t.XK=0]="XK",t[t.VK=1]="VK",t[t.Kd=2]="Kd",t[t.h5=3]="h5"}(iM||(iM={}));var aM="AssetExtractor",hM=function(){function t(){this.c5=[]}var n=t.prototype;return n.f5=function(t,n,i){for(var e=n,r=0,s=this.c5;r<s.length;r++){var u=s[r];if(e>=t)return!0;if(e<u.DD)return!1;if(e<u.OD){if(i<=u.OD)return!0;e=u.OD}}return e>=t},n.v5=function(t,n){for(var i=[],e=0;e<this.c5.length;e+=1){var r=this.c5[e],s=t-r.DD,u=r.Vi.length,o=w.min(u,w.max(s,0)),a=w.max(0,n+s),h=Yo(r.Vi,o,a);h.length&&(e=this.d5(e,r,t,o,a),i.push(h))}return i},n.l5=function(t,n){this.c5.push({DD:t,OD:t+n.length,Vi:n})},n.d5=function(t,n,i,e,r){var s=t;this.c5.splice(s,1),s-=1,n.DD<i&&(s+=1,this.c5.splice(s,0,{DD:n.DD,OD:i,Vi:Yo(n.Vi,0,e)}));var u=i+r-e;return u<n.OD&&(s+=1,this.c5.splice(s,0,{DD:u,OD:n.OD,Vi:Yo(n.Vi,r)})),s},t}(),cM=function(){function t(t,n){this.hv=void 0,this.w5=n,this.hv=t.getReader()}var n=t.prototype;return n._5=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(this.hv.read());case 2:if(!(t=n.sent).done){n.next=6;break}throw this.w5=1/0,new v("No more data can be read from the given stream.");case 6:return this.w5+=t.value.length,n.abrupt("return",t.value);case 8:case"end":return n.stop()}},null,this,null,We)},n.g5=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(this.hv.cancel(t));case 2:case"end":return n.stop()}},null,this,null,We)},b(t,[{key:"y5",get:function(){return this.w5}}]),t}(),fM=function(){function t(t,n,i,e){this.D2=void 0,this.hv=void 0,this.m5=void 0,this.k5=void 0,this.p5=void 0,this.A5=void 0,this.b5=new Ko,this.D2=t,this.hv=n,this.m5=i,this.k5=e,this.p5=new Ko,this.A5=new Ko}var n=t.prototype;return n.T5=function(){this.A5.Wu(),this.A5=new Ko},n.S5=function(t){var n=dM(this.D2.NK),i=n.E5,e=n.I5,r=this.m5.v5(i,e-i);aL.M$(aM,"Collected "+r.length+" chunks.");for(var s=0;s<r.length;s++){var u=r[s];t.enqueue(u)}},n.readAndSliceOutAssetBytes=function(t){var n,i,e,r,s,u,o,a,h,c,f,v,d;return Lr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Lr.awrap(this.p5.Xu);case 2:n=dM(this.D2.NK),i=n.E5,e=n.I5,l.prev=3;case 4:return r=this.hv.y5,l.next=8,Lr.awrap(this.hv._5());case 8:if(s=l.sent,u=s.length,aL.M$(aM,"Read "+u+" at "+r+" for extraction of "+LB(this.D2)),o=w.min(r+u,i),!((a=o-r)>0)){l.next=25;break}if(h=Yo(s,0,a),c=Yo(s,a),aL.M$(aM,"Of the read "+u+" bytes, the first "+a+" will be stored locally for extraction of "+LB(this.D2)),this.m5.l5(r,h),!(c.length>0)){l.next=23;break}return aL.M$(aM,"Extracting "+c.length+" bytes for extraction of "+LB(this.D2)),t.enqueue(c),this.T5(),l.abrupt("return",_u(this.readAndSliceOutAssetBytes(t)));case 23:l.next=46;break;case 25:if(!(r+u<=e)){l.next=33;break}return aL.M$(aM,"Extracting the read data range for extraction of "+LB(this.D2)),t.enqueue(s),this.T5(),l.abrupt("return",_u(this.readAndSliceOutAssetBytes(t)));case 33:if(v=Yo(s,0,f=e-r),d=Yo(s,f),v.length>0&&(aL.M$(aM,"Extracting "+v.length+" bytes for extraction of "+LB(this.D2)),t.enqueue(v)),aL.M$(aM,"Of the read "+u+" bytes, the last "+d.length+" will be stored locally for extraction of "+LB(this.D2)),this.m5.l5(r+f,d),aL.M$(aM,"Extraction of "+LB(this.D2)+" completed as the entire request has been fulfilled."),this.R5(t),!this.k5){l.next=45;break}return aL.M$(aM,"Aborting stream upstream as no more bytes are needed from "+LB(this.D2)+"."),l.next=45,Lr.awrap(this.hv.g5("AssetExtraction - AbortOnEnd"));case 45:return l.abrupt("return");case 46:l.next=4;break;case 48:l.next=54;break;case 50:l.prev=50,l.t0=l.catch(3),aL.M$(aM,"Extraction of "+LB(this.D2)+" completed as the entire source stream has been read."),this.R5(t);case 54:case"end":return l.stop()}},null,this,[[3,50]],We)},n.R5=function(t){t.close(),this.T5(),this.b5.Wu()},n.start=function(t){aL.M$(aM,"Preparing to push all collected data to controller for extraction of "+LB(this.D2)),this.S5(t),aL.M$(aM,"Collected data pushed to controller for extraction of "+LB(this.D2));var n=dM(this.D2.NK).I5;this.hv.y5>=n?(aL.M$(aM,"Extraction of "+LB(this.D2)+" completed as the entire request has been fulfilled."),this.R5(t)):(aL.M$(aM,"Continuing read from original stream for extraction of "+LB(this.D2)),_u(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.p5.Wu(),this.p5=new Ko,this.A5.Xu},b(t,[{key:"N5",get:function(){return this.b5.Xu}}]),t}(),vM=function(){function t(t,n){this.m5=void 0,this.D5=void 0,this.C5=void 0,this.D2=n;var i=dM(this.D2.NK).E5;this.D5=new cM(t,i),this.m5=new hM}var n=t.prototype;return n.Rm=function(t){if(!xB(this.D2,t))return!1;var n=dM(t.NK),i=n.E5,e=n.I5;return this.m5.f5(this.D5.y5,i,e)},n.O5=function(t,n){var i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===n&&(n=!1),i=this.D5,e=this.m5,aL.vT(aM,"Extracting data from "+LB(t)+" out of "+LB(this.D2)),!this.C5){s.next=8;break}return aL.M$(aM,"Awaiting previous extraction before extracting "+LB(t)+" out of "+LB(this.D2)),s.next=8,Lr.awrap(this.C5);case 8:if(this.Rm(t)){s.next=10;break}throw new v("The extractor does not contain the data requested");case 10:return r=new fM(t,i,e,n),this.C5=r.N5,s.abrupt("return",new wl(r));case 13:case"end":return s.stop()}},null,this,null,We)},t}();function dM(t){if(t){var n=t.DD;return{E5:n,I5:void 0!==t.T_?n+t.T_:Lt}}return{E5:0,I5:Lt}}var lM,wM=function(){function t(t,n){this.bw=new su,this.P5=void 0,this.D2=t,this.B5=n,this.P5=this.Qh()}var n=t.prototype;return n.Qh=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(this.B5.Z6(this.D2,aw.Zd,this.bw.Ws));case 2:return t=n.sent,n.abrupt("return",new vM(t,this.D2));case 4:case"end":return n.stop()}},null,this,null,We)},n.Rm=function(t){return xB(this.D2,t)},n.O5=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,Lr.awrap(this.P5);case 3:return i=e.sent,e.next=6,Lr.awrap(fu(i.O5(t,n),this.bw.Ws));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,We)},n.Vs=function(){this.P5.catch(J),this.bw.Vs()},t}(),_M=function(t){function n(n,i,e){var r;return(r=t.call(this,lM.x5)||this).L5=n,r.bl=i,r.M5=e,r}return S(n,t),n}(Tu),gM="HlsPlaylistDownloader";!function(t){t.x5="segmentdownloaded"}(lM||(lM={}));var yM=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Gi=void 0,a.s6=void 0,a.b6=void 0,a.B5=void 0,a.U5=void 0,a.K6=void 0,a.F5=void 0,a.H5=void 0,a.X5=void 0,a.V5=new su,a.z5=void 0,a.G5=void 0,a.W5=void 0,a.q5=void 0,a.Y5=function(t){a.H5&&(a.K6=a.H5,a.H5=void 0,a.z5=void 0,a.G5=void 0),a.X5&&(t&&!ou(t)?a.X5.Yu(t):a.X5.Wu(),a.X5=void 0)},a.Gi=n,a.s6=e,a.b6=r,a.K6=i,a.F5=new oM(e,i),a.U5=new sM(o,s),a.B5=new uM(s,u,function(t){switch(t){case SB.ll:return hw.ll;case SB.dl:return hw.dl;case SB.WA:case SB.RK:return hw.$n;default:return hw.Zd}}(i.vs),!1),a}S(n,t);var e=n.prototype;return e.j5=function(t){this.F5.xs(),this.F5=new oM(this.s6,t),this.D6?this.H5=t:(this.K6=t,this.z5=void 0,this.G5=void 0)},e.O6=function(){return this.X5?this.X5.Xu:We.resolve()},e.Q5=function(){return this.b6.Q5()},e.Z5=function(t){this.b6.Z5(t)},e.Vs=function(){var t,n;this.V5.Vs(),this.V5=new su,null==(t=this.q5)||t.Vs(),null==(n=this.W5)||n.Vs(),this.q5=void 0,this.W5=void 0,this.z5=void 0,this.G5=void 0},e.xs=function(){this.F5.xs()},e.J5=function(t){var n=this.K6.YK.E3(t);if(!n)return!1;if(void 0!==this.z5){var i=n.R1===this.z5;return void 0!==this.G5?n.U2(t)===n.M2(this.G5)&&i:i}return!1},e.K5=function(t){var n;if(void 0===this.z5)n=this.t8(t);else if(n=this.n8(this.z5,this.G5)){var i=n,e=i[0],r=i[1],s=(null!=r?r:e).Wm,u=3*this.y$.YK.U0;w.abs(s-t)>=u&&(n=this.t8(t))}if(n){var o=n,a=o[0],h=o[1];return 0===(null==h?void 0:h.S2)&&void 0!==a.Vg?[a,void 0]:[a,h]}},e.t8=function(t){var n,i,e,r=this.K6.YK.eK;if(0!==r.length){var s=r[r.length-1];if(s.Wm+(null!=(n=s.Vg)?n:s.m2)<=t)i=s,e=s.H2(t);else if(r[0].Wm>t)e=(i=r[0]).M2(0);else{var u;e=null==(u=i=this.K6.YK.E3(t))?void 0:u.H2(t)}return i?[i,e]:void 0}},e.n8=function(t,n){var i,e,r;if((i=this.K6.YK.S3(t))&&void 0!==n){if(0===i.V1.length)return[i,void 0];e=i.M2(n+1)}void 0!==i&&void 0!==e||(e=null==(r=i=this.K6.YK.S3(t+1))?void 0:r.M2(0));return i?[i,e]:void 0},e.N6=function(){if(this.D6)throw new v("Cannot perform new operation while PlaylistDownloader is still busy")},e.i8=function(t){this.N6(),this.X5=new Ko,this.e8(t,this.V5.Ws).then(this.Y5,this.Y5)},e.r8=function(){this.F5.e5()},e.e8=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.K5(t))||!this.F5.r5()||void 0===this.z5){e.next=5;break}return e.next=4,Lr.awrap(this.F5.s5(void 0===this.G5?this.z5+1:this.z5,void 0!==this.G5?this.G5+1:void 0,n));case 4:i=this.K5(t);case 5:if(i||!this.F5.r5()||void 0===this.z5){e.next=9;break}return e.next=8,Lr.awrap(this.F5.s5(this.z5+1,0,n));case 8:i=this.K5(t);case 9:if(i){e.next=16;break}return aL.vT(gM,"No next segment / part available, need to update playlist before continuing."),e.next=13,Lr.awrap(this.F5.o5(n));case 13:i=this.K5(t),e.next=9;break;case 16:case"end":return e.stop()}},null,this,null,We)},e.s8=function(){return this.b6.u8()},e.o8=function(){this.N6();try{var t=this.K6.YK.R3(CB.XK);t&&this.a8(t);var n=this.K6.YK.R3(CB.VK);n&&this.h8(n)}catch(t){throw hu(t),this.y$.YK.W3=i.er(),this.s6.q4(this.y$),t}},e.a8=function(t){this.W5&&!this.W5.Rm(t.t$)&&(this.W5.Vs(),this.W5=void 0),this.W5||(this.W5=new wM(t.t$,this.B5))},e.h8=function(t){this.q5&&!this.q5.Rm(t.t$)&&(this.q5.Vs(),this.q5=void 0),this.q5||(this.q5=new wM(t.t$,this.B5))},e.c8=function(t,n,e){var r=this;this.N6(),aL.vT(gM,"Starting download of segment "+LB(t.t$)+" and part "+(null==n?void 0:n.S2)),this.X5=new Ko,this.f8(t,n,e,this.V5.Ws).catch(function(t){throw hu(t),r.y$.YK.W3=i.er(),r.s6.q4(r.y$),t}).then(this.Y5,this.Y5)},e.f8=function(t,n,i,e){var r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(u=0,!t.G1){o.next=7;break}if(i&&MB(i.M6.t$,t.G1.t$)&&t.Y1===i.Y1){o.next=7;break}return o.next=5,Lr.awrap(this.v8(t.G1,t,e));case 5:s=o.sent,u=s.G1.Vi.Vi.byteLength;case 7:if(s){o.next=12;break}return o.next=10,Lr.awrap(this.d8(t,n,e));case 10:s=o.sent,u=s.l8.Vi.Vi.byteLength;case 12:this.b6.w8(s),this.Zs(new _M(s.vs,this.Gi,u)),aL.M$("Buffering","Download complete",LB(null!=(r=null==n?void 0:n.t$)?r:t.t$));case 15:case"end":return o.stop()}},null,this,null,We)},e.d8=function(t,n,i){var e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=26;break}if(!this.q5){o.next=19;break}if(!this.q5.Rm(n.t$)){o.next=17;break}return o.next=5,Lr.awrap(this.q5.O5(n.t$));case 5:return r=o.sent,o.t0=m,o.next=9,Lr.awrap(Xl(r,i));case 9:return o.t1=o.sent,s=new o.t0(o.t1),o.next=13,Lr.awrap(this.G6(s,n.F1,i));case 13:u=o.sent,e=pM(n,u),o.next=19;break;case 17:this.q5.Vs(),this.q5=void 0;case 19:if(e){o.next=24;break}return aL.M$("Buffering","Start download",LB(n.t$)),o.next=23,Lr.awrap(this._8(n,i));case 23:e=o.sent;case 24:o.next=30;break;case 26:return aL.M$("Buffering","Start download",LB(t.t$)),o.next=29,Lr.awrap(this.g8(t,i));case 29:e=o.sent;case 30:return this.z5=t.R1,this.G5=null==n?void 0:n.S2,o.abrupt("return",{vs:"l8",R1:t.R1,l8:e,y$:this.K6,Y1:t.Y1});case 33:case"end":return o.stop()}},null,this,null,We)},e.v8=function(t,n,i){var e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.W5){a.next=17;break}if(!this.W5.Rm(t.t$)){a.next=14;break}return a.next=4,Lr.awrap(fu(this.W5.O5(t.t$),i));case 4:return s=a.sent,a.t0=m,a.next=8,Lr.awrap(Xl(s,i));case 8:return a.t1=a.sent,u=new a.t0(a.t1),a.next=12,Lr.awrap(this.G6(u,t.X1?[t.X1]:[],i));case 12:o=a.sent,e=mM(t,n,o);case 14:aL.vT(gM,"MAP is required for segment, downloading MAP data."),null==(r=this.W5)||r.Vs(),this.W5=void 0;case 17:if(e){a.next=22;break}return aL.M$("Buffering","Start download",LB(t.t$)),a.next=21,Lr.awrap(this.y8(t,n,i));case 21:e=a.sent;case 22:return a.abrupt("return",{vs:"G1",G1:e,Wm:n.Wm,Y1:n.Y1,F1:n.F1});case 23:case"end":return a.stop()}},null,this,null,We)},e.y8=function(t,n,i){var e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Lr.awrap(this.B5.qd(t.t$,aw.il,i));case 2:return e=u.sent,r=t.X1?[t.X1]:[],u.next=6,Lr.awrap(this.G6(e,r,i));case 6:return s=u.sent,u.abrupt("return",mM(t,n,s));case 8:case"end":return u.stop()}},null,this,null,We)},e.g8=function(t,n){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.t$){r.next=2;break}throw new v("Internal error: attempted to download an incomplete segment");case 2:return r.next=4,Lr.awrap(this.B5.qd(t.t$,aw.Zd,n));case 4:return i=r.sent,r.next=7,Lr.awrap(this.G6(i,t.F1,n));case 7:return e=r.sent,r.abrupt("return",kM(t,e));case 9:case"end":return r.stop()}},null,this,null,We)},e._8=function(t,n){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(this.B5.qd(t.t$,aw.Zd,n));case 2:return i=r.sent,r.next=5,Lr.awrap(this.G6(i,t.F1,n));case 5:return e=r.sent,r.abrupt("return",pM(t,e));case 7:case"end":return r.stop()}},null,this,null,We)},e.G6=function(t,n,i){var e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=Vs(n,function(t){return t._l===OB.zK})){r.next=3;break}return r.abrupt("return",t);case 3:if(e.t$&&e.v1){r.next=6;break}return aL.mu(gM,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),r.abrupt("return",t);case 6:return r.next=8,Lr.awrap(this.U5.G6(t,e.t$,e.v1,i));case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},null,this,null,We)},b(n,[{key:"D6",get:function(){return void 0!==this.X5}},{key:"y$",get:function(){var t;return null!=(t=this.H5)?t:this.K6}},{key:"m8",get:function(){if(!this.K6.YK.Q1)return!1;if(void 0===this.z5)return!1;var t=this.K6.YK.eK[this.K6.YK.eK.length-1];return t.R1===this.z5&&!(this.G5&&this.G5!==t.V1.length-1)}}]),n}(Au);function mM(t,n,i){return{Vi:{Vi:i,vs:VN.qF},vs:iM.XK,M6:t,Y1:n.Y1}}function kM(t,n){return{Vi:{Vi:n,vs:VN.qF},vs:iM.Kd,M6:t,Y1:t.Y1}}function pM(t,n){return{Vi:{Vi:n,vs:VN.qF},vs:iM.VK,M6:t,Y1:t.T2.Y1}}var AM,bM=function(){function t(){this.k8=[],this.p8=Ur(),this.A8=void 0,this.b8=void 0}var n=t.prototype;return n.w8=function(t){"G1"===t.vs&&(this.b8=t.G1),this.k8.push(t),this.A8&&(this.A8.Wu(),this.A8=void 0)},n.Q5=function(){return this.k8[0]},n.Z5=function(t){Ws(this.k8,t)},n.u8=function(){return null!=this.A8||(this.A8=new Ko),this.A8.Xu},n.T8=function(t){this.S8(t.o4).T8(t)},n.E8=function(t){return this.S8(t).E8()},n.x6=function(t){this.S8(t.o4).x6(t)},n.I8=function(t){var n;null==(n=this.p8.get(t))||n.xs()},n.R8=function(t){return this.S8(t).R8()},n.S8=function(t){if(this.p8.has(t))return this.p8.get(t);var n=new TM;return this.p8.set(t,n),n},n.Cu=function(){this.N8(),this.D8()},n.N8=function(){this.b8=void 0,Qs(this.k8)},n.D8=function(){this.p8.forEach(function(t){return t.Cu()})},n.xs=function(){this.p8.forEach(function(t){return t.xs()}),this.p8.clear(),this.Cu(),this.A8&&(this.A8.Yu(new uu),this.A8=void 0)},b(t,[{key:"k6",get:function(){return this.b8}},{key:"C8",get:function(){for(var t=gS.dC(),n=0,i=this.k8;n<i.length;n++){var e=i[n];if("l8"===e.vs){var r,s=e.l8.M6;t=t.QD(new gS([s.Wm,s.Wm+(null!=(r=s.Vg)?r:0)]))}}return t}},{key:"O8",get:function(){var t=gS.dC();return this.p8.forEach(function(n){t=t.QD(n.O8)}),t}}]),t}(),TM=function(){function t(){this.P8=[],this.B8=void 0}var n=t.prototype;return n.T8=function(t){this.P8.push(t),this.B8&&(this.B8.Wu(),this.B8=void 0)},n.E8=function(){return this.P8[0]},n.x6=function(t){Ws(this.P8,t)},n.R8=function(){return null!=this.B8||(this.B8=new Ko),this.B8.Xu},n.Cu=function(){Qs(this.P8)},n.xs=function(){this.Cu(),this.B8&&(this.B8.Yu(new uu),this.B8=void 0)},b(t,[{key:"O8",get:function(){for(var t=gS.dC(),n=0,i=this.P8;n<i.length;n++){var e=i[n];"l8"===e.vs&&(t=t.QD(new gS([e.Wm,e.Wm+e.Vg])))}return t}}]),t}(),SM=function(){function t(t,n){this.L8=void 0,this._4=void 0,this.x8=gS.dC(),this.L8=t,this._4=n}var n=t.prototype;return n.GV=function(t,n){var i,e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.Vi.Vi,this.M8(i),this.L8.vs!==Im.TTML){u.next=8;break}if(this._4.Q3(t.Y1)){u.next=6;break}return u.next=6,Lr.awrap(fu(this._4.Z3(t.Y1),n));case 6:for(e=this.U8(i,t.Y1),r=0;r<e.length;r++)s=e[r],this.L8.kE(s);case 8:case"end":return u.stop()}},null,this,null,We)},n.XV=function(t,n){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t.Vi){r.next=2;break}return r.abrupt("return");case 2:if(i=t.Wm,e=i+t.Vg,this.x8=this.x8.QD(new gS([i,e])).jD(1e-6),this._4.Q3(t.Y1)){r.next=8;break}return r.next=8,Lr.awrap(fu(this._4.Z3(t.Y1),n));case 8:this.zV(t.Vi.Vi,t.Y1,t.M6);case 9:case"end":return r.stop()}},null,this,null,We)},n.zV=function(t,n,i){this.M8(t);for(var e=0,r=this.L8.vs===Im.WEBVTT?this.F8(t,i):this.U8(t,n);e<r.length;e++){var s=r[e];this.L8.kE(s)}},n.F8=function(t,n){for(var i,e,r=(void 0===e&&(e=Ak),Ck(Ho(zo(t),new Zo),e)),s=r.Z_,u=null!=(i=r.nA)?i:{iA:vk.jk,eA:vk.jk},o=0;o<s.length;o++){var a=s[o],h=vk.Op(a.Wm).Fk(u.eA).Im(u.iA),c=this._4.i4(h,n).Rk(),f=c+(a.qm-a.Wm);a.Wm=c,a.qm=f}return s},n.U8=function(t,n){var i=this._4.n4(n).Rk();return Sp(t,this.L8,{Zp:0,Jp:1/0,Kp:i},Mc.APPLICATION_MP4)},n.M8=function(t){this.L8.vs===Im.DEFAULT&&(this.L8.vs=this.H8(t)?Im.WEBVTT:Im.TTML)},n.H8=function(t){return Vk(Ho(Vo(zo(t),0,w.min(t.byteLength,7)),new Zo))},n.kz=function(t,n){},n.pz=function(t,n){},b(t,[{key:"im",get:function(){return this.x8}},{key:"Ez",get:function(){return gS.dC()}}]),t}(),EM=function(t){function n(n,i){var e;return(e=t.call(this,AM.X8)||this).y$=n,e.VX=i,e}return S(n,t),n}(Tu),IM=function(t){function n(n){var i;return(i=t.call(this,AM.V8)||this).y$=n,i}return S(n,t),n}(Tu);!function(t){t.X8="z8",t.V8="G8"}(AM||(AM={}));var RM=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).K6=void 0,s.b6=void 0,s._4=void 0,s.W8=void 0,s.q8=void 0,s.bw=new su,s.Y8=function(t){s.q8&&(t&&!ou(t)?s.q8.Yu(t):(s.q8.Wu(),s.q8=void 0))},s.K6=n,s.b6=i,s._4=e,s.W8=r,s}S(n,t);var i=n.prototype;return i.j5=function(t){this.K6!==t&&(this.Vs(),this.K6=t)},i.j8=function(t){for(var n=0,i=this.W8;n<i.length;n++){var e=i[n];Ys(t,e)||this.b6.I8(e)}this.W8=t},i.O6=function(){var t,n;return null!=(t=null==(n=this.q8)?void 0:n.Xu)?t:We.resolve()},i.N6=function(){if(this.D6)throw new v("Cannot perform new operation while transmuxer is still busy")},i.Q8=function(t){var n=this;this.N6(),this.q8=new Ko;var i=function(i){n.b6.Z5(t),n.Y8(i)};this.Z8(t,this.bw.Ws).then(i,i)},i.J8=function(t){var n=this;this.N6(),this.q8=new Ko;var i=function(i){n.b6.Z5(t),n.Y8(i)};this.K8(t,this.bw.Ws).then(i,i)},i.t9=function(t){this.Zs(new EM(this.K6,t))},i.n9=function(){this.Zs(new IM(this.K6))},i.T8=function(t){Ys(this.W8,t.o4)&&this.b6.T8(t)},i.i9=function(t){return this.b6.E8(t)},i.x6=function(t){this.b6.x6(t)},i.e9=function(t){return this.b6.R8(t)},i.Vs=function(){this.bw.Vs(),this.bw=new su},b(n,[{key:"y$",get:function(){return this.K6}},{key:"r9",get:function(){return this.W8}},{key:"D6",get:function(){return void 0!==this.q8}}]),n}(Au);function NM(t){return function(t){return Sx(t)?t.z2:0===t.S2&&t.T2.z2}(t)?0:t.Wm}var DM=function(t){function n(n,i,e,r){return t.call(this,n,i,e,[r])||this}S(n,t);var i=n.prototype;return i.Z8=function(t,n){au(n);var i={vs:"s9",Vi:t.G1.Vi,o4:this.r9[0],Y1:t.Y1,u9:{VX:"",F1:t.F1},Wm:t.Wm,y$:this.y$,M6:t.G1.M6};return this.T8(i),We.resolve()},i.K8=function(t,n){var i;au(n);var e=t.l8.M6,r={vs:"l8",Vi:t.l8.Vi,o4:this.r9[0],R1:t.R1,o9:NM(e),Wm:e.Wm,Vg:null!=(i=e.Vg)?i:0,Kp:0,Y1:t.Y1,y$:t.y$,M6:t.l8.M6};return this.T8(r),We.resolve()},n}(RM),CM=function(){function t(t,n,i,e){this.a9=[],this.h9=t,this.b6=n,this.c9=i,this.EC=e}var n=t.prototype;return n.j5=function(t){this.h9.j5(t)},n.f9=function(t){for(var n=this,i=t.slice(),e=function(t){var e=n.a9[t];if(!e.R6)throw new v("Invalid state");var r=Gs(i,function(t){return t.vs===e.vs});r>=0?(e.C6(i[r]),qs(i,r)):qs(n.a9,t)},r=this.a9.length-1;r>=0;r--)e(r);for(var s=0;s<i.length;s++){var u=i[s],o=new eM(u);this.a9.push(new rM(u.vs,u,this.b6,o,this))}i.length>0&&this.b6.Cu();var a=t.map(function(t){return t.vs});this.c9.j8(a)},n.yx=function(t){var n,i=(null==(n=this.EC)?void 0:n.yx(t))||!1;return i&&(this.Vs(),this.v9.Cu()),i},n.d9=function(t){for(var n=0,i=this.a9;n<i.length;n++){var e=i[n];if(e.vs!==fm.$n||e.D6)throw new v("Invalid state")}var r=new eM(t),s=new rM(fm.$n,t,this.b6,r,this);this.a9=[s]},n.l9=function(){for(var t=0,n=this.a9;t<n.length;t++){n[t].X6.w6()}},n.w9=function(t){var n=this._9.aC(t,.001);return n?n.OD(n.T_-1):t},n.J5=function(t){return!!this._9.aC(t,.001)||this.h9.J5(t)},n.g9=function(t){return this.y9.WN(t,.001)},n.m9=function(t,n,i){for(var e=0,r=this.a9;e<r.length;e++){var s=r[e].X6,u=s.p6;if(void 0!==u&&n>=u)return!s.im.UD().WN(u)}return n-t<i},n.Vs=function(){this.k9(),this.p9()},n.k9=function(){this.A9.Vs()},n.p9=function(){this.b9.Vs(),this.T9.forEach(function(t){return t.Vs()})},n.xs=function(){this.Vs(),this.A9.xs()},b(t,[{key:"T9",get:function(){return this.a9}},{key:"A9",get:function(){return this.h9}},{key:"b9",get:function(){return this.c9}},{key:"v9",get:function(){return this.b6}},{key:"y$",get:function(){return this.h9.y$}},{key:"k6",get:function(){var t=this.b6.k6;if(t)return t;if(this.a9.length>0){var n=this.a9[0].X6.k6;if(n&&this.a9.every(function(t){return t.X6.k6===n}))return n}}},{key:"_9",get:function(){if(0===this.a9.length)return gS.dC();for(var t=this.b6.C8.QD(this.b6.O8).UD(),n=new gS([0,1/0]),i=0,e=this.a9;i<e.length;i++){for(var r=e[i],s=r.X6.im,u=r.X6.eK,o=r.B6,a=0;a<u.length;a++)for(var h=u[a],c=h.g6.JD(h.y6),f=0;f<c.T_;f++)t.nC(c.DD(f),c.OD(f),!0,!0)&&(s=s.QD(c.oC(f)));n=n.zD(s).JD(o)}return n=n.QD(t)}},{key:"y9",get:function(){if(0===this.a9.length)return gS.dC();for(var t=this.b6.O8.UD(),n=new gS([0,1/0]),i=0,e=this.a9;i<e.length;i++){for(var r=e[i],s=r.X6.im,u=r.X6.eK,o=0;o<u.length;o++)for(var a=u[o],h=a.g6.JD(a.y6),c=0;c<h.T_;c++)t.nC(h.DD(c),h.OD(c),!0,!0)&&(s=s.QD(h.oC(c)));n=n.zD(s)}return n=n.QD(t)}}]),t}();var OM=function(t){function n(){return t.call(this,TB.TK)||this}return S(n,t),n}(Tu),PM=function(t){function n(){return t.call(this,TB.AK)||this}return S(n,t),n}(Tu),BM=function(t){function i(n,i){var e;return(e=t.call(this)||this).Dc=void 0,e.f6=void 0,e.S9=new Ko,e.hx=pR,e.E9=!1,e.vx=wR,e.gz=new qN,e.Gi=n,e.I9=i,e}S(i,t);var e=i.prototype;return e.XF=function(){return this.f6?this.f6.XF():this.E9},e.kz=function(t,n){aL.M$("LazyMediaBuffer","Marking gap from "+t+" to "+n+"."),this.gz.KF(t,n),this.f6&&this.f6.kz(t,n)},e.pz=function(t,n){aL.M$("LazyMediaBuffer","Removing gap from "+t+" to "+n+"."),this.gz.tH(t,n),this.f6&&this.f6.pz(t,n)},e.R9=function(t){this.f6=t,this.f6.sx=this.vx,this.f6.tx=this.hx;for(var n,i=this.gz.nH,e=0;e<i.T_;e++)this.f6.kz(i.DD(e),i.OD(e));this.E9&&(aL.M$("LazyMediaBuffer","End of stream"),null==(n=this.f6)||n.lz());this.f6.Js(MN.GF,this.Qs),this.S9.Wu(t)},e.N9=function(t){return fu(this.S9.Xu,t)},e.XV=function(t,n,i){var e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(this.N9(i));case 2:return e=r.sent,r.next=5,Lr.awrap(e.XV(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.Az=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(this.N9());case 2:return t=n.sent,n.next=5,Lr.awrap(t.Az());case 5:case"end":return n.stop()}},null,this,null,We)},e.GV=function(t,n,i){var e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(this.N9(i));case 2:return e=r.sent,r.next=5,Lr.awrap(e.GV(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.Zh=function(t,n,i){var e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(this.N9(i));case 2:return e=r.sent,r.next=5,Lr.awrap(e.Zh(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.KV=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lr.awrap(this.N9());case 2:return i=e.sent,e.next=5,Lr.awrap(i.KV(t,n));case 5:case"end":return e.stop()}},null,this,null,We)},e.lz=function(){this.E9=!0,this.f6&&this.f6.lz()},e.OF=function(t){return!!this.f6&&this.f6.OF(t)},e.PF=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(this.N9());case 2:return n=i.sent,i.next=5,Lr.awrap(n.PF(t));case 5:case"end":return i.stop()}},null,this,null,We)},e.Il=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.tu(),null==(t=this.f6)||t.nu(MN.GF,this.Qs);case 2:case"end":return n.stop()}},null,this,null,We)},b(i,[{key:"Nd",get:function(){return this.Dc}},{key:"Sz",get:function(){return this.Gi}},{key:"uc",get:function(){if(!this.f6)throw new hf(n.ErrorCode.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.f6.uc}},{key:"tx",get:function(){return this.hx},set:function(t){this.hx=t,this.f6&&(this.f6.tx=t)}},{key:"im",get:function(){return this.f6?this.f6.im:gS.dC()}},{key:"Ez",get:function(){return this.f6?this.f6.Ez:this.gz.nH}},{key:"sx",get:function(){return this.vx},set:function(t){this.vx=t,this.f6&&(this.f6.sx=t)}}]),i}(Au),LM="LazyMediaSource",xM=function(){function t(t,n,i){this.D9=void 0,this.C9=void 0,this.O9=new Ko,this.tN=void 0,this.P9=!1,this.oa=NaN,this.mJ=!1,this.B9=0,this.L9=1/0,this.x9=!1,this.M9=!1,this.$R=t,n&&(aL.M$(LM,"Created lazy media buffer for audio."),this.D9=new BM(fm.dl,this)),i&&(aL.M$(LM,"Created lazy media buffer for video."),this.C9=new BM(fm.ll,this))}var n=t.prototype;return n.wG=function(t){this.oa=t,this.tN&&this.tN.wG(t)},n.lz=function(){this.mJ=!0,this.tN&&this.tN.lz()},n.oz=function(){this.mJ=!1,this.tN&&this.tN.oz()},n.yG=function(t,n,i,e){this.B9=t,this.L9=n,this.x9=Boolean(i),this.M9=Boolean(e),this.tN&&this.tN.yG(t,n,i,e)},n.OF=function(t){return!this.tN||this.tN.OF(t)},n.PF=function(t){var n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.OF(t)){r.next=2;break}throw new v("LazyMediaSource - Unable to reconfigure MediaSource.");case 2:if(this.tN){r.next=19;break}return this.$R.Tj(),r.next=6,Lr.awrap(this.$R.Qh(t));case 6:e=r.sent,y(this.oa)||e.wG(this.oa),this.mJ&&e.lz(),e.yG(this.B9,this.L9,this.x9,this.M9),aL.M$(LM,"The MediaSource has been loaded."),this.P9=!0,this.tN=e,null==(n=this.D9)||n.R9(this.tN.iG),null==(i=this.C9)||i.R9(this.tN.eG),this.O9.Wu(e),this.$R.Sj(),r.next=21;break;case 19:return r.next=21,Lr.awrap(this.tN.PF(t));case 21:case"end":return r.stop()}},null,this,null,We)},n.xs=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.tN){t.next=3;break}return t.next=3,Lr.awrap(this.tN.xs());case 3:case"end":return t.stop()}},null,this,null,We)},b(t,[{key:"uc",get:function(){return{vs:vA.TE,mG:[],DN:[]}}},{key:"Oy",get:function(){throw new v("Not implemented")}},{key:"iG",get:function(){return this.D9}},{key:"eG",get:function(){return this.C9}},{key:"im",get:function(){return this.tN?this.tN.im:gS.dC()}},{key:"Vg",get:function(){return this.tN?this.tN.Vg:this.oa}},{key:"XF",get:function(){return!!this.tN&&this.tN.XF}},{key:"Am",get:function(){return this.tN?this.tN.Am:new gS([0,1/0])}}]),t}();function MM(t,n){return void 0===n&&(n=!1),function(i,e){void 0===e&&(e="*");var r,s,u,o=FM(i,"tag"),a=FM(null==e?"*":e,"range"),h=[],c=-1;for(;++c<a.length;)if(r=a[c].toLowerCase(),n||"*"!==r){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),r)){if(!n)return o[s];h.push(o[s])}else u.push(o[s]);o=u}return n?h:void 0}}MM(function(t,n){return"*"===n||t===n||ys(t,n+"-")},!0),MM(function(t,n){var i=t.split("-"),e=n.split("-"),r=0,s=0;if("*"!==e[s]&&i[r]!==e[s])return!1;for(r++,s++;s<e.length;)if("*"!==e[s]){if(!i[r])return!1;if(i[r]!==e[s]){if(1===i[r].length)return!1;r++}else r++,s++}else s++;return!0},!0);var UM=MM(function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}});function FM(t,n){var i=t&&"string"==typeof t?[t]:t;if(!(i&&"object"==typeof i&&"length"in i))throw new v("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var HM,XM=function(t){function n(){return t.call(this,Nf.Ef)||this}return S(n,t),n}(Tu),VM=function(t){function n(){return t.call(this,Nf.Sf)||this}return S(n,t),n}(Tu),zM=16384,GM=71,WM=188;function qM(t){return null!==cO(zo(t),new Zo)?HM.U9:function(t){return function(t){if(t.length<2*WM)return-1;for(var n=w.min(1e3,t.length-2*WM),i=0;i<=n;i++)if(t[i]===GM&&t[i+WM]===GM)return i;return-1}(t)>=0}(t)?HM.F9:YM(t)?HM.yg:HM.Zd}function YM(t){var n=Xo(t,0,w.min(t.length,zM));return dp.Ob(zo(n))}!function(t){t[t.Zd=0]="Zd",t[t.yg=1]="yg",t[t.F9=2]="F9",t[t.U9=3]="U9"}(HM||(HM={}));var jM=function(){function t(t,n,i,e){this.Gi=void 0,this.f6=void 0,this.H9=void 0,this.X9=void 0,this.V9=void 0,this.Gi=t,this.f6=n,this.X9=i,this.V9=e}var n=t.prototype;return n.z9=function(t){return this.f6===t},n.GV=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Lr.awrap(this.f6.GV(t.Vi,{G9:t.y$.L_},n));case 3:this.Gi===fm.ll&&YM(t.Vi.Vi)&&this.V9.W9(t.Vi.Vi);case 4:case"end":return i.stop()}},null,this,null,We)},n.XV=function(t,n){var i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(au(n),aL.vT("HlsMediaBuffer","Got media data, appending to "+this.Gi+" MediaBuffer: "+LB(t.M6.t$)),i=t.o9,e=t.Wm+t.Vg,r={pJ:t.Wm,Vg:t.Vg,Kp:t.Kp,G9:t.y$.L_},void 0===t.Vi){s.next=10;break}return s.next=9,Lr.awrap(this.f6.XV(t.Vi,r,n));case 9:this.q9(t.Vi,t);case 10:this.Y9(i,e);case 11:case"end":return s.stop()}},null,this,null,We)},n.q9=function(t,n){if(YM(t.Vi)){var i=n.Wm,e=i+n.Vg,r=n.Kp;this.X9._6(t.Vi,i,r),this.Gi===fm.ll&&this.V9._6(t.Vi,i,e,r)}},n.Y9=function(t,n){for(var i=this.f6.im,e=new gS([t,n]).JD(i),r=0;r<e.T_;r++)this.f6.kz(e.DD(r),e.OD(r));for(var s=0;s<i.T_;s++)this.f6.pz(i.DD(s),i.OD(s))},n.kz=function(t,n){this.f6.kz(t,n)},n.pz=function(t,n){this.f6.pz(t,n)},b(t,[{key:"vs",get:function(){return this.Gi}},{key:"im",get:function(){return this.f6.im}},{key:"Ez",get:function(){return this.f6.Ez}}]),t}(),QM=2500;var ZM=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).j9=void 0,o.pe=void 0,o.Q9=void 0,o.j9=e,o.pe=r,o.Q9=s,o}return S(n,t),n.prototype.wk=function(n){return this===n||mg(this,n)&&t.prototype.wk.call(this,n)&&yg(this.Ym,n.Ym)},b(n,[{key:"ES",get:function(){return this.j9}},{key:"Ti",get:function(){return this.pe}},{key:"Z9",get:function(){return this.Q9}},{key:"Yw",get:function(){var t;return this.qw||(this.qw=_g(Fm(t=this),{get schemeIDURI(){return t.ES},get value(){return t.Ti},get emsgID(){return t.Z9}})),this.qw}}]),n}(qm);function JM(t,n){return""===n?t:t+" "+n}var KM,$M,tU=function(t){function n(n){var i;return(i=t.call(this)||this).lE=void 0,i.lE=n,i}S(n,t);var i=n.prototype;return i._6=function(t,i,e){var r=dp.Db(zo(t));if(r){var s=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];sp(r,n)&&i.push(r)}return i}(r,yk.FA);if(s.length){var u=n.J9(r,i,e);this.K9(s,u,e)}}},i.K9=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],s=void 0,u=(s=1===r.Rb?r.IS.toNumber()/r.pp+i:n+r.DS/r.pp)+r.RS/r.pp;"https://aomedia.org/emsg/ID3"===r.ES?this.t7(r,s):this.n7(r,s,u)}},i.n7=function(t,n,i){var e=JM(t.ES,t.Ti),r=this.i7(e);r||(r=this.e7(e),this.r7(r)),r.kE(new ZM(n,i,t.ES,t.Ti,t.B_,t.NS))},i.t7=function(t,n){var i=dO(zo(t.NS));if(i){var e=JM(t.ES,t.Ti),r=this.i7(e);r||(r=this.s7(e),this.r7(r));for(var s=0,u=i.dW;s<u.length;s++){var o=u[s],a=new TO(n,o);UC(a,r.Z_.b_),r.kE(a)}}},n.J9=function(t,n,i){var e=up(t,yk.HA);return e?Qt(e.zS,e.pp)+i:n},i.e7=function(t){var n=this.lE.yE(Up.YA,"","","",void 0,Im.EMSG);return n.W_=t,n.q_=Bg.V_,n},i.s7=function(t){var n=this.lE.yE(Up.YA,"","","",void 0,Im.ID3);return n.W_=t,n.q_=Bg.V_,n},i.A_=function(){var n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(n=0,i=this.Wb.b_;n<i.length;n++)e=i[n],this.lE.pE(e);return r.next=3,Lr.awrap(t.prototype.A_.call(this));case 3:case"end":return r.stop()}},null,this,null,We)},n}(function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.r7=function(t){return t.Q_=Em.LOADED,this.m_(t),t},i.i7=function(t){for(var n=0,i=this.Wb.b_;n<i.length;n++){var e=i[n];if(e.W_===t)return e}},n}(rA));function nU(t){return"function"==typeof t.Ru}function iU(t,n,i){if(!(i&&n.byte>=i)){var e=nU(t)?t.Ru(n.byte):t[n.byte];return n.byte+=1,e}}function eU(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+iU(t,n);return e}(t,n,2)}!function(t){t[t.u7=0]="u7",t[t.o7=1]="o7",t[t.a7=2]="a7",t[t.h7=3]="h7",t[t.c7=4]="c7",t[t.f7=5]="f7"}(KM||(KM={})),function(t){t[t.v7=0]="v7",t[t.d7=1]="d7",t[t.l7=2]="l7",t[t.w7=3]="w7"}($M||($M={}));var rU,sU=function(){function t(){this._7=0,this.g7=[],this.JS={}}var n=t.prototype;return n.y7=function(t){this.g7=this.g7.concat(t.g7),this._7+=t.T_},n.m7=function(t,n,i){var e=this._7,r=i-n;r>0&&(this.g7.push({k7:n,p7:i,A7:r,b7:e,T7:t}),this._7+=r)},n.Ru=function(t){for(var n=0,i=this.g7;n<i.length;n++){var e=i[n];if(e.b7<=t&&t<e.b7+e.A7)return e.T7[t+e.k7-e.b7]}},n.S7=function(t,n){for(var i=n,e=0,r=this.g7;e<r.length;e++)for(var s=r[e],u=s.p7,o=s.k7;o<u;o+=1,i+=1)t[i]=s.T7[o];return i},n.E7=function(){for(var t=new m(this._7),n=0,i=0,e=this.g7;i<e.length;i++)for(var r=e[i],s=r.p7,u=r.k7;u<s;u+=1,n+=1)t[n]=r.T7[u];return t},n.Mu=function(n){for(var i=new t,e=0,r=this.g7;e<r.length;e++){var s=r[e];i.m7(s.T7,s.k7,s.p7)}return i.JS=n||xr({},this.JS),i},b(t,[{key:"T_",get:function(){return this._7},set:function(t){var n=this.g7,i=this._7-t;if(!(t>=this._7))if(this._7=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.A7)return r.p7-=i,r.A7-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.A7}else n.length=0}},{key:"Vi",get:function(){for(var t=new Array(this._7),n=0,i=0,e=this.g7;i<e.length;i++)for(var r=e[i],s=r.p7,u=r.k7;u<s;u+=1,n+=1)t[n]=r.T7[u];return t}}]),t}();function uU(t,n,i){return i===KM.u7?i:n!==$M.v7&&n!==$M.d7||i!==KM.o7&&i!==KM.a7?t?n===$M.l7?KM.c7:n===$M.w7?KM.h7:KM.u7:KM.f7:KM.a7}function oU(t,n,i,e){var r={byte:i},s=KM.o7,u=[],o=31&iU(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var h=iU(n,r,e),c=4&h,f=3&h;s=uU(Boolean(c),f,s);var v=iU(n,r,e),d=iU(n,r,e);u.push({rZ:t,dS:-1,I7:!a,R7:Boolean(c),vs:f,vQ:s,N7:v,D7:d})}return u}function aU(t,n,i){var e=iU(t,n,i);if(!y(e))return String.fromCharCode(e)}function hU(t){var n=t.C7,i={byte:t.O7},e=t.P7,r=iU(n,i,e);if(255===r&&(i.byte+=1),181===r){var s=eU(n,i);if(s===rU.B7||s===rU.L7){if(s===rU.L7)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=aU(t,n);return e}(n,i,4))return;if(3===iU(n,i,e)){s===rU.B7&&(i.byte+=1);var u=t;return u.x7=i.byte,u}}}}function cU(t){return 4===t.M7}function fU(t){for(var n=t.filter(cU).map(hU).filter(H),i=[],e=0;e<n.length;e++){var r=n[e];i.push.apply(i,oU(r.U7,r.C7,r.x7,r.P7))}return i}!function(t){t[t.B7=47]="B7",t[t.L7=49]="L7"}(rU||(rU={}));var vU="und";var dU,lU=[{_i:"Abkhaz",eA:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{_i:"Afar",eA:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{_i:"Afrikaans",eA:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{_i:"Akan",eA:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{_i:"Albanian",eA:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{_i:"Amharic",eA:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{_i:"Arabic",eA:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{_i:"Aragonese",eA:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{_i:"Armenian",eA:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{_i:"Assamese",eA:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{_i:"Avaric",eA:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{_i:"Avestan",eA:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{_i:"Aymara",eA:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{_i:"Azerbaijani",eA:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{_i:"Bambara",eA:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{_i:"Bashkir",eA:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{_i:"Basque",eA:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{_i:"Belarusian",eA:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{_i:"Bengali",eA:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{_i:"Bihari",eA:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{_i:"Bislama",eA:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{_i:"Bosnian",eA:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{_i:"Breton",eA:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{_i:"Bulgarian",eA:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{_i:"Burmese",eA:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{_i:"Catalan",eA:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{_i:"Chamorro",eA:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{_i:"Chechen",eA:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{_i:"Chichewa",eA:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{_i:"Chinese",eA:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{_i:"Chuvash",eA:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{_i:"Cornish",eA:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{_i:"Corsican",eA:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{_i:"Cree",eA:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{_i:"Croatian",eA:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{_i:"Czech",eA:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{_i:"Danish",eA:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{_i:"Divehi",eA:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{_i:"Dutch",eA:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{_i:"Dzongkha",eA:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{_i:"English",eA:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{_i:"Esperanto",eA:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{_i:"Estonian",eA:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{_i:"Ewe",eA:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{_i:"Faroese",eA:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{_i:"Fijian",eA:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{_i:"Finnish",eA:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{_i:"French",eA:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{_i:"Fula",eA:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{_i:"Galician",eA:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{_i:"Georgian",eA:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{_i:"German",eA:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{_i:"Greek",eA:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{_i:"Guaran\xed",eA:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{_i:"Gujarati",eA:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{_i:"Haitian",eA:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{_i:"Hausa",eA:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{_i:"Hebrew",eA:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{_i:"Herero",eA:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{_i:"Hindi",eA:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{_i:"Hiri Motu",eA:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{_i:"Hungarian",eA:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{_i:"Interlingua",eA:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{_i:"Indonesian",eA:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{_i:"Interlingue",eA:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{_i:"Irish",eA:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{_i:"Igbo",eA:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{_i:"Inupiaq",eA:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{_i:"Ido",eA:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{_i:"Icelandic",eA:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{_i:"Italian",eA:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{_i:"Inuktitut",eA:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{_i:"Japanese",eA:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{_i:"Javanese",eA:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{_i:"Kalaallisut",eA:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{_i:"Kannada",eA:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{_i:"Kanuri",eA:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{_i:"Kashmiri",eA:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{_i:"Kazakh",eA:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{_i:"Khmer",eA:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{_i:"Kikuyu",eA:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{_i:"Kinyarwanda",eA:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{_i:"Kyrgyz",eA:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{_i:"Komi",eA:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{_i:"Kongo",eA:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{_i:"Korean",eA:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{_i:"Kurdish",eA:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{_i:"Kwanyama",eA:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{_i:"Latin",eA:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{_i:"Luxembourgish",eA:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{_i:"Ganda",eA:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{_i:"Limburgish",eA:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{_i:"Lingala",eA:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{_i:"Lao",eA:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{_i:"Lithuanian",eA:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{_i:"Luba-Katanga",eA:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{_i:"Latvian",eA:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{_i:"Manx",eA:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{_i:"Macedonian",eA:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{_i:"Malagasy",eA:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{_i:"Malay",eA:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{_i:"Malayalam",eA:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{_i:"Maltese",eA:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{_i:"M\u0101ori",eA:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{_i:"Marathi",eA:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{_i:"Marshallese",eA:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{_i:"Mongolian",eA:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{_i:"Nauru",eA:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{_i:"Navajo",eA:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{_i:"Northern Ndebele",eA:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{_i:"Nepali",eA:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{_i:"Ndonga",eA:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{_i:"Norwegian Bokm\xe5l",eA:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{_i:"Norwegian Nynorsk",eA:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{_i:"Norwegian",eA:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{_i:"Nuosu",eA:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{_i:"Southern Ndebele",eA:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{_i:"Occitan",eA:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{_i:"Ojibwe",eA:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{_i:"Old Church Slavonic",eA:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{_i:"Oromo",eA:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{_i:"Oriya",eA:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{_i:"Ossetian",eA:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{_i:"Panjabi",eA:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{_i:"P\u0101li",eA:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{_i:"Persian",eA:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{_i:"Polish",eA:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{_i:"Pashto",eA:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{_i:"Portuguese",eA:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{_i:"Quechua",eA:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{_i:"Romansh",eA:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{_i:"Kirundi",eA:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{_i:"Romanian",eA:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{_i:"Russian",eA:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{_i:"Sanskrit",eA:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{_i:"Sardinian",eA:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{_i:"Sindhi",eA:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{_i:"Northern Sami",eA:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{_i:"Samoan",eA:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{_i:"Sango",eA:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{_i:"Serbian",eA:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{_i:"Gaelic",eA:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{_i:"Shona",eA:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{_i:"Sinhala",eA:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{_i:"Slovak",eA:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{_i:"Slovene",eA:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{_i:"Somali",eA:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{_i:"Southern Sotho",eA:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{_i:"Spanish",eA:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{_i:"Sundanese",eA:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{_i:"Swahili",eA:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{_i:"Swati",eA:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{_i:"Swedish",eA:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{_i:"Tamil",eA:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{_i:"Telugu",eA:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{_i:"Tajik",eA:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{_i:"Thai",eA:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{_i:"Tigrinya",eA:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{_i:"Tibetan Standard",eA:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{_i:"Turkmen",eA:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{_i:"Tagalog",eA:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{_i:"Tswana",eA:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{_i:"Tonga",eA:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{_i:"Turkish",eA:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{_i:"Tsonga",eA:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{_i:"Tatar",eA:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{_i:"Twi",eA:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{_i:"Tahitian",eA:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{_i:"Uyghur",eA:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{_i:"Ukrainian",eA:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{_i:"Urdu",eA:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{_i:"Uzbek",eA:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{_i:"Venda",eA:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{_i:"Vietnamese",eA:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{_i:"Volap\xfck",eA:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{_i:"Walloon",eA:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{_i:"Welsh",eA:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{_i:"Wolof",eA:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{_i:"Western Frisian",eA:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{_i:"Xhosa",eA:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{_i:"Yiddish",eA:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{_i:"Yoruba",eA:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{_i:"Zhuang",eA:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{_i:"Zulu",eA:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}],wU=[128,64,32,16,8,4,2,1];function _U(t,n){var i=w.floor(n.bit/8),e=0==((nU(t)?t.Ru(i):t[i])&wU[n.bit%8])?0:1;return n.bit+=1,e}function gU(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+_U(t,n);return e}function yU(t,n){for(var i=0;0===_U(t,n)&&i<32;)i+=1;return gU(t,n,i)+w.pow(2,i)-1}function mU(t,n){var i=yU(t,n);return 1&i?w.floor((i+1)/2):-w.floor(i/2)}function kU(t,n){var i,e=[],r={byte:1};do{e.push(AU(t,n,r)),i=n.Ru(r.byte)}while(void 0!==i&&128!==i);return e}function pU(t,n){var i,e=0;do{e+=i=iU(t,n)}while(255===i);return e}function AU(t,n,i){var e=pU(n,i),r=pU(n,i),s=i.byte,u=s+r;return i.byte=u,{U7:t,M7:e,F7:r,O7:s,P7:u,C7:n}}!function(t){t[t.H7=1]="H7",t[t.X7=2]="X7",t[t.V7=3]="V7",t[t.z7=4]="z7",t[t.G7=5]="G7",t[t.W7=6]="W7",t[t.q7=7]="q7",t[t.Y7=8]="Y7",t[t.j7=9]="j7"}(dU||(dU={}));var bU=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function TU(t,n,i){for(var e=8,r=8,s=0;s<i;s+=1){if(0!==r)r=(e+mU(t,n)+256)%256;e=0===r?e:r}}var SU=function(){function t(t){this.Q7=void 0,this.Z7=[],this.J7=0,this.Q7=t}var n=t.prototype;return n.K7=function(){for(var t=this.Z7,n=w.max(0,this.J7+t.length-2),i=this.Q7,e=i.T_,r=0;n<e;n+=1){var s=i.Ru(n);0===s?r+=1:(3===s&&r>=2&&t.push(n),r=0)}this.J7=n-t.length},n.ttt=function(t){for(var n=this.Z7,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Ru=function(t){if(!(t>this.Q7.T_))return t>this.J7&&this.K7(),this.Q7.Ru(this.ttt(t))},t}();var EU=24;function IU(t){var n=t.UX,i=new sU;return i.m7(Go(n),0,n.length),function(t){var n,i,e,r,s,u,o=new SU(t),a=0,h=0,c=0,f=0,v=o.Ru(1),d={bit:32};if(yU(o,d),100===v||110===v||122===v||144===v){var l=yU(o,d);if(3===l&&(n=_U(o,d)),yU(o,d),yU(o,d),_U(o,d),1===_U(o,d))for(var _=0;_<(3!==l?8:12);_+=1)1===_U(o,d)&&TU(o,d,_<6?16:64)}var g=yU(o,d),y=yU(o,d);if(0===y)yU(o,d);else if(1===y){_U(o,d),mU(o,d),mU(o,d);for(var m=yU(o,d),k=0;k<m;k+=1)mU(o,d)}yU(o,d),_U(o,d);var p=yU(o,d),A=yU(o,d),b=_U(o,d);if(0===b&&_U(o,d),_U(o,d),1===_U(o,d)&&(a=yU(o,d),h=yU(o,d),c=yU(o,d),f=yU(o,d)),1===_U(o,d)){if(1===_U(o,d)){var T=gU(o,d,8);if(255===T)i=gU(o,d,16),e=gU(o,d,16);else{var S=bU[T];S&&(i=S[0],e=S[1])}}1===_U(o,d)&&_U(o,d),1===_U(o,d)&&(gU(o,d,3),_U(o,d),1===_U(o,d)&&(gU(o,d,8),gU(o,d,8),gU(o,d,8))),1===_U(o,d)&&(yU(o,d),yU(o,d)),1===(r=_U(o,d))&&(s=gU(o,d,32),u=gU(o,d,32),_U(o,d))}return{width:w.floor(16*(p+1)-2*a-2*h),height:w.floor((2-b)*(A+1)*16-2*c-2*f),eS:i,rS:e,ntt:!!r&&u/(2*s),itt:n,ett:g}}(i).ntt}function RU(t){var n=IU(t)||EU;return t.rtt/n}function NU(t){return t.vs===yk.DA}var DU,CU=65536;function OU(t,n,i,e,r){for(var s,u=function(t,n,i,e){var r=i.rtt,s=ft.fromNumber(t.SS||0),u=e.Im(vk.Wk(s,r));return{stt:e.Rk(),utt:e,ott:u,att:e}}(t,0,i,e),o=vk.qk(t.Vg||0,i.rtt),a=t.Nb||0,h=!(a&CU)&&(a>>24&3)!==DU.SAMPLE_DEPENDS_ON_OTHERS,c=zo(r),f=new Zo;f.Pu<c.byteLength;){var v=mo(c,f);if((31&_o(c,f,1))===dU.W7){var d,l=new sU;l.m7(r,f.Pu-1,f.Pu+v-1);var w=kU(u.ott,l);(d=s=s||[]).push.apply(d,fU(w))}f.Bu(v-1)}return xr({},u,{Vg:o.Rk(),htt:o,ctt:u.ott.Rk(),ftt:u.stt,dtt:h,ltt:s,wtt:!1,_tt:!1})}function PU(t){return t.vs===yk.rA}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(DU||(DU={}));var BU=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return S(n,t),n}(qm),LU=function(){function t(t,n){this._Z=t,this.eZ=n}return t.prototype.wk=function(t){return this._Z===t._Z&&this.eZ===t.eZ},t}(),xU=function(){function t(t,n){this.gtt="",this.oU=t,this.ytt=n}var n=t.prototype;return n.mtt=function(t){this.gtt+=t},n.ktt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.mtt(i)}},b(t,[{key:"SZ",get:function(){return this.gtt}},{key:"kZ",get:function(){return[this]}},{key:"bZ",get:function(){return this.oU}},{key:"IZ",get:function(){return this.ytt}},{key:"EZ",get:function(){return new LU(this.IZ._Z,this.IZ.eZ+this.SZ.length-1)}}]),t}(),MU=function(){function t(){}var n=t.prototype;return n.ptt=function(t){return t.Gp(this)},n.Att=function(t){var n,i,e=this,r=t.map(function(t,n){return t.Gp(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.btt=function(t,n){return new UU(t,n).Ttt()},t}(),UU=function(){function t(t,n){this.Stt=[],this.Ett=null,this._Z=t,this.Itt=n}var n=t.prototype;return n.Ttt=function(){if(this.Rtt)return[];for(var t=0;t<this._Z.length;t++)this.Ntt(t);return this.Dtt(),this.Stt},n.Ctt=function(t){this.Ett=new xU(ZP,new LU(this.Itt,t))},n.Dtt=function(){this.Ett&&(this.Stt.push(this.Ett),this.Ett=null)},n.Ntt=function(t){var n=this._Z[t];FU(n)?this.Ett&&this.Dtt():(this.Ett||this.Ctt(t),this.Ett.mtt(n))},b(t,[{key:"Rtt",get:function(){return this._Z.every(FU)}}]),t}();function FU(t){return null==t}var HU=function(){function t(){}return t.Ott=function(t,n,i){if(!(n>=i)){var e=Js(t,function(t,n){return new UU(t.map(function(t){return t?t.Ptt():null}),n).Ttt()});if(0!==e.length)return new BU(n,i,e)}},t}(),XU="black",VU="white",zU=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),GU=function(){function t(){this.Btt=[],this.Ltt=0,this.xtt=void 0;for(var t=0;t<tB;t++)this.Btt.push(null);this.xtt=!1}var n=t.prototype;return n.Mtt=function(t){for(var n=0;n<tB;n++)t&&(this.Btt[n]=t.Btt[n])},n.wk=function(t){for(var n=0;n<tB;n++)if(this.Btt[n]!==t.Btt[n])return!1;return!0},n.Utt=function(){for(var t=0;t<tB;t++)if(null!==this.Btt[t])return!1;return!0},n.Ftt=function(t){this.Ltt!==t&&(this.Ltt=t),this.Ltt<0?this.Ltt=0:this.Ltt>tB&&(this.Ltt=tB-1)},n.Htt=function(t){var n=this.Ltt+t;this.Ftt(n)},n.Xtt=function(){this.Htt(-1),this.Btt[this.Ltt]=null},n.mtt=function(t){t>=144&&this.Xtt();var n,i=zU[n=t]?String.fromCharCode(zU[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Ltt>=tB||(32===Number(t)?(this.Btt[this.Ltt]=this.xtt?"</i>":"<i>",this.xtt=!this.xtt):this.Btt[this.Ltt]=t,this.Htt(1))},n.Vtt=function(t){for(var n=t;n<tB;n++)this.Btt[n]=null},n.Cu=function(){this.Vtt(0),this.Ltt=0},n.ztt=function(){this.Vtt(this.Ltt)},n.Gtt=function(t,n){for(var i=this.Btt,e=null,r=0;r<tB;r++){var s=i[r];null===s?e=null:(e||(e={Wtt:r,qtt:t,Ek:0,oT:1,Btt:[[]]},n.push(e)),e.Btt[0].push(s),e.Ek++)}},n.Gp=function(t,n){return t.btt(this.Btt,n)},t}();var WU,qU=function(){function t(t,n){this.Ytt=void 0,this.jtt=void 0,this.Qtt=void 0,this.Ztt=void 0,this.Jtt=void 0,this.Ktt=void 0,this.$tt=void 0,this.tnt=void 0,this.nnt=void 0,this.Ytt=new Array(YU+1);for(var i=0;i<=YU;i++)this.Ytt[i]=new GU;this.jtt=1,this.Qtt=0,this.Ztt=t,this.Jtt=n,this.Ktt=!1,this.$tt=!1,this.tnt=VU,this.nnt=XU,this.A_()}var n=t.prototype;return n.int=function(t,n){var i="CC"+(this.Ztt<<1|this.Jtt+1);if(t>=n)return null;var e=(new MU).Att(this.Ytt.slice(1));return 0===e.length?null:{Gm:new BU(t,n,e),Rd:i,ent:this.Ztt<<1|this.Jtt+1}},n.A_=function(){this.rnt(),this.jtt=1},n.snt=function(){return this.jtt},n.unt=function(t){this.jtt=t},n.Ftt=function(t){this.Ytt[this.jtt].Ftt(t)},n.Htt=function(t){this.Ytt[this.jtt].Htt(t)},n.ont=function(){return this.Qtt},n.ant=function(t){this.Qtt=t},n.mtt=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case WU.hnt:i=void 0!==QU[n]?QU[n]:String.fromCharCode(n);break;case WU.cnt:i=ZU[n];break;case WU.fnt:this.vnt(),i=JU[n];break;case WU.dnt:this.vnt(),i=KU[n]}i&&this.Ytt[this.jtt].addParsedChar(i)}},n.vnt=function(){this.Ytt[this.jtt].Xtt()},n.lnt=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.Ytt[t+e]=this.Ytt[n+e];else for(var r=0;r<i;r++)this.Ytt[t+r]=this.Ytt[n+r]},n.wnt=function(t,n){for(var i=0;i<=n;i++)this.Ytt[t+i]=new GU},n.rnt=function(){this.wnt(0,YU)},n._nt=function(){this.jtt=this.Qtt>0?this.Qtt:0,this.rnt()},n.gnt=function(t){this.Ktt=t},n.ynt=function(t){this.$tt=t},n.mnt=function(t){this.tnt=t},n.knt=function(t){this.nnt=t},t}(),YU=15;!function(t){t[t.hnt=0]="hnt",t[t.cnt=1]="cnt",t[t.fnt=2]="fnt",t[t.dnt=3]="dnt"}(WU||(WU={}));var jU,QU={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},ZU={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},JU={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},KU={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},$U=function(){function t(t,n){this.Gi=void 0,this.pnt=void 0,this.Ant=void 0,this.bnt=void 0,this.Tnt=void 0,this.Snt=void 0,this.Ent=void 0,this.Int=void 0,this.Gi=jU.wD,this.pnt=new qU(t,n),this.Ant=new qU(t,n),this.bnt=new qU(t,n),this.Tnt=this.Ant,this.Snt=0,this.Ent=void 0,this.Int=!1}var n=t.prototype;return n.A_=function(){this.Int=!0,this.Snt=0,this.Gi=jU.wD,this.Tnt=this.Ant,this.Ent=void 0,this.Ant.A_(),this.bnt.A_(),this.pnt.A_()},n.Rnt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Nnt=function(t,n){var i=this.Rnt(t,n),e=(30&n)>>1,r=VU,s=!1;e<7?r=eF[e]:7===e&&(s=!0);var u=1==(1&n);if(this.Gi!==jU.$n){var o=this.Tnt;if(this.Gi===jU.Dnt&&i!==o.snt()){var a=1+o.snt()-o.ont(),h=1+i-o.ont();o.lnt(h,a,o.ont()),o.wnt(0,h-1),o.wnt(i+1,YU-i)}o.unt(i);var c=KP[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{iZ:JP[i].iZ,nZ:JP[i].nZ,eZ:JP[i].eZ,_Z:t}}(c,n);o.Ftt(f.eZ),this.Tnt.gnt(u),this.Tnt.ynt(s),this.Tnt.mnt(r),this.Tnt.knt(XU)}}},n.Cnt=function(t,n){this.Tnt.gnt(!1),this.Tnt.ynt(!1),this.Tnt.mnt(VU);var i=this.Ont(t,WU.hnt," ".charCodeAt(0)),e=VU,r=!1,s=1==(1&n);return"white_italics"===(e=eF[(14&n)>>1])&&(e="white",r=!0),this.Tnt.gnt(s),this.Tnt.ynt(r),this.Tnt.mnt(e),i},n.Ont=function(t,n,i){if(this.Tnt.mtt(n,i),this.Gi===jU.Pnt||this.Gi===jU.Dnt){var e=this.Bnt(this.Tnt,this.Snt,t);return this.Snt=t,e}return null},n.Bnt=function(t,n,i){return this.Int?null:t.int(n,i)},n.Lnt=function(t,n){var i=XU;0==(7&t)&&(i=iF[(14&n)>>1]),this.Tnt.knt(i)},n.xnt=function(t){var n=tF,i=t.Mnt,e=t.Unt,r=null;switch(i){case n.RCL:this.Fnt();break;case n.BS:this.Hnt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.Xnt(2,e);break;case n.RU3:r=this.Xnt(3,e);break;case n.RU4:r=this.Xnt(4,e);break;case n.FON:r=this.Vnt(e);break;case n.RDC:this.znt(e);break;case n.TR:this.Gnt();break;case n.RTD:this.Wnt();break;case n.EDM:r=this.qnt(e);break;case n.CR:r=this.Ynt(e);break;case n.ENM:this.jnt();break;case n.EOC:r=this.Qnt(e)}return r},n.Ynt=function(t){var n=this.Tnt;if(this.Gi!==jU.Dnt)return null;var i=this.Bnt(n,this.Snt,t),e=n.snt()-n.ont()+1;return n.lnt(e-1,e,n.ont()),n.wnt(0,e-1),n.wnt(n.snt(),YU-n.snt()),this.Snt=t,i},n.Xnt=function(t,n){this.Tnt=this.Ant;var i=this.Tnt,e=null;return this.Gi!==jU.Dnt&&this.Gi!==jU.$n&&(e=this.Bnt(i,this.Snt,n),this.Ant._nt(),this.bnt._nt(),this.Int=!1,i.unt(YU)),this.Gi=jU.Dnt,i.ant(t),e},n.Vnt=function(t){return this.Ont(t,WU.hnt," ".charCodeAt(0))},n.qnt=function(t){var n=this.Ant,i=null;return this.Gi!==jU.$n&&(i=this.Bnt(n,this.Snt,t)),n.rnt(),this.Int=!1,i},n.znt=function(t){this.Gi=jU.Pnt,this.Tnt=this.Ant,this.Tnt.ant(0),this.Snt=t},n.jnt=function(){this.bnt.rnt()},n.Qnt=function(t){var n=null;this.Gi!==jU.$n&&(n=this.Bnt(this.Ant,this.Snt,t));var i=this.bnt;return this.bnt=this.Ant,this.Ant=i,this.Fnt(),this.Snt=t,n},n.Fnt=function(){this.Gi=jU.Znt,this.Tnt=this.bnt,this.Tnt.ant(0)},n.Hnt=function(){this.Tnt.vnt()},n.Gnt=function(){this.pnt.A_(),this.Int=!1,this.Wnt()},n.Wnt=function(){this.Tnt=this.pnt,this.Gi=jU.$n},n.Jnt=function(t,n,i){return this.Tnt.mtt(WU.hnt,n),this.Ont(t,WU.hnt,i)},n.Knt=function(t,n,i){var e=1&n?WU.dnt:WU.fnt;return this.Ont(t,e,i)},n.$nt=function(t){var n=t.tit,i=t.Mnt,e=t.Unt;if(this.Ent===(n<<8|i))return this.Ent=void 0,null;if(this.Ent=n<<8|i,this.nit(n,i))this.Nnt(n,i);else{if(this.iit(n,i))return this.Cnt(e,i);if(this.eit(n,i))this.Lnt(n,i);else{if(this.rit(n,i))return this.Ont(e,WU.cnt,i);if(this.sit(n,i))return this.Knt(e,n,i);if(this.uit(n,i))return this.xnt(t);this.isTabOffset(n)&&this.Tnt.Htt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.uit=function(t,n){return 20==(246&t)&&32==(240&n)},n.nit=function(t,n){return 16==(240&t)&&64==(192&n)},n.iit=function(t,n){return 17==(247&t)&&32==(240&n)},n.eit=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.rit=function(t,n){return 17==(247&t)&&48==(240&n)},n.sit=function(t,n){return 18==(246&t)&&32==(224&n)},t.oit=function(t){return 16==(112&t)},t}(),tF={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.wD=0]="wD",t[t.Znt=1]="Znt",t[t.Pnt=2]="Pnt",t[t.Dnt=3]="Dnt",t[t.$n=4]="$n"}(jU||(jU={}));var nF,iF=["black","green","blue","cyan","red","yellow","magenta","black"],eF=["white","green","blue","cyan","red","yellow","magenta","white_italics"],rF=function(){function t(t,n,i,e,r){this.ait=void 0,this.Ktt=void 0,this.$tt=void 0,this.nnt=void 0,this.tnt=void 0,this.ait=t,this.Ktt=n,this.$tt=i,this.nnt=e,this.tnt=r}var n=t.prototype;return n.Ptt=function(){return this.ait},n.hit=function(){return this.Ktt},n.cit=function(){return this.$tt},n.fit=function(){return this.nnt},n.vit=function(){return this.tnt},t}(),sF=function(){function t(t){this.dit=void 0,this.pD=void 0,this.wit=void 0,this._it=void 0,this.git=void 0,this.yit=void 0,this.mit=void 0,this.kit=void 0,this.pit=void 0,this.Ait=void 0,this.rk=void 0,this.jtt=void 0,this.Tit=void 0,this.$tt=void 0,this.Ktt=void 0,this.tnt=void 0,this.nnt=void 0,this.dit=t,this.pD=!1,this.wit=!1,this._it=0,this.git=0,this.yit=0,this.mit=0,this.kit=0,this.pit=nF.Sit,this.Ait=[],this.rk=0,this.jtt=0,this.Tit=0,this.$tt=!1,this.Ktt=!1,this.tnt=VU,this.nnt=XU,this.Eit()}var n=t.prototype;return n.Iit=function(t,n,i,e,r,s,u){this.pD=t,this.git=n,this._it=i,this.yit=e,this.wit=r,this.mit=s,this.kit=u},n.Eit=function(){this.Ait=[];for(var t=0;t<oF;t++)this.Ait.push(this.Rit())},n.Rit=function(){for(var t=[],n=0;n<uF;n++)t.push(null);return t},n.Nit=function(t){this.Dit()&&(this.Ait[this.jtt][this.Tit]=new rF(t,this.Ktt,this.$tt,this.nnt,this.tnt),this.Tit++)},n.Cit=function(){this.Dit()&&(this.Tit<=0&&this.jtt<=0||(this.Tit<=0?(this.Tit=this.kit-1,this.jtt--):this.Tit--,this.Ait[this.jtt][this.Tit]=null))},n.Dit=function(){var t=this.jtt<this.mit&&this.jtt>=0,n=this.Tit<this.kit&&this.Tit>=0;return t&&n},n.Oit=function(){return this.pD},n.Pit=function(t){for(var n=0,i=t;i<oF;i++,n++)this.Ait[n]=this.Ait[i];for(var e=0;e<t;e++,n++)this.Ait[n]=this.Rit()},n.Bit=function(){if(this.jtt+1>=this.mit)return this.Pit(1),void(this.Tit=0);this.jtt++,this.Tit=0},n.Lit=function(){this.Ait[this.jtt]=this.Rit(),this.Tit=0},n.int=function(t,n){if(this.rk>=t)return null;var i=HU.Ott(this.Ait,this.rk,t);return i?(this.xit(t),{Gm:i,Rd:"svc"+n,ent:n}):null},n.Mit=function(t,n){this.jtt=t,this.Tit=n},n.Uit=function(t){this.nnt=t},n.Fit=function(t){this.tnt=t},n.Hit=function(t){this.Ktt=t},n.Xit=function(t){this.$tt=t},n.Vit=function(){this.jtt=0,this.Tit=0,this.Ktt=!1,this.$tt=!1,this.tnt=VU,this.nnt=XU},n.zit=function(t){this.pit=t},n.Git=function(){this.pD=!0},n.Yy=function(){this.pD=!1},n.Wit=function(){this.pD=!this.pD},n.xit=function(t){this.rk=t},t}();!function(t){t[t.qit=0]="qit",t[t.Yit=1]="Yit",t[t.Sit=2]="Sit",t[t.jit=3]="jit"}(nF||(nF={}));var uF=42,oF=15,aF=function(){function t(t){this.Qit=void 0,this.Zit=void 0,this.Jit=void 0,this.Qit=t,this.Zit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Jit=void 0}var n=t.prototype;return n.Kit=function(t){var n=t.$it(),i=n.Ti,e=n.Unt;i===dF&&(i=i<<16|t.$it().Ti);return i>=0&&i<=31?this.tet(i,e):i>=128&&i<=159?this.net(t,i,e):(i>=4096&&i<=4127?this.iet(t,255&i):i>=4224&&i<=4255?this.eet(t,255&i):i>=32&&i<=127?this.ret(i):i>=160&&i<=255?this.uet(i):i>=4128&&i<=4223?this.oet(255&i):i>=4256&&i<=4351&&this.aet(255&i),null)},n.ret=function(t){this.Jit&&(127!==t?this.Jit.Nit(String.fromCharCode(t)):this.Jit.Nit("\u266a"))},n.uet=function(t){this.Jit&&this.Jit.Nit(String.fromCharCode(t))},n.oet=function(t){if(this.Jit)if(void 0!==lF[t]){var n=lF[t];this.Jit.Nit(n)}else this.Jit.Nit("_")},n.aet=function(t){this.Jit&&(160===t?this.Jit.Nit("[CC]"):this.Jit.Nit("_"))},n.tet=function(t,n){if(!this.Jit)return null;var i=this.Jit,e=null;switch(t){case hF:i.Cit();break;case fF:i.Oit()&&(e=i.int(n,this.Qit)),i.Bit();break;case vF:i.Oit()&&(e=i.int(n,this.Qit)),i.Lit();break;case cF:i.Oit()&&(e=i.int(n,this.Qit)),i.Eit(),i.Mit(0,0)}return e},n.net=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.het(e)}else{if(136===n){var r=t.$it().Ti;return this.cet(r,i)}if(137===n){var s=t.$it().Ti;this.fet(s,i)}else{if(138===n){var u=t.$it().Ti;return this.vet(u,i)}if(139===n){var o=t.$it().Ti;return this.det(o,i)}if(140===n){var a=t.$it().Ti;return this.let(a,i)}if(143===n)return this.A_(i);if(144===n)this.wet(t);else if(145===n)this._et(t);else if(146===n)this.Mit(t);else if(151===n)this.yet(t);else if(n>=152&&n<=159){var h=(15&n)-8;this.Iit(t,h,i)}}}return null},n.iet=function(t,n){n>=8&&n<=15?t.cb(1):n>=16&&n<=23?t.cb(2):n>=24&&n<=31&&t.cb(3)},n.eet=function(t,n){n>=128&&n<=135?t.cb(4):n>=136&&n<=143&&t.cb(5)},n.het=function(t){this.Zit[t]&&(this.Jit=this.Zit[t])},n.met=Lr.mark(function t(n){var i;return Lr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.Zit[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.cet=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Zit[s];u.Oit()&&(i=u.int(n,this.Qit)),u.Eit()}return i},n.fet=function(t,n){for(var i=0,e=this.met(t);i<e.length;i++){var r=e[i],s=this.Zit[r];s.Oit()||s.xit(n),s.Git()}},n.vet=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Zit[s];u.Oit()&&(i=u.int(n,this.Qit)),u.Yy()}return i},n.det=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Zit[s];u.Oit()?i=u.int(n,this.Qit):u.xit(n),u.Wit()}return i},n.let=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Zit[s];u.Oit()&&(i=u.int(n,this.Qit)),this.Zit[s]=void 0}return i},n.A_=function(t){var n=this.let(255,t);return this.Cu(),n},n.Cu=function(){this.Jit=void 0,this.Zit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.wet=function(t){t.cb(1);var n=t.$it().Ti;if(this.Jit){var i=(128&n)>0,e=(64&n)>0;this.Jit.Xit(i),this.Jit.Hit(e)}},n._et=function(t){var n=t.$it().Ti,i=t.$it().Ti;if(t.cb(1),this.Jit){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,a=(48&i)>>4,h=this.ket(s,r,e),c=this.ket(a,o,u);this.Jit.Fit(h),this.Jit.Uit(c)}},n.Mit=function(t){var n=t.$it().Ti,i=t.$it().Ti;if(this.Jit){var e=15&n,r=63&i;this.Jit.Mit(e,r)}},n.yet=function(t){t.cb(1),t.cb(1);var n=t.$it().Ti;if(t.cb(1),this.Jit){var i=3&n;this.Jit.zit(i)}},n.Iit=function(t,n,i){var e=void 0!==this.Zit[n];if(!e){var r=new sF(n);r.xit(i),this.Zit[n]=r}var s=t.$it().Ti,u=t.$it().Ti,o=t.$it().Ti,a=t.$it().Ti,h=t.$it().Ti,c=t.$it().Ti,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,w=1+(15&a),_=(240&a)>>4,g=1+(63&h);e&&0===(7&c)||this.Zit[n].Vit(),this.Zit[n].Iit(f,v,l,_,d,w,g),this.Jit=this.Zit[n]},n.ket=function(t,n,i){var e={0:0,1:0,2:1,3:1};return wF[e[t]<<2|e[n]<<1|e[i]]},t}(),hF=8,cF=12,fF=13,vF=14,dF=16,lF={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},wF=["black","blue","green","cyan","red","magenta","yellow","white"],_F=function(){function t(){this.pet=void 0,this.Aet=void 0,this.bet=void 0,this.pet=[],this.Aet=null,this.bet=0}var n=t.prototype;return n.Tet=function(t){if(t.vs===$M.w7){var n=63&t.Ti;return this.bet=2*n-1,void(this.Aet=[])}if(this.Aet&&(this.bet>0&&(this.Aet.push(t),this.bet--),0===this.bet)){var i=new gF(this.Aet);this.pet.push(i),this.Aet=null,this.bet=0}},n.Eet=function(){return this.pet},n.Iet=function(){this.pet=[]},n.Cu=function(){this.pet=[],this.Aet=[],this.bet=0},t}(),gF=function(){function t(t){this.Ret=void 0,this.Net=void 0,this.Ret=0,this.Net=t}var i=t.prototype;return i.Det=function(){return this.Ret<this.Net.length},i.Cet=function(){return this.Ret},i.$it=function(){if(!this.Det())throw new hf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Net[this.Ret++]},i.cb=function(t){if(this.Ret+t>this.Net.length)throw new hf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Ret+=t},t}(),yF=function(){function t(){this.Oet=void 0,this.Pet=void 0,this.Bet=void 0,this.Let=void 0,this.xet=void 0,this.Met=void 0,this.Uet=void 0,this.Fet=void 0,this.Het=!1,this.Oet=[],this.Pet=[],this.Bet=new _F,this.Let=0,this.xet=Hr({CC1:new $U(0,0),CC2:new $U(0,1),CC3:new $U(1,0),CC4:new $U(1,1)}),this.Met=0,this.Uet=0,this.Fet=Fr(),this.A_()}var i=t.prototype;return i.Cu=function(){this.Let=0,this.Oet=[],this.Pet=[],this.Bet.Cu(),this.A_(),this.Fet.forEach(function(t){t.Cu()})},i.A_=function(){this.Met=0,this.Uet=0,this.xet.forEach(function(t){t.A_()})},i.O5=function(t,n){if(t.R7){var i=t.N7,e=t.D7,r=t.vs;r===$M.v7||r===$M.d7?this.Oet.push({Unt:n,vs:r,tit:i,Mnt:e,Xet:this.Oet.length}):this.Het&&(this.Pet.push({Unt:n,vs:r,Ti:i,Xet:this.Pet.length}),this.Pet.push({Unt:n,vs:$M.l7,Ti:e,Xet:this.Pet.length}))}},i.nP=function(){var t=[];Bs(this.Oet,function(t,n){return t.Unt-n.Unt||t.Xet-n.Xet}),Bs(this.Pet,function(t,n){return t.Unt-n.Unt||t.Xet-n.Xet});for(var n=0,i=this.Oet;n<i.length;n++){var e=i[n],r=this.Vet(e);r&&t.push(r)}for(var s=0,u=this.Pet;s<u.length;s++){var o=u[s];this.Bet.Tet(o)}for(var a=this.Bet.Eet(),h=0;h<a.length;h++){var c=a[h],f=this.zet(c);t.push.apply(t,f)}return this.Bet.Iet(),this.Oet=[],this.Pet=[],t},i.Vet=function(t){var n=t.vs;if($U.oit(t.tit)){var i=t.tit>>3&1;0===n?this.Met=i:this.Uet=i}var e="CC"+(n<<1|(n?this.Uet:this.Met)+1),r=this.xet.get(e);return 255===t.tit&&255===t.Mnt||!t.tit&&!t.Mnt||!this.Get(t.tit)||!this.Get(t.Mnt)?(++this.Let>=45&&this.A_(),null):(this.Let=0,t.tit&=127,t.Mnt&=127,t.tit||t.Mnt?$U.oit(t.tit)?r.$nt(t):r.Jnt(t.Unt,t.tit,t.Mnt):null)},i.zet=function(t){var i=[];try{for(;t.Det();){var e=t.$it().Ti,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.$it().Ti;if(0!==r){if(!this.Fet.has(r)){var u=new aF(r);this.Fet.set(r,u)}for(var o=this.Fet.get(r),a=t.Cet();t.Cet()-a<s;){var h=o.Kit(t);h&&i.push(h)}}}}catch(t){if(!(t instanceof hf&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.Get=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),mF=function(t){function n(n,i){var e;return(e=t.call(this,"Wet")||this).ent=n,e.Gm=i,e}return S(n,t),n}(Tu),kF=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.qet=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this.Yet(e,e.rZ.Rk()+n)}this.nP()},n}(function(t){function n(){var n;return(n=t.call(this)||this).jet=void 0,n.jet=new yF,n}S(n,t);var i=n.prototype;return i.Yet=function(t,n){this.jet.O5(t,n)},i.nP=function(){for(var t=this.jet.nP(),n=0;n<t.length;n++){var i=t[n];this.Zs(new mF(i.ent,i.Gm))}},i.A_=function(){this.jet.Cu()},i.Il=function(){this.tu(),this.jet.Cu()},n}(Au)),pF=function(t){function n(n){var i;return(i=t.call(this)||this).Qet=void 0,i.Zet=void 0,i.Jet=NaN,i.Ket=NaN,i.$et=void 0,i.lE=void 0,i.trt=function(t){i.nrt({irt:t.ent,ert:""}).kE(t.Gm)},i.lE=n,i.$et=Fr(),i.Qet=new kF,i.Qet.Js("Wet",i.trt),i}S(n,t);var i=n.prototype;return i.rrt=function(t){return this.$et.get(t)},i.nrt=function(t){var n=this.$et.get(t.irt);return n||(n=this.urt(t),this.$et.set(t.irt,n)),n},i.urt=function(t){var n,i=function(t){if(t!==vU)for(var n=t.toLowerCase(),i=0;i<lU.length;i++){var e=lU[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}(t.ert),e=i?i._i:"";t.ort&&(e="easy "+e),n=t.M_?"CC "+t.M_:e?"CC "+e:"CC"+t.irt;var r=this.lE.yE(Up.nE,n,n,e,!1,Im.CEA608);return this.m_(r),r},i.W9=function(t){var n=dp.Db(zo(t));this.Zet=function(t){for(var n=0;n<t.Wb.length;n++){var i=t.Wb[n],e={rT:(h=t.Wb[n]).bb.rT,rtt:h.tT.bb.pp},r=i.tT.vT.wT.gT.mT,s=Vs(r,function(t){return t.vs===yk.gA});if(!s){var u=Vs(r.filter(function(t){return t.vs===yk.NA}),function(t){var n;return(null==(n=t.KT)?void 0:n.vs)===yk.gA});u&&(s=u.KT)}if(s){var o=gD(zo(s.WT.Vi),new Zo),a=s.YT;return xr({},e,{rT:i.bb.rT,WT:Qo(s.WT.Vi),Ek:s.Ek,oT:s.oT,rS:a&&a.rS,eS:a&&a.eS,art:o.BX,hrt:o.LX,G9:o.xX,UX:o.UX[0],FX:o.FX[0]})}}var h}(n.filter(PU)[0])},i._6=function(t,n,i,e){if(this.Zet&&(y(this.Jet)||!Ut(this.Jet,n,1e-5))){y(this.Ket)||Ut(n,this.Ket,1e-5)||this.Qet.A_();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.JS.ltt&&n.push.apply(n,e.JS.ltt),delete e.JS.ltt}for(var r=0;r<n.length;r+=1)n[r].dS=r;return n.sort($P)}(function(t,n,i,e,r){for(var s=[],u=n.filter(NU),o=e(i),a=0;a<u.length;a++){var h,c=u[a],f=Vs(c.Wb,function(t){return t.bb.rT===i.rT});if(f)for(var v=f.bb.oS||0,d=f.bb.aS||0,l=f.yS?f.yS.yS:ft.ZERO,w=c.vS+(null!=(h=f.bb.mS)?h:ft.ZERO).toNumber(),_=0,g=f.gS;_<g.length;_++)for(var y=g[_],m=w+(y.vS||0),k=0,p=y.TS;k<p.length;k++){var A=p[k],b=A.Ou||d,T=new sU;T.m7(t,m,m+b);var S=vk.Wk(l,i.rtt);T.JS=r(A,c,i,S,Yo(t,m,m+b)),s.push(T),m+=b,l=l.add(A.Vg||v||o)}}return s}(t,dp.Db(zo(t)),this.Zet,RU,OU));this.Qet.qet(r,e),this.Jet=n,this.Ket=i}},i.A_=function(){var n=this;return this.Qet.A_(),this.$et.forEach(function(t){return n.k_(t)}),this.$et.clear(),this.Zet=void 0,this.Jet=NaN,this.Ket=NaN,t.prototype.A_.call(this)},i.Il=function(){return this.Qet.nu("Wet",this.trt),this.Qet.Il(),t.prototype.Il.call(this)},n}(rA);function AF(t){if(t.vs===SB.RK&&void 0!==t.KK){var n=t.KK.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.KK.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var bF=function(){function t(t){this.F4=void 0,this.crt=!1,this.F4=t}var n=t.prototype;return n.frt=function(t,n){return this.crt?this.F4.frt(t,n):We.resolve(!1)},n.J6=function(t,n){return this.crt?this.F4.J6(t,n):We.resolve(void 0)},n.J4=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(this.F4.J4(t));case 2:return n=i.sent,this.crt=void 0!==n,i.abrupt("return",n);case 5:case"end":return i.stop()}},null,this,null,We)},n.VM=function(t){return this.F4.VM(t)},t}(),TF="LLHLSPlayer",SF=[yy.xg,yy.Mg,yy.Ug,yy.a_],EF=[Nf.Af,Nf.Df,Nf.Of,Nf.lf],IF=50,RF=3e4,NF=function(t){function e(e,r,s,u,o,a){var h;return(h=t.call(this)||this).$R=void 0,h.wE=void 0,h.aN=void 0,h.uN=void 0,h.vrt=void 0,h.drt=void 0,h.lrt=void 0,h.wrt=void 0,h.F4=void 0,h.Sy=void 0,h.Ey=void 0,h.Iy=void 0,h._rt=Fr(),h.grt=void 0,h.yrt=void 0,h.sN=void 0,h.X9=void 0,h.V9=void 0,h.mrt=!1,h._E=new su,h.krt=void 0,h.u6=void 0,h.tN=void 0,h.P5=void 0,h.prt=void 0,h.Art=new su,h.brt=void 0,h.s6=void 0,h.Trt=void 0,h.Srt=void 0,h.Ert=void 0,h.Irt=void 0,h.Rrt=void 0,h.Nrt=[],h.uG=void 0,h.oG=void 0,h.Drt=void 0,h.Crt=void 0,h.Ort=void 0,h.c9=void 0,h.Prt=new su,h.Brt=void 0,h.eY=new su,h.iY=void 0,h.Lrt=-1,h.xrt=void 0,h.Mrt=void 0,h.Urt=void 0,h.Frt=void 0,h.Hrt=void 0,h.Xrt=void 0,h.Vrt=!0,h.zrt=0,h.Grt=!1,h.pC=1,h.eN=hS.wD,h.nN=void 0,h.iN=void 0,h.aG=gS.dC(),h.Wrt=[],h.qrt=void 0,h.Yrt=!1,h.jrt=void 0,h.Qrt=void 0,h.Zrt=!1,h.Jrt=!1,h.Krt=void 0,h.$rt=void 0,h.hN=new tS,h.tst=0,h.handleContentProtectionErrorEvent=function(t){h.nN=am(t.errorObject),h.iN=t.errorObject,h.Qs(t)},h.handleBufferingErrorEvent=function(t){h.fN(new hf(n.ErrorCode.MEDIA_LOAD_ERROR,t.mu.message,t.mu))},h.nst=function(){h.ist();var t=h.Vg;t!==h.jrt&&(h.jrt=t,h.Zs(new Sy(h.jrt)))},h.rst=function(){h.zg&&h.Zs(new Ry(h.Xg))},h.sst=function(){h.Zs(new ky(h.Xg))},h.ust=function(){h.Zs(new py(h.Xg))},h.lN=function(){void 0!==h.$rt&&i.jn(h.$rt),h.Zs(new TA(h.Xg))},h.ost=function(){h.Zs(new HN(h.Xg))},h.NE=function(){h.Zs(new Ly(h.Xg,h.Q_))},h.zW=function(){var t=h.b$;Zs(h.Wrt,t)||(h.Zs(new nM),h.Wrt=t),h.Zs(new Iy(h.Xg,h.um))},h.ast=function(t){h.tst+=t.M5,"l8"===t.L5&&t.bl===fm.ll&&_u(h.V0())},h.vG=function(){h.Zs(new Dy(h.Xg))},h.dN=function(){h.Zs(new Cy(h.Xg))},h.hst=function(){h.Zs(new Oy(h.Xg,h.Jg))},h.cst=function(){h.$R.jg?h.Zs(new bA(h.Xg)):(h.$rt=i.Qn(function(){h.Jrt&&(h.Krt=void 0,_u(h.fst()))},QM),h.Zs(new bA(h.Xg)))},h.vst=function(){h.Jrt=!0,h.Zs(new Py(h.Xg,h.Q_))},h.dst=function(t){ou(t)||Gp(t)||Wp(t)||(h.lst(),_u(h.wst()),h.Zs(new bL(t)))},h.h6=function(){h.ist()},h._st=function(t){_u(h.gst(t.y$))},h.yst=$(function(t){var n=[h.P5,h.Brt,h.iY].filter(H);h.eY=new su,h.iY=h.cj(n,t,h.eY.Ws).catch(h.dst)},IF),h.mst=function(t){if(!ou(t)){var i=t instanceof hf?t:new hf(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t);h.fN(i)}},h.onTextTrackChange=function(t){if(h.Trt){var n=t.Qw,i=Vs(h.Trt.A2,function(t){return n===h._rt.get(t.L_)});i&&(n.q_===Bg.V_||n.q_===Bg.z_?(_u(h.kst(i)),h._rt.forEach(function(t){t!==n&&(t.q_=Bg.X_)})):h.Irt&&h.Irt===i&&_u(h.pst(h.Srt,h.Ert,void 0)))}},h.retryOfflineRenditionsCallback=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(h.Ast===t||h.E$===t||h.R$===t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Lr.awrap(h.s6.Y4(t,n));case 4:t.YK.W3=-1/0;case 5:case"end":return i.stop()}},null,null,null,We)},h.bst=function(){h.Tst()},h.Sst=function(){h.Est()},h.Ist=function(t){if(t.y$.$K){var n=h.s6.z$.R4(t.y$);if(n&&!n.VX){h.s6.i6(n,t.VX),h.grt.Y$();var i=h.Trt;if(i){var e=void 0!==h.Srt&&!Ys(i.W$,h.Srt),r=void 0!==h.Ert&&!Ys(i.q$,h.Ert);(e||r)&&h.pst(e?void 0:h.Srt,r?void 0:h.Ert,h.Irt).catch(J)}}}},h.Rst=function(t){h.s6.t6(t.y$)},h.EC=s,h.z6=u,h.Nst=o,h.F4=new bF(a),h.$R=e,h.wE=new fL(r,h.EC),h.aN=new AL(h.EC.QL),h.lrt=new TL(h.$R),h.wrt=new CL(h.EC),h.Sy=new vm,h.Ey=new vm,h.grt=new cL(Kt(h),h.Sy,h.Ey),h.yrt=new Fp,h.sN=new uA(h.$R,h.wE),h.X9=new tU(h.$R),h.V9=new pF(h.$R),h.Iy=new JT([h.yrt,h.sN.Wb,h.X9.Wb,h.V9.Wb]),h.uN=new QT(h.wE),h.$R.IN=h.uN,h.vrt=new CF(Kt(h),h.$R),h.drt=new EA(h.vrt,!0),h.Dst(),h}S(e,t);var r=e.prototype;return r.Cst=function(t){return Ks(t,function(t){return t.PR})},r.fst=function(){var t,n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lr.awrap(this.Ost());case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Lr.awrap(this.Pst(t));case 7:if((n=e.sent).length>0&&(t=n),void 0===(i=this.Cst(t))){e.next=14;break}return e.next=13,Lr.awrap(this.S$(i,!0));case 13:this.aN.x0(i.PR);case 14:case"end":return e.stop()}},null,this,null,We)},r.ist=function(){var t=function(t){for(var n=new gS([0,1/0]),i=0,e=0;e<t.length;e++){var r=t[e],s=r.YK.Am;s.T_>0&&(n=n.zD(s),i=w.max(i,s.DD(0)))}if(n.T_>0)return n;return gS.vC(i)}([this.Srt,this.Ert].filter(H));0!==t.T_&&(this.tN&&this.tN.XF&&this.Bst&&(t=new gS([t.DD(0),this.tN.Vg])),this.aG=t,this.X9.dE(t.DD(0)),this.V9.dE(t.DD(0)))},r.Hy=function(){return!1},r.Qy=function(){return kS},r.Yy=function(){aL.vT(TF,"Hiding the player."),this.$R.Yy()},r.xy=function(){aL.vT(TF,"Pausing the player."),this.$R.xy()},r.Ly=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.$R.Ly(),this.mrt){n.next=4;break}return n.next=4,Lr.awrap(this.Qh());case 4:return n.next=6,Lr.awrap(t);case 6:case"end":return n.stop()}},null,this,null,We)},r.Lst=function(){this.nN=void 0,this.iN=void 0},r.fN=function(t){this.nN||(_u(this.A_()),this.nN=am(t),this.iN=t,this.Zs(new xy(t)))},r.qy=function(){aL.vT(TF,"Showing the player."),this.$R.qy()},r.Xy=function(){throw new v("Not implemented")},r.Vy=function(){throw new v("Not implemented")},r.nm=function(){},r.Fy=function(t,n,e){return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(aL.vT(TF,"Setting the player source to "+t.src+"."),this.Lst(),!this.krt||vy(this.krt)){r.next=6;break}return r.next=5,Lr.awrap(this.A_());case 5:au(e);case 6:if(t.src&&!vy(t)){r.next=8;break}return r.abrupt("return");case 8:this.uN.MR(t.contentProtection),this.u6=t,this.Js(TB.EK,this.handleBufferingErrorEvent),this.s6=new Qx(this.wE,this.F4,i.Lr(t.src)),this.s6.Js(qx.D4,this.h6),this.s6.Js(qx.C4,this._st),this.brt=new tM(t,this.s6,this.$R),this.Iy.qR(this.brt.Py),this.c9=this.Nst.TJ(),n.textTracks&&this.BN(n.textTracks),fA(this.Iy),this.xst();case 20:case"end":return r.stop()}},null,this,null,We)},r.Qh=function(){return this.P5?this.P5:(this.P5=this.Sw(this._E.Ws).catch(this.mst),this.P5)},r.Sw=function(t){var i,e,r,s,u,o,a,h;return Lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(aL.vT(TF,"Loading the player."),this.s6.e6){c.next=13;break}return c.prev=2,c.next=5,Lr.awrap(this.s6.H4(t));case 5:this.Mst(),c.next=13;break;case 8:throw c.prev=8,c.t0=c.catch(2),hu(c.t0),this.ym=!1,new hf(n.ErrorCode.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+c.t0.message,c.t0);case 13:if(this.Rrt=this.s6.z$.G$,this.Rrt.length){c.next=16;break}throw new hf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");case 16:return c.next=18,Lr.awrap(this.Ust(this.Rrt));case 18:if(0!==(e=c.sent).length){c.next=21;break}throw new hf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");case 21:return c.next=23,Lr.awrap(this.Pst(e));case 23:(r=c.sent).length>0&&(e=r),aL.vT(TF,"Selecting initial active variant stream."),s=PF(e,null==(i=this.u6)?void 0:i.abr,this.EC),(u=LF(s.W$))&&aL.vT(TF,"Detected initial audio rendition."),(o=LF(s.q$))&&aL.vT(TF,"Detected initial video rendition."),(a=OF(s.A2))&&aL.vT(TF,"Detected initial subtitle rendition."),a||(h=OF(s.b2))&&aL.vT(TF,"Detected initial closed caption rendition."),this.Fst(s),this.grt.V$(),this.Hst(s,h),this.pst(u,o,a).catch(J),this.mrt=!0;case 39:case"end":return c.stop()}},null,this,[[2,8]],We)},r.Mst=function(){this.Zrt||(this.Zrt=!0,this.vrt.Xst())},r.BN=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.sN.gE(i)}},r.Hst=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=AF(e);void 0!==r&&n.push({irt:r,ert:e.U_||"",M_:e._i})}return n}(t.b2),e=0;e<i.length;e++){var r=i[e];this.V9.nrt(r)}if(void 0!==n){var s=AF(n);this.V9.rrt(s).q_=Bg.z_}},r.xst=function(){this.Art.Vs(),this.Art=new su,this.prt=this.Vst(this.prt,this.Art.Ws).catch(this.mst)},r.Vst=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.eN,!t){e.next=5;break}return e.next=4,Lr.awrap(t);case 4:au(n);case 5:if(i!==hS.wD&&this.s6){e.next=7;break}return e.abrupt("return");case 7:if(au(n),this.s6.e6){e.next=19;break}return e.prev=9,e.next=12,Lr.awrap(this.s6.H4(n));case 12:this.Mst(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),hu(e.t0),e.abrupt("return");case 19:if(i!==hS.YA){e.next=21;break}return e.abrupt("return");case 21:au(n),this.Qh().catch(this.mst);case 23:case"end":return e.stop()}},null,this,[[9,15]],We)},r.T$=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.zst(i))throw new v("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Rrt=t},r.zst=function(t){var n=this.z$;return!!n&&Ys(n.G$,t)},r.Gst=function(t){if(this.Trt)return Vs(this.Trt.Q$,function(n){return n===t})},r.Fst=function(t){if(aL.vT(TF,"Setting active variant stream."),this.Trt!==t){var n;if((null==(n=this.Trt)?void 0:n.h1)!==(null==t?void 0:t.h1)){if(this.Trt)for(var i=0,e=this.Trt.A2;i<e.length;i++){var r=e[i];this.pE(r)}if(t)for(var s=0,u=t.A2;s<u.length;s++){var o=u[s];this.Wst(o)}}this.Trt=t,this.Zs(new OM)}},r.Wst=function(t){var n=this.$R.yE(Up.WA,void 0,t._i,t.U_,t.jK);this.yrt.m_(n),this._rt.set(t.L_,n),n.Js(eg.u_,this.onTextTrackChange)},r.pE=function(t){var n=this._rt.get(t.L_);n&&(n.nu(eg.u_,this.onTextTrackChange),this.yrt.k_(n),this._rt.delete(t.L_),this.$R.pE(n))},r.Ost=function(){var t,n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=null!=(t=this.Rrt)?t:this.z$.G$).length||this.Rrt){r.next=4;break}return aL.vT(TF,"The HLS stream does not contain any variant streams, skipping ABR selection."),r.abrupt("return",void 0);case 4:if(1!==n.length||this.Rrt){r.next=7;break}return aL.vT(TF,"The HLS stream contains only a single variant stream, skipping ABR selection."),r.abrupt("return",void 0);case 7:return r.next=9,Lr.awrap(this.Ust(n));case 9:if((i=r.sent).length){r.next=13;break}return aL.U$(TF,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),r.abrupt("return",void 0);case 13:if(0!==(e=xF(i)).length){r.next=22;break}if(!this.Grt){r.next=17;break}return r.abrupt("return",void 0);case 17:return aL.U$(TF,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.zrt++,r.next=21,Lr.awrap(this.qst(i));case 21:return r.abrupt("return",void 0);case 22:return r.abrupt("return",e);case 23:case"end":return r.stop()}},null,this,null,We)},r.V0=function(){var t,n,i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Lr.awrap(this.Ost());case 2:if(void 0!==(t=s.sent)){s.next=5;break}return s.abrupt("return");case 5:return u=this.$R,o=void 0,a=void 0,o=u.Xg,a=u.im.aC(o),n=a?a.OD(0)-o:0,s.next=8,Lr.awrap(this.Pst(t));case 8:return i=s.sent,s.next=11,Lr.awrap(this.wrt.V0(t,this.Trt,n,i));case 11:if(e=s.sent,r=!!this.Trt&&e.PR<this.Trt.PR,!(!!r||this.Yst(e,t,n))){s.next=17;break}return s.next=17,Lr.awrap(this.S$(e,r));case 17:case"end":return s.stop()}var u,o,a},null,this,null,We)},r.Yst=function(t,n,e){var r,s;if(t===this.k$)return!1;if(t===this.Cst(n))return!0;(!this.Krt||this.Krt.p$.PR>t.PR)&&(this.Krt={p$:t,stt:i.er()});var u=i.er()-this.Krt.stt,o=null!=(r=null==(s=this.R$)?void 0:s.YK.U0)?r:1/0;return e>=w.max(o-1,5)||u>1e3},r.qst=function(t){var n,i,e,r,s,u=this;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:this.Grt=!0,n=!1,i=0;case 3:if(!(i<t.length)){o.next=20;break}if(e=t[i],o.prev=5,void 0!==(r=this.Ert?Vs(e.q$,function(t){return HB(t,u.Ert)}):void 0)){o.next=9;break}return o.abrupt("continue",17);case 9:return o.next=11,Lr.awrap(this.Y4(r));case 11:r.YK.W3=-1/0,n=!0,o.next=17;break;case 15:o.prev=15,o.t0=o.catch(5);case 17:i++,o.next=3;break;case 20:if(!n){o.next=26;break}return this.zrt=0,o.next=24,Lr.awrap(this.jst());case 24:o.next=29;break;case 26:return s=w.min(1e3*w.pow(2,this.zrt),RF),o.next=29,Lr.awrap(yu(s));case 29:return this.Grt=!1,o.next=32,Lr.awrap(this.V0());case 32:case"end":return o.stop()}},null,this,[[5,15]],We)},r.Ust=function(t){var n,i=this;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lr.awrap(nu(t,function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.VX){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t1=!t.VX.XX,n.t1){n.next=7;break}return n.next=6,Lr.awrap(i.lrt.HF('audio/mp4; codecs="'+t.VX.XX+'"'));case 6:n.t1=n.sent;case 7:if(n.t0=n.t1,!n.t0){n.next=15;break}if(n.t2=!t.VX.HX,n.t2){n.next=14;break}return n.next=13,Lr.awrap(i.lrt.HF('video/mp4; codecs="'+t.VX.HX+'"'));case 13:n.t2=n.sent;case 14:n.t0=n.t2;case 15:return n.abrupt("return",n.t0);case 16:case"end":return n.stop()}},null,null,null,We)}));case 2:return(n=e.sent).some(function(t){var n;return null==(n=t.VX)?void 0:n.HX})&&(n=n.filter(function(t){return!t.VX||t.VX.HX})),n.some(function(t){var n;return null==(n=t.VX)?void 0:n.XX})&&(n=n.filter(function(t){return!t.VX||t.VX.XX})),e.abrupt("return",n);case 6:case"end":return e.stop()}},null,null,null,We)},r.Pst=function(t){var n=this;return nu(t,function(t){var i,e,r,s,u=[LF(t.W$),LF(t.q$),OF(t.A2),OF(t.b2)].filter(H);return i=u,e=function(t){return n.Qst(t)},Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=10;break}return s=i[r],t.next=5,Lr.awrap(e(s));case 5:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},null,null,null,We)})},r.Qst=function(t){var n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.YK.eK.length){r.next=2;break}return r.abrupt("return",!1);case 2:if((n=t.YK.eK[0]).t$){r.next=5;break}return r.abrupt("return",!1);case 5:return i=n.t$,e=i.NK?RB(i.NK.DD,i.NK.T_):void 0,r.prev=7,r.next=10,Lr.awrap(this.F4.frt(i.Ti,e));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",!1);case 16:case"end":return r.stop()}},null,this,[[7,13]],We)},r.S$=function(t,n){var i,e,r,s=this;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.mrt){u.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded.");case 2:if(t){u.next=4;break}throw new v("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");case 4:if(this.zst(t)){u.next=6;break}throw new v("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");case 6:if(t!==this.Trt){u.next=9;break}return aL.vT(TF,"Trying to set the already active variant stream, ignoring."),u.abrupt("return");case 9:return i=this.Srt?Vs(t.W$,function(t){return HB(t,s.Srt)}):void 0,e=this.Ert?Vs(t.q$,function(t){return HB(t,s.Ert)}):void 0,r=this.Irt?Vs(t.A2,function(t){return HB(t,s.Irt)}):void 0,this.Fst(t),this.Krt=void 0,u.next=16,Lr.awrap(this.pst(i,e,r,n));case 16:case"end":return u.stop()}},null,this,null,We)},r.I$=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mrt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Trt){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");case 6:if(n=this.Gst(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");case 9:return aL.vT(TF,"Switching audio rendition"),i.next=12,Lr.awrap(this.pst(n,this.Ert,this.Irt,!1,!0,!1));case 12:case"end":return i.stop()}},null,this,null,We)},r.N$=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mrt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Trt){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Gst(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");case 9:return aL.vT(TF,"Switching video rendition"),i.next=12,Lr.awrap(this.pst(this.Srt,n,this.Irt,!1,!1,!0));case 12:case"end":return i.stop()}},null,this,null,We)},r.kst=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mrt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Trt){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Gst(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");case 9:return aL.vT(TF,"Switching subtitle rendition"),i.next=12,Lr.awrap(this.pst(this.Srt,this.Ert,n));case 12:case"end":return i.stop()}},null,this,null,We)},r.gst=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Grt){i.next=2;break}return i.abrupt("return");case 2:if(t.vs===SB.ll){i.next=7;break}return i.next=5,Lr.awrap(this.Zst(t,n));case 5:i.next=17;break;case 7:if(!(this.Rrt&&this.Rrt.length<=1)){i.next=15;break}if(this.Ert===t){i.next=11;break}return i.next=11,Lr.awrap(this.pst(this.Srt,t,this.Irt));case 11:return i.next=13,Lr.awrap(this.Zst(t,n));case 13:i.next=17;break;case 15:return i.next=17,Lr.awrap(this.V0());case 17:case"end":return i.stop()}},null,this,null,We)},r.Y4=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Lr.awrap(this.s6.Y4(t,n));case 3:i.next=12;break;case 5:if(i.prev=5,i.t0=i.catch(0),hu(i.t0),!Gp(i.t0)&&!Wp(i.t0)){i.next=11;break}return i.next=11,Lr.awrap(this.gst(t,n));case 11:throw i.t0;case 12:case"end":return i.stop()}},null,this,[[0,5]],We)},r.Zst=function(t,n){var i=this;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ys(this.Nrt,t)){e.next=2;break}return e.abrupt("return");case 2:return this.Nrt.push(t),e.prev=3,e.next=6,Lr.awrap(Wx(function(){return i.retryOfflineRenditionsCallback(t,n)},n,1/0,1e3,RF));case 6:if(e.prev=6,Ws(this.Nrt,t),t.YK.W3!==-1/0){e.next=11;break}return e.next=11,Lr.awrap(this.jst());case 11:return e.finish(6);case 12:case"end":return e.stop()}},null,this,[[3,,6,12]],We)},r.pst=function(t,n,i,e,r,s){return void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===s&&(s=!1),this.Srt===t&&this.Ert===n&&this.Irt===i?We.resolve():void 0===t&&void 0===n?We.reject(new v("Trying to buffer no media renditions.")):(this.Srt=t,this.Ert=n,this.Irt=i,this.ist(),this.Zs(new PM),this.eY.Vs(),this.eY=new su,this.Prt.Vs(),this.Prt=new su,this.Brt=this.Jst([this.Brt,this.iY].filter(H),t,n,i,e,r,s,this.Prt.Ws).catch(this.dst),this.Brt)},r.Jst=function(t,n,i,e,r,s,u,o){var a,h,c,f=this;return Lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,Lr.awrap(We.all(t.map(function(t){return t.catch(J)})));case 2:return this.lst(),v.next=5,Lr.awrap(this.wst());case 5:return a=[],s&&this.tN&&this.tN.iG&&a.push(this.tN.iG.Zh(0,1/0)),u&&this.tN&&this.tN.eG&&a.push(this.tN.eG.Zh(0,1/0)),v.next=10,Lr.awrap(We.all(a));case 10:return au(o),v.next=13,Lr.awrap(this.Kst(n,i,o));case 13:return this.$st(n,i,r),this.tut(e,r),au(o),h=n&&i&&VB(n,i),c=[i,h?void 0:n,e].filter(H),v.prev=18,v.next=21,Lr.awrap(We.all(c.filter(function(t){return!t.YK.z3}).map(function(t){var n;return null==(n=f.s6)?void 0:n.j4(t,o)})));case 21:v.next=26;break;case 23:v.prev=23,v.t0=v.catch(18),hu(v.t0);case 26:au(o),this.gG(),this.ist(),void 0!==this.qrt?this.yst(this.qrt):!this.Yrt&&c.every(function(t){return!t.YK.Q1})?this.yst(1/0):this.nut.length>0&&this.iut();case 30:case"end":return v.stop()}},null,this,[[18,23]],We)},r.Kst=function(t,n,i){var e,r,s,u,o,a,h;return Lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(e=void 0!==t&&t!==n,r=void 0!==n,!this.tN){c.next=7;break}if(s=void 0!==this.tN.iG,u=void 0!==this.tN.eG,e!==s||r!==u){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,Lr.awrap(this.eut(t,n,this.Trt));case 9:for(o=c.sent,au(i),a=0,h=this.nut;a<h.length;a++)h[a].T9.forEach(function(t){return t.Vs()});if(this.$R.Tj(),c.prev=13,!this.tN){c.next=17;break}return c.next=17,Lr.awrap(this.$R.A_());case 17:return c.next=19,Lr.awrap(this.rut(o,e,r));case 19:this.tN=c.sent;case 20:return c.prev=20,this.$R.Sj(),c.finish(20);case 23:case"end":return c.stop()}},null,this,[[13,,20,23]],We)},r.eut=function(t,n,i){var e,r,s,u,o,a,h,c,f,v,d,l;return Lr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=i.VX,a=[],o&&o.XX&&(h='audio/mp4; codecs="'+o.XX+'"',aL.vT(TF,"Configuring MediaSource for initial audio rendition with codec: "+h+"."),a.push(h)),o&&o.HX&&(c='video/mp4; codecs="'+o.HX+'"',aL.vT(TF,"Configuring MediaSource for initial video rendition with codec: "+c+"."),a.push(c)),0!==a.length){w.next=7;break}return aL.U$(TF,"No codecs found on the active variant stream."),w.abrupt("return",void 0);case 7:return f=null!=(e=null==n?void 0:null==(r=n.YK.eK[0])?void 0:r.F1)?e:[],v=null!=(s=null==t?void 0:null==(u=t.YK.eK[0])?void 0:u.F1)?s:[],d=this.s6.z$,w.next=12,Lr.awrap(XL(this.u6.contentProtection,a,d.N4.concat(v).concat(f),this.wE));case 12:return l=w.sent,w.abrupt("return",{vs:vA.TE,mG:a.map(function(t){return{Nd:t}}),DN:l});case 14:case"end":return w.stop()}},null,this,null,We)},r.rut=function(t,n,i){var e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,Lr.awrap(this.$R.Qh(t));case 3:e=r.sent,r.next=7;break;case 6:e=new xM(this.$R,n,i);case 7:return this.tN=e,this.gG(),this.Tst(),this.Est(),r.abrupt("return",e);case 12:case"end":return r.stop()}},null,this,null,We)},r.gG=function(){var t=this.tN;if(t&&y(t.Vg)){var n,i,e,r=null!=(n=null==(i=this.Srt)?void 0:i.YK.Vg)?n:null==(e=this.Ert)?void 0:e.YK.Vg;void 0!==r&&r>0&&t.wG(r)}this.ist()},r.Tst=function(){var t=this.tN;t&&(t.eG&&(t.eG.tx=this.EC.mx),t.iG&&(t.iG.tx=this.EC.mx))},r.Est=function(){var t=this.tN;t&&(t.eG&&(t.eG.sx=this.EC.sx),t.iG&&(t.iG.sx=this.EC.sx))},r.$st=function(t,n,i){if(!this.tN)throw new v("Invalid state");this.tN.iG?this.uG&&this.uG.z9(this.tN.iG)||(this.uG=new jM(fm.dl,this.tN.iG,this.X9,this.V9)):this.uG=void 0,this.tN.eG?this.oG&&this.oG.z9(this.tN.eG)||(this.oG=new jM(fm.ll,this.tN.eG,this.X9,this.V9)):this.oG=void 0;var e,r,s,u,o,a,h,c,f,d,l,w,_,g,y=t&&n&&VB(t,n);if(this.oG&&n){var m=y&&this.uG?[this.oG,this.uG]:[this.oG];this.Crt?this.Crt.y$!==n&&(i&&(this.Crt.Vs(),this.Crt.v9.Cu()),this.Crt.j5(n)):(this.Crt=(e=n,r=m,this.$R,s=this.s6,u=this.wE,o=this.F4,a=this.z6,h=this.c9,c=this.EC,f=new bM,d=new yM(fm.ll,e,s,f,u,o,a),l=r.map(function(t){return t.vs}),w=h.sut(e,f,s.z$.qS,l),(_=new CM(d,f,w,c)).f9(r),_),this.Crt.A9.Js(lM.x5,this.ast),this.Crt.b9.Js(AM.X8,this.Ist),this.Crt.b9.Js(AM.V8,this.Rst)),this.Crt.f9(m)}else{var k;null==(k=this.Crt)||k.xs(),this.Crt=void 0}this.uG&&t&&!y?(this.Drt?this.Drt.y$!==t&&(i&&(this.Drt.Vs(),this.Drt.v9.Cu()),this.Drt.j5(t)):(this.Drt=function(t,n,i,e,r,s,u,o,a){var h=new bM,c=new yM(fm.dl,t,e,h,r,s,u),f=o.sut(t,h,e.z$.qS,[n.vs]),v=new CM(c,h,f,a);return v.f9([n]),v}(t,this.uG,this.$R,this.s6,this.wE,this.F4,this.z6,this.c9,this.EC),this.Drt.A9.Js(lM.x5,this.ast),this.Drt.b9.Js(AM.X8,this.Ist),this.Drt.b9.Js(AM.V8,this.Rst)),this.Drt.f9([this.uG])):(null==(g=this.Drt)||g.xs(),this.Drt=void 0);this.uut()},r.tut=function(t,n){this.Ort&&(this.Ort.A9.y$===t?n&&(this.Ort.Vs(),this.Ort.v9.Cu()):(this.Ort.xs(),this.Ort=void 0));if(!this.Ort&&t){var i=this._rt.get(t.L_);i.q_=Bg.z_,this.Ort=function(t,n,i,e,r,s){var u=i.z$.qS,o=new SM(n,u),a=new bM,h=new yM(fm.$n,t,i,a,e,r,s),c=new DM(t,a,u,fm.$n),f=new CM(h,a,c);return f.d9(o),f}(t,i,this.s6,this.wE,this.F4,this.z6)}},r.uut=function(){var t=[this.uG,this.oG].filter(H).map(function(t){return t.vs});this.s6.z$.qS.v4(t)},r.cj=function(t,n,i){var e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(We.all(t.map(function(t){return t.catch(J)})));case 2:return au(i),r.next=5,Lr.awrap(this.wst());case 5:au(i),this.qrt=void 0,this.Qrt=void 0,this.Yrt=!0,e=this.out.HD(n),this.$R.xu(e),this.mrt&&this.nut.length>0&&(this.aut(this.$R.Xg),this.iut());case 12:case"end":return r.stop()}},null,this,null,We)},r.aut=function(t){for(var n=0,i=this.nut;n<i.length;n++){var e=i[n];e.J5(t)||(e.k9(),e.v9.N8()),e.g9(t)||(e.p9(),e.v9.D8())}},r.lst=function(){for(var t=0,n=this.nut;t<n.length;t++){n[t].Vs()}},r.wst=function(){return We.all([this.hut(),this.cut(),this.fut()])},r.iut=function(){this.vut(),this.lut(),this.wut()},r.jst=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.mrt&&this.nut.length>0)){t.next=6;break}return this.nut.forEach(function(t){return t.k9()}),t.next=4,Lr.awrap(this.hut());case 4:this.vut(),this.nut.forEach(function(t){return t.A9.r8()});case 6:case"end":return t.stop()}},null,this,null,We)},r.vut=function(){var t=this;if(!this.Frt){var n=function(){t.Frt=void 0};this.xrt=new su,this.Frt=this._ut(this.xrt.Ws).catch(this.dst).then(n,n)}},r.hut=function(){var t,n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.xrt)||t.Vs(),n=this.Frt,this.Frt=void 0,!n){i.next=6;break}return i.next=6,Lr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r._ut=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:au(t),n=this.nut;case 2:for(i=[],e=this.$R.Xg,r=0;r<n.length;r++)s=n[r],u=s.A9,o=s.w9(e),u.D6?i.push(u.O6()):s.m9(e,o,this.EC.mx)&&((a=u.K5(o))?(c=a[0],f=a[1],u.c8(c,f,s.k6)):((h=u.y$.YK.eK).length&&h[0].Wm>o&&(this.Xg=1/0),u.o8(),u.i8(o)),i.push(u.O6()));if(0!==i.length){v.next=13;break}if(!n.every(function(t){return t.A9.m8})){v.next=9;break}return v.abrupt("break",17);case 9:return v.next=11,Lr.awrap(this.$R.fu(Nf.Xf,t));case 11:v.next=15;break;case 13:return v.next=15,Lr.awrap(fu(We.race(i),t));case 15:v.next=2;break;case 17:case"end":return v.stop()}},null,this,null,We)},r.lut=function(){var t=this;if(!this.Hrt){var n=function(){t.Hrt=void 0};this.Mrt=new su,this.Hrt=this.gut(this.Mrt.Ws).catch(this.dst).then(n,n)}},r.cut=function(){var t,n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Mrt)||t.Vs(),n=this.Hrt,this.Hrt=void 0,!n){i.next=6;break}return i.next=6,Lr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.gut=function(t){var n,i,e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:au(t),n=this.nut;case 2:for(i=[],e=0;e<n.length;e++)r=n[e],s=r.A9,(u=r.b9).D6?i.push(u.O6()):(o=s.Q5())?"l8"===o.vs?(u.J8(o),i.push(u.O6())):"G1"===o.vs&&(u.Q8(o),i.push(u.O6())):i.push(s.s8());if(0!==i.length){a.next=12;break}if(!n.every(function(t){return t.A9.m8})){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Lr.awrap(this.$R.fu(Nf.Xf,t));case 10:a.next=14;break;case 12:return a.next=14,Lr.awrap(fu(We.race(i),t));case 14:a.next=2;break;case 16:case"end":return a.stop()}},null,this,null,We)},r.wut=function(){var t=this;if(!this.Xrt){this.Urt=new su;var n=function(){t.Xrt=void 0};this.Xrt=this.yut(this.Urt.Ws).catch(this.dst).then(n,n)}},r.fut=function(){var t,n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Urt)||t.Vs(),n=this.Xrt,this.Xrt=void 0,!n){i.next=6;break}return i.next=6,Lr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.yut=function(t){var n,i,e,r,s,u,o,a,h,c,f,v,d,l=this;return Lr.async(function(w){for(;;)switch(w.prev=w.next){case 0:for((n=this.nut).forEach(function(t){return t.l9()}),i=[],e=[],r=[],s=0;s<n.length;s++)for(u=n[s],o=u.b9,a=0,h=u.T9;a<h.length;a++)c=h[a],f=c.R6?i:e,c.D6?f.push(c.O6()):c.P6(this.$R.Xg)||((v=o.i9(c.vs))?"l8"===v.vs&&v.Y1===this.Lrt?(c.U6(v),f.push(c.O6())):"s9"===v.vs&&v.Y1===this.Lrt&&(c.GV(v),f.push(c.O6())):r.push(o.e9(c.vs)));if(0!==i.length){w.next=15;break}if(!((d=Js(n,function(t){return t.T9.filter(function(t){return t.R6}).map(function(n){return t.b9.i9(n.vs)})})).length>0&&d.every(function(t){return void 0!==t&&"s9"===t.vs&&t.Y1!==l.Lrt}))){w.next=15;break}return w.next=12,Lr.awrap(function(){var i,e,r,s,u,o,a,h,c,f;return Lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=$s(i=d,function(t){return t.Y1}).Y1,!i.every(function(t){return t.Y1===e})){v.next=20;break}return r=Ks(i,function(t){return t.Wm}).Wm,v.next=7,Lr.awrap(l.mut(i));case 7:if(s=v.sent,!l.tN.OF(s)){v.next=15;break}return aL.M$("Discontinuity","Seamless switch from",l.tN.uc,"to",s),v.next=12,Lr.awrap(l.tN.PF(s));case 12:aL.M$("Discontinuity","Seamless switch complete."),v.next=17;break;case 15:return v.next=17,Lr.awrap(l.kut(r,s,t));case 17:l.Lrt=i[0].Y1,v.next=21;break;case 20:for(u=0;u<n.length;u++)for(o=n[u],a=0,h=o.T9;a<h.length;a++)for(c=h[a],f=o.b9.i9(c.vs);f&&f.Y1!==e;)o.b9.x6(f),f=o.b9.i9(c.vs);case 21:return v.abrupt("return","continue");case 22:case"end":return v.stop()}},null,null,null,We)}());case 12:if("continue"!==w.sent){w.next=15;break}return w.abrupt("continue",0);case 15:if(0!==i.length||0!==e.length||0!==r.length){w.next=19;break}return n.every(function(t){return t.T9.length>0&&t.T9.every(function(t){return t.P6(l.$R.Xg)})})&&this.tN.lz(),w.abrupt("break",23);case 19:return w.next=21,Lr.awrap(fu(We.race([].concat(i,e,r)),t));case 21:w.next=0;break;case 23:case"end":return w.stop()}},null,this,null,We)},r.mut=function(t){var n,i,e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.map(function(t){return t.u9.VX}),i=n.map(function(t){return{Nd:t}}),(e=Js(t,function(t){return t.u9.F1})).push.apply(e,this.s6.z$.N4),r=this.u6.contentProtection,u.next=7,Lr.awrap(XL(r,n,e,this.wE));case 7:return 0===(s=u.sent).length&&this.tN&&this.tN.uc.DN.length>0&&(s=this.tN.uc.DN),u.abrupt("return",{vs:vA.TE,mG:i,DN:s});case 10:case"end":return u.stop()}},null,this,null,We)},r.kut=function(t,n,i){var e,r,s,u,o,a;return Lr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=this.tN,s=r.Vg,!(u=this.Xg<t)){h.next=19;break}h.prev=4,aL.M$("Discontinuity","Marking end of stream and waiting for ended to switch discontinuity."),r.lz();case 7:if(this.$R.zg||!(this.$R.Xg<t)){h.next=12;break}return h.next=10,Lr.awrap(this.$R.fu([Nf.Xf,Nf.mf],i));case 10:h.next=7;break;case 12:h.next=19;break;case 14:throw h.prev=14,h.t0=h.catch(4),r.oz(),r.wG(s),h.t0;case 19:return aL.M$("Discontinuity","Perform hard switch from",null==(e=this.tN)?void 0:e.uc,"to",n),h.prev=20,this.Xg<t&&(this.Xg=t),this.$R.Tj(),this.oG=void 0,this.uG=void 0,this.uut(),h.next=28,Lr.awrap(this.$R.A_());case 28:return h.next=30,Lr.awrap(this.$R.Qh(n));case 30:this.tN=h.sent,this.gG(),this.Tst(),this.Est(),this.tN.eG&&(this.oG=new jM(fm.ll,this.tN.eG,this.X9,this.V9)),this.tN.iG&&(this.uG=new jM(fm.dl,this.tN.iG,this.X9,this.V9)),this.uut();case 37:return h.prev=37,u&&_u(this.$R.Ly()),this.$R.Sj(),h.finish(37);case 41:this.Crt&&(o=void 0!==this.uG&&void 0===this.Drt,a=o?[this.oG,this.uG]:[this.oG],this.Crt.f9(a)),this.Drt&&this.Drt.f9([this.uG]),aL.M$("Discontinuity","Hard switch complete.");case 44:case"end":return h.stop()}},null,this,[[4,14],[20,,37,41]],We)},r.Aut=function(t){return fu(gu(Js(this.nut,function(t){return t.T9.map(function(t){return t.O6()})})),t)},r.Il=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return aL.vT(TF,"Unloading the player."),this.but(),this.Lst(),t.next=5,Lr.awrap(this.A_());case 5:return this.$R.IN=void 0,this.yrt.Il(),t.next=9,Lr.awrap(this.sN.Il());case 9:return t.next=11,Lr.awrap(this.X9.Il());case 11:return t.next=13,Lr.awrap(this.V9.Il());case 13:this.Sy.Il(),this.Ey.Il(),this.Iy.Il(),this.drt.Il(),this.vrt.xs(),this.z6.xs();case 19:case"end":return t.stop()}},null,this,null,We)},r.A_=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return aL.vT(TF,"Resetting the player."),this.nu(TB.EK,this.handleBufferingErrorEvent),this.Lrt=-1,this.Art.Vs(),this.Art=new su,this._E.Vs(),this._E=new su,this.eY.Vs(),this.eY=new su,this.Prt.Vs(),this.Prt=new su,t=[this.prt,this.P5,this.iY,this.Brt].filter(H),n.next=14,Lr.awrap(We.all(t.map(function(t){return t.catch(J)})));case 14:return this.prt=void 0,this.P5=void 0,this.iY=void 0,this.Brt=void 0,this.Srt=void 0,this.Ert=void 0,this.Irt=void 0,this.Rrt=void 0,this.Nrt=[],this.Fst(void 0),this.lst(),n.next=27,Lr.awrap(this.wst());case 27:return this.Drt&&(this.Drt.xs(),this.Drt=void 0),this.Crt&&(this.Crt.xs(),this.Crt=void 0),this.Ort&&(this.Ort.xs(),this.Ort=void 0),this.uG=void 0,this.oG=void 0,this.tN=void 0,this.c9&&(this.c9.xs(),this.c9=void 0),this.s6&&(this.s6.xs(),this.s6=void 0),this.brt&&(this.Iy.jR(this.brt.Py),this.brt=void 0),n.next=38,Lr.awrap(this.sN.A_());case 38:return n.next=40,Lr.awrap(this.X9.A_());case 40:return n.next=42,Lr.awrap(this.V9.A_());case 42:return this.$R.HN(),n.next=45,Lr.awrap(this.$R.A_());case 45:this.u6=void 0,this.krt=void 0,this.mrt=!1,this.pC=1,this.aG=gS.dC(),this.qrt=void 0,this.jrt=void 0,this.Qrt=void 0,this.Yrt=!1,this.Zrt=!1,this.Jrt=!1,this.tst=0,this.drt.A_(),this.Tut(),this.Zs(new my(this.Xg,this.Q_));case 60:case"end":return n.stop()}},null,this,null,We)},r.Tut=function(){for(var t=0,n=this.Sy.b_;t<n.length;t++){n[t].Il()}for(var i=0,e=this.Ey.b_;i<e.length;i++){e[i].Il()}for(var r=0,s=this.Iy.b_;r<s.length;r++){s[r].Il()}this.Sy.A_(),this.Ey.A_(),this.Iy.A_(),this._rt.clear()},r.Dst=function(){this.drt.Js(SF,this.Qs),this.drt.Js(yy.Hg,this.lN),this.drt.Js(yy.Fg,this.cst),this.drt.Js(yy.Lg,this.vst),this.EC.Js("nx",this.bst),this.EC.Js("ux",this.Sst),this.$R.Js(EF,this.Qs),this.$R.Js(Nf.df,this.handleContentProtectionErrorEvent),this.$R.Js(Nf.gf,this.nst),this.$R.Js(Nf.mf,this.rst),this.$R.Js(Nf.If,this.sst),this.$R.Js(Nf.Rf,this.ust),this.$R.Js(Nf.Nf,this.ost),this.$R.Js(yy.a_,this.NE),this.$R.Js(Nf.Xf,this.zW),this.$R.Js(Nf.Bf,this.vG),this.$R.Js(Nf.Pf,this.dN),this.$R.Js(Nf.Vf,this.hst)},r.but=function(){this.drt.nu(SF,this.Qs),this.drt.nu(yy.Hg,this.lN),this.drt.nu(yy.Fg,this.cst),this.drt.nu(yy.Lg,this.vst),this.EC.nu("nx",this.bst),this.EC.nu("ux",this.Sst),this.$R.nu(EF,this.Qs),this.$R.nu(Nf.df,this.handleContentProtectionErrorEvent),this.$R.nu(Nf.gf,this.nst),this.$R.nu(Nf.mf,this.rst),this.$R.nu(Nf.If,this.sst),this.$R.nu(Nf.Rf,this.ust),this.$R.nu(Nf.Nf,this.ost),this.$R.nu(yy.a_,this.NE),this.$R.nu(Nf.Xf,this.zW),this.$R.nu(Nf.Bf,this.vG),this.$R.nu(Nf.Pf,this.dN),this.$R.nu(Nf.Vf,this.hst)},b(e,[{key:"Bst",get:function(){for(var t=[this.Srt,this.Ert].filter(H),n=0;n<t.length;n++){var i=t[n];if(!i.YK.Q1)return!1;var e=i.YK.eK,r=e[e.length-1];if(r&&r.Y1!==this.Lrt)return!1}return!0}},{key:"k$",get:function(){return this.Trt}},{key:"E$",get:function(){return this.Srt}},{key:"R$",get:function(){return this.Ert}},{key:"Ast",get:function(){return this.Irt}},{key:"Cy",get:function(){return this.Sy}},{key:"im",get:function(){return this.$R.im.qN()}},{key:"b$",get:function(){var t=[];if(this.Trt)for(var n=this.$R.Xg,i=0,e=this.nut;i<e.length;i++)for(var r=0,s=e[i].T9;r<s.length;r++){var u=s[r].L6(n);u&&!Ys(t,u)&&t.push(u)}return t}},{key:"um",get:function(){if(this.Trt){var t=this.$R.Xg;return this.Trt.d2(t)}},set:function(t){if(t&&this.Trt){var n=this.Trt.l2(t);void 0!==n&&(this.Xg=n)}}},{key:"Xg",get:function(){var t;return null!=(t=this.qrt)?t:this.$R.Xg},set:function(t){aL.vT(TF,"Seeking to "+t+" s."),this.qrt=t,this.Qrt=!0,this.Yrt=!0,this.Zs(new Dy(t)),this.eY.Vs(),this.mrt&&this.yst(t)}},{key:"Vg",get:function(){var t,n,i,e,r,s,u;return this.Bst?this.$R.Vg:null!=(t=null!=(n=null!=(i=null==(e=this.Srt)?void 0:e.YK.Vg)?i:null==(r=this.Ert)?void 0:r.YK.Vg)?n:null==(s=this.s6)?void 0:null==(u=s.r6)?void 0:u.YK.Vg)?t:1/0}},{key:"zg",get:function(){if(!this.Bst)return!1;if(this.jg&&this.mrt){var t,n,i=this.Xg,e=null==(t=this.Srt)?void 0:t.YK.Vg,r=null==(n=this.Ert)?void 0:n.YK.Vg;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this.$R.zg}},{key:"mu",get:function(){return this.nN}},{key:"Gg",get:function(){return this.iN}},{key:"By",get:function(){}},{key:"cm",get:function(){return!1}},{key:"fm",get:function(){return xr({},{vm:0,dm:0,lm:0,wm:0,_m:0,gm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.$R.jN(),{_m:this.tst,wm:this.EC.QL.PR})}},{key:"z$",get:function(){var t;return null==(t=this.s6)?void 0:t.z$}},{key:"Wg",get:function(){return this.$R.Wg},set:function(t){this.$R.Wg=t}},{key:"ym",get:function(){return this.Vrt},set:function(t){this.Vrt!==t&&(this.Vrt=t,this.Zs(t?new XM:new VM))}},{key:"qg",get:function(){return this.$R.qg}},{key:"Yg",get:function(){return this.$R.Yg},set:function(t){aL.vT(TF,"Setting playback rate to "+t+"."),this.$R.Yg=t}},{key:"mm",get:function(){return this.Sut.qN()}},{key:"Sut",get:function(){return this.$R.mm}},{key:"pm",get:function(){return this.eN},set:function(t){this.eN!==t&&(this.eN=t,this.xst())}},{key:"Q_",get:function(){var t=this.$R.Q_;return this.Zrt&&(t=w.max(ty.Cg,t)),t}},{key:"Am",get:function(){return this.out.qN()}},{key:"out",get:function(){var t=this.aG,n=[this.Srt,this.Ert].filter(H);if(t.T_>0&&n.some(function(t){return!t.YK.Q1})){var i=this.Sut,e=t.OD(t.T_-1);if(i.T_>0&&i.OD(i.T_-1)>e){var r=i.OD(i.T_-1),s=n.reduce(function(t,n){return t.zD(n.YK.H3)},new gS([0,1/0]));s.T_>0&&(r=w.min(r,s.OD(s.T_-1))),t=t.QD(new gS([e,r]))}}return t}},{key:"jg",get:function(){var t;return null!=(t=this.Qrt)?t:this.$R.jg}},{key:"QN",get:function(){}},{key:"Py",get:function(){return this.Iy}},{key:"Oy",get:function(){return this.Ey}},{key:"Qg",get:function(){return this.$R.Qg}},{key:"Zg",get:function(){return this.$R.Zg}},{key:"Jg",get:function(){return this.$R.Jg},set:function(t){aL.vT(TF,"Setting volume to "+t+"."),this.$R.Jg=t}},{key:"Tm",get:function(){return this.hN}},{key:"Sm",get:function(){return!1},set:function(t){}},{key:"ZN",get:function(){return this.aN}},{key:"nut",get:function(){return[this.Drt,this.Crt,this.Ort].filter(H)}}]),e}(Au),DF=function(){function t(){}return t.prototype.KN=function(n,i){var e;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(uy(n.type)){i.next=2;break}return i.abrupt("return",!1);case 2:if(!n.useNativePlayback){i.next=4;break}return i.abrupt("return",!1);case 4:if(!(e=n.contentProtection)||hb(e)){i.next=12;break}if(vb(e)){i.next=8;break}return i.abrupt("return",!1);case 8:return i.next=10,Lr.awrap(t.Eut(e));case 10:if(i.sent){i.next=12;break}return i.abrupt("return",!1);case 12:return i.abrupt("return",!0);case 13:case"end":return i.stop()}},null,null,null,We)},t.Eut=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.aes128){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t0=t.playready,!n.t0){n.next=7;break}return n.next=6,Lr.awrap(i.Dr());case 6:n.t0=n.sent;case 7:if(!n.t0){n.next=9;break}return n.abrupt("return",!0);case 9:if(n.t1=t.widevine,!n.t1){n.next=14;break}return n.next=13,Lr.awrap(i.Cr());case 13:n.t1=n.sent;case 14:if(!n.t1){n.next=16;break}return n.abrupt("return",!0);case 16:if(n.t2=t.clearkey,!n.t2){n.next=21;break}return n.next=20,Lr.awrap(i.Rr());case 20:n.t2=n.sent;case 21:if(!n.t2){n.next=23;break}return n.abrupt("return",!0);case 23:if(!t.fairplay){n.next=25;break}return n.abrupt("return",!1);case 25:return n.next=27,Lr.awrap(i.Er());case 27:if(!n.sent){n.next=29;break}return n.abrupt("return",!0);case 29:return n.abrupt("return",!1);case 30:case"end":return n.stop()}},null,null,null,We)},t}(),CF=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).yD=n,e}return S(n,t),n.prototype.Xst=function(){this.Zs(new Ly(this.Xg,this.Q_))},b(n,[{key:"Q_",get:function(){return this.yD.Q_}}]),n}(IA);function OF(t){var n=Vs(t,function(t){return t.jK}),e=t.filter(function(t){return t.QK}),r=i.Vr,s=e.map(function(t){return t.U_}).filter(H),u=UM(s,r);return u?Vs(e,function(t){return t.U_===u}):n}function PF(t,n,i){var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,s=function(n){var s=i[n],u=t.filter(function(t){return t.VX&&t.VX.HX&&OD(t.VX.HX,s)});if(0===u.length)return"continue";if(void 0===e)return{v:u};void 0===r&&(r=u);var o=BF(u,e);return void 0!==o?{v:o}:void 0},u=0;u<i.length;u++){var o=s(u);if("continue"!==o&&"object"==typeof o)return o.v}if(void 0!==r)return r}if(void 0!==e){var a=BF(t,e);if(void 0!==a)return a}return t}(t,n);switch(i.ix.type){case cR.BANDWIDTH:var r=i.kx,s=e.filter(function(t){return t.PR<=r});if(s.length>0)return $s(s,function(t){return t.PR});case cR.PERFORMANCE:return Ks(e,function(t){return t.PR});case cR.QUALITY:return $s(e,function(t){return t.PR})}}function BF(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return t.VX&&t.VX.XX&&OD(t.VX.XX,e)});return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("continue"!==r&&"object"==typeof r)return r.v}}function LF(t){var n;return null!=(n=OF(t))?n:t[0]}function xF(t){return t.filter(function(t){return t.q$.some(function(t){return t.YK.W3<i.er()-RF})||0===t.q$.length})}var MF=function(){function t(){}var i=t.prototype;return i.G6=function(t,i,e){var r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Lr.awrap(crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]));case 3:return r=u.sent,u.next=6,Lr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:e},r,t));case 6:return s=u.sent,u.abrupt("return",new m(s));case 10:throw u.prev=10,u.t0=u.catch(0),new hf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 13:case"end":return u.stop()}},null,null,[[0,10]],We)},i.xs=function(){},t.mc=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}(),UF=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return S(n,t),n}(Tu),FF=["message","messageerror","error"],HF=function(t){function n(n){var i;return(i=t.call(this,Lg.G_)||this).error=n,i}return S(n,t),n}(Tu),XF=function(t){function n(n){var i;return(i=t.call(this)||this).Iut=void 0,i.Rut=void 0,i.Nut=[],i.Dut=function(t){if(i.Cut)t.Out();else{i.Iut=t,i.Iut.Js(FF,i.Qs);for(var n=0,e=i.Nut;n<e.length;n++){var r=e[n];t.Put(r.wu,r.But)}Qs(i.Nut)}},i.Lut=function(t){if(!i.Cut){var n=t instanceof v?t:new v("Could not create Worker.");i.Zs(new HF(n)),i.Out()}},i.Rut=new su,n(i.Rut.Ws).then(i.Dut,i.Lut),i}S(n,t);var i=n.prototype;return i.Put=function(t,n){this.Cut||(void 0!==this.Iut?this.Iut.Put(t,n):this.Nut.push({wu:t,But:n}))},i.Out=function(){this.Cut||(this.Rut.Vs(),Qs(this.Nut),void 0!==this.Iut&&this.Iut.Out())},b(n,[{key:"Cut",get:function(){return this.Rut.Ws.Cs}}]),n}(Au);var VF=function(t){function n(n){var i;return(i=t.call(this)||this).Iut=void 0,i.xut=function(t){i.Zs(new UF("message",t.data))},i.Mut=function(t){i.Zs(new UF("messageerror",t.data))},i.XY=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof v?t.error:new v(t.message);i.Zs(new HF(n)),i.Out()},i.Iut=new k(n),i.Iut.addEventListener("message",i.xut),i.Iut.addEventListener("messageerror",i.Mut),i.Iut.addEventListener("error",i.XY),i}S(n,t);var i=n.prototype;return i.Put=function(t,n){n?this.Iut.postMessage(t,n):this.Iut.postMessage(t)},i.Out=function(){this.tu(),this.Iut.removeEventListener("message",this.xut),this.Iut.removeEventListener("messageerror",this.Mut),this.Iut.removeEventListener("error",this.XY),this.Iut.terminate()},n}(Au),zF=0,GF="iframe.html",WF=function(n){function e(e,r){var u;(u=n.call(this)||this).Bh=void 0,u.Uut=void 0,u.Fut=void 0,u.Hut=void 0,u.Xut=function(){u.Fut.removeEventListener("load",u.Xut),u.Fut.contentWindow.postMessage({type:"initialize",id:u.Bh,script:u.Uut},"*")},u.Vut=function(t){t.origin===u.Hut&&t.data.id===u.Bh&&("initialized"===t.data.type||("error"===t.data.type?(u.Zs(new HF(new v(t.data.data.message))),u.Out()):u.Zs(new UF("message",t.data.data))))},u.Bh=zF++,u.Uut=e;var o,a,h=i.Br(GF,r);return u.Fut=(o=h.href,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.Hut=h.origin,u.Fut.addEventListener("load",u.Xut),t.addEventListener("message",u.Vut),u}S(e,n);var r=e.prototype;return r.Put=function(t,n){n?this.Fut.contentWindow.postMessage({type:"message",data:t},"*",n):this.Fut.contentWindow.postMessage({type:"message",data:t},"*")},r.Out=function(){var n;this.Fut.removeEventListener("load",this.Xut),t.removeEventListener("message",this.Vut),null==(n=this.Fut.contentWindow)||n.postMessage({type:"terminate"},"*"),tr(this.Fut)},e}(Au);function qF(t,n){return t=i.Lr(t,n),new XF(function(e){return function(t,n,e){var r,s,u,o,a,h,c,f;return Lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,r=new VF(t),v.next=4,Lr.awrap(ZF(r,e));case 4:return v.abrupt("return",r);case 7:v.prev=7,v.t0=v.catch(0),null==(s=r)||s.Out(),hu(v.t0);case 11:if(!QF||!If){v.next=42;break}return v.prev=12,v.next=15,Lr.awrap(i.Xw.qd({jd:t,_l:uw.GET,zd:Df.$n,Ws:e}));case 15:return o=v.sent,v.next=18,Lr.awrap(o.Sd(e));case 18:u=v.sent,v.next=24;break;case 21:v.prev=21,v.t1=v.catch(12),hu(v.t1);case 24:if(!u){v.next=42;break}return v.prev=25,h=If([u],{type:"application/javascript"}),a=URL.createObjectURL(h),r=new VF(a),v.next=31,Lr.awrap(ZF(r,e));case 31:return v.abrupt("return",r);case 34:v.prev=34,v.t2=v.catch(25),null==(c=r)||c.Out(),hu(v.t2),QF=!1;case 39:return v.prev=39,a&&URL.revokeObjectURL(a),v.finish(39);case 42:return v.prev=42,r=new WF(t,n),v.next=46,Lr.awrap(ZF(r,e));case 46:return v.abrupt("return",r);case 49:throw v.prev=49,v.t3=v.catch(42),null==(f=r)||f.Out(),v.t3;case 53:case"end":return v.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],We)}(t,n,e)})}var YF,jF,QF=!0;function ZF(t,i){var e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(t.fu(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw u=e.error,new hf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",u);case 5:if(W(s=e.data)&&"4.6.0"===s.zut){r.next=7;break}throw new hf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (4.6.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s,u},null,null,null,We)}!function(t){t.Gut="G6",t.Wut="g5"}(YF||(YF={})),function(t){t.qut="Yut",t.jut="Qut"}(jF||(jF={}));var JF=function(){function t(t){var e=this;this.Zut=void 0,this.Jut=void 0,this.Iut=void 0,this.Kut=0,this.$ut=Ur(),this.tot=function(t){var i=t.data,r=i.iot,s=e.$ut.get(r);s&&(e.$ut.delete(r),i.eot===jF.qut?s.Wu(i.rot):i.eot===jF.jut&&s.Yu(new hf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")))},this.hw=function(t){var i=new hf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);e.xs(i)},this.Zut=t;try{this.Jut=i.Lr("theoplayer.d.js",t)}catch(t){throw new hf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var e=t.prototype;return e.uot=function(){var t=qF(this.Jut,this.Zut);return t.Js("message",this.tot),t.Js("error",this.hw),t},e.G6=function(t,n,i){var e=""+ ++this.Kut,r={oot:YF.Gut,aot:e,hot:t,cot:n,fot:i},s=new Ko;return this.$ut.set(e,s),null!=this.Iut||(this.Iut=this.uot()),this.Iut.Put(r),s.Xu},e.xs=function(t){void 0===t&&(t=new uu),this.$ut.forEach(function(n){return n.Yu(t)}),this.$ut.clear(),this.Iut&&(this.Iut.Out(),this.Iut=void 0)},t}();function KF(t,n){if(void 0===n.vot)return{XX:void 0,HX:t};if(void 0===n.dot)return{XX:t,HX:void 0};for(var i=Oc(t),e=tH(i),r=tH(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];eD(u)&&(e.boxes[s]=rH(u,n.dot),r.boxes[s]=rH(u,n.vot))}var o=e.serialize().join(),a=r.serialize().join();return{XX:o,HX:a}}function $F(t){var n=Vs(t.boxes,nD);if(n){var i=Vs(n.boxes,iD);if(i)return i.handlerType}}function tH(t){var n,i=new Ec;return(n=i.boxes).push.apply(n,t.boxes),i}function nH(t){var n,i=new Hh;return(n=i.boxes).push.apply(n,t.boxes),i}var iH=8;function eH(t,n){for(var i=function(t){var n,i=new Kh;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=sH(n),r=0;r<i.boxes.length;r++){var s=i.boxes[r];if(s===n)i.boxes[r]=new vh(new m(n.getSize()-iH));else if(s instanceof Hh){var u=s,o=Gs(u.boxes,function(t){return t instanceof Uh&&t.trackId===e});if(o>=0){var a=u.boxes[o],h=nH(u);h.boxes[o]=new vh(new m(a.getSize()-iH)),i.boxes[r]=h}}}return i}function rH(t,n){for(var i=function(t){var n,i=new cc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof ac){var s=Vs(r.boxes,rD);s&&s.trackId===n&&(i.boxes[e]=new vh(new m(r.getSize()-iH)))}}return i}function sH(t){return Vs(t.boxes,tD).trackId}function uH(t,n,i){for(var e=Vs(t.boxes,rD),r=!0,s=0,u=t.boxes;s<u.length;s++){var o=u[s];if(o instanceof ic)o.baseMediaDecodeTime=o.baseMediaDecodeTime.subtract(i.Ep(n).ip());else if(o instanceof nc)o.baseMediaDecodeTime-=i.Ik(n);else if(o instanceof uc&&o.samples.length>0&&r){r=!1;var a=o.samples;if(!o.flags.sampleDurationPresent){o.flags.sampleDurationPresent=!0;for(var h=e.defaultSampleDuration,c=0;c<a.length;c++){a[c].duration=h}}a[0].duration+=i.Ik(n),o.samples=a}}}function oH(t,n){var i=up(dp.Db(zo(t)),yk.DA);if(!i)throw new v("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=[],e=function(t,e){var r=e[t];if(!r.yS||0===r.gS.length||0===r.gS[0].TS.length)return"continue";for(var s=r.bb.rT,u=Vs(n.Wb,function(t){return t.rT===s}),o=0,a=1/0,h=0,c=r.bb.oS||0,f=0,v=r.gS;f<v.length;f++)for(var d=0,l=v[f].TS;d<l.length;d++){var w,_=l[d],g=_.SS||0,y=o+g,m=(o+=null!=(w=_.Vg)?w:c)+g;y<a&&(a=y),m>h&&(h=m)}var k=vk.Wk(r.yS.yS,u.pp);i.push({rT:s,lot:k,AJ:k.Im(vk.qk(a,u.pp)),wot:k.Im(vk.qk(o,u.pp)),_ot:k.Im(vk.qk(h,u.pp))})},r=0,s=t.Wb;r<s.length;r++)e(r,s);return i}(i,n)}var aH,hH=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,i,e,r,s)||this).Iw=void 0,u.got=void 0,u.yot=void 0,u.mot=void 0,u.kot=void 0,u.pot=0,u.Aot=0,u.bot=Fr(),u.Iw=n,u}S(i,t);var e=i.prototype;return e.Z8=function(n,i){return t.prototype.Z8.call(this,n,i)},e.Tot=function(t){var n;return this.bot.has(t.Y1)?n=this.bot.get(t.Y1):(n=qM(t.l8.Vi.Vi),this.bot.set(t.Y1,n)),n},e.K8=function(i,e){var r,s,u,o,a,h,c,f,v,d,l,w,_,g,y,m,k,p,A,b,T,S,E,I,R;return Lr.async(function(N){for(;;)switch(N.prev=N.next){case 0:if(au(e),s=this.Tot(i),u=i.l8,s===HM.F9||s===HM.U9){N.next=5;break}return N.abrupt("return",t.prototype.K8.call(this,i,e));case 5:if(!u.M6.F1.some(fH)){N.next=7;break}throw new hf(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");case 7:if(o=this.Iw.Sot(),s!==HM.F9){N.next=14;break}return N.next=11,Lr.awrap(o.Eot({data:u.Vi.Vi,metadata:this.got}));case 11:a=N.sent,N.next=17;break;case 14:return N.next=16,Lr.awrap(o.Iot({data:u.Vi.Vi,metadata:this.got}));case 16:a=N.sent;case 17:if(au(e),this.t9({XX:a.metadata.audio_codec,HX:a.metadata.video_codec,zX:void 0}),h=vk.Wk(ft.fromBits(a.metadata.first_decode_timestamp.low,a.metadata.first_decode_timestamp.high),a.metadata.first_decode_timestamp.base),c=vk.Wk(ft.fromBits(a.metadata.first_presentation_timestamp.low,a.metadata.first_presentation_timestamp.high),a.metadata.first_presentation_timestamp.base),u.M6.pJ=c,this.n9(),this._4.Q3(i.Y1)){N.next=30;break}for(f=vk.Op(u.M6.Wm),v=0,d=this.r9;v<d.length;v++)l=d[v],this._4.s4(i.Y1,l,h,f,!0);if(this.n9(),this._4.Q3(i.Y1)){N.next=30;break}return N.next=30,Lr.awrap(fu(this._4.Z3(i.Y1),e));case 30:if(w=this._4.r4(h,u.M6),this.got=a.metadata,_={R1:i.R1,o9:NM(u.M6),Wm:u.M6.Wm,Vg:null!=(r=u.M6.Vg)?r:0,Kp:w.Rk(),Y1:i.Y1,y$:i.y$,M6:u.M6},void 0!==a.data.audio_media||void 0!==a.data.video_media){N.next=36;break}for(g=0,y=this.r9;g<y.length;g++)m=y[g],k=xr({vs:"l8",Vi:void 0,o4:m},_),this.T8(k);return N.abrupt("return");case 36:p=[],void 0!==a.data.audio_media&&(!a.data.audio_init||this.yot&&this.pot===i.Y1&&Wu(this.yot,a.data.audio_init)||(A={vs:"s9",Vi:{vs:VN.qF,Vi:a.data.audio_init},o4:fm.dl,Y1:i.Y1,u9:{VX:'audio/mp4; codecs="'+a.metadata.audio_codec+'"',F1:u.M6.F1},Wm:u.M6.Wm,y$:i.y$,M6:u.M6},this.yot=a.data.audio_init,this.pot=i.Y1,this.T8(A)),b=xr({vs:"l8",Vi:{vs:VN.qF,Vi:a.data.audio_media},o4:fm.dl},_),this.T8(b)),void 0!==a.data.video_media&&(!a.data.video_init||this.mot&&this.Aot===i.Y1&&Wu(this.mot,a.data.video_init)||(T={vs:"s9",Vi:{vs:VN.qF,Vi:a.data.video_init},o4:fm.ll,Y1:i.Y1,u9:{VX:'video/mp4; codecs="'+a.metadata.video_codec+'"',F1:u.M6.F1},Wm:u.M6.Wm,y$:i.y$,M6:u.M6},this.mot=a.data.video_init,this.Aot=i.Y1,this.kot=yD(zo(a.data.video_init)),this.T8(T)),S=this.kot.Wb[0],E=oH(a.data.video_media,this.kot)[0],I=this.Rot(a.data.video_media,S,E,u.M6),this.Not=S,R=xr({vs:"l8",Vi:{vs:VN.qF,Vi:I},o4:fm.ll},_),this.T8(R),p.push(E)),this.Dot=u.M6,this.Cot=p;case 41:case"end":return N.stop()}},null,this,null,We)},e.Vs=function(){this.yot=void 0,this.mot=void 0,t.prototype.Vs.call(this)},i}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).FV=void 0,n.Oot=void 0,n.Dot=void 0,n.Cot=void 0,n.Not=void 0,n}S(n,t);var i=n.prototype;return i.Z8=function(t,n){au(n);var i=this.y$.vs,e=yD(zo(t.G1.Vi.Vi));if(!e)throw new v("Mp4Transmuxer - Unable to parse "+i+" MP4 initializer.");this.FV=e;var r=function(t){for(var n,i,e,r=0,s=t.Wb;r<s.length;r++){var u=s[r];n||(n=u.VX.XX),i||(i=u.VX.HX),e||(e=u.VX.zX)}if(n||i)return{XX:n,HX:i,zX:e};return}(e);r&&this.t9(r);var s=function(t){var n=Oc(t),i=Vs(n.boxes,KN),e=i.boxes.filter($N),r=Vs(e,function(t){return $F(t)===kh.AUDIO}),s=Vs(e,function(t){return $F(t)===kh.VIDEO}),u={vot:r?sH(r):void 0,dot:s?sH(s):void 0};if(!r||!s)return{XX:r?t:void 0,HX:s?t:void 0,JS:u};var o=tH(n),a=tH(n),h=n.boxes.indexOf(i);o.boxes[h]=eH(i,s),a.boxes[h]=eH(i,r);var c=o.serialize().join(),f=a.serialize().join();return{XX:c,HX:f,JS:u}}(t.G1.Vi.Vi);if(this.Oot=s.JS,s.HX){var u=Vs(e.Wb,function(t){return t.rT===s.JS.dot}),o={vs:"s9",Vi:{vs:VN.qF,Vi:s.HX},o4:fm.ll,Y1:t.Y1,u9:{VX:'video/mp4; codecs="'+u.VX.HX+'"',F1:t.F1},Wm:t.Wm,y$:this.y$,M6:t.G1.M6};this.T8(o)}if(s.XX){var a=Vs(e.Wb,function(t){return t.rT===s.JS.vot}),h={vs:"s9",Vi:{vs:VN.qF,Vi:s.XX},o4:fm.dl,Y1:t.Y1,u9:{VX:'audio/mp4; codecs="'+a.VX.XX+'"',F1:t.F1},Wm:t.Wm,y$:this.y$,M6:t.G1.M6};this.T8(h)}return We.resolve()},i.K8=function(t,n){var i,e,r,s,u,o,a,h,c,f,v,d,l,w,_,g,y,m,k,p;return Lr.async(function(A){for(;;)switch(A.prev=A.next){case 0:if(au(n),e=t.l8.M6,r=this.y$.vs,aL.vT("Mp4Transmuxer","Got media data, transmuxing for "+r+" track: "+LB(e.t$)),s=t.l8.Vi,(u=oH(s.Vi,this.FV)).length>0&&(o=tu(u.map(function(t){return t.AJ}),dk),e.pJ=o,this.n9()),this._4.Q3(t.Y1)){A.next=13;break}if(a=vk.Op(e.Wm),u.length>0){for(h=tu(u.map(function(t){return t.lot}),dk),c=0,f=this.r9;c<f.length;c++)v=f[c],this._4.s4(t.Y1,v,h,a,!1);this.n9()}if(this._4.Q3(t.Y1)){A.next=13;break}return A.next=13,Lr.awrap(fu(this._4.Z3(t.Y1),n));case 13:d=this._4.n4(t.Y1),l={R1:t.R1,o9:NM(e),Wm:e.Wm,Vg:null!=(i=e.Vg)?i:0,Kp:d.Rk(),Y1:t.Y1,y$:t.y$,M6:t.l8.M6},(w=KF(s.Vi,this.Oot)).HX&&(_=this.Oot.dot,g=Vs(this.FV.Wb,function(t){return t.rT===_}),y=Vs(u,function(t){return t.rT===_}),m=this.Rot(w.HX,g,y,e),this.Not=g,k=xr({vs:"l8",Vi:{vs:VN.qF,Vi:m},o4:fm.ll},l),this.T8(k)),w.XX&&(p=xr({vs:"l8",Vi:{vs:VN.qF,Vi:w.XX},o4:fm.dl},l),this.T8(p)),this.Dot=e,this.Cot=u;case 20:case"end":return A.stop()}},null,this,null,We)},i.Rot=function(t,n,i,e){if(!function(t){return Sx(t)?t.z1:0===t.S2&&t.T2.z1}(e))return t;if(!this.Dot||!this.Not||!this.Cot)return t;var r=this.Not.rT,s=Vs(this.Cot,function(t){return t.rT===r}),u=this._4.i4(s._ot,this.Dot),o=this._4.i4(i.AJ,e).Fk(u).Ep(n.pp);if(o.Pk(vk.jk))return t;if(o.Nk(vk.Op(.5)))return t;var a=Sx(e)?e:e.T2;return aL.M$("Mp4Transmuxer","Stretching first video frame of segment #"+a.R1+" to fill gap of "+o.Rk()+"s"),function(t,n,i){var e=Oc(t),r=Vs(e.boxes,eD);if(r){for(var s=r.getSize(),u=0,o=r.boxes;u<o.length;u++){var a=o[u];a instanceof ac&&uH(a,n,i)}var h=r.getSize();if(h!==s)for(var c=h-s,f=0,v=r.boxes;f<v.length;f++){var d=v[f];d instanceof ac&&sD(d,c)}}return e.serialize().join()}(t,n.pp,o)},n}(RM)),cH=function(){function t(){}return t.prototype.sut=function(t,n,i,e){return new hH(this,t,n,i,e)},t}();function fH(t){return t._l===OB.GK}!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(aH||(aH={}));var vH=function(){function t(t){var e=this;this.Zut=void 0,this.Jut=void 0,this.Pot=void 0,this.Iut=void 0,this.Kut=0,this.$ut=Fr(),this.Bot=0,this.tot=function(t){var n=t.data;if(void 0!==n.requestId){var i=e.$ut.get(n.requestId);if(!i)return;e.$ut.delete(n.requestId),n.success?i.Wu(n.output):i.Yu(new hf(n.errorCode,n.error))}else n.success||e.xs(new hf(n.errorCode,n.error))},this.hw=function(t){var i=new hf(n.ErrorCode.MEDIA_DECODE_ERROR,t.error.message,t.error);e.xs(i)},this.Zut=t,this.Pot=function(){if("undefined"==typeof WebAssembly)return!1;var t=M.yn;return!(t>0&&t<=56)}();var r=this.Pot?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.Jut=i.Lr(r,t)}catch(t){throw new hf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.Iut=this.uot()}var e=t.prototype;return e.Eot=function(t){return this.Lot(aH.MPEGTS_TO_FMP4,t)},e.Iot=function(t){return this.Lot(aH.RAW_AUDIO_TO_FMP4,t)},e.uot=function(){var t=qF(this.Jut,this.Zut);return t.Js("message",this.tot),t.Js("error",this.hw),t},e.Lot=function(t,n){var i=++this.Kut;this.Bot+=1;var e={type:t,id:i,input:n},r=new Ko;return this.$ut.set(i,r),this.Iut.Put(e,[n.data.buffer]),r.Xu},e.xs=function(t){void 0===t&&(t=new uu),this.$ut.forEach(function(n){return n.Yu(t)}),this.$ut.clear(),this.Iut.Out()},t}(),dH=function(t){function n(n){var i;return(i=t.call(this)||this).Iut=void 0,i.xot=n,i}S(n,t);var i=n.prototype;return i.Sot=function(){var t;return null!=(t=this.Iut)?t:this.Iut=new vH(this.xot)},i.xs=function(){this.Iut&&(this.Iut.xs(),this.Iut=void 0)},n}(cH),lH=function(){function t(t){this.xot=t}return t.prototype.TJ=function(){return new dH(this.xot)},t}(),wH=function(){function t(t){this.xR=void 0,this.xR=t}var n=t.prototype;return n.SN=function(t){return this.xR.SN(t)},n.fK=function(t){return this.xR.fK(t)},n.zN=function(t){return this.xR.zN(t)},t}(),_H=function(t){function n(n){var i;return(i=t.call(this)||this).$R=void 0,i.tN=void 0,i.Mot=new zg,i.Uot=function(t){return i.Jy(t)},i.$R=n,i.Mot.D_=n.Py,i.$R.Js(BN,i.Uot),i}S(n,t);var i=n.prototype;return i.Nx=function(){return this.$R.im},i.Cx=function(){return this.$R.um},i.Px=function(){return this.$R.Xg},i.Lx=function(){return this.$R.Vg},i.Fot=function(){return this.$R.QN},i.Hot=function(){return this.$R.zg},i.Xot=function(){return this.$R.qg},i.Yx=function(){return this.$R.mm},i.Zx=function(){return this.$R.Q_},i.Jx=function(){return this.$R.Am},i.Kx=function(){return this.$R.jg},i.$x=function(){return this.Mot},i.rQ=function(){return this.$R.BU},i.Vot=function(){return this.$R.IN},i.zot=function(t){this.$R.IN=t},i.Got=function(t){this.$R.Cj=t},i.Wot=function(){return this.$R.Hq},i.jN=function(){return this.$R.jN()},i.Ly=function(){return this.$R.Ly()},i.xy=function(){this.$R.xy()},i.xu=function(t,n){this.$R.xu(t,n)},i.YN=function(t){this.$R.YN(t)},i.qy=function(){this.$R.qy()},i.Yy=function(){this.$R.Yy()},i.yE=function(t,n,i,e,r,s,u){return this.$R.yE(t,n,i,e,r,s,u)},i.LN=function(){return this.$R.LN()},i.MN=function(t,n,i,e){return this.$R.MN(t,n,i,e)},i.pE=function(t){this.$R.pE(t)},i.HN=function(){this.$R.HN()},i.HF=function(t){return this.$R.HF(t)},i.Qh=function(t){var n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lr.awrap(this.$R.Qh(t));case 2:return n=e.sent,i=t.vs===vA.bE?this.qot(n):this.Yot(n),this.tN=i,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,this,null,We)},i.A_=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.tN){t.next=4;break}return t.next=3,Lr.awrap(this.tN.xs());case 3:this.tN=void 0;case 4:return t.next=6,Lr.awrap(this.$R.A_());case 6:case"end":return t.stop()}},null,this,null,We)},i.Tj=function(){this.$R.Tj()},i.Sj=function(){this.$R.Sj()},i.xs=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.tu(),this.$R.nu(BN,this.Uot),this.Mot.D_=void 0,this.Mot.Il(),!this.tN){t.next=8;break}return t.next=7,Lr.awrap(this.tN.xs());case 7:this.tN=void 0;case 8:case"end":return t.stop()}},null,this,null,We)},i.Ej=function(){this.$R.Ej()},i.jot=function(t){this.$R.nu(BN,this.Uot),this.$R=t,this.Mot.D_=t.Py,this.$R.Js(BN,this.Uot)},i.Jy=function(t){this.Zs(t)},b(n,[{key:"Qot",get:function(){return this.$R}},{key:"im",get:function(){return this.Nx()}},{key:"um",get:function(){return this.Cx()}},{key:"Xg",get:function(){return this.Px()}},{key:"OU",get:function(){return this.$R.OU}},{key:"Vg",get:function(){return this.Lx()}},{key:"QN",get:function(){return this.Fot()}},{key:"zg",get:function(){return this.Hot()}},{key:"mu",get:function(){return this.$R.mu}},{key:"oT",get:function(){return this.$R.oT}},{key:"Ek",get:function(){return this.$R.Ek}},{key:"FN",get:function(){return this.$R.FN}},{key:"Wg",get:function(){return this.$R.Wg},set:function(t){this.$R.Wg=t}},{key:"qg",get:function(){return this.Xot()}},{key:"Yg",get:function(){return this.$R.Yg},set:function(t){this.$R.Yg=t}},{key:"mm",get:function(){return this.Yx()}},{key:"Q_",get:function(){return this.Zx()}},{key:"Am",get:function(){return this.Jx()}},{key:"jg",get:function(){return this.Kx()}},{key:"Py",get:function(){return this.$x()}},{key:"BU",get:function(){return this.rQ()}},{key:"Nj",get:function(){return this.$R.Nj}},{key:"Jg",get:function(){return this.$R.Jg},set:function(t){this.$R.Jg=t}},{key:"Ij",get:function(){return this.$R.Ij}},{key:"cm",get:function(){return this.$R.cm}},{key:"Dj",get:function(){return this.$R.Dj}},{key:"IN",get:function(){return this.Vot()},set:function(t){this.zot(t)}},{key:"Cj",get:function(){return this.$R.Cj},set:function(t){this.Got(t)}},{key:"Hq",get:function(){return this.Wot()}}]),n}(Au),gH=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Rj=function(t){this.$R.Rj(t)},i.nj=function(){this.$R.nj()},i.nm=function(){this.$R.nm()},b(n,[{key:"EN",get:function(){return this.$R.EN}},{key:"IG",get:function(){return this.$R.IG}},{key:"Sm",get:function(){return this.$R.Sm},set:function(t){this.$R.Sm=t}}]),n}(_H),yH=function(){function t(t){this.tN=void 0,this.tN=t}var n=t.prototype;return n.wc=function(){return this.tN.uc},n.Jx=function(){return this.tN.Am},n.OF=function(t){return this.tN.OF(t)},n.PF=function(t){return this.tN.PF(t)},n.xs=function(){return We.resolve()},b(t,[{key:"uc",get:function(){return this.wc()}},{key:"Am",get:function(){return this.Jx()}},{key:"Oy",get:function(){return this.tN.Oy}}]),t}(),mH=function(t){function n(n){var i;return(i=t.call(this,n)||this).uG=void 0,i.oG=void 0,i.Zot=function(t){return i.Jot(t)},i}S(n,t);var i=n.prototype;return i.Nx=function(){return this.tN.im},i.Lx=function(){return this.tN.Vg},i.Kot=function(){return this.tN.XF},i.wG=function(t){this.tN.wG(t)},i.yG=function(t,n,i,e){this.tN.yG(t,n,i,e)},i.lz=function(){this.tN.lz()},i.oz=function(){this.tN.oz()},i.xs=function(){return this.uG&&(this.uG.xs(),this.uG=void 0),this.oG&&(this.oG.xs(),this.oG=void 0),t.prototype.xs.call(this)},i.$ot=function(t){this.tN=t,this.uG?t.iG?this.uG.C6(t.iG):(this.uG.xs(),this.uG=void 0):t.iG&&(this.uG=this.nat(t.iG),this.uG.Js(GN,this.Zot)),this.oG?t.eG?this.oG.C6(t.eG):(this.oG.xs(),this.oG=void 0):t.eG&&(this.oG=this.nat(t.eG),this.oG.Js(GN,this.Zot))},i.Jot=function(t){},b(n,[{key:"iG",get:function(){return this.uG}},{key:"eG",get:function(){return this.oG}},{key:"im",get:function(){return this.Nx()}},{key:"Vg",get:function(){return this.Lx()}},{key:"XF",get:function(){return this.Kot()}}]),n}(yH),kH=function(t){function n(n){var i;return(i=t.call(this)||this).Pc=void 0,i.hx=0,i.vx=0,i.Pc=n,i}S(n,t);var i=n.prototype;return i.XV=function(t,n,i){return We.reject(new v("Invalid media buffer"))},i.Az=function(){return We.reject(new v("Invalid media buffer"))},i.GV=function(t,n,i){return We.reject(new v("Invalid media buffer"))},i.XF=function(){return!1},i.lz=function(){},i.kz=function(t,n){},i.pz=function(t,n){},i.Zh=function(t,n,i){return We.resolve()},i.KV=function(t,n){return We.reject(new v("Invalid media buffer"))},i.Bm=function(t,n){return We.reject(new v("Invalid media buffer"))},i.OF=function(t){return!1},i.PF=function(t){return We.reject(new v("Invalid media buffer"))},i.xs=function(){this.tu()},b(n,[{key:"sx",get:function(){return this.vx},set:function(t){this.vx=t}},{key:"im",get:function(){return gS.dC()}},{key:"uc",get:function(){return this.Pc}},{key:"Sz",get:function(){return fm.Zd}},{key:"Ez",get:function(){return gS.dC()}},{key:"iat",get:function(){return!1}},{key:"tx",get:function(){return this.hx},set:function(t){this.hx=t}}]),n}(Au),pH=function(t){function n(n){var i;return(i=t.call(this,n)||this).$R=void 0,i}S(n,t);var i=n.prototype;return i.XV=function(t,n,i){return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return au(i),e.next=3,Lr.awrap(this.eat(this.$R.Xg,null==n?void 0:n.pJ,null==n?void 0:n.Vg));case 3:if(au(i),t.vs!==VN.jf){e.next=10;break}return e.next=7,Lr.awrap(this.rat(t,n,i));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Lr.awrap(this.sat(t,n,i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},null,this,null,We)},i.rat=function(t,n,i){var e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=t;case 1:return r=zl(e.Vi),s=r[0],u=r[1],e={vs:VN.jf,Vi:s},o.prev=4,o.next=7,Lr.awrap(this.uat(e,n,i));case 7:return u.cancel(new uu).catch(J),o.abrupt("return");case 11:if(o.prev=11,o.t0=o.catch(4),!mR(o.t0)){o.next=20;break}return o.next=16,Lr.awrap(this.eat(this.$R.Xg,n.pJ,n.Vg,i));case 16:if(!o.sent){o.next=20;break}return e={vs:VN.jf,Vi:u},o.abrupt("continue",1);case 20:throw u.cancel(o.t0).catch(J),o.t0;case 22:o.next=1;break;case 24:case"end":return o.stop()}},null,this,[[4,11]],We)},i.sat=function(t,n,i){return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,au(i),e.next=5,Lr.awrap(this.uat(t,n,i));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(1),!mR(e.t0)){e.next=16;break}return e.next=13,Lr.awrap(this.eat(this.$R.Xg,n.pJ,n.Vg,i));case 13:if(!e.sent){e.next=16;break}return e.abrupt("continue",0);case 16:throw e.t0;case 17:e.next=0;break;case 19:case"end":return e.stop()}},null,this,[[1,8]],We)},i.eat=function(t,n,i,e){var r,s,u,o,a;return Lr.async(function(h){for(;;)switch(h.prev=h.next){case 0:r=yR(t,n,i,this.im,this.tx,this.sx),s=0;case 2:if(!(s<r.length)){h.next=9;break}return u=r[s],o=u[0],a=u[1],h.next=6,Lr.awrap(this.oat(o,a,e));case 6:s++,h.next=2;break;case 9:return h.abrupt("return",r.length>0);case 10:case"end":return h.stop()}},null,this,null,We)},i.uat=function(n,i,e){return t.prototype.XV.call(this,n,i,e)},i.oat=function(n,i,e){return t.prototype.Zh.call(this,n,i,e)},b(n,[{key:"cK",get:function(){return this.$R},set:function(t){this.$R=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).f6=void 0,i.aat=function(t){return i.Jy(t)},i.f6=n,i.f6.Js(GN,i.aat),i}S(n,t);var i=n.prototype;return i.fat=function(){return this.f6.sx},i.vat=function(t){this.f6.sx=t},i.Nx=function(){return this.f6.im},i.wc=function(){return this.f6.uc},i.dat=function(){return this.f6.Ez},i.wat=function(){return this.f6.tx},i._at=function(t){this.f6.tx=t},i.XV=function(t,n,i){return this.f6.XV(t,n,i)},i.Az=function(){return this.f6.Az()},i.GV=function(t,n,i){return this.f6.GV(t,n,i)},i.XF=function(){return this.f6.XF()},i.lz=function(){this.f6.lz()},i.kz=function(t,n){this.f6.kz(t,n)},i.pz=function(t,n){this.f6.pz(t,n)},i.Zh=function(t,n,i){return this.f6.Zh(t,n,i)},i.KV=function(t,n){return this.f6.KV(t,n)},i.OF=function(t){return this.f6.OF(t)},i.PF=function(t){return this.f6.PF(t)},i.Jy=function(t){this.Zs(t)},i.xs=function(){this.tu(),this.C6(new kH(this.uc))},i.C6=function(t){this.f6.nu(GN,this.aat),this.f6=t,this.f6.Js(GN,this.aat)},b(n,[{key:"sx",get:function(){return this.fat()},set:function(t){this.vat(t)}},{key:"im",get:function(){return this.Nx()}},{key:"uc",get:function(){return this.wc()}},{key:"Sz",get:function(){return this.f6.Sz}},{key:"Ez",get:function(){return this.dat()}},{key:"tx",get:function(){return this.wat()},set:function(t){this._at(t)}}]),n}(Au)),AH=function(t){function n(n){var i;return(i=t.call(this,n)||this).$R=void 0,i.$ot(n),i}return S(n,t),n.prototype.nat=function(t){var n=new pH(t);return n.cK=this.$R,n},b(n,[{key:"cK",get:function(){return this.$R},set:function(t){this.$R=t,this.uG&&(this.uG.cK=t),this.oG&&(this.oG.cK=t)}}]),n}(mH),bH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),b(n,[{key:"pm",get:function(){return this.tN.pm},set:function(t){this.tN.pm=t}}]),n}(yH),TH=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Rj=function(t){this.$R.Rj(t)},i.nj=function(){this.$R.nj()},i.nm=function(){this.$R.nm()},i.jy=function(){return this.$R.jy()},b(n,[{key:"EN",get:function(){return this.$R.EN}},{key:"IG",get:function(){return this.$R.IG}},{key:"Zg",get:function(){return this.$R.Zg}},{key:"Qg",get:function(){return this.$R.Qg}},{key:"Sm",get:function(){return this.$R.Sm},set:function(t){this.$R.Sm=t}}]),n}(_H),SH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Yot=function(t){var n=new AH(t);return n.cK=this,n},i.qot=function(t){return new bH(t)},b(n,[{key:"Qot",get:function(){return this.$R}}]),n}(gH),EH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Yot=function(t){var n=new AH(t);return n.cK=this,n},i.qot=function(t){return new bH(t)},b(n,[{key:"Qot",get:function(){return this.$R}}]),n}(TH),IH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.SN=function(n){return n===fm.ll?new EH(t.prototype.SN.call(this,n)):n===fm.dl?new SH(t.prototype.SN.call(this,n)):void 0},i.zN=function(n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Lr.awrap(i.xs());case 3:return e.next=5,Lr.awrap(t.prototype.zN.call(this,i.Qot));case 5:case"end":return e.stop()}},null,this,null,We)},n}(wH);function RH(t){return ww(t)}function NH(t,n){var i=ww(t);return n?""+i+n:""+i}var DH=function(){function t(t,n,i,e){this.gat=t,this.yat=n,this.mat=i,this.pat=e}var n=t.prototype;return n.J4=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(this.gat.Aat(t.map(RH)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,We)},n.frt=function(t,n){var i=NH(t,n);return this.yat.Iu(i)},n.J6=function(t,n){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=NH(t,n),r.next=3,Lr.awrap(this.mat.Ru(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,We)},n.VM=function(t){return this.pat.Ru(t)},t}(),CH=function(){function t(){}var n=t.prototype;return n.bat=function(t){return We.resolve(!1)},n.Tat=function(t){return We.reject(OH)},n.Sat=function(t){return We.reject(OH)},n.Iu=function(t){return We.resolve(!1)},n.Ru=function(t){return We.resolve(void 0)},n.Eat=function(t,n){return We.resolve(void 0)},n.Aat=function(t){return We.resolve([])},n.Iat=function(){return We.resolve([])},n.Rat=function(t){return We.resolve([])},n.Nat=function(t,n){return We.resolve([])},n.Zh=function(t){return We.reject(OH)},n.Dat=function(t){return We.reject(OH)},n.Cat=function(){return We.reject(OH)},t}(),OH="Storage disabled",PH=function(){function t(){this.Oat=void 0,this.eK=void 0,this.Pat=void 0,this.Bat=void 0,this.Lat=void 0,this.Oat=new CH,this.eK=new CH,this.Pat=new CH,this.Bat=new CH,this.Lat=new CH}return t.TJ=function(){return We.resolve(new t)},t.prototype.xat=function(t){return We.reject(BH)},t}(),BH="Storage disabled",LH=function(){function t(t){var n=this;this.Xs=new Ko,this.Mat=void 0,this.Xs.Wu(t),this.Xs.Xu.then(function(t){n.Mat=t})}var n=t.prototype;return n.bat=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Mat,i.t0){i.next=5;break}return i.next=4,Lr.awrap(this.Uat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.bat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Tat=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Mat,e.t0){e.next=5;break}return e.next=4,Lr.awrap(this.Uat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Tat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Sat=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Mat,e.t0){e.next=5;break}return e.next=4,Lr.awrap(this.Uat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Sat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Iu=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Mat,i.t0){i.next=5;break}return i.next=4,Lr.awrap(this.Uat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Iu(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Ru=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Mat,i.t0){i.next=5;break}return i.next=4,Lr.awrap(this.Uat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Ru(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Eat=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Mat,e.t0){e.next=5;break}return e.next=4,Lr.awrap(this.Uat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Eat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Aat=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Mat,i.t0){i.next=5;break}return i.next=4,Lr.awrap(this.Uat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Aat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Iat=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Mat,n.t0){n.next=5;break}return n.next=4,Lr.awrap(this.Uat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.Iat());case 7:case"end":return n.stop()}},null,this,null,We)},n.Rat=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Mat,i.t0){i.next=5;break}return i.next=4,Lr.awrap(this.Uat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Rat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Nat=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Mat,e.t0){e.next=5;break}return e.next=4,Lr.awrap(this.Uat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Nat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Zh=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Mat,i.t0){i.next=5;break}return i.next=4,Lr.awrap(this.Uat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Zh(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Dat=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Mat,i.t0){i.next=5;break}return i.next=4,Lr.awrap(this.Uat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Dat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Cat=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Mat,n.t0){n.next=5;break}return n.next=4,Lr.awrap(this.Uat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.Cat());case 7:case"end":return n.stop()}},null,this,null,We)},b(t,[{key:"Uat",get:function(){return this.Xs.Xu}}]),t}(),xH=function(){function t(t){var n=this;this.Xs=new Ko,this.Fat=void 0,this.eK=void 0,this.Oat=void 0,this.Pat=void 0,this.Bat=void 0,this.Lat=void 0,this.Xs.Wu(t);var i=this.Xs.Xu;i.then(function(t){n.Fat=t}),this.eK=new LH(i.then(function(t){return t.eK})),this.Oat=new LH(i.then(function(t){return t.Oat})),this.Pat=new LH(i.then(function(t){return t.Pat})),this.Bat=new LH(i.then(function(t){return t.Bat})),this.Lat=new LH(i.then(function(t){return t.Lat}))}return t.prototype.xat=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Fat,i.t0){i.next=5;break}return i.next=4,Lr.awrap(this.Hat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Lr.awrap(n.xat(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,We)},b(t,[{key:"Hat",get:function(){return this.Xs.Xu}}]),t}();function MH(t){return new v("This storage cannot handle persistency type "+t)}var UH=function(){function t(){this.Xo=[]}var n=t.prototype;return n.bat=function(t){return We.resolve("temporary"===t)},n.Tat=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?We.reject(MH(n)):(this.Xat(t.key),this.Xo.push(t),We.resolve())},n.Sat=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return We.reject(MH(n));for(var i=0;i<t.length;i++){var e=t[i];this.Xat(e.key)}for(var r=0;r<t.length;r++){var s=t[r];this.Xo.push(s)}return We.resolve()},n.Iu=function(t){return We.resolve(Boolean(this.Vat(t)))},n.Ru=function(t){return We.resolve(this.Vat(t))},n.Eat=function(t,n){return We.resolve(this.zat(t,n))},n.Aat=function(t){var n=this,i=t?t.map(function(t){return n.Vat(t)}):this.Xo;return We.resolve(i.filter(H))},n.Iat=function(){return We.resolve([].concat(this.Xo))},n.Rat=function(t){return this.Nat(t,"key")},n.Nat=function(t,n){var i=this.Xo.filter(function(i){return i[n]===t});return We.resolve(i)},n.Zh=function(t){return this.Xat(t),We.resolve()},n.Dat=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Xat(i)}return We.resolve()},n.Cat=function(){return Qs(this.Xo),We.resolve()},n.Vat=function(t){return this.zat(t,"key")},n.zat=function(t,n){for(var i=0,e=this.Xo;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.Xat=function(t){var n=this.Vat(t);n&&Ws(this.Xo,n)},t}(),FH=function(){function t(){this.Oat=void 0,this.eK=void 0,this.Pat=void 0,this.Bat=void 0,this.Lat=void 0,this.Oat=new UH,this.eK=new UH,this.Pat=new UH,this.Bat=new UH,this.Lat=new UH}return t.TJ=function(){return We.resolve(new t)},t.prototype.xat=function(t){return t(this)},t}(),HH=function(){function t(t){this.Gat=t}var n=t.prototype;return n.bat=function(t){var n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Gat;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Lr.awrap(e.bat(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,We)},n.Tat=function(t,n){var i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Gat;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Lr.awrap(r.bat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.Tat(t));case 8:i++,s.next=2;break;case 11:throw MH(n);case 12:case"end":return s.stop()}},null,this,null,We)},n.Sat=function(t,n){var i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Gat;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Lr.awrap(r.bat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.Sat(t));case 8:i++,s.next=2;break;case 11:throw MH(n);case 12:case"end":return s.stop()}},null,this,null,We)},n.Iu=function(t){var n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Gat;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Lr.awrap(e.Iu(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,We)},n.Ru=function(t){var n,i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.Gat;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Lr.awrap(e.Ru(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,We)},n.Eat=function(t,n){var i,e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.Gat;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Lr.awrap(r.Eat(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,We)},n.Aat=function(t){var n,i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Gat;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Lr.awrap(r.Aat(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,We)},n.Iat=function(){var t,n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.Gat;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Lr.awrap(e.Iat());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,We)},n.Rat=function(t){var n,i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Gat;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Lr.awrap(r.Rat(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,We)},n.Nat=function(t,n){var i,e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.Gat;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Lr.awrap(s.Nat(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,We)},n.Zh=function(t){var n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Gat;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Lr.awrap(e.Zh(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,We)},n.Dat=function(t){var n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Gat;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Lr.awrap(e.Dat(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,We)},n.Cat=function(){var t,n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.Gat;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Lr.awrap(i.Cat());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,We)},t}();function XH(t){return function(){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(We.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",VH.TJ(n));case 4:case"end":return i.stop()}},null,null,null,We)}}var VH=function(){function t(t){this.Wat=void 0,this.qat=void 0,this.Yat=void 0,this.jat=void 0,this.Qat=void 0,this.Zat=void 0,this.Wat=t,this.qat=new HH(t.map(function(t){return t.Bat})),this.Yat=new HH(t.map(function(t){return t.Lat})),this.jat=new HH(t.map(function(t){return t.Pat})),this.Qat=new HH(t.map(function(t){return t.Oat})),this.Zat=new HH(t.map(function(t){return t.eK}))}return t.TJ=function(n){return We.resolve(new t(n))},t.prototype.xat=function(n){var i=this;if(0===this.Wat.length)return n(this);var e=[],r=0;return this.Wat[r].xat(function s(u){return e.push(u),++r<i.Wat.length?i.Wat[r].xat(s):n(new t(e))})},b(t,[{key:"Bat",get:function(){return this.qat}},{key:"Lat",get:function(){return this.Yat}},{key:"Pat",get:function(){return this.jat}},{key:"Oat",get:function(){return this.Qat}},{key:"eK",get:function(){return this.Zat}}]),t}(),zH=function(){function t(t){this.Jat=void 0,this.Kat=[],this.$at=!0,this.Jat=t}var n=t.prototype;return n.TJ=function(){return new xH(this.tht())},n.tht=function(){var t,n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$at){e.next=4;break}return e.next=3,Lr.awrap(We.resolve());case 3:this.$at=!1;case 4:t=0,n=this.Kat;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Lr.awrap(XH([FH.TJ,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Lr.awrap(XH([FH.TJ,this.Jat])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],We)},n.mF=function(t){if(!this.$at)throw new v("Registration overdue");this.Kat.push(t)},t}(),GH=function(){function t(){}return t.mF=function(n){t.xR.mF(n)},b(t,null,[{key:"Yn",get:function(){return t.nht||(t.nht=t.xR.TJ()),t.nht}}]),t}();GH.xR=new zH(PH.TJ),GH.nht=void 0;var WH=function(t){function n(n,i,e,r,s,u){var o,a=new IH(n),h=a.SN(fm.ll);return(o=t.call(this,h,i,e,r,s,u)||this).KR=void 0,o.KR=a,o}return S(n,t),n.prototype.Il=function(){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(t.prototype.Il.call(this));case 2:return n.next=4,Lr.awrap(this.KR.zN(this.$R));case 4:case"end":return n.stop()}},null,this,null,We)},n}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.jy=function(){if(void 0!==this.$R.Qg)return this.$R.jy()},b(n,[{key:"Sm",get:function(){return!1},set:function(t){}}]),n}(NF));oS(new(function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).JN=zT.Ag,n}S(i,t);var e=i.prototype;return e.AI=function(t,n,i,e,r,s){return new WH(n,i,r,(u=e.libraryLocation,MF.mc()?new MF:new JF(u)),new lH(e.libraryLocation),new DH(GH.Yn.Pat,GH.Yn.Oat,GH.Yn.eK,GH.Yn.Lat));var u},e.KN=function(i,e){var r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Lr.awrap(t.prototype.KN.call(this,i,e));case 2:if(s.sent){s.next=4;break}return s.abrupt("return",!1);case 4:if(null==(r=i.hls)||!r.useLegacy){s.next=8;break}if(Ys(CN,"hls-legacy")){s.next=7;break}throw new hf(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');case 7:return s.abrupt("return",!1);case 8:return s.abrupt("return",!0);case 9:case"end":return s.stop()}},null,this,null,We)},e.$N=function(){return!0},i}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.KN=function(n,i){return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.MediaSource){e.next=2;break}return e.abrupt("return",!1);case 2:if(!M.hn&&!M.zn){e.next=4;break}return e.abrupt("return",!1);case 4:if(!i.manifestMetadataTrack){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",t.prototype.KN.call(this,n,i));case 7:case"end":return e.stop()}},null,this,null,We)},n}(DF)))),aL.P_=function(){return!(!r||!r.THEOplayerDebugLogsEnabled)};var qH=[];function YH(){qH.shift()()}var jH,QH=function(){function t(t){this.iht=void 0,this.eht=void 0,this.rht=void 0,this.rht=t}var n=t.prototype;return n.sht=function(t){return this.iht=this.iht||{},void 0===this.iht[t]&&(this.iht[t]=[]),this.iht[t]},n.addEventListener=function(t,n){var i=this.sht(t);-1===i.indexOf(n)&&i.push(n)},n.$s=function(t){(this.eht||(this.eht=[])).push(t)},n.removeEventListener=function(t,n){var i=this.sht(t);n?Ws(i,n):i.length=0},n.au=function(t){var n=this.eht;n&&Ws(n,t)},n.tu=function(){this.iht=void 0},n.dispatchEvent=function(t,n){if(n)return i=this.dispatchEvent.bind(this,t),qH.push(i),void a(YH,0);var i;"string"==typeof t&&(t={type:t});for(var e=this.sht(t.type).slice(),r=this.eht&&this.eht.slice(),s=0;s<e.length;s++){e[s].call(this.rht||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.rht||this,t)}},n.uht=function(t){return Boolean(this.iht&&this.iht[t]&&this.iht[t].length)},n.oht=function(){return this.iht?l.keys(this.iht):[]},t}(),ZH=function(t){function n(n,i){var e,r=$H[n];return(e=t.call(this,r?r.wu:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.aht,e.helpLinkText=r&&r.hht,e}return S(n,t),b(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(tn);!function(t){t.cht="LICENSE_INVALID",t.fht="MANIFEST_NOT_FOUND",t.vht="MANIFEST_CORS_ERROR",t.dht="INVALID_HLS_MANIFEST",t.wht="PLAYBACK_ISSUE",t._ht="AUDIO_ISSUE",t.ght="BROWSER_SUPPORT_ISSUE",t.yht="INVALID_KEY",t.jut="DECRYPTION_ERROR",t.mht="AD_BLOCK_DETECTED",t.kht="THEOPLAYER_NOT_INITIALIZED",t.G_="ERROR",t.pht="MANIFEST_SEQUENCE_RESET_ERROR",t.Aht="PLAYER_INCORRECTLY_CONFIGURED",t.bht="UNSUPPORTED"}(jH||(jH={}));for(var JH,KH=[{ju:jH.cht,wu:"The license for this player is invalid. Please contact your service provider for additional information."},{ju:jH.fht,wu:"Could not load the manifest file."},{ju:jH.vht,wu:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",aht:"https://www.theoplayer.com/documentation/cors.html",Tht:!1},{ju:jH.dht,wu:"The source of the player is an invalid HLS manifest.",aht:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{ju:jH.wht,wu:"There appears to be a playback issue."},{ju:jH._ht,wu:"There is an audio issue. Please contact your service provider with the code below for additional information."},{ju:jH.ght,wu:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{ju:jH.yht,wu:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{ju:jH.jut,wu:"There is a decryption error. Please contact your service provider with the code below for additional information."},{ju:jH.mht,wu:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{ju:jH.kht,wu:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{ju:jH.G_,wu:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{ju:jH.pht,wu:"The video stream has been reset. THEOplayer will attempt to reload the source."},{ju:jH.Aht,wu:"The player is incorrectly configured.",aht:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{ju:jH.bht,wu:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],$H={},tX=0;tX<KH.length;tX++){var nX=KH[tX];$H[nX.ju]=nX}function iX(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function eX(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function rX(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function sX(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?Jo(e[6]):void 0!==e[7]?{width:g(e[8]),height:g(e[10])}:void 0!==e[12]?g(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var uX,oX="x-";function aX(t,n,i,e){var r=t.split("@"),s=iX(n,i),u=_(r[0],10),o=r[1]?_(r[1],10):e;return{t$:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},Sht:{DD:o,OD:o+u-1}}}function hX(t,n,i){var e,r,s,u,o,a=0,h=0,c=0,f=null,v=0,d=!1,l=[],y=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new ZH(jH.dht,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<p.length;b+=1){var T=p[b].trim();if(l.push(T+""),eX(T,"#EXT")){if(eX(T,"#EXTINF"))c=(c=g(rX(T)))||.5;else if(eX(T,"#EXT-X-BYTERANGE"))f=rX(T);else if(eX(T,"#EXT-X-KEY"))(s=sX(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=iX(s.uri,i);else if(eX(T,"#EXT-X-DISCONTINUITY")&&!eX(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(eX(T,"#EXT-X-STREAM-INF"))(r=sX(T)).S2=h++,(b+=1)<p.length&&(r.uri=iX(p[b].trim(),i),A.streams.push(r));else if(eX(T,"#EXT-X-MEDIA")&&!eX(T,"#EXT-X-MEDIA-"))(u=sX(T)).uri&&(u.uri=iX(u.uri,i)),A.media.push(u);else if(eX(T,"#EXT-X-PROGRAM-DATE-TIME"))y=new Date(rX(T));else if(eX(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.Eht=!0,A.Iht=_(rX(T),10);else if(eX(T,"#EXT-X-MEDIA-SEQUENCE"))a=_(rX(T),10),A.Rht=!0,A.Nht=a;else if(eX(T,"#EXT-X-TARGETDURATION"))A.targetDuration=_(rX(T),10),A.hasTargetDuration=!0;else if(eX(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(eX(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(eX(T,"#EXT-X-MAP")){var S=sX(T),E=S.uri,I=S.byterange;o=I?aX(I,E,i,0):iX(E,i)}else if(eX(T,"#EXT-X-VERSION"))A.version=_(rX(T),10);else if(eX(T,"#EXT-X-DATERANGE")){var R=cX(T);A.dateRanges.push(R)}}else if(eX(T,"#"));else if(0!==T.length){f?k=(e=aX(f,T,i,k)).Sht.OD+1:e=iX(T,i);var N,D=s&&xr({},s);s&&void 0===s.iv&&(N=a%4294967295,D.iv=new m([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:c,uri:e,S2:a,Dht:d,Y1:v,key:D,W1:y,Cht:l,Oht:!1,Pht:o}),a+=1,c=0,f=null,d=!1,y=null,l=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].Oht=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=w.min(i,o.duration),e=w.max(e,o.duration)}return{Bht:i,Lht:e,xht:n?t.fragments[n-1].duration:0,Mht:r/n,Uht:r}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.S2-n.S2})}(A),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||qs(t.media,s)}}(A,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(A),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(A),A}function cX(t){var n=sX(t),i=function(t){for(var n={},i=0,e=l.keys(t);i<e.length;i++){var r=e[i];ms(r,oX)&&(n[r.substr(oX.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{B_:n.id,CK:n.class,QN:e,PK:r,Vg:n.duration,BK:n["planned-duration"],DK:s,LK:i,MK:u,FK:o,HK:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(uX||(uX={}));(JH={})[uX.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",JH[uX.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",JH[uX.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",JH[uX.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",JH[uX.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",JH[uX.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",JH[uX.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var fX=function(){function t(){}return t.prototype.Db=function(t,n,i){return hX(t,n,i)},t}(),vX=3,dX=function(){function t(t,n,i){void 0===i&&(i=vX),this.wE=t,this.Y6=n,this.Fht=i}var n=t.prototype;return n.Hht=function(t,n,i){return this.Xht(t,n,!0,i)},n.Vht=function(t,n,i){return this.Xht(t,n,!1,i)},n.Xht=function(t,n,i,e){var r,s,u,o,a,h,c,f;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.Fht)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Lr.awrap(yu(s,e));case 6:s<1e4&&(s=w.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return a=t[o],i.prev=10,h=new fw({jd:a,zd:Df.$n,Vd:n,Tl:this.Y6,_l:uw.GET,vs:ow.Jd,Al:aw.Zd,Ws:e}),i.next=14,Lr.awrap(this.wE.qd(h));case 14:return c=i.sent,i.next=17,Lr.awrap(c.Sd(e));case 17:return f=i.sent,i.abrupt("return",{zht:f,Ght:a,Yd:c.Yd});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],We)},t}(),lX=function(){function t(t){this.Wht=void 0,this.Wht=t}return t.prototype.qht=function(t,n,i,e){var r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:void 0===e&&(e=!1),s=0,u=this.Wht;case 2:if(!(s<u.length)){a.next=17;break}return o=u[s],a.prev=4,a.next=7,Lr.awrap(o.qht(t,n,i,e));case 7:return a.abrupt("return",a.sent);case 10:a.prev=10,a.t0=a.catch(4),hu(a.t0),r=a.t0;case 14:s++,a.next=2;break;case 17:throw r;case 18:case"end":return a.stop()}},null,this,[[4,10]],We)},t}(),wX=function(){function t(t){this.F4=t}return t.prototype.qht=function(t,n,i,e){var r;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(this.F4.J4(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{zht:r.data,Ght:r.locationURL,Yd:r.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,We)},t}(),_X=function(){function t(t){this.Yht=t}return t.prototype.qht=function(t,n,i,e){return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Lr.awrap(this.Yht.Hht(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Lr.awrap(this.Yht.Vht(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,We)},t}();function gX(t,n){return new lX([new wX(n),new _X(t)])}var yX=function(){function t(t,n,i){this.jht=t,this.Qht=n,this.Zht=i}var n=t.prototype;return n.qht=function(t,n,i,e){var r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Lr.awrap(this.jht.qht(t,n,i,e));case 3:return r=s.sent,s.next=6,Lr.awrap(this.Jht(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,We)},n.Jht=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(this.Qht.Tat({key:RH(t.Ght),locationURL:ww(t.Ght),responseURL:ww(t.Yd),data:t.zht,references:[this.Zht.B_]}));case 2:case"end":return n.stop()}},null,this,null,We)},t}();function mX(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var kX,pX,AX=function(){function t(t,n,i){this.Pc=void 0,this.wE=void 0,this.jht=void 0,this.Kht=void 0,this.Kht=new fX,this.Pc=t,this.wE=i;var e=this.Pc&&this.Pc.crossOrigin===Zg.Sg,r=new dX(i,e,1);this.jht=gX(r,new DH(GH.Yn.Pat,GH.Yn.Oat,GH.Yn.eK,GH.Yn.Lat))}var n=t.prototype;return n.Qh=function(t,n,i){var e=this.Sw(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Sw=function(t,n){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Lr.awrap(this.jht.qht([t],n));case 3:return i=r.sent,t=i.Yd,e=this.Kht.Db(i.zht,t,mX(t)),r.abrupt("return",{gy:e,$ht:i.zht});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof pw)){r.next=16;break}throw new ZH(jH.fht,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof Aw)){r.next=24;break}if(0!==r.t0.Hl.Xd){r.next=21;break}throw new ZH(jH.vht,{code:"MFL3900",uri:t,status:r.t0.Hl.Xd});case 21:throw new ZH(jH.fht,{code:"MFL4100",uri:t,status:r.t0.Hl.Xd});case 22:r.next=25;break;case 24:throw new ZH(jH.G_,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],We)},t}(),bX=function(t){function n(n,i){var e;return(e=t.call(this)||this).tct=void 0,e.nct=void 0,e.ict=void 0,e.ect=void 0,e.rct=void 0,e.sct=void 0,e.uct=void 0,e.nN=void 0,e.tct=new AX(i||{},GH.Yn.Pat,n),e}S(n,t);var i=n.prototype;return i.My=function(){void 0!==this.ect&&(h(this.ect),this.ect=void 0),this.ict&&this.ict.qd&&(this.ict=void 0)},i.act=function(t){if(this.uct)for(var n=0,i=this.uct.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.hct=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.Uht<3*s)?1e3*u.Bht:s?1e3*s:1e4,i===n&&(r/=2),r=w.max(r-e,1e3)},i.cct=function(t){if(t.fragments.length>0)for(var n=this.act(t.fragments[0].uri),i=n&&n.S2||0,e=0,r=t.fragments;e<r.length;e++){r[e].S2+=i}},i.fct=function(t,i,e,r,s,u){var o=this;if(this.ict&&e===this.ict.qd){var h=dI()-i;if(r){this.ict=void 0,this.nN=r;var c={type:"mu",mu:r};return this.dispatchEvent(c),s&&s(r)}this.ict=void 0;var f=u.gy,v=u.$ht;f.Rht||this.cct(f),t===this.nct&&(this.sct=f),this.uct=f;var d=n.hct(f,v,this.rct,h);f.live?f.isMasterPlaylist||(this.ect=a(function(){return o.Sw(t)},d)):this.My(),s&&s(r,u);var l={type:"vct",manifest:f,manifestText:v};this.dispatchEvent(l),this.rct=v}},i.Sw=function(t,n){var i=this,e=dI(),r=t;h(this.ect),this.ect=void 0;var s=this.tct.Qh(r,{},function(r,u){return i.fct(t,e,s,r,n,u)});this.ict={qd:s,jd:t}},i.DD=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.uct?this.uct.uri:this.nct))&&(this.ict&&this.ict.jd===t?n&&(i=function(t){s.removeEventListener("mu",e),s.removeEventListener("vct",i);var r=t;n(null,{gy:r.manifest,$ht:r.manifestText})},e=function(t){s.removeEventListener("mu",e),s.removeEventListener("vct",i),n(t.mu)},this.addEventListener("mu",e),this.addEventListener("vct",i)):(this.My(),this.Sw(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.dct=function(t){t&&(this.rct=void 0,this.sct&&this.sct.isMasterPlaylist?this.DD(t.uri):this.uct&&!this.lct()&&this.DD(this.uct.uri))},i.Il=function(){this.My(),this.tu()},i.lct=function(){return!!this.ict||!!this.ect||!(!this.uct||this.uct.live)},b(n,[{key:"gy",get:function(){return this.uct}},{key:"wct",get:function(){return this.sct}},{key:"_ct",get:function(){return this.nct},set:function(t){this.My(),this.rct=void 0,this.sct=void 0,this.uct=void 0,this.nct=t}}]),n}(QH),TX=function(t){function n(){return t.call(this,"gct")||this}return S(n,t),n}(Tu),SX=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).yct=void 0,r.mct=void 0,r.kct=void 0,r.krt=void 0,r.pct=void 0,r.wE=void 0,r.cq=void 0,r.Act=void 0,r.bct=function(){r.Zs(new TX)},r.krt=n,r.pct=xr({},i,{crossOrigin:r.krt.crossOrigin,withCredentials:r.krt.useCredentials,liveOffset:r.krt.liveOffset,hlsDateRange:r.krt.hlsDateRange}),r.wE=e,r.mct=[],r.cq=!1,r}S(n,t);var i=n.prototype;return i.Tct=function(){if(this.kct)return this.kct.gy},i.DD=function(t){var n=this;_u(Wx(function(){return n.Sct()},t))},i.Sct=function(){var t,n,i,e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Lr.awrap(this.Ect());case 2:if((t=u.sent).isMasterPlaylist)for(this.yct=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new bX(this.wE,this.pct),this.mct.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new bX(this.wE,this.pct),this.mct.push({stream:{uri:t.uri},updater:s});this.Act&&(this.Ict(this.Act.width,this.Act.height),this.Act=void 0),this.cq=!0;case 6:case"end":return u.stop()}},null,this,null,We)},i.Rct=function(t,n){this.cq?this.Ict(t,n):this.Act={width:t,height:n}},i.Ict=function(t,n){this.Nct();var i=this.Dct(t,n);i&&(this.kct=i.updater,this.kct.addEventListener("vct",this.bct),i.updater.DD(i.stream.uri))},i.Nct=function(){this.kct&&(this.kct.My(),this.kct.removeEventListener("vct",this.bct),this.kct=void 0)},i.Dct=function(t,n){return 1===this.mct.length?this.mct[0]:Vs(this.mct,function(i){return i.stream.width===t&&i.stream.height===n})},i.Ect=function(){var t,n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new AX(this.pct,GH.Yn.Pat,this.wE),i.next=3,Lr.awrap(t.Qh(this.krt.src,{}));case 3:return n=i.sent,i.abrupt("return",n.gy);case 5:case"end":return i.stop()}},null,this,null,We)},i.Il=function(){this.Nct();for(var t=0,n=this.mct;t<n.length;t++){n[t].updater.Il()}Qs(this.mct)},n}(Au),EX=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).Cct=void 0,r.Oct=void 0,r.UM=void 0,r.Pct=!1,r.a6=void 0,r.Jq=void 0,r.handleManifestUpdate=function(){var t=r.Cct.Tct();if(t){var n=r.QN;if(n){var i=n.getTime(),e=r.a6;e||(e=new Cx,r.a6=e),e.Jh(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.Pct&&e.Z_.T_>0&&(r.Py.m_(e),r.Jq.m_(e),r.Pct=!0)}}},r.Bct=function(){r.Cct&&r.Cct.Rct(r.Zg,r.Qg)},r.Oct=i,r.UM=e,r.Jq=new bO(Kt(r)),r.Js(Nf.Of,r.Bct),r}S(n,t);var i=n.prototype;return i.Fy=function(n,i,e){return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(t.prototype.Fy.call(this,n,i,e));case 2:n.hlsDateRange&&this.Lct(n,i,e);case 3:case"end":return r.stop()}},null,this,null,We)},i.Lct=function(t,n,i){this.Cct&&(this.Cct.nu("gct",this.handleManifestUpdate),this.Cct.Il()),this.Cct=new SX(t,n,this.Oct),this.Cct.Js("gct",this.handleManifestUpdate),this.Cct.DD(i)},i.A_=function(){return this.a6&&(this.Py.k_(this.a6),this.Jq.k_(this.a6),this.a6.Il(),this.a6=void 0,this.Pct=!1),this.Jq.A_(),t.prototype.A_.call(this)},i.Il=function(){return this.nu(Nf.Of,this.Bct),this.Cct&&(this.Cct.nu("gct",this.handleManifestUpdate),this.Cct.Il()),this.Jq.Il(),t.prototype.Il.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).xct=void 0,i.xct=n;for(var e=0;e<vS.length;e++){var r=vS[e];i.xct.Js(r,i.Qs)}return i}S(n,t);var i=n.prototype;return i.Hy=function(){return this.xct.Hy()},i.Qy=function(){return this.xct.Qy()},i.jy=function(){return this.xct.jy()},i.Yy=function(){return this.xct.Yy()},i.nm=function(){return this.xct.nm()},i.xy=function(){return this.xct.xy()},i.Ly=function(){return this.xct.Ly()},i.A_=function(){return this.xct.A_()},i.Fy=function(t,n,i){return this.xct.Fy(t,n,i)},i.qy=function(){return this.xct.qy()},i.Xy=function(){return this.xct.Xy()},i.Vy=function(){return this.xct.Vy()},i.Il=function(){this.tu();for(var t=0;t<vS.length;t++){var n=vS[t];this.xct.nu(n,this.Qs)}return this.xct.Il()},b(n,[{key:"Cy",get:function(){return this.xct.Cy}},{key:"im",get:function(){return this.xct.im}},{key:"um",get:function(){return this.xct.um},set:function(t){this.xct.um=t}},{key:"Xg",get:function(){return this.xct.Xg},set:function(t){this.xct.Xg=t}},{key:"Vg",get:function(){return this.xct.Vg}},{key:"zg",get:function(){return this.xct.zg}},{key:"Gg",get:function(){return this.xct.Gg}},{key:"By",get:function(){return this.xct.By}},{key:"mu",get:function(){return this.xct.mu}},{key:"cm",get:function(){return this.xct.cm}},{key:"fm",get:function(){return this.xct.fm}},{key:"Wg",get:function(){return this.xct.Wg},set:function(t){this.xct.Wg=t}},{key:"ym",get:function(){return this.xct.ym}},{key:"qg",get:function(){return this.xct.qg}},{key:"Yg",get:function(){return this.xct.Yg},set:function(t){this.xct.Yg=t}},{key:"mm",get:function(){return this.xct.mm}},{key:"pm",get:function(){return this.xct.pm},set:function(t){this.xct.pm=t}},{key:"Q_",get:function(){return this.xct.Q_}},{key:"Am",get:function(){return this.xct.Am}},{key:"jg",get:function(){return this.xct.jg}},{key:"QN",get:function(){return this.xct.QN}},{key:"Py",get:function(){return this.xct.Py}},{key:"Qg",get:function(){return this.xct.Qg}},{key:"Oy",get:function(){return this.xct.Oy}},{key:"Zg",get:function(){return this.xct.Zg}},{key:"Jg",get:function(){return this.xct.Jg},set:function(t){this.xct.Jg=t}},{key:"Tm",get:function(){return this.xct.Tm}},{key:"Sm",get:function(){return this.xct.Sm},set:function(t){this.xct.Sm=t}},{key:"ZN",get:function(){return this.xct.ZN}}]),n}(Gg));kX=function(t,n,i){return new EX(t,n,i)},sS.iD().eD(kX),function(t){t.Mct="statechange"}(pX||(pX={}));var IX,RX=function(t){function n(n){var i;return(i=t.call(this,pX.Mct)||this).vQ=n,i}return S(n,t),n}(Tu),NX=function(t){function n(n,i){var e;return void 0===i&&(i=""),(e=t.call(this,"An error occurred while casting.")||this).errorCode=n,e.description=i,e}return S(n,t),b(n,[{key:"name",get:function(){return"CastError"}}]),n}(tn),DX=function(){function t(){this.Uct=void 0}var n=t.prototype;return n.Fct=function(){return this.Uct||(this.Uct=this.Hct().catch(function(){throw new NX("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")})),this.Uct},n.Hct=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(OX()){t.next=4;break}return t.next=3,Lr.awrap(this.Xct());case 3:0;case 4:if(CX()){t.next=9;break}return i.yr('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),t.next=8,Lr.awrap(or("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js"));case 8:0;case 9:return t.abrupt("return");case 10:case"end":return t.stop()}},null,this,null,We)},n.Xct=function(){return new We(function(t,n){var i=r.__onGCastApiAvailable;r.__onGCastApiAvailable=function(e,s){e?t():n(new v(s)),r.__onGCastApiAvailable=i,i&&i(e,s)}})},t}();function CX(){return Boolean("undefined"!=typeof cast&&cast.framework)}function OX(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}DX.Yn=new DX,function(t){t.Vct="receiver_info",t.qK="event",t.zct="propertychange",t.Gct="trackevent"}(IX||(IX={}));var PX,BX,LX="urn:x-cast:com.theoplayer.cast",xX=function(){function t(t){var n=this;this.Wct=void 0,this.qct=[],this.qs=[],this.Yct=void 0,this.jct=function(t,i){var e=n.Qct(i);if(e)if(e.type===IX.zct)for(var r=0,s=n.qct;r<s.length;r++){var u=s[r];for(var o in e.properties)u(o,e.properties[o])}else if(e.type===IX.qK)for(var a=0,h=n.qs;a<h.length;a++){(0,h[a])(e.event)}else e.type===IX.Gct&&n.Yct&&e.event.trackState&&n.Yct(e.event.trackId,e.event.trackState.targetQualityIds)},this.Wct=t,this.Wct.Zct(LX,this.jct)}var n=t.prototype;return n.Qct=function(t){var n;try{n=JSON.parse(t)}catch(t){0}return n},n.Jct=function(t){this.qct.push(t)},n.Kct=function(t){Ws(this.qct,t)},n.Js=function(t){this.qs.push(t)},n.nu=function(t){Ws(this.qs,t)},n.$ct=function(t){this.Yct=t},n.tft=function(t){this.Yct=void 0},n.cJ=function(t,n,i,e){var r=i||J,s=e||J;this.Wct.cJ(t,n).then(r).catch(s)},n.Il=function(){this.Wct.nft(LX,this.jct),Qs(this.qs),Qs(this.qct),this.Yct=void 0},t}();!function(t){t.Vct="theoplayer_receiver_info",t.Gct="theoplayer_trackpropertychange",t.ift="theoplayer_propertychange"}(PX||(PX={})),function(t){t.eft="medialoadedchange",t.Vf="volumechange",t.rft="casterror",t.sft="playererror",t.uft="targetqualitychanged",t.oft="receiverinfochanged"}(BX||(BX={}));var MX,UX=function(t){function n(){return t.call(this,BX.eft)||this}return S(n,t),n}(Tu),FX=function(t){function n(n,i){var e;return(e=t.call(this,BX.Vf)||this).Jg=n,e.Wg=i,e}return S(n,t),n}(Tu),HX=function(t){function n(n){var i;return(i=t.call(this,BX.rft)||this).mu=n,i}return S(n,t),n}(Tu),XX=function(t){function n(n){var i;return(i=t.call(this,BX.sft)||this).mu=n,i}return S(n,t),n}(Tu),VX=function(t){function n(n,i){var e;return(e=t.call(this,BX.uft)||this).rT=n,e.aft=i,e}return S(n,t),n}(Tu),zX=function(t){function n(){return t.call(this,BX.oft)||this}return S(n,t),n}(Tu),GX=function(t){function n(n){var i;return(i=t.call(this)||this).Wct=void 0,i.hft=void 0,i.cft=void 0,i.fft=function(t){i.Zs(new HX(t))},i.vft=function(t,n){"error"===t&&i.Zs(new XX(n))},i.dft=function(t,n){i.Zs(new VX(t,n))},i.lft=function(t,n){var e=JSON.parse(n);e.type===IX.Vct&&(i.cft=e.info,i.Zs(new zX))},i.Wct=n,i.hft=new xX(i.Wct),i.hft.Jct(i.vft),i.hft.$ct(i.dft),i.wft(),i}S(n,t);var i=n.prototype;return i._ft=function(t,n,i){this.hft.cJ(LX,function(t,n,i){return{type:PX.Gct,trackID:t,trackType:n,properties:{targetQuality:i}}}(t,n,i),J,this.fft)},i.wft=function(){this.Wct.Zct(LX,this.lft),this.hft.cJ(LX,{type:PX.Vct})},i.gft=function(){return this.cft},i.Il=function(){this.tu(),this.Wct.nft(LX,this.lft),this.hft.Kct(this.vft),this.hft.tft(this.dft),this.hft.Il(),this.Wct.Il()},n}(Au);!function(t){t.GF="bufferedchange",t.Xf="timeupdate",t.gf="durationchange",t.a_="readystatechange",t.ift="playbackratechange",t.yft="played",t.Rf="play",t.If="pause",t.mft="programdatetimechange",t.mf="ended",t.kft="mediastopped",t.rft="error",t.Bf="seeking",t.Pf="seeked",t.pft="seekablechange",t.Of="resize",t.Aft="sourceupdate",t.bft="trackupdate",t.Tft="activetrackupdate",t.Fg="waiting",t.Hg="playing",t.Cf="representationchange",t.Lf="segmentnotfound",t.pu="encrypted",t.df="contentprotectionerror",t.lf="contentprotectionsuccess"}(MX||(MX={}));var WX,qX,YX=function(t){function n(n){var i;return(i=t.call(this,MX.GF)||this).im=n,i}return S(n,t),n}(Tu),jX=function(t){function n(n){var i;return(i=t.call(this,MX.Xf)||this).Xg=n,i}return S(n,t),n}(Tu),QX=function(t){function n(n){var i;return(i=t.call(this,MX.mft)||this).W1=n,i}return S(n,t),n}(Tu),ZX=function(t){function n(n){var i;return(i=t.call(this,MX.gf)||this).Vg=n,i}return S(n,t),n}(Tu),JX=function(t){function n(){return t.call(this,MX.mf)||this}return S(n,t),n}(Tu),KX=function(t){function n(n){var i;return(i=t.call(this,MX.rft)||this).mu=n,i}return S(n,t),n}(Tu),$X=function(t){function n(n){var i;return(i=t.call(this,MX.If)||this).qg=n,i}return S(n,t),n}(Tu),tV=function(t){function n(n){var i;return(i=t.call(this,MX.ift)||this).Yg=n,i}return S(n,t),n}(Tu),nV=function(t){function n(n){var i;return(i=t.call(this,MX.yft)||this).mm=n,i}return S(n,t),n}(Tu),iV=function(t){function n(n){var i;return(i=t.call(this,MX.a_)||this).Q_=n,i}return S(n,t),n}(Tu),eV=function(t){function n(n){var i;return(i=t.call(this,MX.pft)||this).Am=n,i}return S(n,t),n}(Tu),rV=function(t){function n(n,i){var e;return(e=t.call(this,MX.Aft)||this).tm=n,e.cD=i,e}return S(n,t),n}(Tu),sV=function(t){function n(n){var i;return(i=t.call(this,MX.Bf)||this).Xg=n,i}return S(n,t),n}(Tu),uV=function(t){function n(n){var i;return(i=t.call(this,MX.Pf)||this).Xg=n,i}return S(n,t),n}(Tu),oV=function(t){function n(n,i){var e;return(e=t.call(this,MX.Of)||this).Zg=n,e.Qg=i,e}return S(n,t),n}(Tu),aV=function(t){function n(){return t.call(this,MX.kft)||this}return S(n,t),n}(Tu),hV=function(t){function n(n,i,e){var r;return(r=t.call(this,MX.bft)||this).audioTracks=n,r.videoTracks=i,r.textTracks=e,r}return S(n,t),n}(Tu),cV=function(t){function n(n){var i;return(i=t.call(this,MX.Tft)||this).trackIds=n,i}return S(n,t),n}(Tu),fV=function(t){function n(n){var i;return(i=t.call(this,MX.Fg)||this).Xg=n,i}return S(n,t),n}(Tu),vV=function(t){function n(n){var i;return(i=t.call(this,MX.Hg)||this).Xg=n,i}return S(n,t),n}(Tu),dV=function(t){function n(n,i){var e;return(e=t.call(this,MX.Cf)||this).h$=n,e.c$=i,e}return S(n,t),n}(Tu),lV=function(t){function n(n,i,e,r,s,u){var o;return void 0===u&&(u=0),(o=t.call(this,MX.Lf)||this).Sft=n,o.mu=i,o.o4=e,o.Qw=r,o.a$=s,o.Eft=u,o}return S(n,t),n}(Tu),wV=function(t){function n(n,i,e){var r;return(r=t.call(this,MX.pu)||this).ls=n,r.Su=i,r.Xg=e,r}return S(n,t),n}(Tu),_V=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,MX.df)||this).mu=n,o.Ift=i,o.Xd=e,o.Gd=r,o.Rft=s,o.Qu=u,o}return S(n,t),n}(Tu),gV=function(t){function n(){return t.call(this,MX.lf)||this}return S(n,t),n}(Tu),yV=function(t){function n(n){var i;return(i=t.call(this)||this).hft=void 0,i.fft=function(t){i.Zs(new KX(t))},i.Nft=function(t,n){switch(t){case"buffered":i.Zs(new YX(new gS(n)));break;case"currentProgramDateTime":i.Zs(new QX(new Date(n)));break;case"played":i.Zs(new nV(new gS(n)));break;case"seekable":i.Zs(new eV(new gS(n)));break;case"videoHeight":i.Zs(new oV(void 0,n));break;case"videoWidth":i.Zs(new oV(n,void 0))}},i.Wz=function(t){switch(t.type){case yy.a_:i.Zs(new iV(t.readyState));break;case Nf.Bf:i.Zs(new sV(t.currentTime));break;case Nf.Pf:i.Zs(new uV(t.currentTime));break;case yy.Fg:i.Zs(new fV(t.currentTime));break;case yy.Hg:i.Zs(new vV(t.currentTime));break;case Nf.Cf:i.Zs(new dV(t.representation,t.previousRepresentation));break;case Nf.Lf:i.Zs(new lV(t.segmentStartTime,t.error,t.trackType,t.track,t.quality,t.retryCount));break;case Nf.pu:i.Zs(new wV(t.initDataType,t.initData,t.currentTime));break;case Nf.df:i.Zs(new _V(t.error,t.licenseAcquisitionURL,t.status,t.statusText,t.licenseAcquisitionMessage,t.systemCode));break;case Nf.lf:i.Zs(new gV)}},i.hft=n,i.hft.Js(i.Wz),i.hft.Jct(i.Nft),i}S(n,t);var i=n.prototype;return i.qx=function(t){this.hft.cJ(LX,function(t){return{type:PX.ift,properties:{playbackRate:t}}}(t),J,this.fft)},i.Il=function(){this.tu(),this.hft.nu(this.Wz),this.hft.Kct(this.Nft)},n}(Au);function mV(t){return t.type===WX.dl}function kV(t){return t.type===WX.ll}function pV(t){return t.type===WX.$n}function AV(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}!function(t){t.$n="TEXT",t.dl="AUDIO",t.ll="VIDEO"}(WX||(WX={})),function(t){t.WA="SUBTITLES",t.nE="CAPTIONS",t.iE="DESCRIPTIONS",t.eE="CHAPTERS",t.YA="METADATA"}(qX||(qX={}));var bV=function(t){function n(n,i,e){var r;(r=t.call(this,i)||this).Dft=void 0,r.Cft=void 0,r.Oft=void 0,r.Pft=function(t){r.Bft(),r.gG(),r.Lft(),r.xft(),r.Mft(),r.Uft(),r.Fft(),r.Hft(),t||(TV(r.Cft)&&r.Zs(new JX),r.Zs(new aV))},r.Xft=function(t){var n,i=new NX(AV(t.code),null!=(n=t.description)?n:void 0);r.fft(i)},r.Dft=n,r.Cft=e;var s=new chrome.cast.media.GetStatusRequest;return r.Cft.getStatus(s,function(){r.Vft()},J),r.Cft.addUpdateListener(r.Pft),r.zft(),r.Pft(!0),r}S(n,t);var i=n.prototype;return i.Gft=function(){return this.Cft.getEstimatedTime()},i.Hft=function(){var t=this.Cft.activeTrackIds;t&&this.Zs(new cV(t))},i.Fft=function(){var t,n=null==(t=this.Cft.media)?void 0:t.tracks;if(n){var i=n.filter(mV),e=n.filter(kV),r=n.filter(pV);this.Zs(new hV(i,e,r))}},i.Vft=function(){var t,n,i,e;null!=(t=this.Dft.gft())&&t.version?i=null==(e=this.Cft.customData)?void 0:e.sourceDescription:i=OE({sources:this.Cft.media.contentId},Uy({}));this.Zs(new rV(null==(n=this.Cft.customData)?void 0:n.currentSource,i))},i.Mft=function(){var t=this.Gft();this.Zs(new jX(t))},i.zft=function(){this.Oft=c(this.Mft.bind(this),n.TIMEUPDATE_INTERVAL)},i.Wft=function(){f(this.Oft)},i.Uft=function(){this.Wft(),this.zft()},i.Bft=function(){var t=this.Cft,n=Boolean(t.customData)?t.customData.buffers:void 0;n&&this.Zs(new eV(new gS(n.seekable)))},i.gG=function(){var t,n=this.Cft.media;t=Boolean(n)&&n.streamType===chrome.cast.media.StreamType.LIVE?1/0:n&&n.duration||NaN,this.Zs(new ZX(t))},i.Lft=function(){var t,n=void 0!==(t=this.Cft)&&t.playerState===chrome.cast.media.PlayerState.PAUSED||TV(this.Cft);this.Zs(new $X(n))},i.xft=function(){var t=this.Cft.playbackRate;this.Zs(new tV(t))},i.xy=function(){var t=new chrome.cast.media.PauseRequest;this.Cft.pause(t,J,this.Xft)},i.My=function(){var t=new chrome.cast.media.StopRequest;this.Cft.stop(t,J,this.Xft)},i.Ly=function(){var t=new chrome.cast.media.PlayRequest;this.Cft.play(t,J,this.Xft)},i.xu=function(t,n){var i=this,e=new chrome.cast.media.SeekRequest;return e.currentTime=t,e.resumeState=n?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new We(function(t,n){i.Cft.seek(e,t,function(t){var i;n(new NX(AV(t.code),null!=(i=t.description)?i:void 0))})})},i.qft=function(t){var n=new chrome.cast.media.EditTracksInfoRequest(t);this.Cft.editTracksInfo(n,J,this.Xft)},i.Il=function(){this.Wft(),this.Cft.removeUpdateListener(this.Pft),t.prototype.Il.call(this)},n}(yV);function TV(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}bV.TIMEUPDATE_INTERVAL=250;var SV=function(){function t(t){this.Dft=void 0,this.Dft=t}var n=t.prototype;return n.Zct=function(t,n){this.Dft.addMessageListener(t,n)},n.nft=function(t,n){this.Dft.removeMessageListener(t,n)},n.cJ=function(t,n){var i=this;return new We(function(e,r){i.Dft.sendMessage(t,n,e,function(t){r(new NX(AV(t.code),t.description))})})},n.Il=function(){},t}(),EV=function(t){function n(n){var i;(i=t.call(this,new SV(n.getSessionObj()))||this).Dft=void 0,i.Yft=void 0,i.jft=function(){var t=i.Qft();i.Zs(new FX(t.receiver.volume.level,t.receiver.volume.muted))},i.Zft=function(){return i.Jft(i.Dft.getMediaSession())},i.Kft=function(){var t;null==(t=i.Yft)||t.nu(MX.kft,i.Kft),i.Yft=void 0,i.Zs(new UX)},i.$ft=function(t){var n=new NX(AV(t.code),t.description);i.fft(n)},i.Dft=n,i.Dft.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,i.Zft),i.Qft().addUpdateListener(i.jft),i.jft();var e=i.Dft.getMediaSession();return e&&i.Jft(e),i}S(n,t);var i=n.prototype;return i.Qft=function(){return this.Dft.getSessionObj()},i.Jft=function(t){!this.Yft&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this.Yft=new bV(this,this.hft,t),this.jft(),this.Yft.Js(MX.kft,this.Kft),this.Zs(new UX))},i.tvt=function(){return this.Yft},i.nvt=function(t){var n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=IV(t.ivt,t.Xg,t.evt),e.prev=1,e.next=4,Lr.awrap(this.Dft.loadMedia(n));case 4:i=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),i=e.t0;case 10:if(!i){e.next=12;break}throw new NX(AV(i));case 12:case"end":return e.stop()}},null,this,[[1,7]],We)},i.Vx=function(t){this.Qft().setReceiverMuted(t,J,this.$ft)},i.rM=function(t){this.Qft().setReceiverVolumeLevel(t,J,this.$ft)},i.rvt=function(){return this.Qft().receiver.friendlyName},i.Il=function(){this.Dft.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.Zft),this.Qft().removeUpdateListener(this.jft),t.prototype.Il.call(this)},n}(GX);function IV(t,n,i){var e=function(t){var n=AE(t)||"",i=pE(t)||"",e=new chrome.cast.media.MediaInfo(n,i);return e.metadata=function(t,n,i){var e=new n.cast.media.GenericMediaMetadata;if(i&&(e.images=[new n.cast.Image(i)]),!t)return e;if(t.images)if(e.images||(e.images=[]),q(t.images))e.images.push(new n.cast.Image(t.images));else for(var r=0,s=t.images;r<s.length;r++){var u=s[r];if(q(u)){var o=new n.cast.Image(u);e.images.push(o)}else{var a=new n.cast.Image(u.src);a.height=u.height||void 0,a.width=u.width||void 0,e.images.push(a)}}return t.releaseDate&&(e.releaseDate=t.releaseDate),t.releaseYear&&(e.releaseYear=t.releaseYear),t.subtitle&&(e.subtitle=t.subtitle),t.title&&(e.title=t.title),t.type&&(e.metadataType=function(t,n){switch(t){case"movie":return n.cast.media.MetadataType.MOVIE;case"audio":return n.cast.media.MetadataType.MUSIC_TRACK;case"tv-show":return n.cast.media.MetadataType.TV_SHOW;case"generic":default:return n.cast.media.MetadataType.GENERIC}}(t.type,n)),e}(t.metadata,chrome,t.poster),e}(t),r=new chrome.cast.media.LoadRequest(e);return r.autoplay=!0,r.currentTime=n,r.customData=i,r}var RV=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).svt=void 0,n.uvt=void 0,n.ovt=void 0,n.RM=function(){var t=n.avt();n.uvt=t===JS.CONNECTED?new EV(n.svt.getCurrentSession()):void 0,n.Zs(new RX(t))},n}S(n,t);var i=n.prototype;return i.cvt=function(t){this.ovt=t},i.fvt=function(){return this.ovt},i.vvt=function(){return this.uvt},i.avt=function(){switch(this.svt.getCastState()){case cast.framework.CastState.CONNECTED:return JS.CONNECTED;case cast.framework.CastState.CONNECTING:return JS.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return JS.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return JS.UNAVAILABLE}},i.gx=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(DX.Yn.Fct());case 2:this.svt=cast.framework.CastContext.getInstance(),this.svt.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,this.RM),this.svt.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED});case 5:case"end":return n.stop()}},null,this,null,We)},i.dvt=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Lr.awrap(this.svt.requestSession());case 3:if(!(t=n.sent)){n.next=6;break}throw t;case 6:n.next=11;break;case 8:throw n.prev=8,n.t0=n.catch(0),new NX(AV(n.t0));case 11:case"end":return n.stop()}},null,this,[[0,8]],We)},i.lvt=function(t){var n,i=new Ko,e=null==(n=this.ovt)?void 0:n.onStart(t),r=e?OE(e,Uy({})):void 0;return i.Wu(r),i.Xu},i.wvt=function(t){var n,i=new Ko,e=null==(n=this.ovt)?void 0:n.onStop(t),r=e?OE(e,Uy({})):void 0;return i.Wu(r),i.Xu},i._vt=function(t){var n,i=new Ko,e=null==(n=this.ovt)?void 0:n.onJoin(t),r=e?OE(e,Uy({})):void 0;return i.Wu(r),i.Xu},i.gvt=function(t){var n,i=new Ko,e=null==(n=this.ovt)?void 0:n.onLeave(t),r=e?OE(e,Uy({})):void 0;return i.Wu(r),i.Xu},i.yvt=function(t){this.svt.endCurrentSession(t)},n}(Au),NV=1;var DV,CV=function(t){function n(n,i,e,r,s,u,o,a,h,c,f){var v;return(v=t.call(this)||this).yC=void 0,v.oa=void 0,v.AG=void 0,v.kC=void 0,v.pC=void 0,v.mvt=void 0,v.kvt=void 0,v.Sy=void 0,v.Ey=void 0,v.Iy=void 0,v.yD=n,v.yC=i,v.oa=e,v.AG=r,v.kC=s,v.pC=u,v.mvt=c,v.kvt=f,v.Sy=o,v.Sy.A_(),v.Ey=a,v.Ey.A_(),v.Iy=h,v.Iy.A_(),v}S(n,t);var i=n.prototype;return i.Nx=function(){return gS.dC().qN()},i.Px=function(){return this.yC},i.Cx=function(){},i.Lx=function(){return this.oa},i.Mx=function(){return this.AG},i.Ux=function(){},i.Gx=function(){return this.kC},i.pvt=function(){},i.Wx=function(){return this.pC},i.qx=function(t){this.pC!==t&&(this.pC=t,this.Zs(new Ey(this.yD.Xg,t)))},i.Zx=function(){return ty.Dg},i.Yx=function(){return gS.dC().qN()},i.Jx=function(){return gS.dC().qN()},i.Kx=function(){return!1},i.Rx=function(){return this.Sy},i.nM=function(){return this.Ey},i.$x=function(){return this.Iy},i.qft=function(t){},i.iM=function(){return this.mvt},i.tM=function(){return this.kvt},i.Ly=function(){},i.xy=function(){},i.xu=function(t){},i.My=function(){},i.Il=function(){},n}(Au);!function(t){t.Avt="ccmodechangerequest",t.bvt="cctargetqualitychangerequest",t.Tvt="cctrackchangerequest"}(DV||(DV={}));var OV=function(t){function n(n,i,e){var r;return(r=t.call(this,DV.Avt)||this).track=n,r.trackId=i,r.mode=e,r}return S(n,t),n}(Tu),PV=function(t){function n(n){var i;(i=t.call(this)||this).B_=void 0,i.L_=void 0,i.W_=void 0,i.x_=void 0,i.U_=void 0,i.Q_=void 0,i.vs=void 0,i.Dm=void 0,i.MG=void 0,i.zG=void 0,i.GG=void 0,i.WG=void 0,i.VC=void 0,i.Svt=void 0,i.qw=void 0;var e,r=n.customData;return i.L_=+n.trackId||0,i.B_=(r&&r.id||i.L_)+"",i.Dm=r&&r.label||n.name||"",i.U_=r&&r.language||n.language||"",i.W_=r&&r.inBandMetadataTrackDispatchType||"",i.x_=r&&r.kind||function(t){switch(t){case qX.WA:return Up.WA;case qX.nE:return Up.nE;case qX.iE:return Up.iE;case qX.eE:return Up.eE;case qX.YA:return Up.YA}return}(n.subtype)||"subtitles",i.Q_=Em.NONE,i.vs=r&&void 0!==r.type?Cm(e=r.type)?e:Im.DEFAULT:Im.WEBVTT,i.MG=[],i.GG=new fC(i.MG),i.zG=[],i.WG=new fC(i.zG),i.VC=Mg(r&&r.mode||Bg.X_),i.Svt=i.VC,i}S(n,t);var i=n.prototype;return i.Y_=function(t){this.q_=t},i.Evt=function(t){},i.Il=function(){},i.A_=function(){},b(n,[{key:"Yw",get:function(){return this.qw||(this.qw=Fg(this)),this.qw}},{key:"M_",get:function(){return this.Dm},set:function(t){t!==this.Dm&&(this.Dm=t,this.Zs(new lm(this)))}},{key:"J_",get:function(){return this.WG}},{key:"Z_",get:function(){return this.GG}},{key:"q_",get:function(){return this.VC},set:function(t){t=Mg(t),this.VC!==t&&(this.VC=t,this.Svt!==t&&this.Zs(new OV(this,this.L_,t)),this.Zs(new fg(this)))}},{key:"Ivt",get:function(){return this.Svt},set:function(t){t=Mg(t);var n=this.VC!==t;this.VC=t,this.Svt=t,n&&this.Zs(new fg(this))}}]),n}(Au);var BV,LV=function(t){function n(n,i){var e;return(e=t.call(this,DV.Tvt)||this).trackId=n,e.enabled=i,e}return S(n,t),n}(Tu),xV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).L_=void 0,u.Dm=void 0,u.Rvt=void 0,u.B_=n,u.PR=i,u.VX=e,u.t$=s,u.L_=km(),u.Dm=r||"",u.Rvt=!0,u}return S(n,t),n.prototype.fE=function(){this.Rvt=!1,this.Zs(new tL(this.Yw))},b(n,[{key:"M_",get:function(){return this.Dm},set:function(t){this.Dm!==t&&(this.Dm=t,this.Zs(new tL(this.Yw)))}},{key:"KJ",get:function(){}},{key:"nK",get:function(){return this.Rvt}}]),n}(Au),MV=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return void 0===h&&(h=0),(c=t.call(this,n,i,e,r,s)||this).qw=void 0,c.$J=u,c.Ek=o,c.oT=a,c.tK=h,c}return S(n,t),b(n,[{key:"Yw",get:function(){return this.qw||(this.qw=EB(this)),this.qw}}]),n}(xV),UV=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).qw=void 0,o.iK=u,o}return S(n,t),b(n,[{key:"Yw",get:function(){return this.qw||(this.qw=IB(this)),this.qw}}]),n}(xV),FV=function(t){function n(n,i){var e;return(e=t.call(this,DV.bvt)||this).track=n,e.targetQuality=i,e}return S(n,t),n}(Tu);!function(t){t.dl="audio",t.ll="video",t.$n="text"}(BV||(BV={}));var HV=function(t){function n(n){var i;(i=t.call(this)||this).B_=void 0,i.L_=void 0,i.x_=void 0,i.U_=void 0,i.Sz=void 0,i.Dm=void 0,i.Nvt=void 0,i.Em=new dm,i.Dvt=void 0,i.Om=void 0,i.Cvt=void 0,i.qw=void 0,i.l$=function(){return i.Zs(new lm(Kt(i)))};var e=n.customData;if(i.L_=+n.trackId||0,i.B_=(e&&e.id||i.L_)+"",i.Dm=e&&e.label||n.name||"",i.U_=e&&e.language||n.language||"",i.x_=e&&e.kind||"main",i.Om=e&&e.enabled,i.Cvt=i.Om,mV(n)){i.Sz=BV.dl;var r=n.customData&&n.customData.qualities;if(r)for(var s=0;s<r.length;s++){var u=r[s],o=new UV(u.id,u.bandwidth,u.codecs,u.name,"",u.audioSamplingRate);o.Js("update",i.l$),i.Em.Im(o)}}else{i.Sz=BV.ll;var a=n.customData&&n.customData.qualities;if(a)for(var h=0;h<a.length;h++){var c=a[h],f=new MV(c.id,c.bandwidth,c.codecs,c.name,"",c.frameRate,c.width,c.height);f.Js("update",i.l$),i.Em.Im(f)}}return i}S(n,t);var i=n.prototype;return i.Bm=function(t){this.P_=t},i.Evt=function(t){if(t.targetQualityIds){for(var n=[],i=0;i<this.Em.T_;i++){var e=this.Em.y_(i);t.targetQualityIds.indexOf(e.B_)>-1&&n.push(e)}var r=n.length?n:void 0;this.Ovt(r)}},i.Ovt=function(t){var n,i;n=this.Dvt,i=t,(!n&&i||n&&!i||n&&i&&!Zs(n,i))&&(this.Dvt=t&&this.Em.Rm(t)?t:void 0,this.Zs(new qB(this.Dvt,this)))},i.unload=function(){for(var t=0,n=this.Em.b_;t<n.length;t++){n[t].nu("update",this.l$)}this.Em.A_()},b(n,[{key:"O_",get:function(){return this.Nvt}},{key:"H_",get:function(){return this.Dvt},set:function(t){this.Ovt(t),this.Zs(new FV(this,t))}},{key:"F_",get:function(){return this.Em}},{key:"M_",get:function(){return this.Dm}},{key:"label",set:function(t){t!==this.Dm&&(this.Dm=t,this.Zs(new lm(this)))}},{key:"P_",get:function(){return this.Om},set:function(t){this.Om!==t&&(this.Om=t,this.Cvt!==t&&this.Zs(new LV(this.L_,t)),this.Zs(new fg(this)))}},{key:"Pvt",get:function(){return this.Cvt},set:function(t){var n=this.Om!==t;this.Om=t,this.Cvt=t,n&&this.Zs(new fg(this))}},{key:"Yw",get:function(){return this.qw||(this.qw=Cg(this)),this.qw}},{key:"q_",get:function(){return this.P_?"enabled":"disabled"}}]),n}(Au);var XV,VV=function(t){function n(n,i){var e;return(e=t.call(this,Nf.Cf)||this).representation=n,e.previousRepresentation=i,e}return S(n,t),n}(Tu),zV=function(t){function n(n,i,e,r,s,u){var o;return void 0===u&&(u=0),(o=t.call(this,Nf.Lf)||this).segmentStartTime=n,o.error=i,o.trackType=e,o.track=r,o.quality=s,o.retryCount=u,o}return S(n,t),n}(Tu),GV=function(t){function n(n,i,e){var r;return(r=t.call(this,Nf.pu)||this).currentTime=n,r.initDataType=i,r.initData=e,r}return S(n,t),n}(Tu);!function(t){t.Bvt="legacy",t.Lvt="caf"}(XV||(XV={}));var WV=function(t){function i(i,e,r){var s;return(s=t.call(this)||this).Dft=void 0,s.Cft=void 0,s.x8=gS.dC(),s.yC=void 0,s.xvt=void 0,s.oa=void 0,s.AG=!1,s.nN=void 0,s.kC=void 0,s.pC=void 0,s.Mvt=void 0,s.bG=ty.Dg,s.sY=gS.dC(),s.aG=gS.dC(),s.AC=!1,s.mvt=void 0,s.kvt=void 0,s.Sy=void 0,s.Ey=void 0,s.Iy=void 0,s.Uvt=void 0,s.Fvt=!1,s.Hvt=function(t){s.Zs(new bA(t.Xg))},s.lN=function(t){s.Zs(new TA(t.Xg))},s.Xvt=function(t){s.Zs(new VV(t.h$,t.c$))},s.Vvt=function(t){s.Zs(new zV(t.Sft,t.mu,t.o4,t.Qw,t.a$,t.Eft))},s.zvt=function(t){s.Zs(new GV(t.Xg,t.ls,t.Su))},s.Gvt=function(t){s.Zs(new OO(new sm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.mu,void 0,t.Ift,t.Xd,t.Gd,t.Rft,t.Qu)))},s.Wvt=function(){s.Zs(new PO)},s.qvt=function(t){s.AC||t.Xg===s.Px()||(s.yC=t.Xg,s.Zs(new Iy(s.Px(),s.Cx())))},s.lG=function(t){s.x8=t.im,s.Zs(new HN(s.Px()))},s.Yvt=function(t){s.xvt=t.W1.getTime()-s.Px()},s.jvt=function(t){s.Qs(t)},s.Qvt=function(t){s.sY=t.mm},s.Zvt=function(t){s.aG=t.Am},s.Jvt=function(t){var n,i;s.kvt=null!=(n=t.Qg)?n:s.kvt,s.mvt=null!=(i=t.Zg)?i:s.mvt,s.Zs(new dA)},s.Gz=function(t){s.bG=t.Q_,s.Zs(new Ly(s.Px(),t.Q_))},s.vG=function(t){s.AC=!0,s.yC=t.Xg,s.Zs(new Dy(t.Xg))},s.dN=function(t){s.AC=!1,s.yC=t.Xg,s.Zs(new Iy(s.Px(),s.Cx())),s.Zs(new Cy(t.Xg))},s.Kvt=function(t){var n=t.Vg;s.oa===n||y(s.oa)&&y(n)||(s.oa=n,s.Zs(new Sy(s.oa)))},s.rst=function(){s.AG=!0,s.yC=s.Lx(),s.Zs(new Ry(s.Px()))},s.sst=function(t){var n=t.qg;s.Fvt=n,s.kC!==n&&(s.kC=n,s.kC?s.Zs(new ky(s.Px())):s.Zs(new py(s.Px())))},s.$vt=function(t){var n=t.Yg;s.Mvt!==n&&(s.Mvt=void 0,s.pC!==n&&(s.pC=n,s.Zs(new Ey(s.Px(),n))))},s.tdt=function(t){YV(s.Sy,t.audioTracks.map(function(t){return t.trackId})),YV(s.Ey,t.videoTracks.map(function(t){return t.trackId})),YV(s.Iy,t.textTracks.map(function(t){return t.trackId}));var n=t.videoTracks;if(s.ndt()&&0===n.length&&0!==s.iM()){var i=s.idt();n.push(i)}var e=t.audioTracks;if(s.ndt()&&0===e.length){var r=s.edt();e.push(r)}jV(e,s.Sy),jV(n,s.Ey),function(t,n){for(var i=!1,e=0;e<t.length;e++){var r=t[e],s=qV(n,r.trackId);s||(s=new PV(r),n.m_(s),i=!0)}}(t.textTracks,s.Iy)},s.rdt=function(t){var n=t.trackIds;if(s.ndt()){var i=s.Ey.b_.map(function(t){return t.B_}),e=s.Sy.b_.map(function(t){return t.B_});Ys(i.concat(e),"0")&&n.push(0)}QV(n,s.Sy),QV(n,s.Ey),function(t,n){for(var i=0,e=n.b_;i<e.length;i++){var r=e[i];r.Ivt=Ys(t,r.L_)?Bg.z_:Bg.X_}}(n,s.Iy)},s.fft=function(t){s.Uvt=void 0,s.Zs(new KX(t))},s.Dft=i,s.Cft=e,s.yC=r.Px(),s.oa=r.Lx(),s.kC=r.Gx(),s.pC=r.Wx(),s.mvt=r.iM(),s.kvt=r.tM(),s.Sy=r.Rx(),s.Ey=r.nM(),s.Iy=r.$x(),s.Cft.Js(MX.mf,s.rst),s.Cft.Js(MX.If,s.sst),s.Cft.Js(MX.Of,s.Jvt),s.Cft.Js(MX.Pf,s.dN),s.Cft.Js(MX.Hg,s.lN),s.Cft.Js(MX.Bf,s.vG),s.Cft.Js(MX.Fg,s.Hvt),s.Cft.Js(MX.pu,s.zvt),s.Cft.Js(MX.rft,s.jvt),s.Cft.Js(MX.Xf,s.qvt),s.Cft.Js(MX.bft,s.tdt),s.Cft.Js(MX.yft,s.Qvt),s.Cft.Js(MX.GF,s.lG),s.Cft.Js(MX.gf,s.Kvt),s.Cft.Js(MX.pft,s.Zvt),s.Cft.Js(MX.Lf,s.Vvt),s.Cft.Js(MX.a_,s.Gz),s.Cft.Js(MX.Tft,s.rdt),s.Cft.Js(MX.ift,s.$vt),s.Cft.Js(MX.Cf,s.Xvt),s.Cft.Js(MX.mft,s.Yvt),s.Cft.Js(MX.df,s.Gvt),s.Cft.Js(MX.lf,s.Wvt),s}S(i,t);var e=i.prototype;return e.pvt=function(){this.kC=!1,this.Zs(new py(this.Px()))},e.Nx=function(){return this.x8.qN()},e.Px=function(){return this.yC},e.Cx=function(){if(this.xvt)return new Date(this.Px()+this.xvt)},e.Lx=function(){return this.oa},e.Ux=function(){return this.nN},e.Mx=function(){return this.AG},e.Gx=function(){return this.kC},e.Wx=function(){return this.pC},e.qx=function(t){this.pC!==t&&(this.Mvt=this.pC,this.pC=t,this.Zs(new Ey(this.Px(),t)),this.Cft.qx(t))},e.Zx=function(){return this.bG},e.Yx=function(){return this.sY.qN()},e.Jx=function(){var t=this,n=this.aG.qN(),i=n.end;return n.end=function(n){var e=t.Px();return i(n)<e?e:i(n)},n},e.Kx=function(){return this.AC},e.Rx=function(){return this.Sy},e.nM=function(){return this.Ey},e.$x=function(){return this.Iy},e.idt=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.tM(),id:"0",name:"",width:this.iM()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:WX.ll}},e.edt=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:WX.dl}},e.ndt=function(){var t,n;return!(void 0!==(null==(t=this.Dft.gft())?void 0:t.version))||(null==(n=this.Dft.gft())?void 0:n.sdkType)===XV.Lvt},e.qft=function(t){this.ndt()&&Ws(t,0),this.Cft.qft(t)},e.iM=function(){return this.mvt},e.tM=function(){return this.kvt},e.Ly=function(){this.kC&&(this.kC=!1,this.Fvt=!1,this.Zs(new py(this.Px()))),this.Cft.Ly()},e.xy=function(){this.kC||(this.kC=!0,this.Fvt=!0,this.Zs(new ky(this.Px()))),this.Cft.xy()},e.xu=function(t){var n,i,e=void 0!==this.Uvt;(this.Uvt=t,this.Fvt=this.Gx(),e)||(null!=(n=null==(i=this.Dft.gft())?void 0:i.version)&&n&&this.vG(new sV(t)),this.cj(t))},e.cj=function(t){this.Cft.xu(t,this.Fvt).then(this.sdt(t)).catch(this.fft)},e.sdt=function(t){var n=this;return function(){void 0!==n.Uvt&&(n.Uvt===t?n.Uvt=void 0:n.cj(n.Uvt))}},e.My=function(){this.Cft.My()},e.Il=function(){this.Cft.nu(MX.mf,this.rst),this.Cft.nu(MX.If,this.sst),this.Cft.nu(MX.Of,this.Jvt),this.Cft.nu(MX.Pf,this.dN),this.Cft.nu(MX.Hg,this.lN),this.Cft.nu(MX.Bf,this.vG),this.Cft.nu(MX.Fg,this.Hvt),this.Cft.nu(MX.pu,this.zvt),this.Cft.nu(MX.rft,this.jvt),this.Cft.nu(MX.Xf,this.qvt),this.Cft.nu(MX.bft,this.tdt),this.Cft.nu(MX.yft,this.Qvt),this.Cft.nu(MX.GF,this.lG),this.Cft.nu(MX.gf,this.Kvt),this.Cft.nu(MX.pft,this.Zvt),this.Cft.nu(MX.Lf,this.Vvt),this.Cft.nu(MX.a_,this.Gz),this.Cft.nu(MX.Tft,this.rdt),this.Cft.nu(MX.ift,this.$vt),this.Cft.nu(MX.Cf,this.Xvt),this.Cft.nu(MX.mft,this.Yvt),this.Cft.nu(MX.df,this.Gvt),this.Cft.nu(MX.lf,this.Wvt),this.Cft.Il()},i}(Au);function qV(t,n){for(var i=0,e=t.b_;i<e.length;i++){var r=e[i];if(r.L_===n)return r}}function YV(t,n){for(var i=!1,e=0;e<t.T_;e++){var r=t.y_(e);-1===n.indexOf(r.L_)&&(t.k_(r),e--,i=!0)}return i}function jV(t,n){for(var i=!1,e=0;e<t.length;e++){var r=t[e],s=qV(n,r.trackId);s||(s=new HV(r),n.m_(s),i=!0)}return i}function QV(t,n){for(var i=0,e=n.b_;i<e.length;i++){var r=e[i];r.Pvt=Ys(t,r.L_)}return!1}var ZV=[Nf.mf,Nf.gf,Nf.Df,Nf.Of,Nf.If,Nf.Rf,Nf.Nf,Nf.Xf,Nf.Bf,Nf.Pf,yy.Fg,yy.Hg,Nf.Cf,Nf.Lf,Nf.pu,Nf.df,Nf.lf],JV=50,KV=function(t){function n(n,i){var e;return(e=t.call(this)||this).fk=!1,e.udt=J,e.odt=0,e.SE=ty.Dg,e.RE=!1,e.IE=!1,e.adt=!1,e.hdt=void 0,e.Dft=void 0,e.Da=void 0,e.mC=void 0,e.me=void 0,e.Yft=void 0,e.mD=void 0,e.krt=void 0,e.nN=void 0,e.iN=void 0,e.cdt=function(t){var n,i;(t.Jg&&!Ut(t.Jg,e.Da,1e-5)||t.Wg&&t.Wg!==e.mC)&&(e.Da=null!=(n=t.Jg)?n:e.Da,e.mC=null!=(i=t.Wg)?i:e.mC,e.Zs(new Oy(e.Xg,e.Da)))},e.fdt=function(){var t,n=e.Dft.tvt();null==(t=e.Yft)||t.nu(MX.Aft,e.vdt),n?(e.Yft=n,e.Yft.Js(MX.Aft,e.vdt),e.vQ=new WV(e.Dft,n,e.me)):e.vQ=e.ddt()},e.vdt=function(t){e.ED(t.tm),e.Vft(t.cD)},e.ldt=function(t){var n=e.wdt(t.rT);if(n){var i={targetQualityIds:t.aft};n.Evt(i)}},e.jvt=function(t){e._dt(t.mu)},e._dt=function(t){e.udt&&e.udt(t)},e.gdt=function(t){e.nN=t.mu,e.iN=hm(e.nN),e.Zs(new xy(e.iN))},e.ydt=function(t){if(t.enabled)for(var n=0,i=(e.Oy.b_.some(function(n){return n.L_===t.trackId})?e.Oy:e.Cy).b_;n<i.length;n++){var r=i[n];r.P_&&r.L_!==t.trackId&&(r.P_=!1)}},e.mdt=function(t){var n,i;if(t.mode===Bg.z_)for(var r=0,s=e.Py.b_;r<s.length;r++){var u=s[r];u.q_===Bg.z_&&u.L_!==t.trackId&&(n=u.x_,i=t.track.x_,Xp(n)&&Xp(i)&&(n===i||n===Up.WA&&i===Up.nE||n===Up.nE&&i===Up.WA))&&(u.q_=Bg.X_)}},e.Hft=$(function(){e.kdt()},JV),e.pdt=function(t){var n=e.Adt(t.targetQuality),i=t.track;e.Dft._ft(i.L_,i.Sz,n)},e.NE=function(t){e.Zs(t);var n=t.readyState;!e.RE&&e.SE===ty.Dg&&n>=ty.Cg&&(e.RE=!0,e.Zs(new Ty(t.currentTime))),!e.IE&&e.SE<=ty.Cg&&n>=ty.Og&&(e.IE=!0,e.Zs(new Ny(t.currentTime))),e.SE<=ty.Og&&n>=ty.Pg&&e.Zs(new Py(t.currentTime)),e.SE<=ty.Pg&&n===ty.Bg&&e.Zs(new By(t.currentTime)),e.SE=n},e.yD=n,e.Da=e.yD.Jg,e.mC=e.yD.Wg,e.Dft=i,e.Dft.Js(BX.rft,e.jvt),e.Dft.Js(BX.sft,e.gdt),e.Dft.Js(BX.Vf,e.cdt),e.Dft.Js(BX.eft,e.fdt),e.Dft.Js(BX.uft,e.ldt),e.mD=e.yD.tm,e.krt=e.yD.Uy(),e.vQ=new CV(Kt(e),e.yD.Xg,e.yD.Vg,e.yD.zg,e.yD.qg,e.yD.Yg,new vm,new vm,new Fp,e.yD.Zg,e.yD.Qg),e.bdt(),e}S(n,t);var i=n.prototype;return i.ED=function(t){t&&(yg(this.mD&&pg(this.mD),t&&pg(t))||(this.mD=t,this.Zs(new Yg(t))))},i.Vft=function(t){t&&(yg(this.krt&&pg(this.krt),t&&pg(t))||(this.odt=0,this.krt=t,this.Zs(new kN(t)),this.me.pvt()))},i.wdt=function(t){for(var n=0,i=this.Oy.b_;n<i.length;n++){var e=i[n];if(e.L_===t)return e}for(var r=0,s=this.Cy.b_;r<s.length;r++){var u=s[r];if(u.L_===t)return u}},i.Qh=function(){var t=this.hdt||this.yD.Uy();this.fk&&t&&this.nvt(t,!this.yD.qg,this.yD.Xg)},i.Uy=function(){return this.krt},i.Fy=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.krt=t,n.next=3,Lr.awrap(this.nvt(t,!0,0));case 3:this.hdt=void 0;case 4:case"end":return n.stop()}},null,this,null,We)},i.jy=function(){},i.Qy=function(){return kS},i.Zy=function(){return[]},i.zy=function(){},i.Ly=function(){this.Dft.tvt()||this.adt||!this.krt?this.me.Ly():this.nvt(this.krt,!0,0)},i.xy=function(){this.me.xy()},i.My=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.me.My();case 1:case"end":return t.stop()}},null,this,null,We)},i.Gy=function(t){this.fk=!0},i.Wy=function(){this.mD=void 0;var t=this.Jg,n=this.Wg;this.fk=!1,t===this.yD.Jg&&n===this.yD.Wg||this.Zs(new Oy(this.Xg,this.Jg))},i.Jy=function(t){return!1},i.qy=function(){},i.Yy=function(){},i.Hy=function(){return!1},i.Xy=function(){},i.Vy=function(){},i.nvt=function(t,n,i){this.adt=!0,this.A_(),this.odt=this.yD.Am.length>0?this.yD.Am.start(0):0;var e=this.Vg===1/0,r=function(t,n,i){return{theoplayer_version:NV,streamStart:t,isLive:n,sourceDescription:i}}(this.odt,e,t),s={ivt:t,Xg:i?i-this.odt:0,evt:r};return this.Tdt(s)},i.Tdt=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Lr.awrap(this.Dft.nvt(t));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),this._dt(n.t0);case 8:return n.prev=8,this.adt=!1,n.finish(8);case 11:case"end":return n.stop()}},null,this,[[0,5,8,11]],We)},i.bdt=function(){this.Sdt(this.Cy,"audio"),this.Sdt(this.Oy,"video"),this.Sdt(this.Py,"text")},i.Sdt=function(t,n){for(var i=this,e=0,r=t.b_;e<r.length;e++){var s=r[e];this.Edt(s,n)}t.Js($_.Vw,function(t){i.Edt(t.Qw,n)})},i.Edt=function(t,n){"text"!==n?(t.Js(DV.bvt,this.pdt),t.Js(DV.Tvt,this.ydt),t.Js(DV.Tvt,this.Hft)):(t.Js(DV.Avt,this.mdt),t.Js(DV.Avt,this.Hft))},i.kdt=function(){for(var t=[],n=0,i=this.Oy.b_;n<i.length;n++){var e=i[n];e.P_&&t.push(e.L_)}for(var r=0,s=this.Cy.b_;r<s.length;r++){var u=s[r];u.P_&&t.push(u.L_)}for(var o=0,a=this.Py.b_;o<a.length;o++){var h=a[o];h.q_===Bg.z_&&t.push(h.L_)}this.me.qft(t)},i.Adt=function(t){var n,i;return!!t&&((null!=(n=null==(i=this.Dft.gft())?void 0:i.version)?n:-1)>=2?t.map(function(t){return t.B_}):[t[0].B_])},i.Idt=function(t){this.udt=t},i.nm=function(){},i.A_=function(){return this.SE=ty.Dg,this.RE=!1,this.IE=!1,this.nN=void 0,this.iN=void 0,We.resolve()},i.Il=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lr.awrap(this.A_());case 2:this.tu(),this.vQ=this.ddt(),this.Dft.nu(BX.rft,this.jvt),this.Dft.nu(BX.sft,this.gdt),this.Dft.nu(BX.Vf,this.cdt),this.Dft.nu(BX.eft,this.fdt),this.Dft.nu(BX.uft,this.ldt),this.Dft.Il();case 10:case"end":return t.stop()}},null,this,null,We)},i.ddt=function(){return new CV(this,this.me.Px(),this.me.Lx(),this.me.Mx(),this.me.Gx(),this.me.Wx(),this.me.Rx(),this.me.nM(),this.me.$x(),this.me.iM(),this.me.tM())},b(n,[{key:"vQ",set:function(t){var n,i,e;null==(n=this.me)||n.nu(MX.rft,this.jvt),null==(i=this.me)||i.nu(ZV,this.Qs),null==(e=this.me)||e.nu(yy.a_,this.NE);var r=this.me;this.me=t,null==r||r.Il(),this.me.Js(MX.rft,this.jvt),this.me.Js(ZV,this.Qs),this.me.Js(yy.a_,this.NE)}},{key:"_k",get:function(){return this.fk}},{key:"Cy",get:function(){return this.me.Rx()}},{key:"im",get:function(){return this.me.Nx()}},{key:"Rdt",get:function(){return this.hdt||this.krt},set:function(t){this.hdt=t}},{key:"um",get:function(){return this.me.Cx()}},{key:"tm",get:function(){return this.mD}},{key:"Xg",get:function(){return this.me.Px()+this.odt},set:function(t){this.adt||(this.Dft.tvt()||this.adt||!this.krt?this.me.xu(t-this.odt):this.nvt(this.krt,!0,t))}},{key:"Vg",get:function(){return this.me.Lx()}},{key:"hm",get:function(){return this.yD.hm}},{key:"zg",get:function(){return this.me.Mx()}},{key:"mu",get:function(){return this.nN}},{key:"Gg",get:function(){return this.iN}},{key:"By",get:function(){}},{key:"fm",get:function(){return{vm:0,dm:0,lm:0,wm:0,_m:0,gm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Wg",get:function(){return this.fk?this.mC:this.yD.Wg},set:function(t){this.mC=t,this.Zs(new Oy(this.Xg,this.Jg)),this.Dft.Vx(t)}},{key:"ym",get:function(){return!0}},{key:"qg",get:function(){return this.me.Gx()}},{key:"Yg",get:function(){return this.me.Wx()},set:function(t){this.me.qx(t)}},{key:"mm",get:function(){return this.me.Yx()}},{key:"pm",get:function(){return hS.lD},set:function(t){}},{key:"Q_",get:function(){return this.me.Zx()}},{key:"Am",get:function(){return this.me.Jx()}},{key:"jg",get:function(){return this.me.Kx()}},{key:"Py",get:function(){return this.me.$x()}},{key:"Qg",get:function(){return this.me.tM()}},{key:"Zg",get:function(){return this.me.iM()}},{key:"Oy",get:function(){return this.me.nM()}},{key:"Jg",get:function(){return this.fk?this.Da:this.yD.Jg},set:function(t){this.Da=t,this.Zs(new Oy(this.Xg,this.Jg)),this.Dft.rM(t)}},{key:"Tm",get:function(){return this.yD.Tm}},{key:"Sm",get:function(){return!1},set:function(t){}},{key:"cm",get:function(){return!1}}]),n}(Wg),$V=function(t){function n(n){var i;return(i=t.call(this,"error")||this).mu=n,i}return S(n,t),n.prototype.jw=function(){return new tz(this.mu)},n}(ng),tz=function(t){function n(n){var i;return(i=t.call(this,"error")||this).error=n,i}return S(n,t),n}(Tu),nz=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return S(n,t),n}(Tu);function iz(t,n){var i=void 0;return{get casting(){return t.NM},get error(){return t.mu},get receiverName(){return t.Ndt},get state(){return t.vQ},start:function(){t.DD()},stop:function(){t.My()},join:function(){t.Ddt()},leave:function(){t.Cdt()},set connectionCallback(t){null==n||n.cvt(t)},get connectionCallback(){return null==n?void 0:n.fvt()},get source(){return i||t.cD},set source(n){i=n,t.cD=n?OE(n):void 0},addEventListener:function(n,i){var e=Ig(n,Sg);t.Js(e,i)},removeEventListener:function(n,i){var e=Ig(n,Sg);t.nu(e,i)}}}var ez=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Pc=void 0,r.nN=void 0,r.qw=void 0,r.Odt=void 0,r.yD=void 0,r.me=JS.UNAVAILABLE,r.Pdt=void 0,r.Bdt=void 0,r.Ldt=void 0,r.xdt=void 0,r.Mdt=!1,r.Udt=function(t){var n=t.vQ;n!==JS.UNAVAILABLE&&n!==JS.AVAILABLE||r.Fdt(!1),r.vQ=n},r.hdt=void 0,r.wq=function(t){t instanceof NX&&(r.nN=t,r.Zs(new $V(t).Yw))},r.Ldt=n,r.xdt=e,r.Pc=i.chromecast,r.Pdt=i.strategy,r.Bdt=r.xdt.gx(r.Pc),r.Bdt.then(function(){r.xdt.Js(pX.Mct,r.Udt),r.vQ=r.xdt.avt()}).catch(r.wq),r}S(n,t);var i=n.prototype;return i.Hdt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Bdt){t.next=2;break}throw new v("Chromecast must be initialized before starting a session");case 2:return t.next=4,Lr.awrap(this.Bdt);case 4:if(this.xdt.vvt()){t.next=7;break}return t.next=7,Lr.awrap(this.xdt.dvt());case 7:case"end":return t.stop()}},null,this,null,We)},i.DD=function(){var t,n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.Mdt=!0,r.prev=1,this.vQ=JS.CONNECTING,r.next=5,Lr.awrap(this.Hdt());case 5:if(this.Xdt(),!this.yD){r.next=13;break}return i=null==(n=this.Odt)?void 0:n.Uy(),r.next=10,Lr.awrap(this.xdt.lvt(i));case 10:(e=r.sent)?this.yD.Rdt=e:this.hdt?this.yD.Rdt=this.hdt:this.yD.Rdt=i,this.yD.Qh();case 13:this.vQ=JS.CONNECTED,null==(t=this.Odt)||t.A_(),r.next=23;break;case 17:return r.prev=17,r.t0=r.catch(1),r.next=21,Lr.awrap(this.Fdt(!1));case 21:this.vQ=JS.AVAILABLE,ou(r.t0)||this.wq(r.t0);case 23:case"end":return r.stop()}},null,this,[[1,17]],We)},i.Ddt=function(){var t,n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.Mdt=!0,r.prev=1,this.vQ=JS.CONNECTING,r.next=5,Lr.awrap(this.Hdt());case 5:if(this.Xdt(),!this.yD){r.next=12;break}return i=null==(n=this.Odt)?void 0:n.Uy(),r.next=10,Lr.awrap(this.xdt._vt(i));case 10:(e=r.sent)&&(this.yD.Rdt=e);case 12:this.vQ=JS.CONNECTED,null==(t=this.Odt)||t.A_(),r.next=22;break;case 16:return r.prev=16,r.t0=r.catch(1),r.next=20,Lr.awrap(this.Fdt(!0));case 20:this.vQ=JS.AVAILABLE,ou(r.t0)||this.wq(r.t0);case 22:case"end":return r.stop()}},null,this,[[1,16]],We)},i.Vdt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.xdt.vvt()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Lr.awrap(this.DD());case 4:case"end":return t.stop()}},null,this,null,We)},i.Xdt=function(){this.Odt=this.Ldt.AM.D_,this.yD||(this.yD=this.zdt(this.Odt)),this.nN=void 0,this.Odt.xy(),this.Ldt.AM.D_=this.yD},i.zdt=function(t){var n=new KV(t,this.xdt.vvt());return n.Idt(this.wq),this.Ldt.AM.Dy(n),n},i.Gdt=function(){this.yD&&(this.Ldt.AM.Ky(this.yD),this.yD.Il(),this.yD=void 0)},i.Fdt=function(t){var n,i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.Mdt=!1,this.yD){s.next=4;break}return s.abrupt("return");case 4:if(n=this.yD._k,this.Ldt.AM.D_=this.Odt,i=this.yD.Uy(),e=this.yD.Xg,this.Gdt(),!n){s.next=20;break}if(!t){s.next=16;break}return s.next=13,Lr.awrap(this.xdt.gvt(i));case 13:r=s.sent,s.next=19;break;case 16:return s.next=18,Lr.awrap(this.xdt.wvt(i));case 18:r=s.sent;case 19:(r||i)&&(this.Ldt.Yw.source=r||i,this.Ldt.Bx(e),this.Ldt.Ly());case 20:case"end":return s.stop()}},null,this,null,We)},i.Cdt=function(){this.NM&&(this.xdt.yvt(!1),this.Fdt(!0))},i.My=function(){this.NM&&(this.xdt.yvt(!0),this.Fdt(!1))},i.Il=function(){this.tu(),this.Gdt()},b(n,[{key:"NM",get:function(){return this.vQ===JS.CONNECTING||this.vQ===JS.CONNECTED}},{key:"mu",get:function(){return this.nN}},{key:"Yw",get:function(){return this.qw||(this.qw=iz(this,this.xdt)),this.qw}},{key:"Ndt",get:function(){var t;return null==(t=this.xdt.vvt())?void 0:t.rvt()}},{key:"cD",get:function(){var t;return this.hdt?this.hdt:null==(t=this.yD)?void 0:t.Rdt},set:function(t){this.hdt=t,t&&this.yD&&(this.yD.Rdt=t,this.yD.Qh())}},{key:"vQ",get:function(){return this.me},set:function(t){this.Mdt||t!==JS.CONNECTING&&t!==JS.CONNECTED||(t=JS.AVAILABLE),this.me!==t&&(this.me=t,this.Zs(new nz(this.vQ)))}}]),n}(Gg);ez.Wdt="ChromecastController",oN(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.jw=function(){var n=this.CU.Yw;return _g(t.prototype.jw.call(this),{get cast(){return n}})},n}(t)},iN.LU);var rz,sz=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).qw=void 0,n}S(n,t);var i=n.prototype;return i.Ddt=function(){console.warn("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Cdt=function(){console.warn("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.DD=function(){console.warn("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.My=function(){console.warn("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Vdt=function(){return We.resolve()},i.Il=function(){},b(n,[{key:"NM",get:function(){return!1}},{key:"mu",get:function(){}},{key:"Ndt",get:function(){}},{key:"cD",get:function(){},set:function(t){}},{key:"vQ",get:function(){return JS.UNAVAILABLE}},{key:"Yw",get:function(){return this.qw||(this.qw=iz(this)),this.qw}}]),n}(Gg);function uz(t){return function(n){return function(n){function i(i,e){var r;return(r=n.call(this,i,e)||this).qdt=void 0,r.uc.cast.strategy!==Qg.DISABLED?(r.qdt=new ez(Kt(r),r.uc.cast,t),r.CU.DM(r.qdt)):r.qdt=new sz,r}S(i,n);var e=i.prototype;return e.jw=function(){var t=this,i=n.prototype.jw.call(this);return _g(i.cast,{get chromecast(){return t.qdt.Yw}}),i},e.Uy=function(){var t,i,e=n.prototype.Uy.call(this);return!e&&null!=(t=this.qdt)&&t.NM&&null!=(i=this.qdt)&&i.cD?this.qdt.cD:e},e.Ly=function(){n.prototype.Ly.call(this),this.uc.cast.strategy===Qg.AUTO&&this.qdt&&!this.qdt.NM&&this.qdt.Vdt()},e.Il=function(){this.qdt&&this.qdt.Il(),n.prototype.Il.call(this)},i}(n)}}oN(uz(new RV),iN.LU),function(t){t[t.Ydt=0]="Ydt",t[t.jdt=1]="jdt"}(rz||(rz={}));var oz,az,hz=function(){function t(t){this.Qdt=Ur(),this.Zdt=Ur(),this.Jdt=t}var n=t.prototype;return n.Kdt=function(t,n,i,e,r,s,u,o,a,h,c){var f=this;t.oO.forEach(function(t){if(!f.$dt(t.tlt)){var v=t.nlt(n,i,e,r,s,u,o,a,h,c);v&&f.ilt(v,i)}})},n.$dt=function(t){return this.Qdt.get(t)},n.ilt=function(t,n){this.Qdt.set(t.elt,t),this.Zdt.set(t.elt,t.rlt),n.Dy(t),this.Jdt.HC(t.slt)},n.ult=function(t){this.Qdt.has(t.elt)||(this.Zdt.set(t.elt,t),this.Jdt.HC(t.slt))},n.olt=function(t){return this.Zdt.forEach(t)},n.hlt=function(t){this.Qdt.forEach(function(n){n.hlt(t)})},n.Il=function(){this.Qdt.clear(),this.Zdt.clear()},t}(),cz=function(t){function n(n,i,e,r){var s;return(s=t.call(this,e||i&&fz[i]||n,r)||this).clt=n,s.flt=i,s.vlt=e,s}return S(n,t),b(n,[{key:"dlt",get:function(){return this.clt}},{key:"llt",get:function(){var t;return null!=(t=this.flt)?t:az.UNKNOWN_ERROR}}]),n}(tn);!function(t){t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general"}(oz||(oz={})),function(t){t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED"}(az||(az={}));var fz={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."},vz=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).wlt=void 0,e.wlt=i,e}return S(n,t),n}(ng),dz=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).ad=i,e}return S(n,t),n}(Tu),lz=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"_lt",null)||this).dlt=n,s.wu=i,s.ju=e,s.cD=r,s}return S(n,t),n.prototype.jw=function(){return new wz(this.dlt,this.wu,this.ju,this.cD)},n.glt=function(t){return new n(oz.GENERAL,t.wu,t.llt)},n.ylt=function(t,i){return new n(t.dlt,t.message,t.llt,i)},n}(vz),wz=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"aderror",null)||this).problemType=n,s.message=i,s.errorCode=e,s.source=r,s}return S(n,t),n}(dz);var _z=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).klt=void 0,r.plt=void 0,r.klt=n,r.plt=e,r}return S(n,t),n.prototype.Ly=function(){this.klt.D_=this.plt,this.klt.Ly()},n}(BR),gz=function(t){function i(n,i){var e,r;return(e=t.call(this)||this).Yw=void 0,e.Alt=void 0,e.blt=void 0,e.Tlt=void 0,e.Slt=!1,e.Elt=!1,e.Ilt=function(){e.Slt&&e.Rlt("Starting ads was not possible. Turn off your AdBlocker and try again.")},e.VJ=function(){e.Elt=!0},e.yD=n,e.klt=i,i.Js("play",e.VJ),e.Yw=(r=Kt(e),{get playing(){return r.Nlt},get currentAds(){var t=[];return r.Dlt(function(n){var i=n.Clt;i.length&&(t=t.concat(i))}),t},get currentAdBreak(){var t=null;return r.Dlt(function(n){!t&&n.Olt&&(t=n.Olt)}),t},get scheduledAds(){var t=[];return r.Dlt(function(n){t=t.concat(n.Plt)}),t},get scheduledAdBreaks(){var t=[];return r.Dlt(function(n){t=t.concat(n.Blt)}),t},skip:function(){r.Dlt(function(t){t.cb()})},schedule:function(t){var n=RE(t,KS.Yn);n?r.Oe(n,rz.Ydt,!1):console.error("Invalid ad description")},addEventListener:function(t,n){r.Llt.Js(t,n)},removeEventListener:function(t,n){r.Llt.nu(t,n)}}),e.Tlt=new OR(Kt(e),e.Yw),e.blt=new hz(Kt(e)),e.Js("_lt",e.Ilt),e}S(i,t);var e=i.prototype;return e.Oe=function(t,n,i){try{this.Slt=i;var e=KS.Yn.uO(t),r=this.blt.$dt(e.tlt);if(!r)throw new cz(oz.ADBLOCK);n!==rz.jdt&&this.Elt||(this.Alt=new _z(this.klt,this.klt.D_,r),this.klt.D_=this.Alt),e.Oe(t,n,r,this.Slt)}catch(n){0,this.Zs(lz.ylt(n,t.sources))}},e.hlt=function(t){this.blt.hlt(t)},e.Rlt=function(t){var i,e=new hf(n.ErrorCode.AD_BLOCKER_DETECTED,t),r=am(e);this.klt.D_=new bS(this.yD.hm,r,e),null==(i=this.Alt)||i.Il(),this.yD.Il(),this.Il(),this.klt.Ky(this.yD)},e.Dlt=function(t){return this.xlt.olt(t)},e.A_=function(){var t;this.Elt=!1,this.klt.D_===this.Alt&&(this.klt.D_=this.yD),null==(t=this.Alt)||t.A_(),this.Alt=void 0},e.Il=function(){this.tu(),this.klt.nu("play",this.VJ),this.nu("_lt",this.Ilt),this.blt.Il(),this.Tlt.Il(),this.Alt=void 0},b(i,[{key:"xlt",get:function(){return this.blt}},{key:"Llt",get:function(){return this.Tlt}},{key:"Nlt",get:function(){var t=!1;return this.Dlt(function(n){t=t||n.Mlt}),t}}]),i}(FS);oN(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ult=void 0,e.Ult=new gz(e.fU,e.AM),e}S(n,t);var i=n.prototype;return i.Fy=function(n){this.Ult.A_(),t.prototype.Fy.call(this,n)},i.dF=function(n,i){var e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return au(i),o.next=3,Lr.awrap(t.prototype.dF.call(this,n,i));case 3:if(au(i),n&&n.ads){o.next=6;break}return o.abrupt("return");case 6:for(e=Boolean(n.blockContentIfAdError),this.Ult.hlt(n.playAdsAfterTime),r=0,s=n.ads;r<s.length;r++)u=s[r],this.Ult.Oe(u,rz.jdt,e);case 9:case"end":return o.stop()}},null,this,null,We)},i.jw=function(){var n=this;return _g(t.prototype.jw.call(this),{get ads(){return n.Ult.Yw}})},i.Il=function(){this.Ult.Il(),t.prototype.Il.call(this)},n}(t)},iN.LU),oN(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ult&&e.Ult.xlt.Kdt(KS.Yn,e.fU,e.AM,e.OU,i,e.DU,e.BU,e.NU,e.Xw,n,e.wU),e}return S(n,t),n.prototype.Il=function(){t.prototype.Il.call(this)},n}(t)},iN.LU);var yz=0!==M.Bn?M.Bn:M.cn,mz=M.hn&&yz<12,kz=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ey=void 0,r.Sy=void 0,r.Iy=void 0,r.Flt=void 0,r.hN=new tS,r.Hlt=function(){r.fD.qy()},r.Xlt=function(){r.doHandleWindowFocus()},r.fD=n,r.Vlt=i,r.OU=e,r.Ey=new vm,r.Sy=new vm,r.Iy=new Fp,r.Flt=new US,r.fD.Js("currentsourcechange",r.Qs),r}S(n,t);var i=n.prototype;return i.Gy=function(t){Hy(this,t)},i.Wy=function(){0},i.Qy=function(){return kS},i.Uy=function(){return this.Vlt.Uy()},i.Fy=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return au(n),i.next=3,Lr.awrap(this.fD.Fy(t,n));case 3:case"end":return i.stop()}},null,this,null,We)},i.Hy=function(){return!1},i.Xy=function(){},i.Vy=function(){},i.Il=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.tu(),this.Sy.Il(),this.Ey.Il(),this.Iy.Il(),this.Flt.Il(),this.fD.nu("currentsourcechange",this.Qs);case 6:case"end":return t.stop()}},null,this,null,We)},i.zlt=function(){mz&&this.addWindowFocusEventListeners(),this.Vlt.D_=this},i.Glt=function(){mz&&this.removeWindowFocusEventListeners(),M.zn&&this.hm.querySelectorAll("video[src]").forEach(function(t){t.src=""}),this.Vlt.D_=this.fD},i.addWindowFocusEventListeners=function(){le.addEventListener("blur",this.Hlt),le.addEventListener("focus",this.Xlt)},i.removeWindowFocusEventListeners=function(){le.removeEventListener("blur",this.Hlt),le.removeEventListener("focus",this.Xlt)},i.doHandleWindowFocus=function(){var t=this;requestAnimationFrame(function(){return t.fD.Yy()})},i.nm=function(){},i.A_=function(){return We.resolve()},b(n,[{key:"rlt",get:function(){return this}},{key:"Blt",get:function(){return[]}},{key:"By",get:function(){}},{key:"Tm",get:function(){return this.hN}},{key:"slt",get:function(){return this.Flt}},{key:"Cy",get:function(){return this.Sy}},{key:"Mlt",get:function(){return this.Vlt.D_===this}},{key:"im",get:function(){return gS.dC().qN()}},{key:"um",get:function(){return null},set:function(t){}},{key:"tm",get:function(){return this.fD.tm}},{key:"cm",get:function(){return!1}},{key:"fm",get:function(){return{vm:0,dm:0,lm:0,wm:0,_m:0,gm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"ym",get:function(){return!0}},{key:"Yg",get:function(){return 1},set:function(t){}},{key:"pm",get:function(){return this.fD.pm},set:function(t){this.fD.pm=t}},{key:"mm",get:function(){return new gS([0,this.Xg]).qN()}},{key:"jg",get:function(){return!1}},{key:"Py",get:function(){return this.Iy}},{key:"Oy",get:function(){return this.Ey}},{key:"Sm",get:function(){return!1},set:function(t){}}]),n}(Wg);function pz(t){s.createElement("img").src=t}var Az=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function bz(t){if(q(t)){var n=t.match(Az);if(n)return 3600*_(n[1],10)+60*_(n[2],10)+Number(n[3])+(Number(n[4])||0)/1e3}}function Tz(t){if(void 0!==t){var n=t.match(/^([1-9]?\d|100)%$/);if(n)return _(n[1])/100}}var Sz,Ez=function(){},Iz=function(t){function n(n){var i;return(i=t.call(this)||this).Wlt=void 0,i.Wlt=n,i}return S(n,t),b(n,[{key:"qlt",get:function(){return this.Wlt}}]),n}(Ez),Rz=function(){function t(){this.Ylt=void 0,this.Ylt=null}return b(t,[{key:"jlt",get:function(){return this.Ylt}}]),t}(),Nz=function(t){function n(n){var i;return(i=t.call(this)||this).Qlt=void 0,i.Zlt=void 0,i.Jlt=void 0,i.Qlt=n,i.Zlt=0,i.Jlt=null,i}S(n,t);var i=n.prototype;return i.Klt=function(){if(null===this.Jlt&&(this.Jlt=this.Qlt.qlt[this.Zlt].$lt()),this.Zlt<this.Qlt.qlt.length){var t=this.Jlt.Klt();null==t&&(this.Zlt+=1,this.Zlt<this.Qlt.qlt.length&&(this.Jlt=this.Qlt.qlt[this.Zlt].$lt(),t=this.Jlt.Klt())),this.Ylt=t}else this.Ylt=void 0;return this.Ylt},i.mu=function(){return this.Klt()},n}(Rz),Dz=function(t){function n(n){return t.call(this,n.sort(function(t,n){return t.dS-n.dS}))||this}return S(n,t),n.prototype.$lt=function(){return new Nz(this)},n}(Iz),Cz=function(t){function n(n,i){var e;return(e=t.call(this)||this).twt=void 0,e.nwt=void 0,e.iwt=void 0,e.twt=n,e.nwt=i,e.iwt=!1,e}return S(n,t),b(n,[{key:"B_",get:function(){return this.twt}},{key:"dS",get:function(){return this.nwt}},{key:"ewt",get:function(){return this.iwt}}]),n}(Ez),Oz=function(t){function n(n){var i;return(i=t.call(this)||this).Qlt=void 0,i.rwt=void 0,i.Qlt=n,i.rwt=!1,i}S(n,t);var i=n.prototype;return i.Klt=function(){if(this.rwt)this.Ylt=void 0;else{this.rwt=!0;var t=null,n=null,i=null,e=null,r=[],s=this.Qlt.swt||[];this.Qlt.mu&&(e=this.Qlt.mu);for(var u=0,o=this.Qlt.uwt;u<o.length;u++){var a=o[u];a.owt&&(t=a.owt),a.awt&&(n=a.awt),a.hwt&&(i=a.hwt),r=r.concat(a.universalAdIds)}this.Ylt={cwt:s,owt:t,fwt:n,hwt:i,mu:e,vwt:r}}return this.Ylt},i.mu=function(){return this.Klt()},n}(Rz),Pz=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i)||this).dwt=e,a.lwt=r,a.wwt=s,a._wt=u,a.nN=o,a}return S(n,t),n.prototype.$lt=function(){return new Oz(this)},b(n,[{key:"uwt",get:function(){return this._wt}},{key:"gwt",get:function(){return this.dwt}},{key:"ywt",get:function(){return this.lwt}},{key:"swt",get:function(){return this.wwt}},{key:"mu",get:function(){return this.nN}}]),n}(Cz),Bz=function(){function t(t,n){this.mwt=void 0,this.kwt=void 0,this.mwt=t,this.kwt=n}return b(t,[{key:"pwt",get:function(){return this.mwt}},{key:"Awt",get:function(){return this.kwt}}]),t}(),Lz=function(){function t(t,n,i,e,r,s){this.bwt=void 0,this.Twt=void 0,this.Swt=void 0,this.Ewt=void 0,this.Iwt=void 0,this.Rwt=void 0,this.Nwt=void 0,this.dwt=void 0,this.bwt=t,this.Twt=n,this.Swt=i,this.Ewt=e,this.Iwt=!1,this.Rwt=r,this.dwt=s}return t.prototype.Dwt=function(){this.Iwt=!0},b(t,[{key:"Cwt",get:function(){return this.bwt}},{key:"Owt",get:function(){return this.Twt}},{key:"Pwt",get:function(){return this.Swt}},{key:"Bwt",get:function(){return this.Ewt}},{key:"Lwt",get:function(){return this.Nwt},set:function(t){this.Nwt=t}},{key:"xwt",get:function(){return this.Rwt}},{key:"Mwt",get:function(){return this.Iwt}},{key:"gwt",get:function(){return this.dwt}}]),t}();!function(t){t.Uwt="all",t.Fwt="any",t.wD="none"}(Sz||(Sz={}));var xz,Mz=function(){function t(t,n){this.Hwt=void 0,this.Xwt=void 0,this.Hwt=t,this.Xwt=n}return b(t,[{key:"Vwt",get:function(){return this.Hwt}},{key:"zwt",get:function(){return this.Xwt}}]),t}(),Uz=function(){function t(t,n,i,e,r,s,u,o,a,h,c,f,v,d,l,w){this.Oa=void 0,this.Pa=void 0,this.Bh=void 0,this.Gwt=void 0,this.Wwt=void 0,this.qwt=void 0,this.Ywt=void 0,this.jwt=void 0,this.Qwt=void 0,this.Zwt=void 0,this.bwt=void 0,this.Twt=void 0,this.Swt=void 0,this.Jwt=void 0,this.Kwt=void 0,this.$wt=void 0,this.Oa=t,this.Pa=n,this.Bh=i,this.Gwt=e,this.Wwt=r,this.qwt=s,this.Ywt=u,this.jwt=o,this.Qwt=a,this.Zwt=h,this.bwt=c,this.Twt=f,this.Swt=v,this.Jwt=d,this.Kwt=l,this.$wt=w}return b(t,[{key:"B_",get:function(){return this.Bh}},{key:"Ek",get:function(){return this.Oa}},{key:"oT",get:function(){return this.Pa}},{key:"t_t",get:function(){return this.Gwt}},{key:"n_t",get:function(){return this.Wwt}},{key:"i_t",get:function(){return this.qwt}},{key:"e_t",get:function(){return this.Ywt}},{key:"r_t",get:function(){return this.jwt}},{key:"s_t",get:function(){return this.Qwt}},{key:"u_t",get:function(){return this.Zwt}},{key:"Cwt",get:function(){return this.bwt}},{key:"Owt",get:function(){return this.Twt}},{key:"Pwt",get:function(){return this.Swt}},{key:"o_t",get:function(){return this.Jwt}},{key:"Awt",get:function(){return this.Kwt}},{key:"a_t",get:function(){return this.$wt}}]),t}(),Fz=function(){function t(t,n){this.Bh=void 0,this.D2=void 0,this.Bh=t,this.D2=n}return b(t,[{key:"id",get:function(){return this.Bh}},{key:"uri",get:function(){return this.D2}}]),t}(),Hz=function(){function t(t,n,i,e){this.h_t=void 0,this.c_t=void 0,this.f_t=void 0,this.v_t=void 0,this.h_t=t,this.c_t=n,this.f_t=i,this.v_t=e}return b(t,[{key:"d_t",get:function(){return this.h_t}},{key:"l_t",get:function(){return this.c_t}},{key:"w_t",get:function(){return this.f_t}},{key:"__t",get:function(){return this.v_t}}]),t}(),Xz=function(t){function n(n){var i;return(i=t.call(this)||this).Qlt=void 0,i.rwt=void 0,i.Jlt=void 0,i.Qlt=n,i.rwt=!1,i.Jlt=null,i}S(n,t);var i=n.prototype;return i.Klt=function(){if(!this.rwt&&this.Qlt.g_t){null===this.Jlt&&(this.Jlt=this.Qlt.g_t.$lt()),this.rwt=!0;var t=this.Jlt.Klt(),n=null,i=null,e=null;if(this.Qlt.uwt)for(var r=0,s=this.Qlt.uwt;r<s.length;r++){var u=s[r];u.owt&&(n=u.owt),u.awt&&(i=u.awt),u.hwt&&(e=u.hwt)}var o=t.cwt.concat(this.Qlt.cwt),a=t.owt;if(n&&t.owt){var h=new Hz(t.owt.y_t.d_t,t.owt.y_t.l_t,t.owt.y_t.w_t.concat(n.y_t.w_t),t.owt.y_t.__t.concat(n.y_t.__t));(a=t.owt).y_t=h,a.Awt=a.Awt.concat(n.Awt)}var c=t.fwt;if(i&&i.pwt){for(var f=[],v=0,d=i.pwt;v<d.length;v++){var l=d[v];f.concat(l.Bwt.w_t)}for(var w=[],_=0,g=t.fwt.pwt;_<g.length;_++){var y=g[_],m=y[0],k=new Hz(y.Bwt.d_t,y.Bwt.l_t,y.Bwt.w_t.concat(f),t.owt.y_t.__t.concat(n.y_t.__t));w.push(new Lz(m.m_t,m.k_t,m.p_t,k,m.xwt))}c=new Bz(w,t.fwt.Awt.concat(i.Awt))}var p=t.hwt;if(p){var A=p.Vwt;e&&e.Vwt&&(A=e.Vwt),p=new Mz(A,t.hwt.zwt.concat(e&&e.zwt||[]))}var b=t.mu;this.Qlt.mu&&(b=this.Qlt.mu),this.Ylt={cwt:o,owt:a,fwt:c,hwt:p,mu:b,vwt:t.vwt}}else this.rwt?this.Ylt=void 0:(this.rwt=!0,this.Ylt=null);return this.Ylt},i.mu=function(){return this.Klt()},n}(Rz),Vz=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this,n,i)||this).A_t=void 0,c.b_t=void 0,c.T_t=void 0,c.S_t=void 0,c.E_t=void 0,c._wt=void 0,c.nN=void 0,c.A_t=e,c.b_t=r,c.T_t=s,c._wt=u,c.S_t=o,c.E_t=a,c.nN=h,c}return S(n,t),n.prototype.$lt=function(){return new Xz(this)},b(n,[{key:"cwt",get:function(){return this.A_t}},{key:"g_t",get:function(){return this.b_t}},{key:"I_t",get:function(){return this.T_t}},{key:"uwt",get:function(){return this._wt}},{key:"R_t",get:function(){return this.S_t}},{key:"N_t",get:function(){return this.E_t}},{key:"mu",get:function(){return this.nN}}]),n}(Cz),zz=function(){function t(t,n,i,e,r,s,u,o){this.Bh=void 0,this.D_t=void 0,this.C_t=void 0,this.jwt=void 0,this.O_t=void 0,this.P_t=void 0,this.B_t=void 0,this.L_t=void 0,this.Bh=t,this.D_t=n,this.C_t=i,this.jwt=e,this.O_t=r,this.P_t=s,this.B_t=u,this.L_t=o}return b(t,[{key:"B_",get:function(){return this.Bh}},{key:"x_t",get:function(){return this.D_t}},{key:"M_t",get:function(){return this.C_t}},{key:"r_t",get:function(){return this.jwt}},{key:"owt",get:function(){return this.O_t}},{key:"awt",get:function(){return this.P_t}},{key:"hwt",get:function(){return this.B_t}},{key:"universalAdIds",get:function(){return this.L_t}}]),t}(),Gz=function(){function t(t,n,i,e,r,s,u){this.U_t=void 0,this.F_t=void 0,this.kwt=void 0,this.H_t=void 0,this.X_t=void 0,this.Iwt=void 0,this.Rwt=void 0,this.Nwt=void 0,this.dwt=void 0,this.U_t=t,this.F_t=n,this.kwt=i,this.H_t=e,this.X_t=r,this.Iwt=!1,this.Rwt=s,this.dwt=u}return t.prototype.Dwt=function(){this.Iwt=!0},b(t,[{key:"Vg",get:function(){return this.U_t}},{key:"V_t",get:function(){return this.F_t}},{key:"Awt",get:function(){return this.kwt},set:function(t){this.kwt=t}},{key:"y_t",get:function(){return this.H_t},set:function(t){this.H_t=t}},{key:"z_t",get:function(){return this.X_t},set:function(t){this.X_t=t}},{key:"G_t",get:function(){return this.Iwt}},{key:"Lwt",get:function(){return this.Nwt},set:function(t){this.Nwt=t}},{key:"xwt",get:function(){return this.Rwt}},{key:"gwt",get:function(){return this.dwt}}]),t}();function Wz(t,n){return Qz(t)&&t.getAttribute(n)||void 0}function qz(t,n){return Yz(t,n,void 0,!1)}function Yz(t,n,i,e){return n===(t.localName?t.localName:t.nodeName)&&(e&&i?i===t.namespaceURI:!i||!t.namespaceURI||i===t.namespaceURI)}function jz(t,n){for(var i=[],e=0;e<t.childNodes.length;e+=1){var r=t.childNodes.item(e);Qz(r)&&qz(r,n)&&i.push(r)}return i}function Qz(t){return t&&1===t.nodeType}function Zz(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new v('Invalid document for MIME type "'+n+'"');return i}function Jz(t){return Zz(t,"text/xml")}function Kz(t){switch(t){case xz.W_t:case xz.q_t:case xz.G_:return!0;default:return!1}}!function(t){t.Y_t="mute",t.j_t="unmute",t.If="pause",t.Q_t="resume",t.Z_t="rewind",t.J_t="skip",t.K_t="playerExpand",t.$_t="playerCollapse",t.tgt="fullscreen",t.ngt="exitFullscreen",t.igt="expand",t.COLLAPSE="collapse",t.egt="start",t.rgt="firstQuartile",t.sgt="thirdQuartile",t.ugt="midpoint",t.ogt="complete",t.agt="acceptInvitationLinear",t.hgt="acceptInvitation",t.cgt="timeSpentViewing",t.fgt="otherAdInteraction",t.Nf="progress",t.vgt="creativeView",t.dgt="adExpand",t.lgt="adCollapse",t.wgt="minimize",t._gt="close",t.ggt="closeLinear",t.ygt="overlayViewDuration",t.W_t="breakStart",t.q_t="breakEnd",t.G_="error"}(xz||(xz={}));var $z=[xz.Y_t,xz.j_t,xz.If,xz.Q_t,xz.Z_t,xz.J_t,xz.ggt,xz._gt,xz.K_t,xz.$_t,xz.tgt,xz.ngt,xz.igt,xz.COLLAPSE,xz.vgt,xz.egt,xz.rgt,xz.ugt,xz.sgt,xz.ogt,xz.agt,xz.hgt,xz.cgt,xz.fgt,xz.Nf];function tG(t){return void 0!==t&&-1!==$z.indexOf(t)}var nG=[xz.egt,xz.rgt,xz.ugt,xz.sgt,xz.ogt,xz.Y_t,xz.j_t,xz.If,xz.Q_t,xz.Z_t,xz.J_t,xz.K_t,xz.$_t,xz.igt,xz.COLLAPSE,xz.tgt,xz.ngt,xz.vgt,xz.hgt,xz.dgt,xz.lgt,xz.wgt,xz._gt,xz.ygt,xz.fgt,xz.Nf];function iG(t){return void 0!==t&&-1!==nG.indexOf(t)}var eG=[xz.Y_t,xz.j_t,xz.If,xz.Q_t,xz.Z_t,xz.J_t,xz.K_t,xz.$_t,xz.vgt];function rG(t){return void 0!==t&&-1!==eG.indexOf(t)}function sG(t,n){if(void 0!==t&&""!==t&&void 0!==n){var i=t.match(/^(\d+):(\d+):(\d+)$/);return i?g(i[1]||"0")+60*g(i[2]||"0")+g(i[3]||"0"):(i=t.match(/^(100|[1-9]\d|\d)%$/))?g(i[1]||"0")*n/100:void 0}}var uG,oG,aG=function(){function t(t,n,i){this.mgt=void 0,this.kgt=void 0,this.pgt=void 0,this.mgt=t,this.kgt=n,this.pgt=i}return b(t,[{key:"Agt",get:function(){return this.mgt}},{key:"Pu",get:function(){return this.kgt}},{key:"eventURL",get:function(){return this.pgt}}]),t}(),hG=function(){function t(t){this.bgt=void 0,this.bgt=t}return b(t,[{key:"Tgt",get:function(){return this.bgt}}]),t}(),cG=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n)||this).Sgt=void 0,s.$wt=void 0,s.h_t=void 0,s.Sgt=i,s.h_t=e,s.$wt=r,s}return S(n,t),b(n,[{key:"d_t",get:function(){return this.h_t}},{key:"a_t",get:function(){return this.$wt}},{key:"Egt",get:function(){return this.Sgt}}]),n}(hG),fG=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(hG),vG=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(hG),dG={Igt:{ju:100,wu:"XML parsing error."},Rgt:{ju:303,wu:"Empty or invalid VAST error."},Ngt:{ju:400,wu:"General linear error"},Dgt:{ju:403,wu:"Unsupported MIME-type or missing mediafiles error"},Cgt:{ju:500,wu:"General nonlinear error"},GO:{ju:900,wu:"Network error"}},lG=function(){function t(t){this.Ogt=void 0,this.Ogt=t}return t.prototype.Pgt=function(t){if(this.Bgt){var n=this.Bgt.replace(/\[ERRORCODE]/,""+t.ju);pz(n)}},b(t,[{key:"Bgt",get:function(){return this.Ogt}}]),t}(),wG=31536e3,_G=2592e3,gG=86400,yG=3600,mG=60,kG=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,pG=function(){function t(t){this.Lgt=void 0;var n=t.match(kG);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.Lgt=i*wG+e*_G+r*gG+s*yG+u*mG+o}var n=t.prototype;return n.xgt=function(){return this.Lgt},n.Mgt=function(){return 1e3*this.Lgt},b(t,[{key:"stt",get:function(){return vk.Op(this.Lgt,1e3)}}]),t}();!function(t){t.bE="static",t.TE="dynamic"}(uG||(uG={})),function(t){t.Ugt="progressive",t.Fgt="interlaced",t.Zd="unknown"}(oG||(oG={}));var AG=function(){function t(t,n){this.Hgt=t,this.Xgt=n}return t.prototype.Rk=function(){return this.Hgt/this.Xgt},t}(),bG=/^(?:true|false)$/i,TG=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function SG(t){if(void 0!==t)return new pG(t)}function EG(t){if(void 0!==t){var n=t.match(TG);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],a=n[7],h=n[8],c=n[9],f=n[10],d=n[11],l=("-"===i?-1:1)*Number(e),_=Number(r)-1,g=Number(s),m=Number(u),k=Number(o),p=Number(a),A=Number("0."+(h||"")),b=w.round(1e3*A);if(c)k-=("-"===c?-1:1)*(60*Number(f)+Number(d));var T=new Date(Date.UTC(l,_,g,m,k,p,b));if(y(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function IG(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[NG(n[1]),NG(n[2])]}}function RG(t){if(void 0!==t){if(!y(Number(t)))try{return ft.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function NG(t){if(void 0!==t){var n=Number(t);if(!y(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function DG(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!y(i)&&!y(e))return new AG(i,e);throw new v("The given value could not be parsed as a valid frame rate")}}function CG(t){if(void 0!==t){if(bG.test(t))return"true"===t.toLowerCase();if(!y(_(t)))return Boolean(_(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function OG(t){return{jd:t.Xi,Vgt:CG(t.Bi("availabilityTimeComplete")),zgt:NG(t.Bi("availabilityTimeOffset"))}}function PG(t){return t.map(OG)}function BG(t){var n,i,e,r,s,u,o=WG(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).Li(e,i))&&(s=n.Bi(r+":"+i)),s),h=yp(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==h&&(u=ju(h.Xi)),!u){var c=yp(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Fu(t.Xi),i=new m([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new m(s),o=new DataView(s),a=new Zo;ko(o,a,r),ko(o,a,1886614376),ko(o,a,0),lo(o,a,i),ko(o,a,e),lo(o,a,n),0;return u.buffer}(c))}return{zE:a,W0:u,G0:o.G0,Ti:o.Ti}}function LG(t){return{Ggt:t.Bi("sourceURL"),Sht:IG(t.Bi("range"))}}function xG(t,n){var i=t.Bi("d"),e=t.Bi("t"),r=NG(t.Bi("r"));n.push({Vg:i,Wm:e,Wgt:r})}function MG(t){return{qgt:t.Bi("index"),Ygt:IG(t.Bi("indexRange")),tT:t.Bi("media"),jgt:IG(t.Bi("mediaRange"))}}function UG(t){var n,i;return xr({},XG(t),{Qgt:(n=t.Ii("SegmentURL"),(i=n.map(MG)).length>0?i:void 0),Zgt:t.Bi("xlink:href"),Jgt:t.Bi("xlink:actuate")})}function FG(t){var n=t.map(UG);return n.length>0?n:void 0}function HG(t){var n=CG(t.Bi("availabilityTimeComplete")),i=NG(t.Bi("availabilityTimeOffset")),e=IG(t.Bi("indexRange")),r=CG(t.Bi("indexRangeExact")),s=t.Ii("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ni+" element can not have more than one Initialization element.");var u=1===s.length?LG(s[0]):void 0,o=RG(t.Bi("presentationTimeOffset")),a=t.Ii("RepresentationIndex");if(a.length>1)throw new v("The provided MPEG-DASH document's "+t.Ni+" element can not have more than one RepresentationIndex element.");return{Vgt:n,zgt:i,Ygt:e,Kgt:r,$gt:u,tyt:o,nyt:1===a.length?LG(a[0]):void 0,iyt:SG(t.Bi("timeShiftBufferDepth")),pp:NG(t.Bi("timescale"))}}function XG(t){var n=HG(t),i=t.Ii("BitstreamSwitching"),e=i.length>0?LG(i[0]):void 0,r=NG(t.Bi("duration")),s=t.Ii("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ni+" element can not have more than one SegmentTimeline element.");return xr({},n,{eyt:e,Vg:r,ryt:1===s.length?function(t){for(var n=[],i=t.Ii("S"),e=0;e<i.length;e++)xG(i[e],n);return n}(s[0]):void 0,syt:NG(t.Bi("startNumber")),uyt:NG(t.Bi("endNumber"))})}function VG(t){return xr({},XG(t),{oyt:t.Bi("bitstreamSwitching"),ayt:t.Bi("index"),hyt:t.Bi("initialization"),cyt:t.Bi("media")})}function zG(t){return{iK:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(NG)):1===n.length?n.map(NG)[0]:void 0}}(t.Bi("audioSamplingRate")),VX:t.Bi("codecs"),fyt:CG(t.Bi("codingDependency")),J0:function(t){if(0!==t.length)return t.map(BG)}(t.Ii("ContentProtection")),vyt:t.Ii("EssentialProperty").map(qG),$J:DG(t.Bi("frameRate")),oT:NG(t.Bi("height")),dyt:NG(t.Bi("maxPlayoutRate")),lyt:NG(t.Bi("maximumSAPPeriod")),ZP:t.Bi("mimeType"),wyt:t.Bi("profiles"),_yt:t.Bi("sar"),gyt:function(t){switch(t){case oG.Ugt:case oG.Fgt:case oG.Zd:return t;default:return}}(t.Bi("scanType")),yyt:t.Bi("segmentProfiles"),myt:NG(t.Bi("startWithSAP")),Ek:NG(t.Bi("width"))}}function GG(t){var n=zG(t),i=NG(t.Bi("bandwidth")),e=PG(t.Ii("BaseURL")),r=t.Bi("dependencyId"),s=t.Bi("id"),u=t.Bi("mediaStreamStructureId"),o=NG(t.Bi("qualityRanking")),a=t.Ii("SegmentBase");if(a.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var h=1===a.length?HG(a[0]):void 0,c=FG(t.Ii("SegmentList")),f=t.Ii("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return xr({},n,{PR:i,kyt:e,pyt:r,B_:s,Ayt:u,byt:o,Tyt:h,Syt:c,Eyt:1===f.length?VG(f[0]):void 0})}function WG(t){return{G0:t.Bi("schemeIdUri"),Ti:t.Bi("value")}}function qG(t){return WG(t)}function YG(t){return WG(t)}function jG(t){return WG(t)}function QG(t){var n,i=zG(t),e=function(t){return t.map(jG)}(t.Ii("Accessibility")),r=PG(t.Ii("BaseURL")),s=CG(t.Bi("bitstreamSwitching")),u=t.Bi("contentType"),o=NG(t.Bi("group")),a=NG(t.Bi("id")),h=(null==(n=t.Ii("Label")[0])?void 0:n.Xi)||"",c=t.Bi("lang"),f=NG(t.Bi("maxBandwidth")),d=DG(t.Bi("maxFrameRate")),l=NG(t.Bi("maxHeight")),w=NG(t.Bi("maxWidth")),_=NG(t.Bi("minBandwidth")),g=DG(t.Bi("minFrameRate")),y=NG(t.Bi("minHeight")),m=NG(t.Bi("minWidth")),k=t.Bi("par"),p=t.Ii("Representation").map(GG);if(0===p.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var A=function(t){return t.map(YG)}(t.Ii("Role")),b=CG(t.Bi("segmentAlignment"))||!1,T=t.Ii("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?HG(T[0]):void 0,E=FG(t.Ii("SegmentList")),I=t.Ii("SegmentTemplate");if(I.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,N=1===I.length?VG(I[0]):void 0,D=NG(t.Bi("selectionPriority")),C=D||1,O=CG(t.Bi("subsegmentAlignment"))||!1;try{R=NG(t.Bi("subsegmentStartsWithSAP"))}catch(t){}return xr({},i,{Iyt:e,kyt:r,eyt:s,Nd:u,Ryt:o,B_:a,M_:h,U_:c,Nyt:f,Dyt:d,Cyt:l,Oyt:w,Pyt:_,Byt:g,Lyt:y,xyt:m,Myt:k,K0:p,Uyt:A,Fyt:b,Tyt:S,Syt:E,Eyt:N,JN:C,Hyt:O,Xyt:R,Vyt:t.Bi("xlink:actuate")||"onRequest",zyt:t.Bi("xlink:href")})}function ZG(t){var n=RG(t.Bi("presentationTime"))||ft.ZERO,i=RG(t.Bi("duration")),e=NG(t.Bi("id")),r=function(t){for(var n=t.Hi,i={},e=0;e<n.length;e++)i[n[e]._i]=n[e].Ti;return i}(t),s=t.Xi;return{IS:n,Vg:i,B_:e,Hi:r,Vi:""!==s.trim()?s:t.Bi("messageData")||""}}function JG(t){return{zyt:t.Bi("xlink:href"),Vyt:t.Bi("xlink:actuate"),G0:t.Bi("schemeIdUri"),Ti:t.Bi("value"),pp:NG(t.Bi("timescale")),tyt:RG(t.Bi("presentationTimeOffset")),JP:t.Ii("Event").map(ZG)}}function KG(t,n){var i=t.Ii("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?WG(i[0]):void 0,r=t.Ii("AdaptationSet").map(QG),s=PG(t.Ii("BaseURL")),u=CG(t.Bi("bitstreamSwitching")),o=SG(t.Bi("duration")),a=t.Ii("EventStream").map(JG),h=t.Bi("id"),c=n&&SG(n.Bi("start")),f=t.Ii("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===f.length?HG(f[0]):void 0,l=FG(t.Ii("SegmentBase")),w=t.Ii("SegmentTemplate");if(w.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var _=1===w.length?VG(w[0]):void 0,g=SG(t.Bi("start"));t.Ii("Subset");var y=t.Bi("xlink:href");return{Gyt:r,Wyt:e,kyt:s,eyt:u,Vg:o,qyt:a,B_:h,Yyt:c,Tyt:d,Syt:l,Eyt:_,DD:g,Vyt:t.Bi("xlink:actuate"),zyt:y}}function $G(t){var n=t.Bi("schemeIdUri");if(n)return{G0:n,Ti:t.Bi("value")}}function tW(t,n){var i=EG(t.Bi("availabilityEndTime")),e=EG(t.Bi("availabilityStartTime")),r=PG(t.Ii("BaseURL")),s=t.Bi("id"),u=t.Ii("Location").map(function(t){return""+t.Xi}),o=SG(t.Bi("maxSegmentDuration")),a=SG(t.Bi("maxSubsegmentDuration")),h=SG(t.Bi("mediaPresentationDuration"));t.Ii("Metrics");var c=SG(t.Bi("minBufferTime"));if(!c)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=SG(t.Bi("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(KG(t[i],t[i+1]));return n}(t.Ii("Period"));if(!d.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.Bi("profiles");if(!l)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{jyt:i,Qyt:e,kyt:r,B_:s,Zyt:u,Jyt:n,Kyt:o,$yt:a,tmt:h,nmt:c,imt:f,emt:d,wyt:l,rmt:EG(t.Bi("publishTime")),smt:SG(t.Bi("suggestedPresentationDelay")),iyt:SG(t.Bi("timeShiftBufferDepth")),vs:function(t){switch(t){case uG.bE:case uG.TE:return t;default:return}}(t.Bi("type")),umt:function(t){for(var n=[],i=0;i<t.length;i++){var e=$G(t[i]);e&&n.push(e)}return n}(t.Ii("UTCTiming"))}}var nW=function(){function t(){}return t.prototype.Lct=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return tW(t,n)}(i.oi(t).zi,n)},t}();function iW(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case Jg.Ag:case Jg.Ig:case Jg.pg:return!0;default:return!1}}function eW(t){var n=lr();return!!(iW(t)||t&&n&&null!=n&&n.canPlayType&&n.canPlayType(t))||(sW("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function rW(t,n){n.forEach(function(n){new lG(n).Pgt(t)})}function sW(t){0}var uW,oW=function(){function t(t,n){this.omt=void 0,this.amt=void 0,this.omt=t,this.amt=n}return b(t,[{key:"hmt",get:function(){return this.omt}},{key:"cmt",get:function(){return this.amt}}]),t}();!function(t){t.fmt="linear",t.vmt="nonlinear",t.dmt="companion",t.lmt="vmap"}(uW||(uW={}));var aW,hW=function(){function t(){}var n=t.prototype;return n.wmt=function(n,i){var e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if("vmap"!==n.sources.type&&(void 0!==n.sources.type||void 0!==n.timeOffset)){o.next=28;break}return o.next=3,Lr.awrap(t._mt(n.sources.src,i));case 3:if(e=o.sent,r=e&&e.documentElement){o.next=7;break}throw new cz(oz.NETWORK,az.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");case 7:if(!qz(r,"VMAP")){o.next=13;break}return o.next=10,Lr.awrap(this.gmt(r,n,i));case 10:return o.abrupt("return",o.sent);case 13:if(!qz(r,"VAST")){o.next=25;break}return o.next=16,Lr.awrap(this.ymt(r,i,!1));case 16:if(!(s=o.sent)){o.next=22;break}return u=new lW("",!0,!0,s),o.abrupt("return",[new vW("start",u,aW.fmt,"",[],!1,!0,n)]);case 22:return o.abrupt("return",[]);case 23:o.next=26;break;case 25:throw new cz(oz.GENERAL,az.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.");case 26:o.next=33;break;case 28:if("vast"!==n.sources.type&&(void 0!==n.sources.type||void 0===n.timeOffset)){o.next=32;break}return o.abrupt("return",[new dW(String(n.timeOffset),n,i)]);case 32:throw new cz(oz.GENERAL,az.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.");case 33:case"end":return o.stop()}},null,this,null,We)},n.mmt=function(n,i,e,r){var s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===r&&(r=[]),o.prev=1,o.next=4,Lr.awrap(t._mt(n,i));case 4:s=o.sent,o.next=12;break;case 7:throw o.prev=7,o.t0=o.catch(1),rW(o.t0 instanceof cz&&o.t0.llt===az.VAST_MALFORMED_RESPONSE?dG.Rgt:dG.GO,r),o.t0;case 12:if(!(u=s&&s.documentElement)||!qz(u,"VAST")){o.next=17;break}return o.next=16,Lr.awrap(this.ymt(u,i,e,r));case 16:return o.abrupt("return",o.sent);case 17:return o.abrupt("return",void 0);case 18:case"end":return o.stop()}},null,this,[[1,7]],We)},n.kmt=function(t,n,i,e){var r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(null!=(r=t.sources)&&r.src){a.next=2;break}throw new cz(oz.GENERAL,az.MALFORMED_URI,"Property src on adSource is missing.");case 2:return a.next=4,Lr.awrap(this.mmt(t.sources.src,e,!1));case 4:return s=a.sent,u=new lW("",!0,!0,s),(o=new vW(n,u,aW.fmt,"",[],!1,!0,t)).pmt=i,a.abrupt("return",o);case 9:case"end":return a.stop()}},null,this,null,We)},t.requestSuccessOnly=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lr.awrap(n.qd(t));case 3:i=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new cz(oz.NETWORK,az.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",e.t0);case 9:if(sw(i)){e.next=11;break}throw new cz(oz.NETWORK,az.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}},null,null,[[0,6]],We)},t._mt=function(t,n){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new fw({jd:t,zd:Df.$n,_l:uw.GET}),r.next=3,Lr.awrap(this.requestSuccessOnly(i,n));case 3:return e=r.sent,r.prev=4,r.t0=Jz,r.next=8,Lr.awrap(e.Vi());case 8:return r.t1=r.sent,r.abrupt("return",(0,r.t0)(r.t1));case 12:throw r.prev=12,r.t2=r.catch(4),new cz(oz.NETWORK,az.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.");case 15:case"end":return r.stop()}},null,this,[[4,12]],We)},n.ymt=function(t,n,i,e){var r,s,u,o,a,h,c,f,v,d,l;return Lr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(void 0===e&&(e=[]),r=[],s=[],u=[],t&&qz(t,"VAST")){w.next=9;break}if(!i){w.next=8;break}throw rW(dG.Rgt,e),new cz(oz.PARSING,az.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");case 8:return w.abrupt("return",void 0);case 9:if(0===jz(t,"Ad").length){w.next=42;break}o=0,a=jz(t,"Ad");case 11:if(!(o<a.length)){w.next=26;break}return h=a[o],w.prev=13,w.next=16,Lr.awrap(this.Amt(h,n,e));case 16:0===(c=w.sent).dS?r.push(c):s.push(c),w.next=23;break;case 20:w.prev=20,w.t0=w.catch(13),u.push(w.t0);case 23:o++,w.next=11;break;case 26:if(!(0===r.length&&0===s.length&&u.length>0)){w.next=30;break}throw u[0];case 30:if(1!==r.length||0!==s.length){w.next=34;break}return w.abrupt("return",r[0]);case 34:if(0!==r.length||0===s.length){w.next=38;break}return w.abrupt("return",new Dz(s));case 38:if(!(r.length>0||s.length>0)){w.next=40;break}return w.abrupt("return",new Dz(s.concat(r)));case 40:w.next=51;break;case 42:if(0===jz(t,"Error").length){w.next=47;break}for(f=0,v=jz(t,"Error");f<v.length;f++)d=v[f],sW(dG.Igt.wu),(l=d.textContent)&&e.push(l),rW(dG.Igt,e);throw new cz(oz.GENERAL,az.VAST_MALFORMED_RESPONSE,"The Ad Server responded with a VAST Error");case 47:if(!i){w.next=50;break}throw rW(dG.Rgt,e),new cz(oz.PARSING,az.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");case 50:return w.abrupt("return",void 0);case 51:case"end":return w.stop()}},null,this,[[13,20]],We)},n.gmt=function(t,n,e){var r,s,u,o,a;return Lr.async(function(h){for(;;)switch(h.prev=h.next){case 0:r=[],s=jz(t,"AdBreak"),u=0;case 3:if(!(u<s.length)){h.next=18;break}return o=s[u],h.prev=5,h.next=8,Lr.awrap(this.bmt(o,n,e));case 8:(a=h.sent)&&r.push(a),h.next=15;break;case 12:h.prev=12,h.t0=h.catch(5),i.gr(h.t0);case 15:u++,h.next=3;break;case 18:return h.abrupt("return",r);case 19:case"end":return h.stop()}},null,this,[[5,12]],We)},n.Amt=function(n,i,e){var r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=Wz(n,"id")||"",(s=NG(Wz(n,"sequence")))||(s=0),u=jz(n,"InLine"),0===(o=jz(n,"Wrapper")).length){a.next=11;break}return a.next=8,Lr.awrap(this.Tmt(o[0],r,s,i,e));case 8:return a.abrupt("return",a.sent);case 11:if(0===u.length){a.next=13;break}return a.abrupt("return",t.Smt(u[0],r,s,e));case 13:throw new cz(oz.PARSING,az.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed");case 14:case"end":return a.stop()}},null,this,null,We)},t.Smt=function(n,i,e,r){var s,u=jz(n,"Error")[0];u&&u.textContent&&(s=u.textContent,r.push(s));var o,a=jz(n,"AdSystem")[0],h="";a&&(h=a.textContent||h);var c=jz(n,"AdTitle")[0];c&&(o=c.textContent||void 0);for(var f=[],v=0,d=jz(n,"Impression");v<d.length;v++){var l=d[v];l.textContent&&f.push(l.textContent)}var w=t.Emt(jz(n,"Creatives")[0],h,r);return new Pz(i,e,h,o,f,w,new lG(s))},n.Tmt=function(n,i,e,r,s){var u,o,a,h,c,f,v,d,l,w,_,g,y,m,k,p;return Lr.async(function(A){for(;;)switch(A.prev=A.next){case 0:for(u=jz(n,"Error")[0],o="",u&&u.textContent&&(o=u.textContent,s.push(o)),a=jz(n,"AdSystem")[0],h="",a&&(h=a.textContent||h),c=[],f=0,v=jz(n,"Impression");f<v.length;f++)(d=v[f]).textContent&&c.push(d.textContent);return l=jz(n,"VASTAdTagURI")[0],w="",l&&l.textContent&&(w=l.textContent),A.next=13,Lr.awrap(this.mmt(w,r,!0,s));case 13:return _=A.sent,g=jz(n,"Creatives")[0],y=[],g&&(y=t.Imt(g,h,s)),(m=CG(Wz(n,"followAdditionalWrappers")))||(m=!0),(k=CG(Wz(n,"allowMultipleAds")))||(k=!0),(p=CG(Wz(n,"fallbackOnNoAd")))||(p=!1),A.abrupt("return",new Vz(i,e,c,_,m,y,k,p,new lG(o)));case 24:case"end":return A.stop()}},null,this,null,We)},t.Imt=function(n,i,e){for(var r=[],s=0,u=jz(n,"Creative");s<u.length;s++){var o=u[s],a=Wz(o,"id");a||(a="");var h=NG(Wz(o,"sequence"));h||(h=0);var c=Wz(o,"adId");c||(c="");var f=jz(o,"Linear")[0],v=void 0;f&&(v=t.Rmt(f,"wrapper",a,i,e));var d=jz(o,"NonLinearAds")[0],l=void 0;if(d)try{l=t.Nmt(d,a,i)}catch(t){}var w=jz(o,"CompanionAds")[0],_=void 0;w&&(_=t.Dmt(w)),r.push(new zz(a,c,h,"",v,l,_,[]))}return r},t.Emt=function(n,i,e){for(var r=[],s=0,u=jz(n,"Creative");s<u.length;s++){var o=u[s],a=Wz(o,"id");a||(a="");var h=NG(Wz(o,"sequence"));h||(h=0);var c=Wz(o,"adId");c||(c="");var f=Wz(o,"apiFramework");f||(f="");var v=jz(o,"Linear")[0],d=void 0;if(v)try{d=t.Rmt(v,"inline",a,i,e)}catch(t){}var l=jz(o,"NonLinearAds")[0],w=void 0;if(l)try{w=t.Nmt(l,a,i)}catch(t){}var _=jz(o,"CompanionAds")[0],g=void 0;_&&(g=t.Dmt(_));var y=jz(o,"UniversalAdId"),m=t.parseUniversalAdIds(y);r.push(new zz(a,c,h,f,d,w,g,m))}return r},t.Rmt=function(n,i,e,r,s){var u=jz(n,"Duration")[0],o=0;if(u)o=bz(u.textContent)||0;else if(!u&&"inline"===i)throw new cz(oz.PARSING,az.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");var a=Wz(n,"skipoffset"),h=-1;if(a){var c=bz(a);if(void 0===c&&a.indexOf("%")>-1){var f=w.abs(Number(a.replace(/(?![0-9])./g,"")))/100;y(f)||(c=o*f)}void 0!==c&&(h=c)}var v=jz(n,"MediaFiles")[0],d=[];if(v&&(d=function(t,n){for(var i=[],e=0,r=jz(t,"MediaFile");e<r.length;e++){var s=r[e],u=Wz(s,"delivery"),o=Wz(s,"type");if(o){if(n(o)){var a=NG(Wz(s,"width")),h=NG(Wz(s,"height"));a||(sW(),a=0),h||(sW(),h=0);var c={delivery:u,type:o,width:a,height:h,contentURL:""+s.textContent};i.push(c)}}else sW()}return i}(v,eW)),"inline"===i&&(!v||0===d.length))throw rW(dG.Dgt,s),new cz(oz.PARSING,az.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");var l=jz(n,"TrackingEvents")[0],_=[];l&&(_=t.Cmt(l,tG,uW.fmt));var g=jz(n,"VideoClicks")[0],m=t.Omt(g);return new Gz(o,d,_,m,h,e,r)},t.Omt=function(n){if(!n)return new Hz("","",[],[]);var i,e=jz(n,"ClickThrough")[0],r="";e&&(i=e.textContent||void 0,r=Wz(e,"id")||"");var s=t.Pmt(jz(n,"ClickTracking")),u=t.Pmt(jz(n,"CustomClick"));return new Hz(i,r,s,u)},t.Pmt=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=e.textContent;if(r){var s=Wz(e,"id")||"";n.push(new Fz(s,r))}}return n},t.Cmt=function(t,n,i){for(var e=[],r=0,s=jz(t,"Tracking");r<s.length;r++){var u=s[r],o=Wz(u,"event");if(n(o)){var a="";i===uW.fmt&&(a=Wz(t,"offset")||"0");var h=u.textContent;h&&e.push(new aG(o,a,h))}else sW()}return e},t.Nmt=function(n,i,e){for(var r=[],s=0,u=jz(n,"NonLinear");s<u.length;s++){var o=u[s],a=jz(o,"NonLinearClickThrough")[0],h=void 0;a&&(h=a.textContent||void 0);var c=t.Pmt(jz(o,"NonLinearClickTracking")),f=jz(o,"StaticResource")[0],v=void 0;if(f&&f.parentNode){var d=Wz(f,"creativeType"),l=f.textContent||"",w=jz(f.parentNode,"NonLinearClickThrough")[0],_="";w&&(_=w.textContent||""),v=new cG(l,d,_,"")}var g=jz(o,"IFrameResource")[0],y=void 0;if(g){var m=g.textContent;y=new fG(m)}var k=jz(o,"HTMLResource")[0],p=void 0;if(k){var A=k.textContent;p=new vG(A)}if(v||y||p){var b=new Hz(h,"",c,[]);r.push(new Lz(v,y,p,b,i,e))}else sW()}if(0===r.length)throw new cz(oz.PARSING,az.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");var T=jz(n,"TrackingEvents")[0],S=[];return T&&(S=t.Cmt(T,iG,uW.vmt)),new Bz(r,S)},t.parseUniversalAdIds=function(t){for(var n=[],i=0;i<t.length;i++){var e,r,s,u=t[i],o=null!=(e=Wz(u,"idRegistry"))?e:"",a=null!=(r=null!=(s=Wz(u,"idValue"))?s:u.textContent)?r:"";n.push(new oW(o,a))}return n},t.Dmt=function(n){var i=Wz(n,"requiredType");(function(t){switch(t){case Sz.Uwt:case Sz.Fwt:case Sz.wD:return!0;default:return!1}})(i)||(i=Sz.wD);for(var e=[],r=0,s=jz(n,"Companion");r<s.length;r++){var u=s[r],o=NG(Wz(u,"width")),a=NG(Wz(u,"height")),h=Wz(u,"id"),c=NG(Wz(u,"assetWidth")),f=NG(Wz(u,"assetHeight")),v=NG(Wz(u,"expandedWidth")),d=NG(Wz(u,"rxpandedHeight")),l=Wz(u,"apiFramework"),w=Wz(u,"adSlotId"),_=NG(Wz(u,"pxratio")),g=jz(u,"AltText")[0],y=g?g.textContent:"";o||(sW(),o=0),a||(sW(),a=0),h||(h=""),c||(c=0),f||(f=0),v||(v=0),d||(d=0),l||(l=""),w||(w=""),_||(_=1),y||(y="");var m=t.Bmt(u),k=t.Lmt(u),p=t.parseHtmlResource(u),A=jz(u,"TrackingEvents")[0],b=[];A&&(b=t.Cmt(A,rG,uW.dmt));var T=jz(u,"CompanionClickThrough")[0],S=void 0;T&&(S=T.textContent||void 0);var E=t.Pmt(jz(u,"CompanionClickTracking"));(m||k||p)&&e.push(new Uz(o,a,h,c,f,v,d,l,w,_,m,k,p,new Hz(S,"",E,[]),b,y))}return new Mz(i,e)},t.Bmt=function(t){var n,i=jz(t,"StaticResource")[0];if(i&&i.parentNode){var e=Wz(i,"creativeType");e||(e="");var r,s=i.textContent,u=jz(i.parentNode,"AltText")[0],o=jz(i.parentNode,"CompanionClickThrough")[0],a="";u&&(a=u.textContent||""),o&&(r=o.textContent||void 0),s&&(n=new cG(s,e,r,a))}return n},t.Lmt=function(t){var n,i=jz(t,"IFrameResource")[0];if(i){var e=i.textContent;n=new fG(e)}return n},t.parseHtmlResource=function(t){var n,i=jz(t,"HTMLResource")[0];if(i){var e=i.textContent;n=new vG(e)}return n},n.bmt=function(n,i,e){var r,s,u,o,a,h,c,f,v,d,l,w,_,g,y,m,k;return Lr.async(function(p){for(;;)switch(p.prev=p.next){case 0:if(r=Wz(n,"timeOffset")||"0",s=Wz(n,"breakType"),u=Wz(n,"breakId"),o=CG(Wz(n,"repeatAfter")),a=void 0!==fW.xmt(r),void 0===u&&(u=""),void 0===o&&(o=!1),a){p.next=9;break}throw new cz(oz.PARSING,az.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");case 9:if(h=jz(n,"AdSource")[0],c=jz(n,"TrackingEvents")[0],f=[],c&&(f=t.Cmt(c,Kz,uW.lmt)),(v=Wz(h,"id"))||(v=""),void 0===(d=CG(Wz(h,"allowMultipleAds")))&&(d=!0),(l=CG(Wz(h,"followRedirects")))||(l=!0),w=jz(h,"AdTagURI")[0],"",g=jz(h,"VASTAdData")[0],!w||!w.textContent){p.next=35;break}return p.prev=23,_=w.textContent,(y=JSON.parse(JSON.stringify(i))).sources.src=_,p.abrupt("return",new dW(r,y,e));case 30:return p.prev=30,p.t0=p.catch(23),p.abrupt("return",void 0);case 33:p.next=52;break;case 35:if(!g){p.next=51;break}if(!g.firstElementChild||!Yz(g.firstElementChild,"VAST")){p.next=48;break}return p.next=39,Lr.awrap(this.ymt(g.firstElementChild,e,!1));case 39:if(!(m=p.sent)){p.next=45;break}return k=new lW(v,d,l,m),p.abrupt("return",new vW(r,k,s,u,f,o,!1,i));case 45:return p.abrupt("return",void 0);case 46:p.next=49;break;case 48:throw new cz(oz.PARSING,az.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element");case 49:p.next=52;break;case 51:throw new cz(oz.PARSING,az.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element");case 52:case"end":return p.stop()}},null,this,[[23,30]],We)},t}();!function(t){t.fmt="linear",t.Mmt="nonlinear",t.Umt="display"}(aW||(aW={}));var cW,fW=function(){function t(){}return t.Fmt=function(t){switch(t){case aW.fmt:case aW.Mmt:case aW.Umt:return!0;default:return!1}},t.Hmt=function(t){},t.Xmt=function(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0},t.Vmt=function(t){var n=t.split(":"),i=0;return i+=3600*Number(n[0]),i+=60*Number(n[1]),i+=Number(n[2])},t.zmt=function(t){if(t<=0)return"00:00:00.000";var n=w.floor(t),i=t-n;return this.Gmt(n/3600,2)+":"+this.Gmt(n/60%60,2)+":"+this.Gmt(n%60,2)+"."+this.Gmt(1e3*i,3)},t.Gmt=function(t,n){return("00"+w.floor(t)).slice(-n)},t.Wmt=function(t,n){var i=this.xmt(t);if(i===cW.EQ)switch(t){case"start":return 0;case"end":return-1}else{if(i===cW.qmt)return Tz(t)*n;if(i===cW.Ymt)return bz(t);if(i===cW.jmt)return this.Xmt(t);if(i===cW.Qmt){var e=Number(t);if(!y(e)&&e>=-1)return e}}},t.xmt=function(t){return"start"===t||"end"===t?cW.EQ:void 0!==bz(t.toString())?cW.Ymt:void 0!==Tz(t.toString())?cW.qmt:void 0!==this.Hmt(t.toString())?cW.jmt:y(t)?void 0:cW.Qmt},t}();!function(t){t[t.EQ=0]="EQ",t[t.Ymt=1]="Ymt",t[t.qmt=2]="qmt",t[t.jmt=3]="jmt",t[t.Qmt=4]="Qmt"}(cW||(cW={}));var vW=function(){function t(t,n,i,e,r,s,u,o){this.Zmt=void 0,this.Kwt=void 0,this.Jmt=void 0,this.X_t=-1,this.Kmt=void 0,this.$mt=void 0,this.tkt=void 0,this.nkt=void 0,this.ikt=void 0,this.ekt=void 0,this.Zmt=n,this.Jmt=t,this.Kmt=i,this.$mt=e,this.tkt=s,this.Kwt=r,this.nkt=u,this.ikt=o,this.ekt=null}return t.prototype.Qh=function(){return We.resolve(this)},b(t,[{key:"rkt",get:function(){return this.Zmt}},{key:"L1",get:function(){return this.Jmt}},{key:"z_t",get:function(){return this.X_t},set:function(t){this.X_t=t}},{key:"Awt",get:function(){return this.Kwt}},{key:"skt",get:function(){return this.$mt}},{key:"ukt",get:function(){return this.tkt}},{key:"okt",get:function(){return this.ikt}},{key:"akt",get:function(){return this.pmt.Rp}},{key:"hkt",get:function(){return!0}},{key:"pmt",get:function(){return this.ekt},set:function(t){this.ekt=t}}]),t}(),dW=function(){function t(t,n,i){this.Nwt=void 0,this.ckt=void 0,this.wE=void 0,this.wE=i,this.Nwt=new vW(t,null,null,"",[],!1,!1,n)}return t.prototype.Qh=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.ckt){n.next=7;break}return this.ckt=(new hW).kmt(this.okt,this.L1,this.pmt,this.wE),n.next=5,Lr.awrap(this.ckt);case 5:this.Nwt=n.sent,t();case 7:return n.abrupt("return",this.ckt);case 8:case"end":return n.stop()}},null,this,null,We)},b(t,[{key:"rkt",get:function(){return this.Nwt.rkt}},{key:"L1",get:function(){return this.Nwt.L1}},{key:"z_t",get:function(){return this.Nwt.z_t},set:function(t){this.Nwt.z_t=t}},{key:"Awt",get:function(){return this.Nwt.Awt}},{key:"skt",get:function(){return this.Nwt.skt}},{key:"ukt",get:function(){return this.Nwt.ukt}},{key:"okt",get:function(){return this.Nwt.okt}},{key:"akt",get:function(){return this.Nwt.akt}},{key:"hkt",get:function(){return Boolean(this.ckt)}},{key:"pmt",get:function(){return this.Nwt.pmt},set:function(t){this.Nwt.pmt=t}}]),t}(),lW=function(){function t(t,n,i,e){this.Bh=void 0,this.fkt=void 0,this.vkt=void 0,this.dkt=void 0,this.Bh=t,this.fkt=n,this.dkt=e,this.vkt=i}return b(t,[{key:"B_",get:function(){return this.Bh}},{key:"R_t",get:function(){return this.fkt}},{key:"lkt",get:function(){return this.vkt}},{key:"qlt",get:function(){return this.dkt}}]),t}();function wW(t){return"vmap"===t||"adrule"===t}function _W(t){if(t)return q(t)?{src:Sg(t),type:void 0}:G(t)&&t.src?{src:Sg((t=t).src),type:gW(t.type)}:void 0}function gW(t){if(q(t)){var n=t.toLowerCase();switch(n){case"vast":case"vmap":case"adrule":return n;default:return void ot("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||ot("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function yW(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(n=t,Az.test(n))return fW.Vmt(t);if(mW(t))return t}var n;return t>=0?+t:void 0}}function mW(t){return new RegExp(/^\d{1,2}%$/).test(t)}var kW,pW='<vmap:AdBreak timeOffset="$TIMEOFFSET$" breakType="linear,nonlinear" breakId="midroll">\n            <vmap:AdSource allowMultipleAds="true" followRedirects="true">\n                <vmap:AdTagURI templateType="vast3"><![CDATA[$TAG$]]></vmap:AdTagURI>\n            </vmap:AdSource>\n        </vmap:AdBreak>',AW=function(){function t(n,i,e,r,s,u){this.wkt=void 0,this._kt=void 0,this.gkt=NaN,this.ykt=!1,this.mkt=!1,this.kkt=void 0,this.pkt=!1,this.Akt=[],this.gU=!1,this.mC=!1,this.bkt=[],this.Tkt=void 0,this.Skt=void 0,this.Ekt=e,this.yD=r,this.Ikt=s,this.Tkt=i,this.wkt=t.Rkt(i),this.Nkt(),this.bkt.push(n),this.Skt=u}var n=t.prototype;return n.Dkt=function(t){var n=this.Ckt===t.timeOffset;return!this._kt&&n},n.Nkt=function(){if(y(this.gkt)){var t=this.Ckt;if(void 0===t)return void(this.gkt=0);"string"==typeof t&&mW(t)&&(y(this.yD.Vg)||this.yD.Vg===1/0||(t=Tz(t)*this.yD.Vg)),y(t)||(this.gkt=t)}},n.Okt=function(t){this.Akt.push(t)},n.Pkt=function(){if(!this._kt){var t,n,i=this.Ekt===rz.jdt&&void 0===this.Tkt&&1===this.Bkt.length;wW(this.Bkt[0].type)||i?t=this.Bkt[0].src:n=this.Lkt(),this._kt={xkt:this.yD.hm.offsetWidth,Mkt:this.yD.hm.offsetHeight,Ukt:this.yD.hm.offsetWidth,Fkt:this.yD.hm.offsetHeight,Hkt:this.gU,Xkt:this.mC,Vkt:t,zkt:n,Gkt:this.Skt}}return this._kt},n.Lkt=function(){var t=this;return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">\n            '+this.Bkt.map(function(n){return t.Wkt(n)}).join("\n")+"\n            </vmap:VMAP>"},n.Wkt=function(t){return pW.replace("$TIMEOFFSET$",this.qkt()).replace("$TAG$",t.src)},n.qkt=function(){if(0===this.Ckt)return"start";if(this.Ckt===1/0)return"end";var t=this.Ckt;if("string"==typeof t&&mW(t)){var n=Tz(t)*this.yD.Vg;return fW.zmt(n)}return fW.zmt(this.Ckt||0)},n.Ykt=function(t){this.bkt.push(t)},t.Rkt=function(t){if(void 0!==t)return-1===t?1/0:t},n.jkt=function(){this.pkt=!0},b(t,[{key:"Bkt",get:function(){return this.bkt}},{key:"Qkt",get:function(){return this.Ekt}},{key:"Zkt",get:function(){return this.Ikt}},{key:"Jkt",get:function(){return this.pkt}},{key:"Kkt",get:function(){return mW(this.wkt)&&!this._kt}},{key:"Ckt",get:function(){return this.wkt}},{key:"Rp",get:function(){return this.gkt}},{key:"$kt",get:function(){return this.ykt},set:function(t){this.ykt=t}},{key:"tpt",get:function(){return this.mkt},set:function(t){this.mkt=t,this.kkt=!1}},{key:"npt",get:function(){return this.Akt}},{key:"Ny",get:function(){return this.gU},set:function(t){this.gU=t}},{key:"Wg",get:function(){return this.mC},set:function(t){this.mC=t}}]),t}(),bW=function(){function t(t){this.ipt=void 0,this.ept=void 0,this.rpt=!1,this.ipt=t,this.ept=void 0}var n=t.prototype;return n.hlt=function(t){this.ept=t},n.spt=function(t){return!this.upt||"nonlinear"===this.hpt.apt||this.upt.Rp>t.Rp&&this.upt.Rp!==t.Rp},n.cpt=function(t){if(t.length)return t.sort(function(t,n){return t.Rp-n.Rp})[0]},n.fpt=function(){if(this.Plt.length)return this.cpt(this.vpt(this.fD.Xg))},n.dpt=function(){var t=this;if(!(void 0!==this.ept&&this.ept>=0))return this.Plt.filter(function(n){return!n.$kt&&0===n.Rp&&n!==t.upt})[0]},n.vpt=function(t){var n=this;if(!this.rpt&&(this.rpt=!this.Plt.some(function(t){return y(t.Rp)}),!this.rpt))return[];var i=this.Plt.filter(function(n){return!n.$kt&&!y(n.Rp)&&t<=n.Rp});return void 0===this.ept?i:i.filter(function(t){return void 0===t.Ckt||t.Rp>n.ept})},b(t,[{key:"upt",get:function(){return this.ipt.upt}},{key:"hpt",get:function(){return this.ipt.hpt}},{key:"Plt",get:function(){return this.ipt.Plt}},{key:"fD",get:function(){return this.ipt.fD}}]),t}();!function(t){t[t.lpt=0]="lpt",t[t.wpt=1]="wpt",t[t._pt=2]="_pt"}(kW||(kW={}));var TW,SW,EW,IW,RW=function(){function t(t,n,i,e,r){var s=this;this.gpt=void 0,this.ypt=void 0,this.mpt=void 0,this.Ty=void 0,this.yD=void 0,this.klt=void 0,this.kpt=void 0,this.ppt=void 0,this.Apt=void 0,this.mU=void 0,this.bpt=kW.lpt,this.P5=void 0,this.Tpt=void 0,this.Spt=!1,this.Kvt=function(){for(var t=s.ypt.filter(function(t){return t.Kkt}),n=0;n<t.length;n++){var i=t[n];i.Nkt();var e=i.Ckt;s.Tpt.Ept(e,i.Rp)}s.Ty&&s.Ipt&&s.Rpt()},this.ypt=[],this.gpt=t,this.Ty=!1,this.mpt=!1,this.yD=n,this.klt=i,this.upt=void 0,this.ppt=0,this.Apt=new bW(this),this.mU=e,this.Tpt=r,this.yD.Js("durationchange",this.Kvt)}var n=t.prototype;return n.zy=function(){this.Ty=!0,this.mpt&&this.Rpt()},n.Npt=function(t,n){this.Dpt(t,n);var i=Vs(this.Plt,function(n){return n.Dkt(t)});if(i)i.Ykt(t.sources);else{var e=void 0===t.replaceContent||t.replaceContent,r=new AW(t.sources,t.timeOffset,n,this.yD,e,t.omidAccessModeRules);this.ypt.push(r),this.Cpt===kW._pt&&this.Tpt.Opt(r.Rp,r,r.Ckt),this.Ppt(n,r)}},n.Bpt=function(){if(Ws(this.Plt,this.upt),this.upt){for(var t=0,n=this.upt.npt;t<n.length;t++)n[t],this.Tpt.Lpt();this.upt=void 0}},n.xpt=function(){for(var t=0,n=this.ypt;t<n.length;t++)for(var i=0,e=n[t].npt;i<e.length;i++){var r=e[i];this.Tpt.Mpt(r,!0)}Qs(this.ypt)},n.Upt=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Bpt(),this.Fpt=!0,this.upt=t,this.ppt=t.Rp,this.P5=this.Hpt(t),n.next=7,Lr.awrap(this.P5);case 7:this.P5=void 0;case 8:case"end":return n.stop()}},null,this,null,We)},n.Hpt=function(t){var n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.Xpt(t),n=t.Pkt(),i=this.gpt.Vpt(n),t.$kt=!0,e.prev=4,e.next=7,Lr.awrap(i);case 7:if(t.Qkt!==rz.Ydt){e.next=10;break}return e.next=10,Lr.awrap(this.gpt.zpt());case 10:e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(4),this.upt=void 0,e.next=18,Lr.awrap(this.Rpt());case 18:case"end":return e.stop()}},null,this,[[4,12]],We)},n.Xpt=function(t){this.Ty?t.Ny=!0:t.Ny=this.klt.Ny,t.Wg=this.klt.Wg},n.Gpt=function(){var t;return null!=(t=this.Apt.dpt())?t:this.Apt.fpt()},n.Rpt=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.upt||this.upt.Jkt){n.next=2;break}return n.abrupt("return",this.P5);case 2:if(!(t=this.Gpt())){n.next=6;break}return n.next=6,Lr.awrap(this.Upt(t));case 6:case"end":return n.stop()}},null,this,null,We)},n.A_=function(){this.Bpt(),Qs(this.ypt),this.ppt=0,this.upt=void 0,this.P5=void 0,this.Fpt=!1},n.tpt=function(){this.Fpt=!1,this.upt&&(this.upt.tpt=!0)},n.Ppt=function(t,n){t===rz.Ydt&&this.Ty&&this.Apt.spt(n)&&!this.Wpt&&"linear"!==this.gpt.apt&&(!this.upt||this.upt&&this.upt.$kt)&&this.Upt(n)},n.jkt=function(){this.upt&&this.upt.jkt()},n.qpt=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.Ipt){n.next=3;break}return n.abrupt("return");case 3:if(!(t=this.Gpt())){n.next=7;break}return n.next=7,Lr.awrap(this.Upt(t));case 7:case"end":return n.stop()}},null,this,null,We)},n.Dpt=function(t,n){var i=t.sources.type,e=n===rz.jdt&&void 0===t.timeOffset,r=wW(i)||e?kW.wpt:kW._pt;r!==this.bpt&&(this.bpt=r,this.xpt(),this.gpt.Ypt&&!this.Wpt&&"linear"!==this.gpt.apt&&(this.gpt.Ypt.xs(),this.upt=void 0,this.P5=void 0),this.ppt=0,this.mpt=!0)},n.hlt=function(t){this.Apt.hlt(t)},n.Il=function(){this.yD.nu("durationchange",this.Kvt)},b(t,[{key:"hpt",get:function(){return this.gpt}},{key:"Plt",get:function(){return this.ypt}},{key:"fD",get:function(){return this.yD}},{key:"Wpt",get:function(){return Boolean(this.P5)}},{key:"Cpt",get:function(){return this.bpt}},{key:"upt",get:function(){return this.kpt},set:function(t){this.kpt=t}},{key:"Fpt",get:function(){return this.Spt},set:function(t){this.Spt=t}},{key:"Ipt",get:function(){var t=this;return!this.Wpt&&!this.Fpt&&(!(this.upt&&!this.upt.Jkt)&&(!!this.ypt.filter(function(n){return t.upt!==n}).length&&Boolean(this.Gpt())))}}]),t}();function NW(t){var n,i,e,r,s=t.getAdPodInfo();try{r={jpt:s.getAdPosition(),Qpt:s.getMaxDuration(),Zpt:s.getPodIndex(),L1:s.getTimeOffset(),Jpt:s.getTotalAds(),Kpt:s.getIsBumper()}}catch(t){r=void 0}for(var u=t.getUniversalAdIds(),o=[],a=0;a<u.length;a++){var h=u[a];o.push({$pt:h.getAdIdRegistry(),tAt:h.getAdIdValue()})}return{x_t:t.getAdId(),gwt:t.getAdSystem(),nAt:t.getAdvertiserName(),r_t:null!=(n=t.getApiFramework())?n:void 0,hwt:[],Nd:null!=(i=t.getContentType())?i:void 0,xwt:t.getCreativeId(),iAt:t.getCreativeAdId(),eAt:t.getDealId(),gT:t.getDescription(),Vg:t.getDuration(),Ek:t.getWidth(),oT:t.getHeight(),rAt:null!=(e=t.getMediaUrl())?e:void 0,sAt:t.getMinSuggestedDuration(),uAt:t.getSkipTimeOffset(),oAt:t.getSurveyUrl(),PN:t.getTitle(),aAt:t.getTraffickingParameters(),hAt:t.getTraffickingParametersString(),cAt:t.getUiElements(),vwt:o,fAt:t.getVastMediaBitrate(),vAt:t.getVastMediaHeight(),dAt:t.getVastMediaWidth(),lAt:t.getWrapperAdIds(),wAt:t.getWrapperAdSystems(),_At:t.getWrapperCreativeIds(),gAt:t.isLinear(),yAt:r}}function DW(t,n){if(t===TW.mAt){var i=n;return{kAt:i.adBreakDuration,jpt:i.adPosition,Xg:i.currentTime,Vg:i.duration,Jpt:i.totalAds}}return n}function CW(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return IW.pAt;case google.ima.AdError.Type.AD_PLAY:return IW.AAt}}function OW(t){return G(t)&&"function"==typeof t.getVastErrorCode}function PW(t){var n=t.getInnerError(),i=n&&OW(n)?PW(n):void 0;return{wu:t.getMessage(),llt:t.getErrorCode(),bAt:t.getVastErrorCode(),vs:CW(t.getType()),TAt:i}}!function(t){t.SAt="contentResumeRequested",t.EAt="contentPauseRequested",t.IAt="click",t.gf="durationChange",t.RAt="expandedChanged",t.NAt="start",t.DAt="impression",t.py="pause",t.CAt="resume",t.mAt="adProgress",t.OAt="adBuffering",t.PAt="firstQuartile",t.ugt="midpoint",t.BAt="thirdQuartile",t.ogt="complete",t.LAt="userClose",t.xAt="linearChanged",t.MAt="loaded",t.UAt="adCanPlay",t.FAt="adMetadata",t.HAt="adBreakReady",t.XAt="interaction",t.VAt="allAdsCompleted",t.zAt="skip",t.GAt="skippableStateChanged",t.WAt="log",t.qAt="viewableImpression",t.YAt="volumeChange",t.jAt="mute"}(TW||(TW={})),function(t){t.QAt="adError"}(SW||(SW={})),function(t){t[t.ZAt=-1]="ZAt",t[t.JAt=-1]="JAt",t[t.KAt=-1]="KAt",t[t.$At=-1]="$At",t[t.tbt=-1]="tbt",t[t.nbt=-1]="nbt",t[t.ibt=-1]="ibt",t[t.ebt=101]="ebt",t[t.rbt=102]="rbt",t[t.sbt=200]="sbt",t[t.ubt=201]="ubt",t[t.obt=202]="obt",t[t.abt=300]="abt",t[t.hbt=301]="hbt",t[t.cbt=302]="cbt",t[t.fbt=303]="fbt",t[t.vbt=400]="vbt",t[t.dbt=402]="dbt",t[t.lbt=403]="lbt",t[t.wbt=403]="wbt",t[t._bt=500]="_bt",t[t.gbt=501]="gbt",t[t.ybt=503]="ybt",t[t.mbt=602]="mbt",t[t.kbt=900]="kbt",t[t.pbt=900]="pbt",t[t.Abt=901]="Abt",t[t.bbt=1005]="bbt",t[t.Tbt=1007]="Tbt",t[t.Sbt=1009]="Sbt",t[t.Ebt=1010]="Ebt",t[t.Ibt=1011]="Ibt",t[t.Rbt=1021]="Rbt",t[t.Nbt=1101]="Nbt",t[t.Dbt=1205]="Dbt"}(EW||(EW={})),function(t){t.pAt="adLoadError",t.AAt="adPlayError"}(IW||(IW={}));var BW,LW=5,xW=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Cbt=!1,s.Obt=!1,s.Pbt=void 0,s.Bbt=void 0,s.Lbt=void 0,s.xbt=0,s.Mbt=function(t){if(t.wlt&&t.wlt.yAt){var n=t.wlt.yAt;s.Fbt.Ubt(n.L1,n.Jpt,n.Qpt)}},s.Hbt=function(t){var n,i,e;if(!(s.xbt>=LW)){s.xbt++;var r=t.Xbt;if(G(u=r)&&void 0!==u.kAt&&void 0!==u.Jpt){var u,o=null==(n=s.Lbt)?void 0:null==(i=n.Vbt())?void 0:null==(e=i.yAt)?void 0:e.L1;void 0!==o&&s.Fbt.Ubt(o,r.Jpt,r.kAt)}}},s.zbt=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.Xbt.Gbt){n.next=4;break}return n.next=4,Lr.awrap(s.Wbt(t.Xbt.Gbt));case 4:case"end":return n.stop()}},null,null,null,We)},s.qbt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.Cbt){t.next=4;break}return t.next=4,Lr.awrap(s.Ybt());case 4:s.Obt=!0;case 5:case"end":return t.stop()}},null,null,null,We)},s.jbt=function(t){if(t.wlt){0;var n=t.wlt;s.gpt.Qbt(n),s.gpt.qy(),s.gpt.Zbt(),s.Fbt.Jbt(n);var i=n.Vg;if(s.Kbt(i),n.gAt){var e=s.gpt.Xg,r=s.gpt.Q_;s.gpt.Q_=ty.Pg,s.$bt(new Ny(e,r)),s.$bt(new Py(e,r)),s.$bt(new By(e,r)),s.gpt.qg||s.$bt(new TA(s.gpt.Xg)),s.setCountdownTimer(),s.tTt(!0)}else s.gpt.Glt(),s.yD.qy(),s.gpt.qg||s.yD.Ly()}},s.nTt=function(t){var n;if(t.wlt){0;var i=t.wlt;if(s.Sr(),s.Fbt.iTt(s.gpt.Vg,i.gAt),s.gpt.Q_!==ty.Dg){var e=ty.Dg;s.gpt.Q_=e;var r=s.gpt.Xg;s.$bt(new my(r,e)),s.$bt(new Ly(r,e))}s.Kbt(NaN),null==(n=s.Lbt)||n.rM(s.gpt.eTt()),s.gpt.jkt()}},s.rTt=function(t){t.wlt&&(s.nTt(t),s.Fbt.rTt(t.wlt,s.gpt.Xg,s.gpt.Vg))},s.sTt=function(t){t.wlt&&(s.Fbt.iTt(-1,t.wlt.gAt),s.gpt.jkt(),!t.wlt.gAt&&s.gpt.Ipt()&&s.gpt.qpt())},s.uTt=function(t){t.wlt&&(t.wlt.gAt?s.gpt.xy():s.yD.xy())},s.oTt=function(){var t;(s.gpt.aTt=!0,s.gpt.hTt)&&(null==(t=s.Lbt)||t.xy(),s.gpt.hTt=!1)},s.cTt=function(t){var n,i;if(t.wlt){0,s.gpt.fTt&&(s.Bbt=s.yD.Xg),s.gpt.fTt&&null!=(n=s.yD.tm)&&n.contentProtection&&s.yD.nm(),s.Cbt=!0,s.yD.Sm=!0,s.gpt.vTt=!0;var e=t.wlt;s.Fbt.dTt(e);var r=e.Vg;s.gpt.Qbt(e),s.Kbt(r),s.gpt.qg=!1,s.gpt.qy(),s.gpt.zlt(),s.gpt.fTt||s.yD.Yy(),s.yD.xy(),s.gpt.lTt(e),0===(null==(i=e.yAt)?void 0:i.L1)||s.gpt.Zs(new bA(s.gpt.Xg))}},s.wTt=function(t){var n,i,e,r;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=t.wlt,s.gpt.vTt=!1,"linear"===s.gpt.apt&&s.Fbt._Tt(),n&&n.Vg>=0&&s.Kbt(n.Vg),s.yD.Vg===1/0&&s.gpt.gTt(),s.gpt.aTt=!1,!s.Obt){u.next=10;break}return u.next=10,Lr.awrap(s.Ybt());case 10:return s.gpt.qg=!0,u.prev=11,u.next=14,Lr.awrap(s.yTt());case 14:u.next=20;break;case 16:return u.prev=16,u.t0=u.catch(11),ou(u.t0)||s.Zs(new HF(u.t0)),u.abrupt("return");case 20:if(s.gpt.Glt(),s.gpt.Yy(),s.yD.zg||s.yD.Ly(),n&&s.gpt.Qbt(n),s.gpt.mTt&&(s.gpt.fTt&&(e=s.yD.jy(),r=null==(i=s.yD.tm)?void 0:i.src,e&&r&&(e.src=r)),s.gpt.kTt=!0),s.Cbt=!1,s.yD.Sm=!1,!s.gpt.Ipt()){u.next=30;break}return u.next=30,Lr.awrap(s.gpt.qpt());case 30:case"end":return u.stop()}},null,null,[[11,16]],We)},s.gpt=n,s.yD=i,s.klt=e,s.Fbt=r,s}S(n,t);var i=n.prototype;return i.$bt=function(t){this.gpt.Zs(t)},i.pTt=function(t){var n=this;this.Lbt=t,this.Lbt.Js(SW.QAt,this.zbt),this.Lbt.Js(TW.EAt,this.cTt),this.Lbt.Js(TW.SAt,this.wTt),this.Lbt.Js(TW.VAt,this.qbt),this.Lbt.Js(TW.NAt,this.jbt),this.Lbt.Js(TW.ogt,this.nTt),this.Lbt.Js(TW.zAt,this.rTt),this.Lbt.Js(TW.LAt,this.sTt),this.Lbt.Js(TW.IAt,this.uTt),this.Lbt.Js(TW.UAt,this.oTt),this.Lbt.Js(TW.py,function(){n.gpt.qg||(n.gpt.qg=!0,n.gpt.Zs(new ky(n.gpt.Xg))),n.tTt(!0)}),this.Lbt.Js(TW.CAt,function(){n.gpt.qg&&(n.gpt.qg=!1,n.gpt.Zs(new py(n.gpt.Xg)))}),this.Lbt.Js(TW.jAt,function(){var i=t.eM();i>=0&&n.ATt(i)}),this.Lbt.Js(TW.YAt,function(){var i=t.eM();i>=0&&n.ATt(i)}),this.Lbt.Js(TW.FAt,function(t){n.Fbt.bTt(t.type)}),this.Lbt.Js(TW.gf,function(t){t.wlt&&n.Kbt(t.wlt.Vg)}),this.Lbt.Js(TW.WAt,function(t){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.Xbt.adError,e=OW(i)?PW(i):void 0){r.next=5;break}return r.abrupt("return");case 5:if(!n.TTt(e)){r.next=10;break}return r.next=8,Lr.awrap(n.STt(t));case 8:r.next=16;break;case 10:if(!n.ETt(e)){r.next=15;break}return r.next=13,Lr.awrap(n.Wbt(e));case 13:r.next=16;break;case 15:n.ITt(e)&&n.RTt(e);case 16:case"end":return r.stop()}},null,null,null,We)}),this.Lbt.Js(TW.MAt,function(t){if(t.wlt&&(n.gpt.tpt(),n.Fbt.NTt(t.wlt),n.xbt=0,t.wlt.gAt)){var i,e=n.gpt.Q_;n.gpt.Q_=ty.Dg;var r=n.gpt.Xg,s=n.gpt.Q_;s!==e&&n.$bt(new my(r,s)),null==(i=n.Lbt)||i.rM(n.gpt.eTt()),n.$bt(new Ty(r,s)),n.$bt(new Ly(r,s))}}),this.Lbt.Js([TW.OAt,TW.DAt,TW.PAt,TW.ugt,TW.BAt],function(t){t.wlt&&n.Fbt.DTt(t.wlt,t.type,n.gpt.Xg)}),this.Lbt.Js(TW.PAt,this.Mbt),this.Lbt.Js(TW.mAt,this.Hbt)},i.switchToPlayerIfNoNextAd=function(){var t,n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Lbt){i.next=12;break}if((t=this.Lbt.Vbt())&&this.CTt(t)){i.next=10;break}if(!this.gpt.Ipt()){i.next=8;break}return i.next=6,Lr.awrap(this.gpt.qpt());case 6:i.next=10;break;case 8:this.gpt.OTt(),this.klt.qg&&!this.klt.zg&&this.klt.Ly();case 10:i.next=20;break;case 12:if(!this.gpt.Ipt()){i.next=17;break}return i.next=15,Lr.awrap(this.gpt.qpt());case 15:i.next=20;break;case 17:n=this.klt.qg,this.gpt.OTt(),n||this.yD.Ly();case 20:case"end":return i.stop()}},null,this,null,We)},i.CTt=function(t){var n=t.yAt,i=null==n?void 0:n.Jpt;return(null==n?void 0:n.jpt)!==i},i.Sr=function(){this.gpt.PTt&&(f(this.gpt.PTt),this.gpt.PTt=null)},i.ITt=function(t){return t.vs===IW.pAt},i.ETt=function(t){return t.vs===IW.AAt},i.TTt=function(t){return t.llt===EW.Sbt},i.Wbt=function(t){var n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.gpt.BTt.Fpt=!1,this.RTt(t),i=[EW.vbt,EW.Abt,EW.Rbt,EW.Dbt],this.gpt.LTt||Ys(i,t.llt)||Ys(i,null==(n=t.TAt)?void 0:n.llt)){e.next=6;break}return e.next=6,Lr.awrap(this.switchToPlayerIfNoNextAd());case 6:case"end":return e.stop()}},null,this,null,We)},i.RTt=function(t){this.gpt.xTt(t)},i.Ybt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Fbt.Lpt(),this.gpt.jkt(),"nonlinear"===this.gpt.apt&&(this.Fbt.iTt(-1,!1),this.gpt.Qbt(void 0)),"nonlinear"!==this.gpt.apt&&"none"!==this.gpt.apt){t.next=7;break}if(!this.gpt.Ipt()){t.next=7;break}return t.next=7,Lr.awrap(this.gpt.qpt());case 7:return t.next=9,Lr.awrap(this.gpt.MTt());case 9:this.klt.D_===this.gpt?this.gpt.Glt():this.UTt()&&this.yD.Zs(new Ry(this.yD.Xg));case 10:case"end":return t.stop()}},null,this,null,We)},i.UTt=function(){return this.gpt.mTt&&!this.gpt.kTt&&this.klt.zg},i.setCountdownTimer=function(){var t=this;this.Sr(),this.gpt.PTt=c(function(){return t.tTt()},250)},i.STt=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t.wlt){n.next=2;break}return n.abrupt("return");case 2:if(this.gpt.BTt.Fpt=!1,this.gpt.jkt(),!this.gpt.Ipt()){n.next=10;break}return n.next=8,Lr.awrap(this.gpt.qpt());case 8:n.next=11;break;case 10:this.gpt.qg=!0;case 11:case"end":return n.stop()}},null,this,null,We)},i.Kbt=function(t){this.gpt.Vg!==t&&t>=0&&(this.gpt.Vg=t,this.$bt(new Sy(this.gpt.Vg)))},i.ATt=function(t){this.gpt.eTt()!==t&&(0===t?this.gpt.FTt(t,!0,!1):this.gpt.FTt(t,!1,!1))},i.yTt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gpt.fTt||!this.yD.mu){t.next=6;break}return this.Pbt=new su,t.next=4,Lr.awrap(this.yD.Fy(this.yD.Uy(),this.Pbt.Ws));case 4:this.Bbt&&(this.yD.Xg=this.Bbt),this.Bbt=void 0;case 6:case"end":return t.stop()}},null,this,null,We)},i.tTt=function(t){if(this.Lbt){var n=this.Lbt.HTt();n>this.gpt.Vg&&this.Kbt(w.round(n))}var i=this.gpt.Xg;(t||!this.gpt.qg&&i!==this.gpt.XTt)&&(this.gpt.Zs(new Iy(i,void 0)),this.gpt.XTt=i)},i.A_=function(){this.Pbt&&(this.Pbt.Vs(),this.Pbt=void 0),this.Cbt=!1,this.Obt=!1,this.xbt=0},i.Il=function(){this.A_(),this.tu()},n}(Au);!function(t){t.VTt="theo",t.zTt="google-ima",t.GTt="google-dai",t.WTt="freewheel"}(BW||(BW={}));var MW=function(){function t(t,n,i){this.qw=void 0,this.qTt=[],this.YTt=!1,this.jTt=t,this.QTt=n,this.Jmt=i}var n=t.prototype;return n.ZTt=function(){this.YTt=!0},n.JTt=function(t){this.qTt.push(t)},n.KTt=function(){var t;return this.qw||(this.qw=(t=this,{get ads(){return t.Ult.map(function(t){return t.KTt()})},get maxDuration(){return t.Qpt},get maxRemainingDuration(){return t.$Tt},get timeOffset(){return t.L1},get integration(){return t.tSt}})),this.qw},b(t,[{key:"Ult",get:function(){return this.qTt}},{key:"Qpt",get:function(){return this.jTt},set:function(t){this.jTt=t}},{key:"$Tt",get:function(){return this.QTt},set:function(t){this.QTt=t}},{key:"L1",get:function(){return this.Jmt},set:function(t){this.Jmt=t}},{key:"mm",get:function(){return this.YTt}}]),t}();var UW=function(t){function n(n,i){var e;return(e=t.call(this,-1,-1,n)||this).nSt=i,e}return S(n,t),b(n,[{key:"tSt",get:function(){return BW.zTt}},{key:"iSt",get:function(){return this.nSt}}]),n}(MW),FW=function(){function t(t,n){this.plt=void 0,this.yD=void 0,this.plt=t,this.yD=n}return t.prototype.eSt=function(n){if(!n||!n.hkt)return[];var i=t.rSt(n),e=[];if(i)for(;i.Klt();){var r=i.jlt,s=[];r.hwt&&(s=r.hwt.zwt),r.owt&&(e.push(new QW(r.owt,s,n,new HW(this.plt,this.yD),r.vwt).KTt()),Qs(s)),r.fwt&&e.push(new jW(r.fwt.pwt[0],s,n,new HW(this.plt,this.yD),r.vwt).KTt())}return e},t.rSt=function(t){var n,i;return null==(n=t.rkt)?void 0:null==(i=n.qlt)?void 0:i.$lt()},t}(),HW=function(){function t(t,n){this.Lbt=void 0,this.yD=void 0,this.Lbt=t,this.yD=n}return b(t,[{key:"Ypt",get:function(){return this.Lbt}},{key:"fD",get:function(){return this.yD}}]),t}(),XW=function(){function t(t,n){this.Nwt=void 0,this.sSt=void 0,this.Nwt=t,this.sSt=n}var n=t.prototype;return n.KTt=function(){for(var t=this,n=[],i=this,e=0,r=this.Nwt.pmt.uSt;e<r.length;e++){var s=r[e],u=this.oSt(s);if(u)for(var o=function(){var i=u.jlt;if(i){var e=[];i.hwt&&(e=i.hwt.zwt),i.owt&&n.push(new QW(i.owt,e,t.Nwt,t.sSt,i.vwt)),i.fwt&&i.fwt.pwt.forEach(function(r){n.push(new jW(r,e,t.Nwt,t.sSt,i.vwt))})}};u.Klt();)o()}return{maxDuration:i.Lx(),timeOffset:i.L1,get maxRemainingDuration(){return i.$Tt},ads:n.map(function(t){return t.KTt()}),integration:BW.VTt}},n.aSt=function(t){for(var n=0;t.Klt();)t.jlt.owt&&!t.jlt.owt.G_t&&(n+=t.jlt.owt.Vg||0);return n},n.Lx=function(){for(var t=0,n=0,i=this.Nwt.pmt.uSt;n<i.length;n++){var e=i[n],r=this.oSt(e);if(r)for(;r.Klt();)r.jlt.owt&&(t+=r.jlt.owt.Vg||0)}return t},n.oSt=function(t){return FW.rSt(t)},b(t,[{key:"L1",get:function(){var t=this.Nwt.pmt.Rp;return t>=0?t:this.sSt.fD.Vg}},{key:"$Tt",get:function(){var t=this,n=0;return this.Nwt.pmt.uSt.forEach(function(i){var e=t.oSt(i);e&&(n+=t.aSt(e))}),this.sSt&&this.sSt.Ypt&&(n+=this.sSt.Ypt.Vg-this.sSt.Ypt.Xg),n}}]),t}(),VW=function(){},zW={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},GW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).hSt=void 0,u.Xwt=void 0,u.Nwt=void 0,u.sSt=void 0,u.L_t=void 0,u.hSt=n,u.Xwt=i,u.Nwt=e,u.sSt=r,u.L_t=s,u}S(n,t);var i=n.prototype;return i.cSt=function(t){return xr({},zW,{resourceURI:t.Tgt||""})},i.fSt=function(t){return xr({},zW,{contentHTML:t.Tgt.trim(),type:"HTMLResource"})},i.vSt=function(t){var n,i;return xr({},zW,{clickThrough:(null==(n=t.d_t)?void 0:n.trim())||"",resourceURI:(null==(i=t.Tgt)?void 0:i.trim())||"",altText:t.a_t||"",type:"StaticResource"})},i.dSt=function(t,n,i){if(t&&n){var e="<img "+(i?"title='"+i+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(n)+"' target='_blank' rel='noopener'>"+e+"</a>"}},i.hwt=function(t){var n=this;return t?t.map(function(t){var i,e={adSlotId:t.s_t||"",height:t.oT||0,width:t.Ek||0};if(t.Cwt){var r,s=n.vSt(t.Cwt),u=s.clickThrough||(null==(r=t.o_t)?void 0:r.d_t);i=xr({},s,{contentHTML:n.dSt(s.resourceURI,u,s.altText)||""})}else if(t.Pwt)i=n.fSt(t.Pwt);else{if(!t.Owt)return;i=n.cSt(t.Owt)}return _g(i,e)}).filter(function(t){return void 0!==t}):[]},i.lSt=function(){return this.hSt.gwt},i.wSt=function(){if(this.hSt.V_t)return this.hSt.V_t[0].contentURL;var t=this.hSt;return t&&t.Cwt?t.Cwt.Tgt:""},i._St=function(){if(this.hSt.V_t)return this.hSt.V_t[0].type;var t=this.hSt,n=t&&t.Cwt;return n&&n.Egt?n.Egt:""},n}(VW);function WW(t){if(t)return t.KTt()}var qW,YW,jW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).qw=void 0,u}S(n,t);var i=n.prototype;return i.jw=function(){var t=this.Nwt,n=this.sSt,i={companions:this.hwt(this.Xwt),type:"nonlinear",id:this.hSt.xwt,skipOffset:this.z_t,integration:BW.VTt,adSystem:this.hSt.gwt,get adBreak(){return t?new XW(t,n).KTt():void 0},creativeId:this.hSt.xwt,universalAdIds:this.L_t.map(function(t){return{adIdRegistry:t.hmt,adIdValue:t.cmt}})};return this.hSt.Owt?_g(this.cSt(this.hSt.Owt),i):this.hSt.Pwt?_g(this.fSt(this.hSt.Pwt),i):this.hSt.Cwt?_g(this.vSt(this.hSt.Cwt),i):i},i.KTt=function(){return this.qw||(this.qw=this.jw()),this.qw},b(n,[{key:"z_t",get:function(){var t,n=this.hSt.Lwt;return n&&n.okt&&void 0!==n.okt.skipOffset?fW.Wmt(n.okt.skipOffset,this.sSt.Ypt.Vg):(null==(t=this.hSt.Lwt)?void 0:t.z_t)||-1}}]),n}(GW),QW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).qw=void 0,u}return S(n,t),n.prototype.KTt=function(){var t,n=this.Nwt,i=this.sSt;this.qw||(this.qw={companions:this.hwt(this.Xwt),duration:this.hSt.Vg,id:this.hSt.xwt,mediaFiles:this.hSt.V_t,skipOffset:this.z_t,type:"linear",integration:BW.VTt,adSystem:this.hSt.gwt,width:void 0,height:void 0,get adBreak(){return n?new XW(n,i).KTt():void 0},clickThrough:null==(t=this.hSt.y_t)?void 0:t.d_t,creativeId:this.hSt.xwt,universalAdIds:this.L_t.map(function(t){return{adIdRegistry:t.hmt,adIdValue:t.cmt}})});return this.qw},b(n,[{key:"z_t",get:function(){var t=this.hSt.Lwt;return t&&t.okt&&void 0!==t.okt.skipOffset?fW.Wmt(t.okt.skipOffset,this.sSt.Ypt.Vg):this.hSt.z_t||-1}}]),n}(GW),ZW=function(t){function n(n){return t.call(this,"gSt",n)||this}return S(n,t),n.prototype.jw=function(){return new JW(WW(this.wlt))},n}(vz),JW=function(t){function n(n){return t.call(this,"addadbreak",n)||this}return S(n,t),n}(dz),KW=function(t){function n(n){return t.call(this,"ySt",n)||this}return S(n,t),n.prototype.jw=function(){return new $W(WW(this.wlt))},n}(vz),$W=function(t){function n(n){return t.call(this,"removeadbreak",n)||this}return S(n,t),n}(dz);!function(t){t.fmt="linear",t.vmt="nonlinear",t.Zd="unknown"}(qW||(qW={})),function(t){t.NONE="none",t.READY="ready"}(YW||(YW={}));var tq=function(t){function n(n,i){var e;return(e=t.call(this)||this).qw=void 0,e.Bh=void 0,e.X_t=void 0,e.Oa=void 0,e.Pa=void 0,e.oa=void 0,e.Xwt=[],e.mSt=YW.NONE,e.h_t=void 0,e.Nwt=n,e.kSt=i,e}S(n,t);var i=n.prototype;return i.pSt=function(t,n,i,e,r,s){this.Bh=t,this.Oa=n,this.Pa=i,this.oa=e,this.Xwt=r,this.X_t=s,this.mSt=YW.READY},i.KTt=function(){return this.qw||(this.qw=this.jw()),this.qw},i.lSt=function(){return""},i._St=function(){return""},i.wSt=function(){return""},b(n,[{key:"ASt",get:function(){return this.mSt}},{key:"Lwt",get:function(){return this.Nwt}},{key:"zwt",get:function(){return this.Xwt}},{key:"Vg",get:function(){return this.oa}},{key:"oT",get:function(){return this.Pa}},{key:"B_",get:function(){return this.Bh}},{key:"z_t",get:function(){return this.X_t}},{key:"Ek",get:function(){return this.Oa}},{key:"apt",get:function(){return this.kSt}},{key:"d_t",get:function(){}}]),n}(VW);function nq(t){return{adSystem:void 0,creativeId:void 0,universalAdIds:[],get readyState(){return t.ASt},get adBreak(){return t.Lwt.KTt()},get duration(){return t.Vg},get companions(){return t.zwt.map(function(t){return t.KTt()})},get clickThrough(){return t.d_t},get width(){return t.Ek},get type(){return t.apt},get height(){return t.oT},get id(){return t.B_},get skipOffset(){return t.z_t},get integration(){return t.tSt}}}var iq=function(t){function n(n){var i;return(i=t.call(this,n,qW.Zd)||this).bSt=void 0,i.TSt=void 0,i}S(n,t);var i=n.prototype;return i.jw=function(){var t,n=nq(this);return t=this,_g(n,{get adSystem(){return t.gwt},get apiFramework(){return t.SSt},get bitrate(){return t.ESt},get contentType(){return t.Nd},get creativeId(){return t.xwt},get mediaUrl(){return t.rAt},get title(){return t.PN},get traffickingParameters(){return t.aAt},get traffickingParametersString(){return t.hAt},get wrapperAdIds(){return t.lAt},get wrapperAdSystems(){return t.wAt},get wrapperCreativeIds(){return t._At},get universalAdIds(){return t.vwt}})},i.ISt=function(t){this.bSt=t,this.pSt(t.x_t,t.dAt,t.vAt,t.Vg,[],t.uAt),this.kSt=t.gAt?qW.fmt:qW.vmt},b(n,[{key:"tSt",get:function(){return BW.zTt}},{key:"gwt",get:function(){return this.bSt?eq(this.bSt.gwt):void 0}},{key:"SSt",get:function(){return this.bSt?eq(this.bSt.r_t):void 0}},{key:"ESt",get:function(){return this.bSt?this.bSt.fAt:0}},{key:"Nd",get:function(){return this.bSt?eq(this.bSt.Nd):void 0}},{key:"xwt",get:function(){return this.bSt?eq(this.bSt.xwt):void 0}},{key:"iAt",get:function(){return this.bSt?eq(this.bSt.iAt):void 0}},{key:"rAt",get:function(){var t,n=null==(t=this.bSt)?void 0:t.rAt;return H(n)?n:this.TSt},set:function(t){this.TSt=t}},{key:"PN",get:function(){var t;return null==(t=this.bSt)?void 0:t.PN}},{key:"aAt",get:function(){return this.bSt?eq(this.bSt.aAt):void 0}},{key:"hAt",get:function(){return this.bSt?eq(this.bSt.hAt):void 0}},{key:"lAt",get:function(){var t,n;return null!=(t=null==(n=this.bSt)?void 0:n.lAt)?t:[]}},{key:"wAt",get:function(){var t,n;return null!=(t=null==(n=this.bSt)?void 0:n.wAt)?t:[]}},{key:"_At",get:function(){var t,n;return null!=(t=null==(n=this.bSt)?void 0:n._At)?t:[]}},{key:"vwt",get:function(){var t,n;return null!=(t=null==(n=this.bSt)?void 0:n.vwt.map(function(t){return{adIdRegistry:t.$pt,adIdValue:t.tAt}}))?t:[]}}]),n}(tq);function eq(t){return null===t?void 0:t}var rq=function(){function t(t,n){this.Fbt=t,this.RSt=n}var n=t.prototype;return n.NSt=function(t,n,i){0},n.cb=function(){this.Fbt.cb()},n.Il=function(){return We.resolve()},b(t,[{key:"slt",get:function(){return this.Fbt.slt}},{key:"elt",get:function(){return this.RSt}},{key:"Mlt",get:function(){return this.Fbt.Mlt}},{key:"Olt",get:function(){var t=this.Fbt.Olt;return t?t.KTt():null}},{key:"Clt",get:function(){var t=this.Fbt.DSt;return t?[t.KTt()]:[]}},{key:"Plt",get:function(){return[]}},{key:"Blt",get:function(){return this.Fbt.Blt.map(function(t){return t.KTt()})}}]),t}(),sq=function(){function t(t,n){this.CSt=[],this.hSt=void 0,this.OSt=void 0,this.PSt=!1,this.BSt=void 0,this.Flt=t,this.BSt=new rq(this,n)}return t.prototype.cb=function(){},b(t,[{key:"LSt",get:function(){return this.BSt}},{key:"slt",get:function(){return this.Flt}},{key:"Mlt",get:function(){return this.PSt}},{key:"Plt",get:function(){return[]}},{key:"DSt",get:function(){return this.hSt}},{key:"Olt",get:function(){return this.OSt}}]),t}(),uq=function(t){function n(n){return t.call(this,"xSt",n)||this}return S(n,t),n.prototype.jw=function(){return new oq(WW(this.wlt))},n}(vz),oq=function(t){function n(n){return t.call(this,"updatead",n)||this}return S(n,t),n}(dz),aq=function(t){function n(n){return t.call(this,"MSt",n)||this}return S(n,t),n.prototype.jw=function(){return new hq(WW(this.wlt))},n}(vz),hq=function(t){function n(n){return t.call(this,"addad",n)||this}return S(n,t),n}(dz),cq=function(t){function n(n,i){var e;return(e=t.call(this,"USt",n)||this).currentTime=void 0,e.currentTime=i,e}return S(n,t),n.prototype.jw=function(){return new fq(WW(this.wlt),this.currentTime)},n}(vz),fq=function(t){function n(n,i){var e;return(e=t.call(this,"adbegin",n)||this).currentTime=i,e}return S(n,t),n}(dz),vq=function(t){function n(n){return t.call(this,"FSt",n)||this}return S(n,t),n.prototype.jw=function(){return new dq(WW(this.wlt))},n}(vz),dq=function(t){function n(n){return t.call(this,"adloaded",n)||this}return S(n,t),n}(dz),lq=function(t){function n(n){return t.call(this,"HSt",n)||this}return S(n,t),n.prototype.jw=function(){return new wq(WW(this.wlt))},n}(vz),wq=function(t){function n(n){return t.call(this,"adimpression",n)||this}return S(n,t),n}(dz),_q=function(t){function n(n,i){var e;return(e=t.call(this,"XSt",n)||this).currentTime=void 0,e.currentTime=i,e}return S(n,t),n.prototype.jw=function(){return new gq(WW(this.wlt),this.currentTime)},n}(vz),gq=function(t){function n(n,i){var e;return(e=t.call(this,"adfirstquartile",n)||this).currentTime=i,e}return S(n,t),n}(dz),yq=function(t){function n(n,i){var e;return(e=t.call(this,"VSt",n)||this).currentTime=void 0,e.currentTime=i,e}return S(n,t),n.prototype.jw=function(){return new mq(WW(this.wlt),this.currentTime)},n}(vz),mq=function(t){function n(n,i){var e;return(e=t.call(this,"admidpoint",n)||this).currentTime=i,e}return S(n,t),n}(dz),kq=function(t){function n(n,i){var e;return(e=t.call(this,"zSt",n)||this).currentTime=void 0,e.currentTime=i,e}return S(n,t),n.prototype.jw=function(){return new pq(WW(this.wlt),this.currentTime)},n}(vz),pq=function(t){function n(n,i){var e;return(e=t.call(this,"adthirdquartile",n)||this).ad=n,e.currentTime=i,e}return S(n,t),n}(dz),Aq=function(t){function n(n,i){var e;return(e=t.call(this,"WSt",n)||this).GSt=void 0,e.GSt=i,e}return S(n,t),n.prototype.jw=function(){return new bq(WW(this.wlt),this.qSt)},b(n,[{key:"qSt",get:function(){return this.GSt}}]),n}(vz),bq=function(t){function n(n,i){var e;return(e=t.call(this,"adskip",n)||this).playedPercentage=i,e}return S(n,t),n}(dz),Tq=function(t){function n(n,i){var e;return(e=t.call(this,"YSt",n)||this).currentTime=void 0,e.currentTime=i,e}return S(n,t),n.prototype.jw=function(){return new Sq(WW(this.wlt),this.currentTime)},n}(vz),Sq=function(t){function n(n,i){var e;return(e=t.call(this,"adend",n)||this).currentTime=i,e}return S(n,t),n}(dz),Eq=function(t){function n(n){return t.call(this,"jSt",n)||this}return S(n,t),n.prototype.jw=function(){return new Iq(WW(this.wlt))},n}(vz),Iq=function(t){function n(n){return t.call(this,"adbreakbegin",n)||this}return S(n,t),n}(dz),Rq=function(t){function n(n){return t.call(this,"QSt",n)||this}return S(n,t),n.prototype.jw=function(){return new Nq(WW(this.wlt))},n}(vz),Nq=function(t){function n(n){return t.call(this,"adbreakend",n)||this}return S(n,t),n}(dz),Dq=function(t){function n(n){return t.call(this,"ZSt",n)||this}return S(n,t),n.prototype.jw=function(){return new Cq(WW(this.wlt))},n}(vz),Cq=function(t){function n(n){return t.call(this,"updateadbreak",n)||this}return S(n,t),n}(dz),Oq=function(t){function n(n){var i;return(i=t.call(this,"JSt")||this).wlt=n,i}return S(n,t),n.prototype.jw=function(){return new Pq(this.wlt.KTt())},n}(ng),Pq=function(t){function n(n){var i;return(i=t.call(this,"adbuffering")||this).ad=n,i}return S(n,t),n}(Tu),Bq=function(t){function n(){return t.call(this,"KSt")||this}return S(n,t),n.prototype.jw=function(){return new Lq},n}(ng),Lq=function(t){function n(){return t.call(this,"admetadata")||this}return S(n,t),n}(Tu),xq=function(t){function n(n,i){var e;return(e=t.call(this,n,BW.zTt)||this).$St=[],e.tEt=[],e.nEt=i,e}S(n,t);var i=n.prototype;return i.iEt=function(t,n){for(var i=0;i<t;i++){var e=new iq(n);n.JTt(e),this.slt.Zs(new aq(e))}},i.Opt=function(t,n,i){var e=t;e===1/0&&(e=-1);var r=new UW(e,i);this.CSt.push(r),n.Okt(r),this.slt.Zs(new ZW(r))},i.Ept=function(t,n){for(var i=0,e=this.CSt;i<e.length;i++){var r=e[i];y(r.L1)&&r.iSt===t&&(r.L1=n,this.slt.Zs(new Dq(r)))}},i.Mpt=function(t,n){void 0===n&&(n=!1),n&&Ws(this.CSt,t),this.slt.Zs(new KW(t))},i.Lpt=function(){if(this.Olt){this.Mpt(this.Olt,!0);var t=Boolean(this.hSt&&this.hSt.apt===qW.fmt);this.eEt(void 0,t)}},i.rEt=function(t,n){var i=n.yAt;if(i){var e=i.jpt-1,r=t.Ult[e];return r.ASt===YW.READY?r:(r.ISt(n),this.slt.Zs(new uq(r)),r.Lwt.Qpt=i.Qpt,r)}},i.sEt=function(t){if(!Ys(this.tEt,t)){if(t){if(this.hSt===t)return;this.hSt=t,this.slt.Zs(new cq(this.hSt,t.Lwt.L1));for(var n=0,i=this.$St;n<i.length;n++){var e=i[n];0,this.bTt(e,t,this.nEt.Xg)}}else{if(!this.hSt)return;var r=new Tq(this.hSt,this.hSt.Lwt.L1);this.tEt.push(this.hSt),this.hSt=void 0,this.Flt.Zs(r)}Qs(this.$St)}},i.eEt=function(t,n){if(t){if(this.OSt)return;this.OSt=t,n&&this.slt.Zs(new Eq(this.OSt))}else{if(!this.OSt)return;var i=new Rq(this.OSt);this.OSt=void 0,Qs(this.tEt),n&&this.Flt.Zs(i)}},i.uEt=function(t){return this.CSt.filter(function(n){return Ut(n.L1,t,.01)})[0]},n.oEt=function(t,n){if(n.yAt)return t.Ult[n.yAt.jpt-1]},i.dTt=function(t){if(t.yAt){var n=t.yAt,i=this.uEt(n.L1);i&&(Qs(this.$St),this.eEt(i,t.gAt))}},i._Tt=function(){this.Olt&&this.slt.Zs(new Rq(this.Olt)),Qs(this.$St),this.Lpt()},i.Jbt=function(t){if(!this.OSt&&t.yAt){var i=this.uEt(t.yAt.L1);this.eEt(i,t.gAt)}if(this.OSt){var e=n.oEt(this.OSt,t);if(!e)return;e.ASt===YW.NONE&&this.rEt(this.OSt,t);var r=t.rAt;H(r)&&!H(e.rAt)&&(e.rAt=r,this.slt.Zs(new uq(e))),this.sEt(e)}else 0},i.iTt=function(t,n){if(this.sEt(void 0),!n&&this.Olt){var i=this.Olt;this.eEt(void 0,!1),this.Mpt(i)}},i.NTt=function(t){var n=t.yAt;if(n){var i=this.uEt(n.L1);if(i){this.Ubt(n.L1,n.Jpt,n.Qpt);var e=this.rEt(i,t);e&&this.slt.Zs(new vq(e))}}},i.Ubt=function(t,n,i){var e=this.uEt(t);if(e){var r=e.Ult.length;if(n>r){var s=n-r;this.iEt(s,e),e.Qpt=i,this.slt.Zs(new Dq(e))}}},i.rTt=function(t,i,e){if(this.OSt){var r=n.oEt(this.OSt,t);if(r){var s=i/e;this.slt.Zs(new Aq(r,s))}}},i.DTt=function(t,i,e){if(this.OSt){var r=this.hSt;if(!r){var s=n.oEt(this.OSt,t);if(!s||Ys(this.tEt,s))return void this.$St.push(i);r=s,this.rEt(this.OSt,t),this.sEt(r)}this.bTt(i,r,e)}},i.bTt=function(t,n,i){t===TW.FAt?this.slt.Zs(new Bq):t===TW.DAt&&n?this.slt.Zs(new lq(n)):t===TW.OAt&&n?this.slt.Zs(new Oq(n)):t===TW.PAt&&n&&i?this.slt.Zs(new _q(n,i)):t===TW.ugt&&n&&i?this.slt.Zs(new yq(n,i)):t===TW.BAt&&n&&i&&this.slt.Zs(new kq(n,i))},i.cb=function(){this.nEt.cb()},i.A_=function(){var t=Boolean(this.hSt&&this.hSt.apt===qW.fmt);this.sEt(void 0),this.eEt(void 0,t);for(var n=0,i=this.CSt;n<i.length;n++){var e=i[n];this.Mpt(e)}Qs(this.CSt),Qs(this.$St),Qs(this.tEt)},i.Il=function(){this.A_()},b(n,[{key:"Mlt",get:function(){return this.nEt.Mlt}},{key:"DSt",get:function(){return this.hSt}},{key:"Olt",get:function(){return this.OSt}},{key:"Blt",get:function(){return this.CSt.filter(function(t){return!t.mm})}}]),n}(sq);function Mq(t){var n=r.google.ima.settings;t.ads&&t.ads.vpaidMode&&r.google.ima.settings.setVpaidMode(function(t){var n=r.google.ima.ImaSdkSettings.VpaidMode;switch(t){case Kg.ENABLED:return n.ENABLED;case Kg.INSECURE:return n.INSECURE;case Kg.DISABLED:default:return n.DISABLED}}(t.ads.vpaidMode)),n.setPlayerVersion("4.6.0"),n.setPlayerType("THEOplayer"),n.setAutoPlayAdBreaks(!0),n.setDisableCustomPlaybackForIOS10Plus(!Uq(t));var i,e,s="string"==typeof(e=(i=t).ui&&i.ui.language)?e:void 0;s&&n.setLocale(s)}function Uq(t){return M.hn&&t.allowNativeFullscreen}var Fq=function(t){function i(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e)||this).aEt=void 0,h.Ty=!1,h.hEt=void 0,h.kC=void 0,h.mC=void 0,h.Da=void 0,h.bG=void 0,h.Lbt=void 0,h.cEt=void 0,h.fEt=void 0,h.PTt=void 0,h.oa=void 0,h.vEt=void 0,h.dEt=void 0,h.Slt=!1,h.lEt=void 0,h.wEt=void 0,h.ipt=void 0,h._Et=void 0,h.gEt=-1,h.kSt="none",h.UM=void 0,h.yEt=void 0,h.mEt=!1,h.kEt=!1,h.Tpt=void 0,h.pEt=!1,h.AEt=new su,h.ept=void 0,h.bEt=void 0,h.TEt=!1,h.SEt=!1,h.EEt=function(t){h.slt.Zs(t)},h.IEt=function(t){h.lEt=new um(im.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),h.wEt=hm(h.lEt)},h.XTt=NaN,h.REt=function(){h.Ty||h.zy()},h.UM=r,h.kC=!0,h.oa=NaN,h.bG=ty.Dg,h.vEt=!1,h.dEt=!1,h.mC=h.fD.Wg,h.Da=h.fD.Jg,h.Tpt=new xq(h.slt,Kt(h)),h._Et=new xW(Kt(h),h.fD,h.Vlt,h.Tpt),h._Et.Js(Lg.G_,h.IEt),h.fD.Js("play",h.REt),h.ipt=new RW(Kt(h),h.fD,h.Vlt,s,h.Tpt),h.hEt=a,h.cEt=o,h.fEt=u,h.Yy(),h.cEt.Js("NEt",h.EEt),h}S(i,t);var e=i.prototype;return e.NSt=function(t,n,i){n===rz.jdt&&void 0!==i&&(this.Slt=i),this.ipt.Npt(t,n)},e.Zy=function(){return[]},e.hlt=function(t){this.ept=t,this.ipt.hlt(t)},e.zpt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.pEt||!this.Ypt){t.next=4;break}return t.next=3,Lr.awrap(this.Ypt.DD());case 3:this.pEt=!0;case 4:case"end":return t.stop()}},null,this,null,We)},e.Qbt=function(t){this.apt=t?t.gAt?"linear":"nonlinear":"none"},e.eTt=function(){return this.mC?0:this.fD.Jg},e.FTt=function(t,n,i){this.Da=t,this.mC=n,this.fD.Jg=t,this.fD.Wg=n,this.Ypt&&i&&this.Ypt.rM(this.eTt()),this.Zs(new Oy(this.Xg,this.Jg))},e.zy=function(){this.fD.nu("play",this.REt),this.Ty||(this.Ty=!0,this.ipt.zy(),this.Zbt())},e.DEt=function(){return this.aEt||(this.aEt=this.fEt.gx()),this.aEt},e.Ly=function(){var t,n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.yEt){i.next=2;break}return i.abrupt("return");case 2:return this.AEt.Vs(),this.AEt=new su,t=this.qg,this.qg=!1,this.Zs(new py(this.Xg)),this.CEt()||(this.fTt||this.fD.Yy(),this.Zs(new bA(this.Xg))),this.aTt||(this.hTt=!1),n=Boolean(this.Ypt),this.yEt=this.ipt.Rpt(),i.prev=11,i.next=14,Lr.awrap(this.yEt);case 14:return i.prev=14,this.yEt=void 0,i.finish(14);case 17:i.prev=17,au(this.AEt.Ws),i.next=24;break;case 21:return i.prev=21,i.t0=i.catch(17),i.abrupt("return");case 24:if(this.Ty||this.REt(),!this.lEt||!this.Slt){i.next=27;break}return i.abrupt("return");case 27:if(!this.Ypt){i.next=45;break}if(!t){i.next=43;break}if(!n){i.next=41;break}return i.prev=30,i.next=33,Lr.awrap(fu(this.Ypt.OEt(),this.AEt.Ws));case 33:this.Zs(new TA(this.Xg)),i.next=39;break;case 36:return i.prev=36,i.t1=i.catch(30),i.abrupt("return");case 39:i.next=43;break;case 41:return i.next=43,Lr.awrap(this.zpt());case 43:i.next=46;break;case 45:this.Slt||(this.Glt(),this.Vlt.Ly());case 46:case"end":return i.stop()}},null,this,[[11,,14,17],[17,21],[30,36]],We)},e.xy=function(){var t;this.qg||(this.qg=!0,this.Zs(new ky(this.Xg))),this.AEt.Vs(),this.aTt?null==(t=this.Ypt)||t.xy():this.hTt=!0},e.cb=function(){var t;null==(t=this.Ypt)||t.cb()},e.MTt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Ypt){t.next=10;break}return t.next=3,Lr.awrap(this.cEt.PEt());case 3:return t.next=5,Lr.awrap(this.Ypt.My());case 5:return t.next=7,Lr.awrap(this.Ypt.xs());case 7:this.Ypt=void 0,this.apt="none",this.pEt=!1;case 10:case"end":return t.stop()}},null,this,null,We)},e.My=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.aEt=void 0,n.next=3,Lr.awrap(this.fEt.xs());case 3:return this.XTt=0,this.ipt.A_(),this.AEt.Vs(),this.qg=!0,this.vEt=!1,this.dEt=!1,this.aTt=!1,this.Tpt.A_(),n.next=13,Lr.awrap(this.MTt());case 13:this.OTt(),null==(t=this.hEt)||t.A_(),this.hTt=!1;case 16:case"end":return n.stop()}},null,this,null,We)},e.qy=function(){this.BEt()},e.BEt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lr.awrap(this.DEt());case 2:return t.next=4,Lr.awrap(this.fEt.qy());case 4:case"end":return t.stop()}},null,this,null,We)},e.Yy=function(){this.fEt.Yy()},e.LEt=function(){return Boolean(this.Ypt)&&Ys(this.Ypt.xEt(),-1)&&!this.vEt},e.tpt=function(){this.ipt.tpt()},e.Ipt=function(){return this.ipt.Ipt},e.jkt=function(){this.ipt.jkt()},e.qpt=function(){return this.ipt.qpt()},e.Jy=function(t){if(this.LEt()){if("pause"===t.type&&this.fD.zg)return!0;if("ended"===t.type)return this.vEt=!0,this.cEt.PEt(),!0}return!1},e.CEt=function(){return Boolean(this.Ypt&&this.Ypt.Vbt())},e.Vpt=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Lr.awrap(this.MTt());case 3:return n=this.MEt(),i.next=6,Lr.awrap(this.DEt());case 6:return i.next=8,Lr.awrap(this.cEt.Vpt(t,this.hEt,n));case 8:return this.Ypt=i.sent,i.next=11,Lr.awrap(this.UEt(this.Ypt));case 11:i.next=16;break;case 13:i.prev=13,i.t0=i.catch(0),this._Et.Wbt(i.t0);case 16:case"end":return i.stop()}},null,this,[[0,13]],We)},e.UEt=function(t){var n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(t.rM(this.eTt()));case 2:if(this.ipt.Cpt===kW.wpt)if((n=t.xEt()).length)for(i=0;i<n.length;i++)e=n[i],this.Tpt.Opt(e,this.ipt.upt);else this.Tpt.Opt(this.ipt.upt.Rp,this.ipt.upt);this._Et.A_(),this._Et.pTt(t);case 5:case"end":return r.stop()}},null,this,null,We)},e.jy=function(){if(this.Lbt&&this.fTt&&this.CEt())return this.fD.jy()},e.Qy=function(){return this.fTt&&this.Vlt.D_===this?this.fD.Qy():kS},e.MEt=function(){var t,n,i=this.ipt.Cpt===kW.wpt,e=!(!this.kEt||!i)&&this.FEt;return this.UM.ads.showCountdown||(t=[]),void 0!==this.UM.ads.allowedMimeTypes&&(n=this.UM.ads.allowedMimeTypes),{HEt:n,cAt:t,XEt:e,ESt:this.UM.ads.googleIma.bitrate,VEt:void 0,zEt:this.ept}},e.Zbt=function(){if(!this.kEt&&!this.Wg&&(this.kEt=!0,this.Lbt)){var t=this.MEt();this.Lbt.GEt(t)}},e.xTt=function(t){this.lEt=new um(im.ADVERTISEMENT_ERROR,t.wu),this.wEt=new hf(n.ErrorCode.AD_ERROR,"There was a problem playing ads.",this.lEt),this.slt.Zs(lz.glt(t)),this.Slt&&this.Zs(new xy(this.wEt))},e.OTt=function(){this.Vlt.D_===this&&(this.fD.qy(),this.Glt(),this.Yy())},e.gTt=function(){var t;this.fD.Xg!==1/0&&this.fD.Am.length&&((null==(t=this.ipt.upt)?void 0:t.Zkt)&&-1!==this.gEt&&(this.fD.Xg+=this.gEt,this.gEt=-1))},e.lTt=function(t){var n,i;this.gEt=null!=(n=null==(i=t.yAt)?void 0:i.Qpt)?n:-1},e.zlt=function(){this.fTt&&(this.bEt=Fy(this.fD)),t.prototype.zlt.call(this)},e.Glt=function(){this.restorePlayerState(),t.prototype.Glt.call(this),this.fD.qy(),this.fTt&&!this.fD.zg&&this.fD.Ly()},e.restorePlayerState=function(){this.bEt&&(this.fD.Yg=this.bEt.Yg,this.fD.Jg=this.bEt.Jg,this.fD.Wg=this.bEt.Wg),this.bEt=void 0},e.doHandleWindowFocus=function(){this.fTt||t.prototype.doHandleWindowFocus.call(this)},e.Il=function(){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this._Et.nu(Lg.G_,this.IEt),n.next=3,Lr.awrap(t.prototype.Il.call(this));case 3:return this.Vlt.Ky(this),n.next=6,Lr.awrap(this.MTt());case 6:return this.cEt.nu("NEt",this.EEt),n.next=9,Lr.awrap(this.cEt.xs());case 9:return n.next=11,Lr.awrap(this.fEt.xs());case 11:this.ipt.Il(),this._Et.Il();case 13:case"end":return n.stop()}},null,this,null,We)},b(i,[{key:"rlt",get:function(){return this.Tpt.LSt}},{key:"WEt",get:function(){return this.Tpt}},{key:"BTt",get:function(){return this.ipt}},{key:"fTt",get:function(){return Uq(this.UM)}},{key:"elt",get:function(){return i.elt}},{key:"FEt",get:function(){return this.UM.ads.preload===$g.MIDROLL_AND_POSTROLL}},{key:"Plt",get:function(){return[]}},{key:"Clt",get:function(){return[]}},{key:"Olt",get:function(){return null}},{key:"apt",get:function(){return this.kSt},set:function(t){this.kSt=t}},{key:"Ypt",get:function(){return this.Lbt},set:function(t){this.Lbt=t,this.pEt=!1}},{key:"Xg",get:function(){if(!this.Ypt)return 0;var t=this.Ypt.HTt();return y(this.Vg)||t<0?0:this.Vg-t},set:function(t){}},{key:"Vg",get:function(){return this.oa||NaN},set:function(t){this.oa=t}},{key:"Wg",get:function(){return this.mC},set:function(t){this.mC!==t&&this.FTt(this.Jg,t,!0)}},{key:"ym",get:function(){return!0}},{key:"qg",get:function(){return this.kC},set:function(t){this.kC=t}},{key:"aTt",get:function(){return this.TEt},set:function(t){this.TEt=t}},{key:"LTt",get:function(){return this.Slt}},{key:"mTt",get:function(){return this.vEt}},{key:"hTt",get:function(){return this.SEt},set:function(t){this.SEt=t}},{key:"kTt",get:function(){return this.dEt},set:function(t){this.dEt=t}},{key:"Qg",get:function(){return 0}},{key:"Zg",get:function(){return 0}},{key:"Am",get:function(){return new gS([0,this.Vg]).qN()}},{key:"Jg",get:function(){return this.Da},set:function(t){this.Da!==t&&this.FTt(t,this.Wg,!0)}},{key:"hm",get:function(){return this.fD.hm}},{key:"zg",get:function(){return!1}},{key:"mu",get:function(){if(this.lEt&&this.Slt)return this.lEt}},{key:"Gg",get:function(){if(this.wEt&&this.Slt)return this.wEt}},{key:"Q_",get:function(){return this.bG},set:function(t){this.bG=t}},{key:"vTt",get:function(){return this.mEt},set:function(t){this.mEt=t}}],[{key:"elt",get:function(){return BW.zTt}}]),i}(kz),Hq=function(){function t(){this.qEt=void 0,this.YEt=void 0}var n=t.prototype;return n.registerWebImaAdPlayerConstructor=function(t){this.qEt=t},n.registerNativeImaAdPlayerConstructor=function(t){this.YEt=t},n.createAdPlayer=function(t,n,i,e,r){var s,u;return null!=(s=null==(u=e.ads.googleIma)?void 0:u.useNativeIma)&&s&&this.YEt?this.YEt(t,n,i,e,r):function(){if(Boolean(le.google&&le.google.ima)){var t=1===l.keys(le.google.ima).length&&le.google.ima.dai;return!t}return!1}()&&this.qEt?this.qEt(t,n,i,e,r):void 0},t}();Hq.Yn=new Hq;var Xq=function(){function t(){}var n=t.prototype;return n.aO=function(t){return t&&t.integration===HS.GOOGLE_IMA},n.nlt=function(t,n,i,e,r){return Hq.Yn.createAdPlayer(t,n,i,e,r)},n.Oe=function(t,n,i,e){i.NSt(t,n,e)},n.$O=function(t){var n=_W(t.sources);if(n){var i={integration:HS.GOOGLE_IMA,sources:n,omidAccessModeRules:t.omidAccessModeRules?lE(t.omidAccessModeRules):void 0},e=yW(t.timeOffset);return void 0!==e&&(i.timeOffset=e),i}},b(t,[{key:"tlt",get:function(){return Fq.elt}}]),t}();KS.Yn.hO(new Xq);var Vq,zq=function(t){function n(n){return t.call(this,"FSt",n)||this}return S(n,t),n.prototype.jw=function(){return new Gq(WW(this.wlt))},n}(vz),Gq=function(t){function n(n){return t.call(this,"adloaded",n)||this}return S(n,t),n}(dz),Wq=-1,qq=10,Yq=function(){function t(t,n){this.CSt=void 0,this.wkt=void 0,this.jEt=void 0,this.Ji=void 0,this.rwt=void 0,this.yD=void 0,this.QEt=void 0,this.ZEt=void 0,this.CSt=[],this.jEt=!1,this.wkt=t,this.Ji=0,this.rwt=0,this.yD=n,this.QEt=NaN,this.ZEt=!1}var n=t.prototype;return n.Klt=function(t){var n;return this.uSt.length>this.Ji&&(t?(n=this.uSt[this.Ji],this.Ji++):n=this.uSt[this.Ji]),n},n.JEt=function(t){t.pmt=this,this.uSt.push(t)},n.KEt=function(t){var n,i,e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:n=!1,i=0,e=this.CSt;case 2:if(!(i<e.length)){o.next=19;break}return r=e[i],o.prev=4,o.next=7,Lr.awrap(r.Qh(function(){}));case 7:n=!0,o.next=16;break;case 10:o.prev=10,o.t0=o.catch(4),s=r.okt.sources,u="string"==typeof s?s:s.src,t.Zs(lz.ylt(o.t0,u));case 16:i++,o.next=2;break;case 19:return this.ZEt=!0,o.abrupt("return",n);case 21:case"end":return o.stop()}},null,this,[[4,10]],We)},n.$Et=function(){this.jEt=!0},n.tIt=function(){return this.jEt},n.nIt=function(){for(var t=0,n=this.CSt;t<n.length;t++)for(var i=n[t],e=FW.rSt(i);null!=e&&e.Klt();)if(e.jlt.owt)return!0;return!1},b(t,[{key:"uSt",get:function(){return this.CSt}},{key:"qgt",get:function(){return this.Ji}},{key:"iIt",get:function(){return this.wkt}},{key:"eIt",get:function(){return this.ZEt}},{key:"Rp",get:function(){if(y(this.QEt)){var t=fW.Wmt(this.wkt,this.yD.Vg);void 0===t||y(t)||(this.QEt=t)}return this.QEt}},{key:"rIt",get:function(){return this.jEt}},{key:"sIt",get:function(){return this.rwt},set:function(t){this.rwt=t}}]),t}(),jq=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).uIt=void 0,s.yD=void 0,s.rk=void 0,s.oIt=void 0,s.Lz=void 0,s.plt=void 0,s.aIt=void 0,s.hIt=void 0,s.ept=void 0,s.cIt=!1,s.fIt=function(t){return _u(s.vIt(t))},s.vIt=function(t){var n,i,e,r,u,o,a;return Lr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(s.dIt(),n=t.currentTime,i=t.currentTime!==Wq?s.lIt(s.Lz,t.currentTime):s.wIt(t.currentTime,0,0)[0],u=s.yD.Vg-qq,!(r=s._It(Wq)&&w.ceil(n)===w.ceil(u)?s.wIt(Wq,qq,0).filter(function(t){return!t.eIt}):s.wIt(n,qq,0).filter(function(t){return!t.eIt})).length){h.next=12;break}return h.next=8,Lr.awrap(We.all(r.map(function(t){return t.KEt(s.oIt)})));case 8:o=h.sent,(a=o.some(function(t){return!0===t}))&&s.Zs(new zq),(!a||!s.aIt.gIt||r[0].Rp<s.aIt.gIt.Rp)&&(e=r[0]);case 12:if(i&&(i!==s.aIt.gIt&&(e=i),s.yIt([i])),!e){h.next=18;break}return s.aIt.mIt(),s.aIt.gIt=e,h.next=18,Lr.awrap(s.aIt.kIt());case 18:y(s.yD.Vg)||(s.Lz=t.currentTime);case 19:case"end":return h.stop()}},null,null,null,We)},s.yD=n,s.plt=i,s.ept=void 0,s.cIt=!1,n.Vg!==1/0?s.rk=0:s.rk=n.Xg,s.Lz=s.rk,s.uIt=[],s.oIt=e,s.aIt=r,s.hIt=!1,s}S(n,t);var i=n.prototype;return i.pIt=function(){this.aIt.kIt()},i.DD=function(){this.AIt(),this.oIt.Js("YSt",this.aIt.mIt)},i.OD=function(){this.bIt(),this.oIt.nu("YSt",this.aIt.mIt),this.Lz=this.rk,this.aIt.A_();for(var t=0,n=this.uIt;t<n.length;t++){var i=n[t];i.rIt||i.$Et()}Qs(this.uIt)},i.AIt=function(){this.hIt||(this.yD.Js("timeupdate",this.fIt),this.hIt=!0)},i.bIt=function(){this.hIt&&(this.yD.nu("timeupdate",this.fIt),this.hIt=!1)},i.TIt=function(){return this.vIt(new Iy(Wq,void 0))},i._It=function(t){return this.wIt(t,0,0).length>0},i.lIt=function(t,n){var i=this.uIt.filter(function(t){return!t.rIt});if(0!==i.length){for(var e,r=0,s=0;s<i.length;s++){var u=i[s],o=u.Rp;o>=t&&o<=n&&o>=r&&!y(o)&&(r=(e=u).Rp)}return e}},i.SIt=function(t){return this.vIt(new Iy(t,void 0))},i.dIt=function(){if(!this.cIt&&void 0!==this.ept){this.cIt=!this.uIt.some(function(t){return y(t.Rp)});for(var t=0,n=this.uIt;t<n.length;t++){var i=n[t];i.Rp!==Wq&&i.Rp<=this.ept&&!i.tIt()&&i.$Et()}}},i.yIt=function(t){for(var n=0;n<t.length;n++){t[n].$Et()}this.plt.EIt(t),0===this.IIt&&this.bIt()},i.wIt=function(t,n,i){for(var e=[],r=0,s=this.uIt;r<s.length;r++){var u=s[r];if(!u.rIt){var o=u.Rp;(this.RIt(o,t)||this.NIt(o,t,n,i))&&e.push(u)}}return e},i.RIt=function(t,n){switch(n){case 0:return 0===t;case Wq:return t===Wq;default:return!1}},i.NIt=function(t,n,i,e){if(t<0)return!1;var r=t-n;return-1!==r&&r<=i&&r>=-e},i.DIt=function(t){if(t&&t.length>0){for(var i=0;i<t.length;i++){var e=t[i],r=n.Rkt(e.L1),s=this.Cet(e);-1===s&&(this.cIt=void 0===this.ept,this.uIt.push(new Yq(r,this.yD)),s=this.uIt.length-1),this.uIt[s].JEt(e)}this.AIt()}},n.Rkt=function(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}},i.Cet=function(t){for(var i=n.Rkt(t.L1),e=0,r=this.uIt.length;e<r;e++){var s=this.uIt[e];if(i===n.Rkt(s.iIt))return e}return-1},i.CIt=function(t){var n=this.uIt.indexOf(t);qs(this.uIt,n)},i.hlt=function(t){this.ept=t,this.cIt=void 0===t},b(n,[{key:"IIt",get:function(){for(var t=0,n=0,i=this.uIt;n<i.length;n++){i[n].rIt||(t+=1)}return t}},{key:"Plt",get:function(){return this.uIt}}]),n}(Wg),Qq=function(t){function n(n,i){var e;return(e=t.call(this)||this).OIt=void 0,e.PIt=void 0,e.BIt=void 0,e.nN=void 0,e.LIt=void 0,e.xIt=void 0,e.Flt=void 0,e.MIt=function(t){t.stopPropagation(),e.UIt()},e.UIt=function(){for(var t=0,n=e.PIt;t<n.length;t++)for(var i=0,r=n[t].w_t;i<r.length;i++){var s=r[i];pz(s.uri)}},e.OIt=s.createElement("div"),e.OIt.style.display="none",e.PIt=[],e.BIt=[],e.LIt=n,e.xIt=i,e.nN=null,e.Flt=new Wg,e}S(n,t);var i=n.prototype;return i.FIt=function(){this.HIt(),this.XIt(),this.nN=null},i.VIt=function(t){this.BIt=this.BIt.concat(t)},i.zIt=function(t){this.PIt=this.PIt.concat(t)},i.XIt=function(){this.BIt=[]},i.HIt=function(){this.PIt=[]},i.GIt=function(t){for(var n=0,i=this.BIt;n<i.length;n++){var e=i[n];e.Agt===t&&pz(e.eventURL)}},i.qy=function(){this.WIt.style.display=""},i.Yy=function(){this.WIt.style.display="none"},i.Il=function(){this.tu(),this.Flt.tu(),tr(this.OIt)},b(n,[{key:"WIt",get:function(){return this.OIt}},{key:"slt",get:function(){return this.Flt}}]),n}(Wg);function Zq(t,n){var i=n;if(!function(t){return"ui"in t}(t))return i;var e,r=t.ui.language;if(q(r)){var s=t.ui.languages;if(!s)return i;e=s[r]}else e=r;return e&&e[n]&&(i=e[n]),i}!function(t){t.qIt="theo-size-xs",t.YIt="theo-size-s",t.jIt="theo-size-m",t.QIt="theo-size-l",t.ZIt="theo-size-xl"}(Vq||(Vq={}));var Jq=[1200,992,768,576],Kq={1200:Vq.ZIt,992:Vq.QIt,768:Vq.jIt,576:Vq.YIt},$q=function(){function t(t,n){var i=this;this.JIt=void 0,this.KIt=function(t){i.$It({width:t.Ek,height:t.oT})},this.dD=t,this.Xq=n,this.JIt=tY(n.CB),rr(this.dD,this.JIt),n.Js("TB",this.KIt)}var n=t.prototype;return n.$It=function(t){var n=tY(t.width);n!==this.JIt&&(rr(this.dD,n),function(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+ir(t)+" ",e=" "+n+" ";-1!==i.indexOf(e);)i=i.replace(e," ");er(t,i.trim())}}(this.dD,this.JIt),this.JIt=n)},n.Il=function(){this.Xq.nu("TB",this.KIt)},t}();function tY(t){for(var n=0;n<Jq.length;n++){var i=Jq[n];if(t>i)return Kq[i]}return Vq.qIt}var nY,iY=function(t){function n(n,i){var e;return(e=t.call(this)||this).dD=void 0,e.tRt=void 0,e.nRt=void 0,e.iRt=void 0,e.VC=void 0,e.eRt=function(){e.Zs(new Tu("cb"))},e.dD=s.createElement("div"),e.hm.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",e.hm.style.position="absolute",e.nRt=s.createElement("span"),e.hm.appendChild(e.nRt),i&&(e.tRt=s.createElement("div"),e.tRt.className="theoplayer-ad-skip-poster",e.tRt.style.backgroundImage='url("'+Is(i)+'")',e.hm.appendChild(e.tRt)),e.VC="countdown",e.iRt=new $q(e.hm,n),e}S(n,t);var i=n.prototype;return i.rRt=function(){this.VC="skip",this.Sd="Skip Ad",this.sRt(),this.hm.classList.remove("theoplayer-ad-skip-countdown"),this.hm.classList.add("theoplayer-ad-skip-button")},i.sRt=function(){this.hm.addEventListener("mouseup",this.eRt),this.hm.addEventListener("touchend",this.eRt)},i.uRt=function(){this.hm.removeEventListener("mouseup",this.eRt),this.hm.removeEventListener("touchend",this.eRt)},i.Il=function(){this.uRt(),this.iRt.Il(),tr(this.dD),tr(this.nRt),this.tRt&&tr(this.tRt)},b(n,[{key:"hm",get:function(){return this.dD}},{key:"q_",get:function(){return this.VC}},{key:"Sd",get:function(){return this.nRt.textContent||""},set:function(t){EP(this.nRt,t)}}]),n}(Wg);function eY(t,n){var i=t.Ek&&n.Ek,e=t.oT&&n.oT;return i||e?i&&e?t.Ek*t.oT-n.Ek*n.oT:i?t.Ek-n.Ek:e?t.oT-n.oT:(t.Ek||1)*(t.oT||1)-(n.Ek||1)*(n.oT||1):0}function rY(t,n){return eY(t,n)||function(t,n){return t.PR-n.PR}(t,n)}var sY=((nY={})[Jg.pg]=1,nY[Jg.Ag]=2,nY[Jg.Ig]=2,nY);function uY(t,n){var i=n?n.map(function(t){return t.toLowerCase()}):n;return Bs(t.filter(function(t){var n=t.type.toLowerCase();return!!V(i)&&-1!==i.indexOf(n)&&iW(n)}),function(t,n){return sY[t.type]-sY[n.type]}).map(oY)}function oY(t){return gE({src:t.contentURL,type:t.type,isAdvertisement:!0})}function aY(t,n){return eY(hY(t),hY(n))}function hY(t){return{oT:t.height,Ek:t.width}}function cY(t,n,i,e){var r=function(t,n,i,e){var r,s=1/0,u=t.filter(function(t){return!iW(t.type)}).filter(function(t){return void 0===e||-1!==e.indexOf(t.type)});if(u.length){for(var o=0;o<u.length;o++){var a=u[o],h=(w.abs(a.width/n-1)+w.abs(a.height/i-1))/2;h<s&&(s=h,r=a)}return oY(r||u.sort(aY)[0])}}(t,n.width,n.height,i),s=uY(t,i);return r&&s.push(r),OE({sources:s},e)}var fY,vY=function(t){function n(n,e){var r;return(r=t.call(this)||this).Iw=void 0,r.dD=void 0,r.oRt=void 0,r.aRt=function(t){t.stopPropagation(),r.Zs(new Tu("clickstart"))},r.hRt=function(t){t.stopPropagation(),r.Zs(new Tu("click"))},r.Iw=n,r.oRt=e,r.dD=s.createElement("a"),r.dD.href=e,r.dD.style.position="absolute",r.dD.style.zIndex="11",r.dD.target="cRt",i.Mr.Wt?(EP(r.dD,"learn more"),r.dD.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",r.dD.setAttribute("rel","noopener"),r.dD.addEventListener("touchstart",r.aRt),r.dD.addEventListener("touchend",r.hRt)):(r.Iw.style.cursor="pointer",hr(r.dD),r.Iw.addEventListener("mousedown",r.aRt),r.Iw.addEventListener("click",r.hRt)),r.Iw.appendChild(r.dD),r}return S(n,t),n.prototype.xs=function(){this.tu(),this.dD.removeEventListener("touchstart",this.aRt),this.dD.removeEventListener("touchend",this.hRt),this.Iw.removeEventListener("mousedown",this.aRt),this.Iw.removeEventListener("click",this.hRt),this.Iw.removeChild(this.dD),this.Iw.style.cursor=""},b(n,[{key:"fRt",get:function(){return this.oRt},set:function(t){this.oRt!==t&&(this.oRt=t,this.dD.href=t)}}]),n}(Au),dY=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i)||this).O_t=void 0,h.vRt=[],h.dRt=void 0,h.lRt=!1,h.wRt=0,h._Rt=void 0,h.gRt=void 0,h.yRt=void 0,h.mRt=void 0,h.bw=new su,h.L_t=[],h.kRt=!0,h.pRt=function(t){void 0===t&&(t=!0),h.ARt.nu(Nf.mf,h.bRt),h.lRt=!1,t&&h.GIt(xz.ogt),h.Yy(),h.xIt()},h.TRt=function(){h.bw=void 0,h.lRt||(h.SRt(),h.lRt=!0),h.kRt&&(h.kRt=!1,h.plt.pIt()),h.WIt.style.display="block",h.ARt.nu(yy.Hg,h.TRt),h.lRt=!0,h.Zs(new TA(h.Xg)),h.ERt()},h.bRt=function(){var t=h.Xg/h.Vg;0===h.wRt&&t>=.25?(h.GIt(xz.rgt),h.wRt=1):1===h.wRt&&t>=.5?(h.GIt(xz.ugt),h.wRt=2):2===h.wRt&&t>=.75&&(h.GIt(xz.sgt),h.wRt=3),h.IRt(),h.O_t&&-1!==h.O_t.z_t&&h.O_t.z_t<h.O_t.Vg&&(h.Xg<h.O_t.z_t?h.RRt():(h.yRt||h.NRt(),h.yRt&&"skip"!==h.yRt.q_&&h.yRt.rRt()))},h.DRt=function(){var t;h.bw=void 0,h.ARt.nu(Lg.G_,h.DRt),h.kRt=!0,h.nN.Pgt(dG.Ngt),h.lRt=!1,h.ARt.Yy();var n=(null==(t=h.ARt.tm)?void 0:t.src)||"";h.LIt(n)},h.CRt=function(){h.Qs(new Iy(h.Xg,void 0))},h.ORt=function(){h.Qs(new Sy(h.Vg))},h.PRt=function(){h.Qs(new Oy(h.Xg,h.Jg))},h.BRt=function(){h.plt.xy()},h.LRt=function(){if(h.O_t){h.GIt(xz.J_t);var t=new QW(h.O_t,h.vRt,h.O_t.Lwt,h.xRt,h.MRt);h.slt.Zs(new Aq(t,h.Xg/h.Vg)),h.pRt(!1)}},h.Ix=e,h.URt=r,h.Pc=s,h.plt=u,h.Xq=o,h.ARt=a,h.WIt.className="theoplayer-ad-linear",h.WIt.style.position="absolute",h.WIt.style.width="100%",h.WIt.style.height="100%",h.ARt.Yy(),h._Rt=!1,h}S(n,t);var i=n.prototype;return i.Ly=function(){this.ARt.qg&&(this.ARt.Ly(),this.Zs(new py(this.Xg)),this.lRt&&this.GIt(xz.Q_t),this.lRt=!0)},i.xy=function(){this.ARt.qg||(this.ARt.xy(),this.Zs(new ky(this.Xg)),this.GIt(xz.If))},i.My=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return null==(t=this.bw)||t.Vs(),this.bw=void 0,this.Yy(),this.lRt=!1,this.kRt=!0,this.FRt(),this.HRt(),n.next=9,Lr.awrap(this.XRt());case 9:case"end":return n.stop()}},null,this,null,We)},i.VRt=function(t){this.vRt.push(t)},i.RRt=function(){if(this.O_t){this.yRt||this.NRt();var t=w.round(this.O_t.z_t-this.Xg);this.yRt.Sd="You can skip in "+t+" seconds"}},i.NRt=function(){var t,n=null==(t=this.Ix.Uy())?void 0:t.poster;this.yRt=new iY(this.Xq,n),this.WIt.appendChild(this.yRt.hm),this.yRt.Js("cb",this.LRt)},i.zRt=function(){this.O_t&&this.O_t.y_t.d_t&&(this.mRt=new vY(this.WIt,this.O_t.y_t.d_t),this.mRt.Js("clickstart",this.BRt),this.mRt.Js("click",this.UIt))},i.ERt=function(){for(var t=this,n=0,i=this.BIt;n<i.length;n++){var e=sG(i[n].Pu,this.Vg);e&&a(function(){return t.GIt(xz.Nf)},1e3*e)}},i.GRt=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.O_t&&this.dRt){n.next=2;break}return n.abrupt("return");case 2:if(!(t=cY(this.O_t.V_t,this.dRt,this.Pc.ads.allowedMimeTypes,this.Pc)).sources.length){n.next=12;break}return this.bw=new su,this.kRt=!0,n.next=8,Lr.awrap(this.ARt.Fy(t,this.bw.Ws));case 8:this.ARt.qy(),this.O_t.Dwt(),n.next=17;break;case 12:return n.next=14,Lr.awrap(this.ARt.A_());case 14:return this.LIt(""),this.O_t.Dwt(),n.abrupt("return");case 17:this.zRt();case 18:case"end":return n.stop()}},null,this,null,We)},i.WRt=function(t,n,i,e){return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.O_t=t,this.L_t=e,this.ARt.Js(Nf.Xf,this.CRt),this.ARt.Js(Nf.gf,this.ORt),this.ARt.Js(Nf.Vf,this.PRt),this.O_t.Awt&&0!==this.O_t.Awt.length&&this.VIt(this.O_t.Awt),this.O_t.y_t&&this.zIt(this.O_t.y_t),this.nN=n,this.dRt=i,0===t.V_t.length){r.next=16;break}return this.ARt.Js(Lg.G_,this.DRt),r.next=13,Lr.awrap(this.GRt());case 13:this.ARt.Js(Nf.mf,this.pRt),this.ARt.Js(Nf.Xf,this.bRt),this.ARt.Js(yy.Hg,this.TRt);case 16:case"end":return r.stop()}},null,this,null,We)},i.qRt=function(){this.YRt&&this.jRt&&this.LRt()},i.SRt=function(){this.GIt(xz.egt);var t=this.owt;if(t){var n=new QW(t,this.vRt,t.Lwt,this.xRt,this.MRt);this.slt.Zs(new cq(n,this.Xg))}},i.XRt=function(){var t,n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.ARt.nu(Lg.G_,this.DRt),this.ARt.nu(Nf.mf,this.pRt),this.ARt.nu(Nf.Xf,this.bRt),this.ARt.nu(yy.Hg,this.TRt),this.ARt.nu(Nf.Xf,this.CRt),this.ARt.nu(Nf.gf,this.ORt),this.ARt.nu(Nf.Vf,this.PRt),this.O_t&&(t=this.O_t,n=new QW(t,this.vRt,t.Lwt,this.xRt,this.MRt),this.slt.Zs(new Tq(n,this.Xg))),this.QRt(),this.FIt(),this.FRt(),this.HRt(),this.O_t=void 0,this.L_t=[],this.dRt=void 0,i.next=17,Lr.awrap(this.ARt.A_());case 17:this.ARt.Yy(),this.WIt.style.cursor="",this.wRt=0,Qs(this.vRt),this._Rt&&(this.URt.XRt(),this._Rt=!1);case 22:case"end":return i.stop()}},null,this,null,We)},i.QRt=function(){this.mRt&&(this.mRt.xs(),this.mRt=void 0)},i.HRt=function(){this.gRt&&(tr(this.gRt),this.gRt=void 0)},i.FRt=function(){this.yRt&&(this.yRt.Il(),this.yRt=void 0)},i.ZRt=function(){this._Rt=!0},i.IRt=function(){this.gRt||(this.gRt=s.createElement("div"),this.gRt.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.WIt.appendChild(this.gRt));var t=this.plt.Olt;if(t&&t.ads){var n=t.ads.filter(function(t){return"linear"===t.type}).length,i=Zq(this.Pc,"The content will play in")+" "+w.round(t.maxRemainingDuration)+" "+Zq(this.Pc,"seconds");if(n>1){var e=this.plt.JRt;if(e)i+=" Ad "+(e.pmt.sIt+1)+"/"+n}EP(this.gRt,i)}},b(n,[{key:"xRt",get:function(){return this.plt.KRt()}},{key:"YRt",get:function(){return this.lRt}},{key:"Xg",get:function(){return this.ARt.Xg}},{key:"Vg",get:function(){var t=this.ARt.Vg;return y(t)&&this.O_t&&(t=this.O_t.Vg||0),t}},{key:"zg",get:function(){return this.ARt.zg}},{key:"Wg",get:function(){return this.ARt.Wg},set:function(t){this.ARt.Wg=t,t?this.GIt(xz.Y_t):this.GIt(xz.j_t)}},{key:"qg",get:function(){return this.ARt.qg}},{key:"Jg",get:function(){return this.ARt.Jg},set:function(t){this.ARt.Jg=t}},{key:"owt",get:function(){return this.O_t}},{key:"$Rt",get:function(){return this.vRt}},{key:"MRt",get:function(){return this.L_t}},{key:"jRt",get:function(){return this.owt&&-1!==this.owt.z_t&&this.ARt.Xg>=this.owt.z_t}}]),n}(Qq),lY=function(t){function n(){var i;return(i=t.call(this)||this).dD=void 0,i.eRt=function(t){i.Zs(new Tu("cb")),i.tNt(t)},i.tNt=function(t){t.stopPropagation()},i.dD=n.nNt(),i.sRt(),i}S(n,t);var i=n.prototype;return i.sRt=function(){this.hm.addEventListener("mouseup",this.eRt),this.hm.addEventListener("touchend",this.eRt),this.hm.addEventListener("mousedown",this.tNt)},i.uRt=function(){this.hm.removeEventListener("mouseup",this.eRt),this.hm.removeEventListener("touchend",this.eRt),this.hm.removeEventListener("mousedown",this.tNt)},n.nNt=function(){var t=s.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t},i.Il=function(){this.uRt(),this.dD=null},b(n,[{key:"hm",get:function(){return this.dD}}]),n}(Wg),wY=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i)||this).iNt=void 0,s.vRt=[],s.dRt=void 0,s.plt=void 0,s.eNt=void 0,s.rNt=void 0,s.klt=void 0,s.L_t=[],s.sNt=function(){s.uNt(),s.GIt(xz.vgt),s.xIt()},s.oNt=function(t){s.uNt(),s.nN.Pgt(dG.Cgt),s.LIt()},s.aNt=function(){s.Yy(),nr(s.WIt),s.xIt(),s.iNt=void 0,s.L_t=[]},s.hNt=function(){s.cNt||(s.rNt=void 0,s.eNt=new lY,s.WIt.children[0].appendChild(s.eNt.hm),s.eNt.Js("cb",s.fNt))},s.fNt=function(){s.GIt(xz.J_t),s.qRt()},s.WIt.className="theoplayer-ad-nonlinear",s.WIt.style.position="absolute",s.WIt.style.width="100%",s.WIt.style.bottom="3em",s.WIt.style.zIndex="10",s.WIt.style.textAlign="center",s.plt=e,s.klt=r,s}S(n,t);var i=n.prototype;return i.FIt=function(){t.prototype.FIt.call(this),this.WIt&&nr(this.WIt)},i.WRt=function(t,n,i,e){return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.iNt&&this.XRt(),this.iNt=t,this.L_t=e,0!==this.iNt.Awt.length&&this.VIt(this.iNt.Awt),this.nN=n,this.dRt=i,0===this.iNt.pwt.length){r.next=13;break}return this.zIt(this.iNt.pwt[0].Bwt),this.WIt.addEventListener("error",this.oNt),this.WIt.addEventListener("load",this.sNt),r.next=12,Lr.awrap(this.GRt());case 12:this.vNt();case 13:case"end":return r.stop()}},null,this,null,We)},i.qRt=function(){if(void 0===this.rNt&&this.iNt&&-1!==this.iNt.pwt[0].Lwt.z_t){this.GIt(xz.J_t);var t=this.iNt.pwt[0],n=new jW(t,this.vRt,t.Lwt,this.xRt,this.MRt);this.slt.Zs(new Aq(n,0)),this.aNt()}},i.SRt=function(){var t=this.iNt.pwt[0],n=new jW(t,this.vRt,t.Lwt,this.xRt,this.MRt);this.slt.Zs(new cq(n,this.klt.Xg))},i.My=function(){this.XRt(),this.dRt=void 0,this.iNt=void 0,this.L_t=[]},i.XRt=function(){if(this.uNt(),this.iNt){var t=this.iNt.pwt[0],n=new jW(t,this.vRt,t.Lwt,this.xRt,this.MRt);this.slt.Zs(new Tq(n,this.klt.Xg))}this.FIt(),Qs(this.vRt),this.dNt(),void 0!==this.rNt&&(h(this.rNt),this.rNt=void 0)},i.VRt=function(t){this.vRt.push(t)},i.uNt=function(){this.WIt.removeEventListener("load",this.sNt),this.WIt.removeEventListener("error",this.oNt)},i.GRt=function(){var t,n,i,e,r,u,o,a,h;return Lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:(t=s.createElement("div")).className="theoplayer-ad-nonlinear-content",t.style.position="relative",t.style.display="inline-block",n=this.iNt.pwt[0],i=s.createElement("a"),n.Bwt.d_t&&(i.href=n.Bwt.d_t,i.target="cRt",i.setAttribute("rel","noopener")),n.Owt?(e=n.Owt,(r=s.createElement("iframe")).src=e.Tgt,i.appendChild(r)):n.Cwt?(u=n.Cwt,(o=s.createElement("img")).src=u.Tgt,i.appendChild(o)):n.Pwt&&(a=n.Pwt,(h=s.createElement("iframe")).src=a.Tgt,i.appendChild(h)),n.Dwt(),i.addEventListener("mousedown",this.MIt),i.addEventListener("touchend",this.MIt),this.WIt.firstChild&&(nr(this.WIt),this.XRt()),t.appendChild(i),this.WIt.appendChild(t),this.qy();case 15:case"end":return c.stop()}},null,this,null,We)},i.vNt=function(){if(this.iNt){var t=this.iNt.pwt[0].Lwt.z_t;-1!==t&&void 0!==t&&(this.rNt=le.setTimeout(this.hNt,1e3*t))}},i.dNt=function(){this.cNt&&(this.cNt.nu("cb",this.fNt),this.cNt.Il()),this.eNt=void 0},b(n,[{key:"awt",get:function(){return this.iNt}},{key:"$Rt",get:function(){return this.vRt}},{key:"cNt",get:function(){return this.eNt}},{key:"MRt",get:function(){return this.L_t}},{key:"xRt",get:function(){return this.plt.KRt()}}]),n}(Qq),_Y=function(t){function n(n){return t.call(this,"lNt",n)||this}return S(n,t),n.prototype.jw=function(){return new gY(WW(this.wlt))},n}(vz),gY=function(t){function n(n){return t.call(this,"adbreakchange",n)||this}return S(n,t),n}(dz),yY=function(){function t(){}return t.wNt=function(t,n,i){var e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],r=t.shift();case 2:if(!r){o.next=18;break}return o.prev=3,o.next=6,Lr.awrap((new hW).wmt(r,n));case 6:s=o.sent,e=e.concat(s),o.next=15;break;case 10:o.prev=10,o.t0=o.catch(3),u=lz.ylt(o.t0,r.sources.src),i.Zs(u);case 15:r=t.shift(),o.next=2;break;case 18:return o.abrupt("return",e);case 19:case"end":return o.stop()}},null,null,[[3,10]],We)},t}(),mY=function(t){function n(n){return t.call(this,"_Nt",n)||this}return S(n,t),n.prototype.jw=function(){return new kY(WW(this.wlt))},n}(vz),kY=function(t){function n(n){return t.call(this,"adadded",n)||this}return S(n,t),n}(dz),pY=function(t){function n(){return t.call(this,"gNt")||this}return S(n,t),n.prototype.jw=function(){return new AY},n}(ng),AY=function(t){function n(){return t.call(this,"statechange")||this}return S(n,t),n}(Tu);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(fY||(fY={}));var bY=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).yNt=new Gg,n.Qs=function(t){n.Zs(t)},n}S(n,t);var i=n.prototype;return i.jw=function(){return n=function(t){var n=t.mNt.map(function(t){return t.Yw});return n.item=function(n){n|=0;var i=t.y_(n);return i&&i.Yw||void 0},n}(t=this),i=new CR(t,n),n.addEventListener=function(t,n){i.Js(t,n)},n.removeEventListener=function(t,n){i.nu(t,n)},n;var t,n,i},i.Js=function(t,n){this.yNt.Js(t,n)},i.$s=function(t){this.yNt.$s(t)},i.tu=function(){this.yNt.tu()},i.Zs=function(t){this.yNt.Zs(t)},i.nu=function(t,n){this.yNt.nu(t,n)},i.ou=function(t){this.yNt.ou(t)},i.au=function(t){this.yNt.au(t)},i.fu=function(t,n){return this.yNt.fu(t,n)},n}(function(){function t(){this.Eu=[],this.qw=void 0}var n=t.prototype;return n.y_=function(t){return this.Eu[t]},n.Im=function(t){this.Eu.push(t),this.qw&&this.qw.push(t.Yw),this.kNt(t)},n.pNt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Im(i)}},n.ANt=function(t,n){n>=0&&n<=this.Eu.length&&(this.Eu.splice(n,0,t),this.qw&&this.qw.splice(n,0,t.Yw),this.kNt(t))},n.Rm=function(t){return Ys(this.Eu,t)},n.Zh=function(t){this.bNt(this.Eu.indexOf(t))},n.bNt=function(t){if(t>=0&&t<this.Eu.length){var n=this.Eu[t];qs(this.Eu,t),this.qw&&qs(this.qw,t),this.TNt(n)}},n.Cu=function(){var t=this.Eu.slice();Qs(this.Eu),this.qw&&Qs(this.qw);for(var n=0;n<t.length;n++){var i=t[n];this.TNt(i)}},b(t,[{key:"mNt",get:function(){return this.Eu}},{key:"T_",get:function(){return this.Eu.length}},{key:"Yw",get:function(){return this.qw||(this.qw=this.jw()),this.qw}}]),t}());var TY,SY=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return S(n,t),n}(Tu),EY=function(t){function n(n){var i;return(i=t.call(this,"ENt")||this).SNt=n,i}return S(n,t),n.prototype.jw=function(){return new SY(this.SNt.Yw)},n}(ng),IY=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return S(n,t),n}(Tu),RY=function(t){function n(n){var i;return(i=t.call(this,"INt")||this).task=n,i}return S(n,t),n.prototype.jw=function(){return new IY(this.task.Yw)},n}(ng),NY=function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.kNt=function(t){this.Zs(new EY(t))},i.TNt=function(t){this.Zs(new RY(t))},n}(bY);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(TY||(TY={}));var DY=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).RNt=TY.UNINITIALISED,r.YU=new NY,r.Qht=void 0,r.NNt=void 0,r.DNt=void 0,r.DNt=i,r.NNt=e,r.Qht=n,r.zy(),r}S(n,t);var i=n.prototype;return i.zy=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lr.awrap(this.CNt());case 2:this.ONt(TY.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,We)},i.CNt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Lr.awrap(this.PNt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],We)},i.PNt=function(){var t,n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(this.Qht.Iat());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.DNt.BNt(i.id,i.sourceDescription,i.parameters,this.NNt),this.LNt(e),this.YU.Im(e);case 4:case"end":return r.stop()}},null,this,null,We)},i.ONt=function(t){this.RNt=t,this.Zs(new pY)},i.BNt=function(t,n,i){void 0===i&&(i="persistent");var e=this.DNt.xNt(t,n,i);return this.MNt(e,i),this.YU.Im(e),this.LNt(e),e},i.MNt=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Lr.awrap(this.UNt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),v("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],We)},i.UNt=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(this.Qht.Tat({key:t.B_,id:t.B_,sourceDescription:t.cD,parameters:t._c},n));case 2:case"end":return i.stop()}},null,this,null,We)},i.LNt=function(t){var n=this;t.Js("gNt",function(){t.Xd===fY.EVICTED&&n.YU.Zh(t)})},b(n,[{key:"Xd",get:function(){return this.RNt}},{key:"FNt",get:function(){return this.YU}}]),n}(Au);function CY(t){var n,i={get id(){return t.B_},get status(){return t.Xd},get source(){return t.cD},get parameters(){return t._c},get duration(){return t.Vg},get cached(){return t.HNt.qN()},get secondsCached(){return t.XNt},get percentageCached(){return t.VNt},get bytes(){return t.zNt},get bytesCached(){return t.GNt},get license(){return t.vB.Yw},start:function(){t.DD()},pause:function(){t.xy()},remove:function(){t.Zh()},addEventListener:function(t,i){n.Js(t,i)},removeEventListener:function(t,i){n.nu(t,i)}};return n=new DR(t,["WNt","gNt"],i),i}var OY=function(){function t(t,n,i){if(this.qNt=void 0,this.YNt=t,this.Em=n,this.jNt=i,0===this.Em.size)this.qNt=gS.dC();else{var e=new gS([-1/0,1/0]);this.Em.forEach(function(t){e=e.zD(t.timeRanges)}),this.qNt=e}}return t.prototype.wk=function(t){return!!yg(this.Em,t.Em)&&(!!Xt(this.YNt,t.YNt)&&(!!Xt(this.hC,t.hC)&&(!!Xt(this.QNt,t.QNt)&&this.ZNt.eC(t.ZNt))))},t.JNt=function(){return BY},b(t,[{key:"hC",get:function(){return this.jNt}},{key:"KNt",get:function(){return this.YNt}},{key:"QNt",get:function(){return this.ZNt.hC}},{key:"$Nt",get:function(){var t=0,n=0;return this.Em.forEach(function(i){t+=i.timeRanges.hC,n+=i.totalQualityDurationToCache}),0===n?0:w.min(1,t/n)}},{key:"ZNt",get:function(){return this.qNt}}]),t}(),PY=Ur(),BY=new OY(0,PY,NaN),LY=function(t){function n(){return t.call(this,"progress")||this}return S(n,t),n}(Tu),xY=function(t){function n(){return t.call(this,"WNt")||this}return S(n,t),n.prototype.jw=function(){return new LY},n}(ng);function MY(t,n){if(q(t)){if(ys(t,"%"))return g(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var UY,FY=function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),b(n,[{key:"name",get:function(){return"tDt"}}]),n}(tn);function HY(t,n,i){var e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.emt;r<s.length;r++)u=s[r],e.push(XY(u,n,i));return a.next=4,Lr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{Vg:t.tmt.xgt(),nDt:[t.iDt],emt:o});case 6:case"end":return a.stop()}},null,null,null,We)}function XY(t,n,i){var e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.eDt;r<s.length;r++)u=s[r],e.push(VY(u,n,i));return a.next=4,Lr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{rDt:o});case 6:case"end":return a.stop()}},null,null,null,We)}function VY(t,n,i){var e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Gyt;r<s.length;r++)zY(u=s[r])||e.push(YY(u,n,i));return a.next=4,Lr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{Wb:o,vs:t.vs});case 6:case"end":return a.stop()}},null,null,null,We)}function zY(t){return t.K0.every(qY)}!function(t){t[t.pg=0]="pg",t[t.Ag=1]="Ag"}(UY||(UY={}));var GY,WY=1;function qY(t){return t.dyt!==WY&&Boolean(t.dyt)}function YY(t,n,i){var e,r,s,u,o,a,h,c,f;return Lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:for(e=[],r=0,s=t.K0;r<s.length;r++)qY(u=s[r])||e.push(QY(u,i));return v.next=4,Lr.awrap(We.all(e));case 4:return o=v.sent,a=t.VX[0],h=t.J0,c=h?jY(a,h):void 0,f=ML(t,n),v.abrupt("return",{F_:o,U_:t.ert,vs:t.vs,DN:c,sDt:f});case 10:case"end":return v.stop()}},null,null,null,We)}function jY(t,n){for(var i=[],e=function(t){return t?ys(t,"avc")?Mc.VIDEO_H264:ys(t,"hev")||ys(t,"hvc")||ys(t,"hvt")||ys(t,"lhv")||ys(t,"lhe")||ys(t,"lht")?Mc.VIDEO_H265:ys(t,"mp4")?Mc.VIDEO_MP4:ys(t,"mpeg2")?Mc.VIDEO_MPEG2:ys(t,"mpeg")?Mc.VIDEO_MPEG:Mc.VIDEO_UNKNOWN:Mc.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.G0.split(":").pop(),o=s.W0;i.push({mimeType:e,uuid:u,data:o})}return{type:UY.pg,schemeType:Zr,schemeDatas:i}}function QY(t,n){var i,e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Lr.awrap(ZY(t,n));case 2:r=u.sent,s={B_:KY(t),qS:r,PR:t.PR,ir:t.ir,oT:t.oT,vs:t.vs,Ek:t.Ek},u.t0=t.vs,u.next=u.t0===fm.$n?7:u.t0===fm.ll?8:u.t0===fm.dl?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.$J=null!=(i=null==(e=t.$J)?void 0:e.Rk())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.iK,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,We)}function ZY(t,n){var i,e,r,s,u,o,a,h;return Lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.ryt,t.Pht&&i.push({Wm:0,Vg:0,uDt:t.Pht}),r=e.oDt(),s=r;case 5:if(!s){c.next=17;break}if(!t.aDt(s)){c.next=13;break}return c.next=9,Lr.awrap(t.hDt(s,n,(new su).Ws));case 9:for(u=c.sent,o=0;o<u.T_;o++)i.push(JY(u.cDt(o),t));c.next=14;break;case 13:i.push(JY(s,t));case 14:s=e.fDt(s),c.next=5;break;case 17:return a=e.vDt(),h=a.qm-r.Wm,c.abrupt("return",{Vg:h,eK:i});case 20:case"end":return c.stop()}},null,null,null,We)}function JY(t,n){return{Wm:t.Wm,Vg:t.Vg,uDt:n.dDt(t)}}function KY(t){return t.lDt.DD+"-"+(""+t.B_)}function $Y(t,n){return function(t,n){for(var i={},e=0;e<BB.length;e++){var r=BB[e],s=t[r],u={};for(var o in s){for(var a=[],h=s[o],c=0;c<h.length;c++){var f=h[c],v=tj(f,r,n);a.push(v)}u[o]=a}i[r]=u}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e.JK]||(n[e.JK]={vs:e.vs,tT:[]}),n[e.JK].tT.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.tT;s<u.length;s++){var o,a,h=u[s],c=null!=(a=i[o=r.vs])?a:i[o]={};c[h._i]||(c[h._i]=[]),c[h._i].push(h)}return i}(t),n)}function tj(t,n,i){for(var e=t.JK,r={y$:t,G$:[]},s=0;s<i.length;s++){var u=i[s];zx(n,e,u)&&r.G$.push(u)}return r}function nj(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lr.awrap(n.qht([t],{}));case 2:return i=e.sent,e.abrupt("return",kx(i.Yd,{},i.zht));case 4:case"end":return e.stop()}},null,null,null,We)}function ij(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!NB(t)){i.next=4;break}return i.abrupt("return",ej(t,n));case 4:return i.abrupt("return",(r=void 0,{Vg:(r=vj(e=t)).Vg,nDt:[e.t$],emt:[{rDt:[{vs:fm.Zd,Wb:[{vs:fm.Zd,U_:vU,F_:[{B_:e.t$,qS:r,PR:0,ir:"",oT:0,vs:fm.Zd,Ek:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,We)}function ej(t,n){var i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=$Y(t.tT,t.H1),s.next=3,Lr.awrap(uj(i,n));case 3:return e=s.sent,s.next=6,Lr.awrap(sj(t.H1,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{Vg:rj(e),nDt:[t.t$],emt:[{rDt:e}]});case 9:case"end":return s.stop()}},null,null,null,We)}function rj(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].Wb;e<r.length;e++){var s=r[e];n=w.max.apply(w,[n].concat(s.F_.map(function(t){return t.qS.Vg})))}return n}function sj(t,n){var i,e,r,s,u,o,a,h;return Lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return a=t[e],c.next=6,Lr.awrap(fj(a.t$,n));case 6:(h=c.sent).PR=a.PR,h.ir=a.VX?[(f=a.VX).XX,f.HX,f.zX].filter(H).join(","):"",h.oT=null!=(r=null==(s=a.C$)?void 0:s.oT)?r:0,h.Ek=null!=(u=null==(o=a.C$)?void 0:o.Ek)?u:0,i.push(h);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{vs:fm.Zd,Wb:[{U_:vU,vs:fm.Zd,F_:i}]});case 16:case"end":return c.stop()}var f},null,null,null,We)}function uj(t,n){var i,e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=0;case 2:if(!(e<BB.length)){o.next=13;break}if(r=BB[e],!(s=t[r])){o.next=10;break}return o.next=8,Lr.awrap(oj(s,r,n));case 8:u=o.sent,i.push(u);case 10:e++,o.next=2;break;case 13:return o.abrupt("return",i);case 14:case"end":return o.stop()}},null,null,null,We)}function oj(t,n,i){var e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=Lr.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,Lr.awrap(aj(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{vs:hj(n),Wb:e});case 12:case"end":return o.stop()}},null,null,null,We)}function aj(t,n){var i,e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].y$,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Lr.awrap(cj(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{U_:e.U_||vU,vs:hj(e.vs),F_:i});case 13:case"end":return o.stop()}},null,null,null,We)}function hj(t){switch(t){case SB.dl:return fm.dl;case SB.ll:return fm.ll;case SB.WA:case SB.RK:return fm.$n;default:return fm.Zd}}function cj(t,n){var i,e,r;return fj((e=(i=t).y$.t$,r=i.G$.map(function(t){return t.t$}),e||(r.length?r[0]:void 0)),n)}function fj(t,n){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i={Vg:0,eK:[]},!t){r.next=6;break}return r.next=4,Lr.awrap(nj(t,n));case 4:DB(e=r.sent)&&(i=vj(e));case 6:return r.abrupt("return",{B_:t||"default",wDt:t,qS:i,PR:0,ir:"",oT:0,vs:fm.Zd,Ek:0});case 7:case"end":return r.stop()}},null,null,null,We)}function vj(t){for(var n,i=[],e=0,r=0,s=t.eK;r<s.length;r++){var u=s[r],o=e;!u.G1||void 0!==n&&MB(u.G1.t$,n)||(i.push(dj(u.G1,o)),n=u.G1.t$),i.push(lj(u,o)),e+=u.Vg}return{Vg:e,eK:i}}function dj(t,n){return{Wm:n,Vg:0,uDt:wj(t.t$)}}function lj(t,n){return{Wm:n,Vg:t.Vg,uDt:wj(t.t$)}}function wj(t){return{jd:t.Ti,Sht:t.NK?[t.NK.DD,t.NK.DD+t.NK.T_]:void 0,Tl:!1}}!function(t){t._Dt="gDt",t.yDt="mDt"}(GY||(GY={}));var _j=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).kDt=function(t){n.Zs(t)},n}return S(n,t),b(n,[{key:"pDt",get:function(){var t=this.ADt();return null==t?void 0:t.DD}},{key:"bDt",get:function(){var t=this.ADt();return null==t?void 0:t.OD}}]),n}(Au);function gj(t){return Z(t.TDt)}var yj=function(t){function n(n,i){var e;if((e=t.call(this)||this).SDt=void 0,e.qw=void 0,e.B4=void 0,e.EDt=void 0,e.IDt=void 0,e.SDt=n,e.B4=i,e.B4.Js(GY._Dt,e.kDt),e.vs===fm.ll){var r,s,u=null!=(r=null==(s=e.$J)?void 0:s.Rk())?r:NaN;e.EDt=new MV(e.B_,e.PR,e.ir,"","",u,e.Ek,e.oT)}else e.vs===fm.dl?e.EDt=new UV(e.B_,e.PR,e.ir,"","",e.iK):e.EDt=void 0;return e}S(n,t);var i=n.prototype;return i.dDt=function(t){var n=gj(t)?this.B4.RDt(t):this.B4.dDt(t);return{jd:n.jd,Sht:n.Sht,Tl:this.NDt.Tl}},i.DDt=function(){return this.B4.DDt()},i.ADt=function(){return this.B4.ADt()},i.CDt=function(){return this.B4.CDt()},i.aDt=function(t){return this.B4.aDt(t)},i.hDt=function(t,n,i){return this.B4.hDt(t,this.NDt.Tl,n,i)},i.ODt=function(t){return gj(t)?this.ryt.PDt(t):this.ryt.ODt(t)},i.BDt=function(t){return gj(t)?this.ryt.LDt(t):this.ryt.BDt(t)},i.Il=function(){this.B4.nu(GY._Dt,this.kDt)},b(n,[{key:"xDt",get:function(){return this.SDt}},{key:"iK",get:function(){var t;return null!=(t=this.B4.Vi.iK)?t:this.xDt.iK}},{key:"PR",get:function(){return this.B4.Vi.PR||0}},{key:"VX",get:function(){var t=this.B4.Vi;return t.VX?[t.VX]:this.xDt.VX}},{key:"MDt",get:function(){var t=this.B4.Vi;return t.VX?[t.VX]:[]}},{key:"ir",get:function(){return this.B4.Vi.VX||this.xDt.ir}},{key:"fyt",get:function(){return this.B4.Vi.fyt||this.xDt.fyt}},{key:"J0",get:function(){return this.B4.Vi.J0||this.xDt.J0}},{key:"Nd",get:function(){return this.ZP+'; codecs="'+this.ir+'"'}},{key:"vyt",get:function(){var t=this.B4.Vi;return t.vyt.length?t.vyt:this.xDt.vyt}},{key:"Yw",get:function(){return this.qw||(this.qw=(t=this,{get id(){return t.B_},get type(){return t.vs},get bandwidth(){return t.PR},get width(){return t.Ek},get height(){return t.oT},get frameRate(){var n,i;return null!=(n=null==(i=t.$J)?void 0:i.Rk())?n:NaN},get audioSamplingRate(){return t.iK}}));var t}},{key:"$J",get:function(){var t;return null!=(t=this.B4.Vi.$J)?t:this.xDt.$J}},{key:"oT",get:function(){return this.B4.Vi.oT||this.xDt.oT}},{key:"B_",get:function(){return this.B4.Vi.B_||""}},{key:"UDt",get:function(){return this.IDt},set:function(t){this.IDt=t}},{key:"Pht",get:function(){var t=this.B4.FDt();if(t)return{jd:t.jd,Sht:t.Sht,Tl:this.NDt.Tl}}},{key:"dyt",get:function(){return this.B4.Vi.dyt||this.xDt.dyt||1}},{key:"lyt",get:function(){return this.B4.Vi.lyt||this.xDt.lyt}},{key:"NDt",get:function(){return this.lDt.NDt}},{key:"ZP",get:function(){return this.B4.Vi.ZP||this.xDt.ZP}},{key:"lDt",get:function(){return this.xDt.lDt}},{key:"wyt",get:function(){return this.B4.Vi.wyt||this.xDt.wyt}},{key:"a$",get:function(){return this.EDt}},{key:"_yt",get:function(){return this.B4.Vi._yt||this.xDt._yt}},{key:"gyt",get:function(){return this.B4.Vi.gyt||this.xDt.gyt}},{key:"HDt",get:function(){return this.B4.HDt}},{key:"yyt",get:function(){return this.B4.Vi.yyt||this.xDt.yyt}},{key:"ryt",get:function(){return this.B4.ryt}},{key:"myt",get:function(){return this.B4.Vi.myt||this.xDt.myt}},{key:"vs",get:function(){var t=this.ZP.split("/")[0];return"application"===t||"text"===t||Qp(this.ZP,this.VX)?fm.$n:"video"===t?fm.ll:"audio"===t?fm.dl:"image"===t?fm.wl:fm.Zd}},{key:"Ek",get:function(){return this.B4.Vi.Ek||this.xDt.Ek}}]),n}(_j),mj=function(t){function n(n,i){var e;return(e=t.call(this)||this).XDt=[],e.B4=void 0,e.VDt=void 0,e.zDt=[],e.VDt=n,e.B4=i,e.B4.Js(GY._Dt,e.kDt),e}S(n,t);var i=n.prototype;return i.Jh=function(t,n){var i,e=this;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.zDt.length){r.next=6;break}return this.zDt=[],i=this.B4.K0.map(function(i){return e.GDt(i,t,n)}),r.next=5,Lr.awrap(We.all(i));case 5:this.zDt=r.sent.filter(H);case 6:this.WDt();case 7:case"end":return r.stop()}},null,this,null,We)},i.GDt=function(t,n,i){var e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new yj(this,t),s.next=3,Lr.awrap(n(e));case 3:if(r=s.sent,au(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,We)},i.WDt=function(){if(!this.zDt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.ADt=function(){return this.B4.ADt()},i.CDt=function(){return this.B4.CDt()},i.Il=function(){this.B4.nu(GY._Dt,this.kDt);for(var t=0,n=this.zDt;t<n.length;t++){n[t].Il()}Qs(this.zDt)},b(n,[{key:"Iyt",get:function(){return this.B4.Vi.Iyt}},{key:"iK",get:function(){var t;return null!=(t=this.B4.Vi.iK)?t:-1}},{key:"VX",get:function(){if(this.B4.Vi.VX)return[this.B4.Vi.VX];for(var t=[],n=0,i=this.K0;n<i.length;n++){var e=i[n];e.MDt.length&&-1===t.indexOf(e.ir)&&t.push(e.ir)}return t}},{key:"ir",get:function(){return this.VX.join()}},{key:"fyt",get:function(){return this.B4.Vi.fyt}},{key:"J0",get:function(){return this.B4.Vi.J0}},{key:"Nd",get:function(){return this.ZP+'; codecs="'+this.ir+'"'}},{key:"vyt",get:function(){return this.XDt}},{key:"$J",get:function(){return this.B4.Vi.$J}},{key:"Ryt",get:function(){return this.B4.Vi.Ryt}},{key:"oT",get:function(){return this.B4.Vi.oT||0}},{key:"B_",get:function(){return this.B4.Vi.B_}},{key:"M_",get:function(){return this.B4.Vi.M_||""}},{key:"dyt",get:function(){return this.B4.Vi.dyt}},{key:"lyt",get:function(){return this.B4.Vi.lyt}},{key:"NDt",get:function(){return this.lDt.NDt}},{key:"ZP",get:function(){return this.B4.Vi.ZP||this.zDt[0].ZP}},{key:"lDt",get:function(){return this.VDt}},{key:"wyt",get:function(){return this.B4.Vi.wyt}},{key:"K0",get:function(){return this.zDt}},{key:"Uyt",get:function(){return this.B4.Vi.Uyt||[]}},{key:"_yt",get:function(){return this.B4.Vi._yt}},{key:"gyt",get:function(){return this.B4.Vi.gyt}},{key:"yyt",get:function(){return this.B4.Vi.yyt}},{key:"JN",get:function(){return this.B4.Vi.JN}},{key:"myt",get:function(){return this.B4.Vi.myt}},{key:"vs",get:function(){var t=(this.B4.Vi.Nd||this.ZP).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Qp(this.ZP,this.VX)?fm.$n:"video"===t?fm.ll:"audio"===t?fm.dl:"image"===t?fm.wl:fm.Zd}},{key:"Ek",get:function(){return this.B4.Vi.Ek||0}},{key:"ert",get:function(){return this.B4.Vi.U_||""}},{key:"qDt",get:function(){return this.pDt}},{key:"YDt",get:function(){var t=this.qDt,n=this.bDt;if(void 0!==t&&void 0!==n){var i=w.min(n,this.NDt.jDt);return w.max(t,i)}}}]),n}(_j);function kj(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Br(o,s))}return e}var pj=function(){function t(t,n){this.VDt=void 0,this.QDt=void 0,this.ua=void 0,this.ZDt=void 0,this.JDt=void 0,this.VDt=t,this.QDt=n,this.ua=n.pp,this.ZDt=n.zgt,this.JDt=n.tyt}var n=t.prototype;return n.KDt=function(t){var n=t-this.VDt.DD;if(!(n<0||n>=this.VDt.Vg)){var i=this.$Dt();return void 0!==i&&Ut(i,n,1e-5)?this.oDt():this.tCt(n)}},n.nCt=function(t){var n=t-this.VDt.DD;if(!(n<0))return this.iCt(w.min(n,this.VDt.Vg))},n.oDt=function(){return this.eCt(0)},n.vDt=function(){var t=this.VDt.Vg;if(isFinite(t))return this.iCt(t)},n.DDt=function(t){if(this.VDt.rCt.vs===uG.TE){var n=this.sCt(t);if(!n)return;return{uCt:t,oCt:this.aCt(t),hCt:n}}var i=this.oDt();if(i)return{uCt:t,oCt:i,hCt:this.vDt()}},n.CDt=function(t,n){if(n){var i=this.cCt(n.oCt),e=this.fDt(n.hCt);if(e){var r=this.fCt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.oDt();if(s){var u=this.fCt(s);if(t.getTime()<u.getTime())return u}var o=this.VDt.rCt.Qyt;return t.getTime()<o.getTime()?o:void 0},n.sCt=function(t){var n=(t.getTime()-this.VDt.rCt.Qyt.getTime())/1e3-this.VDt.DD+this.ZDt,i=this.iCt(Mt(n,0,this.VDt.Vg));if(i&&(i=this.vCt(i,t))){for(var e=this.fDt(i);e&&this.dCt(e,t);)i=e,e=this.fDt(i);return i}},n.aCt=function(t){var n,i=this.QDt.iyt;if(i){var e=(t.getTime()-this.VDt.rCt.Qyt.getTime())/1e3-this.VDt.DD-i.xgt();(n=this.iCt(Mt(e,0,this.VDt.Vg)))||(n=this.oDt())}else n=this.oDt();if(n&&(n=this.vCt(n,t))){for(var r=this.lCt(n);r&&this.dCt(r,t);)n=r,r=this.lCt(n);return n}},n.vCt=function(t,n){for(var i=t;i&&this.fCt(i).getTime()>n.getTime();)i=this.lCt(i);if(i){var e=this.cCt(i);if(e&&e.getTime()<=n.getTime()){var r=this.lCt(i);for(r&&this.dCt(r,n)&&(i=r);i;){if(this.fCt(i).getTime()>n.getTime())return;if(this.dCt(i,n))break;i=this.fDt(i)}if(!i)return}return i}},n.dCt=function(t,n){if(this.fCt(t).getTime()>n.getTime())return!1;var i=this.cCt(t);return!(i&&n.getTime()>=i.getTime())},n.wCt=function(t,n){if(this._Ct(t).getTime()>n.getTime())return!1;var i=this.cCt(t);return!(i&&n.getTime()>=i.getTime())},n.gCt=function(t,n,i){var e=Qt(n,this.ua)+this.VDt.DD;return{qgt:t,yCt:n,Wm:e,Vg:i,qm:e+i}},n._Ct=function(t){return this.VDt.rCt.vs===uG.TE?new Date(this.VDt.rCt.Qyt.getTime()+1e3*(t.Wm+t.Vg)):this.VDt.rCt.Qyt},n.fCt=function(t){var n=this._Ct(t);return this.VDt.rCt.vs===uG.TE?new Date(n.getTime()-1e3*this.ZDt):n},n.cCt=function(t){var n=1/0;if(this.VDt.rCt.vs===uG.TE){var i=this.QDt.iyt;i&&(n=this._Ct(t).getTime()+1e3*t.Vg+i.Mgt())}var e=this.VDt.rCt.jyt;return e&&(n=w.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.mCt=function(t,n){return t.qgt+n},n.aDt=function(t){return!1},n.hDt=function(t,n,i,e,r){var s=this.kCt(t);if(!s)return We.reject(new v("Invalid segment"));var u=this.pCt(s.qgt);return u?We.resolve(u):this.ACt(s.qgt,n,i,e,r)},n.pCt=function(t){},n.ACt=function(t,n,i,e,r){return We.reject(new v("Not supported"))},n.lCt=function(t){var n=this.kCt(t);if(n)return this.eCt(n.qgt-1)},n.fDt=function(t){var n=this.kCt(t);if(n)return this.eCt(n.qgt+1)},n.kCt=function(t){var n=this.eCt(t.qgt);if(n&&n.Wm===t.Wm)return n;var i=this.KDt(t.Wm);return i&&i.Wm===t.Wm?i:void 0},n.bCt=function(t){var n=this.TCt(t);if(n&&this.aDt(n.qgt)){var i=this.pCt(n.qgt);if(i)return i.bCt(t)}},n.TCt=function(t){return this.eCt(t.SCt)},n.ODt=function(t){var n=this.kCt(t);return!!n&&0===n.qgt},n.PDt=function(t){var n=this.bCt(t);return!!n&&0===n.TDt},n.BDt=function(t){var n=this.kCt(t);if(!n)return!1;var i=this.vDt();return!!i&&n.qgt===i.qgt},n.LDt=function(t){var n=this.bCt(t);if(!n)return!1;var i=this.vDt();if(!i||n.SCt!==i.qgt)return!1;var e=this.pCt(n.SCt);return n.TDt+1===e.T_},b(t,[{key:"Kp",get:function(){return this.VDt.DD-Qt(this.JDt,this.ua)}},{key:"tyt",get:function(){return Qt(this.JDt,this.ua)}}]),t}(),Aj=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).ECt=void 0,e.ICt=void 0;var r=n.RCt,s=n.Vg;if(void 0===r||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return e.ICt=r,e.ECt=s,e}S(n,t);var i=n.prototype;return i.eCt=function(t){if(!(t<0)){var n=this.ICt.multiply(t),i=Qt(n,this.ua),e=this.VDt.Vg;if(!(i>=e)){var r=this.NCt();if(void 0!==r){if(t>r)return;if(t===r)return this.gCt(t,n,e-i)}return isFinite(e)&&i+this.ECt>e?this.gCt(t,n,e-i):this.gCt(t,n,this.ECt)}}},i.$Dt=function(){return 0},i.tCt=function(t){var n=w.floor(t/this.ECt),i=this.NCt();return void 0!==i&&n>=i?this.eCt(i):this.eCt(n)},i.iCt=function(t){if(t>=this.VDt.Vg){var n=w.ceil(this.VDt.Vg/this.ECt)-1,i=this.NCt();return void 0!==i&&n>=i?this.eCt(i):this.eCt(n)}return this.tCt(t)},i.NCt=function(){var t,n=this.QDt.uyt;if(void 0!==n)return n-(null!=(t=this.QDt.syt)?t:1);if(isFinite(this.VDt.Vg)){var i=this.QDt.DCt;if(void 0!==i&&i>0)return i-1}},i.CCt=function(){if(isFinite(this.VDt.Vg))return this.vDt()},i.OCt=function(t,n){return this.ICt.multiply(t.qgt+(n-1))},i.Jh=function(){},n}(pj);function bj(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].Wm,u=t[r].qm;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+w.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),a=t[o],h=a.Wm,c=o+1<i?t[o+1].Wm:a.qm;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(h))return o;r=o-1,u=h}}return-1}var Tj=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).d3=[],e.PCt=void 0,e.Jet=ft.ZERO,e.Jh(),e}S(n,t);var i=n.prototype;return i.eCt=function(t){if(!(t<0))return t<this.d3.length?this.d3[t].l8:this.BCt(t-this.d3.length)},i.$Dt=function(){if(this.d3.length>0)return Qt(this.d3[0].Wm,this.ua)},i.tCt=function(t){if(this.PCt&&Qt(this.PCt.Wm,this.ua)<=t){var n=Qt(this.PCt.Wm,this.ua),i=Qt(this.PCt.Vg,this.ua),e=w.floor((t-n)/i);return this.BCt(e)}if(this.d3.length>0&&Ut(t,Qt(this.d3[0].Wm,this.ua),1e-5))return this.d3[0].l8;var r=bj(this.d3,ft.fromNumber(t*this.ua));return r<0?void 0:this.d3[r].l8},i.iCt=function(t){if(!this.PCt&&this.d3.length>0){var n=this.d3[this.d3.length-1];if(i=t,e=Qt(n.qm,this.ua),Hs(i,e,1e-5)>=0)return n.l8}var i,e,r=this.$Dt();return r&&t<r?this.d3[0].l8:this.tCt(t)},i.CCt=function(){return isFinite(this.VDt.Vg)?this.vDt():this.eCt(this.d3.length-1)},i.OCt=function(t){return this.LCt(t)},i.BCt=function(t){if(this.PCt){var n=this.PCt.Wm,i=this.PCt.Vg,e=n.add(i.multiply(t)),r=Qt(e,this.ua),s=this.VDt.Vg;if(!(r>=s)){var u=this.d3.length+t,o=w.min(Qt(i,this.ua),r+s);return this.gCt(u,e,o)}}},i.LCt=function(t){return t.yCt.add(this.JDt)},i.Jh=function(){var t=this.QDt.Vi.ryt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.D3(t)},i.D3=function(t){var n=this.JDt;this.xCt(t,n);var i=this.MCt(t);this.UCt(t,n,i.FCt,i.SCt)},i.xCt=function(t,n){var i=this.d3;if(0===t.length)Qs(i);else{for(var e=t[0],r=e.Wm?ft.fromString(e.Wm,!1).subtract(n):ft.ZERO,s=0;s<i.length&&i[s].Wm.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.MCt=function(t){for(var n=this.d3,i=this.Jet,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].Wgt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].Wm.greaterThanOrEqual(i))break;if(n[r].l8.qgt===r)r=u+1;else for(;r<=u;)n[r].l8.qgt=r,r++;0,e++}return{FCt:e,SCt:r}},i.UCt=function(t,n,i,e){for(var r,s=this.d3,u=i,o=e;u<t.length;){var a=t[u],h=ft.fromString(a.Vg,!1),c=a.Wgt||0,f=void 0;if(a.Wm){if(f=ft.fromString(a.Wm,!1).subtract(n),o>0){var v=s[o-1];v.qm.greaterThan(f)&&(v.Vg=f.subtract(v.Wm),v.qm=v.Wm.add(v.Vg))}}else f=o>0?s[o-1].qm:ft.ZERO;if(c<0){if(u+1===t.length){r={Wm:f,Vg:h};break}for(var d=ft.fromString(t[u+1].Wm,!1).subtract(n);f.lessThan(d);){var l=f.add(h);this.HCt(s,o,f,h,l),f=l,o++}}else for(var w=o+c;o<=w;){var _=f.add(h);this.HCt(s,o,f,h,_),f=_,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.Jet=s[s.length-1].Wm),this.PCt=r},i.HCt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.Vg.equals(e)?s.l8.qgt=n:t[n]={Wm:i,Vg:e,qm:r,l8:this.gCt(n,i,Qt(e,this.ua))}}else t.push({Wm:i,Vg:e,qm:r,l8:this.gCt(n,i,Qt(e,this.ua))})},n}(pj),Sj=function(){function t(t,n,i){this.lDt=void 0,this.XCt=void 0,this.qi=void 0,this.VCt=void 0,this.zCt=void 0,this.lDt=t,this.XCt=n,this.qi=i}var n=t.prototype;return n.GCt=function(){if(this.zCt=this.WCt(),this.zCt)return this.zCt;if(this.XCt)return this.XCt.ryt;throw new v("Missing media segment information.")},n.FDt=function(t){var n=this.$gt;if(n)return{jd:(void 0!==n.Ggt?i.Br(n.Ggt,t.kyt[0]):t.kyt[0]).href,Sht:n.Sht};var e=this.Ygt;return e?{jd:t.kyt[0].href,Sht:[0,e[0]-1]}:void 0},n.Jh=function(t){this.qi=t,this.zCt&&this.zCt.Jh()},b(t,[{key:"Vi",get:function(){return this.qi}},{key:"zgt",get:function(){return this.qi&&void 0!==this.qi.zgt?this.qi.zgt:this.XCt?this.XCt.zgt:0}},{key:"tyt",get:function(){return this.qi&&void 0!==this.qi.tyt?this.qi.tyt:this.XCt?this.XCt.tyt:ft.ZERO}},{key:"iyt",get:function(){return this.qi&&void 0!==this.qi.iyt?this.qi.iyt:this.XCt?this.XCt.iyt:this.lDt.rCt.iyt}},{key:"pp",get:function(){return this.qi&&void 0!==this.qi.pp?this.qi.pp:this.XCt&&this.XCt.pp?this.XCt.pp:1}},{key:"Ygt",get:function(){return this.qi&&void 0!==this.qi.Ygt?this.qi.Ygt:this.XCt?this.XCt.Ygt:void 0}},{key:"$gt",get:function(){return this.qi&&void 0!==this.qi.$gt?this.qi.$gt:this.XCt?this.XCt.$gt:void 0}},{key:"ryt",get:function(){return this.VCt||(this.VCt=this.GCt()),this.VCt}}]),t}(),Ej=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.WCt=function(){return this.qi.ryt?new Tj(this,this.lDt):void 0!==this.qi.Vg?new Aj(this,this.lDt):void 0},b(n,[{key:"Vg",get:function(){return void 0!==this.qi.Vg?this.qi.Vg/this.pp:this.XCt&&this.XCt instanceof n?this.XCt.Vg:void 0}},{key:"RCt",get:function(){return void 0!==this.qi.Vg?ft.fromNumber(this.qi.Vg):this.XCt&&this.XCt instanceof n?this.XCt.RCt:void 0}},{key:"syt",get:function(){return void 0!==this.qi.syt?this.qi.syt:this.XCt&&this.XCt instanceof n?this.XCt.syt:void 0}},{key:"uyt",get:function(){return void 0!==this.qi.uyt?this.qi.uyt:this.XCt&&this.XCt instanceof n?this.XCt.uyt:void 0}}]),n}(Sj),Ij=function(){function t(t){this.qCt=void 0,this.qCt=t}return t.prototype.Wu=function(t){return this.qCt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=bs(u,Number(e),"0")})},t}();var Rj=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YCt=void 0,r.jCt=void 0,r.YCt=e.hyt?new Ij(e.hyt):void 0,r.jCt=e.cyt?new Ij(e.cyt):void 0,r}S(n,t);var e=n.prototype;return e.FDt=function(n){var e=this.hyt;if(!e)return t.prototype.FDt.call(this,n);var r=e.Wu({Bandwidth:n.Vi.PR,RepresentationID:n.Vi.B_});return{jd:i.Lr(r,n.kyt[0])}},e.dDt=function(t,n){var e,r=null!=(e=n.HDt.syt)?e:1,s=this.cyt.Wu({Bandwidth:n.Vi.PR,Number:n.ryt.mCt(t,r),RepresentationID:n.Vi.B_,Time:n.ryt.OCt(t,r)});return{jd:i.Lr(s,n.kyt[0])}},e.RDt=function(t,n){},b(n,[{key:"hyt",get:function(){return this.YCt?this.YCt:this.XCt&&this.XCt instanceof n?this.XCt.hyt:void 0}},{key:"cyt",get:function(){return this.jCt?this.jCt:this.XCt&&this.XCt instanceof n?this.XCt.cyt:void 0}},{key:"DCt",get:function(){}}]),n}(Ej),Nj=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.dDt=function(t,n){var e=this.qi.Qgt[t.qgt],r=n.kyt[0];return{jd:(e.tT?i.Br(e.tT,r):r).href,Sht:e.jgt}},e.RDt=function(t,n){},b(n,[{key:"DCt",get:function(){return void 0!==this.qi.Qgt?this.qi.Qgt.length:this.XCt&&this.XCt instanceof Ej?this.XCt.DCt:void 0}}]),n}(Ej),Dj=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).SCt=void 0,u.E5=void 0,u.pp=void 0,u.QCt=void 0,u.tyt=void 0,u.ZCt=void 0,u.SCt=n,u.E5=i,u.pp=e.pp,u.QCt=r,u.tyt=s,u.ZCt=u.JCt(e),u}S(n,t);var i=n.prototype;return i.cDt=function(t){if(t>=0&&t<this.T_)return this.KCt(this.ZCt[t])},i.$Ct=function(t){var n=this.tOt(t);if(this.ZCt.length>0){var i=this.ZCt[0];if(n<=Qt(i.Wm,this.pp))return this.KCt(i)}var e=bj(this.ZCt,ft.fromNumber(n*this.pp));if(!(e<0))return this.KCt(this.ZCt[e])},i.nOt=function(t){var n=this.tOt(t);if(this.ZCt.length>0){var i=this.ZCt[this.ZCt.length-1];if(n>=Qt(i.qm,this.pp))return this.KCt(i)}return this.$Ct(t)},i.KCt=function(t){var n=Qt(t.Wm,this.pp)-this.tyt,i=n+this.QCt,e=Qt(t.Vg,this.pp);return{SCt:this.SCt,TDt:t.qgt,Wm:i,yCt:ft.fromNumber(n*this.pp),Vg:e,qm:i+e,NK:[this.E5+t.E5,this.E5+t.I5]}},i.JCt=function(t){for(var n=[],i=t.zS,e=t.GS.toNumber(),r=0,s=0,u=t.qS;s<u.length;s++){var o=u[s],a=o.US,h=ft.fromNumber(o.Vg),c=i.add(h);0===o.MS&&n.push({qgt:r++,Wm:i,Vg:h,qm:c,E5:e,I5:e+a-1}),e+=a,i=c}return n},i.tOt=function(t){return t-this.QCt+this.tyt},b(n,[{key:"T_",get:function(){return this.ZCt.length}}]),n}(function(){function t(){}return t.prototype.bCt=function(t){var n=this.cDt(t.TDt);if(n&&n.Wm===t.Wm)return n;var i=this.$Ct(t.Wm);return i&&i.Wm===t.Wm?i:void 0},t}()),Cj=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).iOt=void 0,e.eOt=void 0,e.rOt=void 0,e.iOt=n.Ygt,e.eOt=e.gCt(0,ft.ZERO,e.VDt.Vg),e}S(n,t);var i=n.prototype;return i.eCt=function(t){if(0===t)return this.eOt},i.$Dt=function(){return 0},i.tCt=function(t){return this.eOt},i.iCt=function(t){return this.tCt(t)},i.CCt=function(){return this.eOt},i.OCt=function(t,n){return ft.ZERO},i.DDt=function(t){var n=this.sOt(t);return n&&{uCt:t,oCt:n,hCt:n}},i.sOt=function(t){var n=this.eOt;return this.dCt(n,t)?n:void 0},i.sCt=function(t){return this.sOt(t)},i.aCt=function(t){return this.sOt(t)},i.Jh=function(){},i.aDt=function(t){return 0===t&&void 0!==this.iOt},i.pCt=function(t){return this.rOt},i.ACt=function(t,n,i,e,r){var s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.kyt[0].href,u=this.iOt,a.next=4,Lr.awrap(e.uOt(s,u,i,r));case 4:return o=a.sent,this.rOt=this.oOt(t,o),a.abrupt("return",this.rOt);case 7:case"end":return a.stop()}},null,this,null,We)},i.oOt=function(t,n){var i=this.iOt,e=ap.kb(new DataView(n),new Zo);if(e.vs!==yk.HA)throw new v("Invalid segment index");var r=dp.Hb(e.Vi),s=i[1]+1;return new Dj(t,s,r,this.VDt.DD,Qt(this.JDt,this.ua))},n}(pj),Oj=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dDt=function(t,n){return{jd:n.kyt[0].href}},i.RDt=function(t,n){return{jd:n.kyt[0].href,Sht:t.NK}},i.WCt=function(){return new Cj(this,this.lDt)},b(n,[{key:"syt",get:function(){}}]),n}(Sj),Pj=function(t){function n(){return t.call(this,GY._Dt)||this}return S(n,t),n}(Tu);var Bj=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Iw=void 0,r.qi=void 0,r.aOt=void 0,r.QDt=void 0,r.hOt=1/0,r.cOt=void 0,r.Iw=i,r.fOt(n,e),r}S(n,t);var i=n.prototype;return i.vOt=function(){return this.QDt||this.Iw&&this.Iw.vOt()},i.dOt=function(t){var n=this.lDt,i=this.Iw&&this.Iw.vOt();this.qi.Eyt?this.QDt=new Rj(n,i,this.qi.Eyt):this.qi.Syt?this.QDt=new Nj(n,i,this.qi.Syt[0]):this.qi.Tyt?this.QDt=new Oj(n,i,this.qi.Tyt):t&&!i&&(this.QDt=new Oj(n,i,void 0))},i.fOt=function(t,n){this.qi=t,this.aOt=t.kyt&&t.kyt.length>0?kj(t.kyt.map(function(t){return t.jd}),n):n.slice(),this.QDt&&(t.Eyt?this.QDt.Jh(t.Eyt):t.Syt?this.QDt.Jh(t.Syt[0]):t.Tyt&&this.QDt.Jh(t.Tyt))},i.ADt=function(){var t;return null==(t=this.cOt)?void 0:t.lOt},i.CDt=function(){var t;return null==(t=this.cOt)?void 0:t.wOt},i._Ot=function(t){var n=this.hOt,i=this.lDt.Vg,e=this.cOt,r=this.gOt(t);e&&Ut(i,n,1e-5)&&Uj(e,r)||(this.hOt=i,this.cOt=r,this.Zs(new Pj))},i.xs=function(){this.tu()},b(n,[{key:"Vi",get:function(){return this.qi}},{key:"kyt",get:function(){return this.aOt}}]),n}(Au);function Lj(t){for(var n,i=0;i<t.length;i++){var e=t[i].ADt();if(e){n=e.DD;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].ADt();if(u){r=u.OD;break}}if(void 0!==r)return{DD:n,OD:r}}}function xj(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].ADt();if(!r)return;if((n=w.max(n,r.DD))>=(i=w.min(i,r.OD)))return}return{DD:n,OD:i}}}function Mj(t){for(var n,i=0;i<t.length;i++){var e=t[i].CDt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function Uj(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.wOt,n.wOt)&&function(t,n){return t&&n?Ut(t.DD,n.DD,1e-5)&&Ut(t.OD,n.OD,1e-5):t===n}(t.lOt,n.lOt)}var Fj=function(t){function n(n,i,e){var r;(r=t.call(this)||this).VDt=void 0,r.Bh=void 0,r.yOt=void 0,r.VDt=n,r.Bh=i,r.yOt=e.slice();for(var s=0;s<e.length;s++){e[s].Js(GY._Dt,r.kDt)}return r}S(n,t);var i=n.prototype;return i.ADt=function(){return xj(this.yOt)},i.CDt=function(){for(var t,n=0,i=this.yOt;n<i.length;n++){var e=i[n].CDt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.Il=function(){this.tu();for(var t=0,n=this.yOt;t<n.length;t++){n[t].nu(GY._Dt,this.kDt)}},b(n,[{key:"Gyt",get:function(){return this.yOt}},{key:"VX",get:function(){return this.Gyt.reduce(function(t,n){for(var i=0,e=n.VX;i<e.length;i++){var r=e[i];Ys(t,r)||t.push(r)}return t},[])}},{key:"ir",get:function(){return this.VX.length>0?this.VX[0]:""}},{key:"vs",get:function(){return this.yOt[0].vs}},{key:"B_",get:function(){return this.Bh}},{key:"NDt",get:function(){return this.VDt.NDt}},{key:"ZP",get:function(){return this.yOt[0].ZP}},{key:"lDt",get:function(){return this.VDt}},{key:"K0",get:function(){return Js(this.Gyt,function(t){return t.K0})}}]),n}(_j),Hj=function(t){function n(){return t.call(this,GY.yDt)||this}return S(n,t),n}(Tu);function Xj(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Ryt;void 0===s||(r=Vs(n,function(t){return t.B_===s})),r||(r={B_:s,Gyt:[]},n.push(r)),r.Gyt.push(e)},e=0;e<t.length;e++)i(e);return n}var Vj,zj=function(t){function n(n,i){var e;return(e=t.call(this)||this).B4=void 0,e.yOt=[],e.mOt=[],e.kOt=void 0,e.pOt=!1,e.kOt=n,e.B4=i,e.B4.Js(GY._Dt,e.kDt),e}S(n,t);var i=n.prototype;return i.AOt=function(t,n){if(0!==this.mOt.length){for(var i=t,e=0,r=this.mOt;e<r.length;e++){var s=r[e],u=s.vs;if(u===fm.dl||u===fm.ll){var o=s.bDt;if(void 0===o)return;i=n(i,o)}}return i}},i.bOt=function(){this.pOt||(this.pOt=!0,this.Zs(new Hj),this.Il())},i.Jh=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.yOt.length){i.next=7;break}return i.next=3,Lr.awrap(this.TOt(this.B4.Gyt,t,n));case 3:this.SOt(this.yOt),au(n),i.next=9;break;case 7:return i.next=9,Lr.awrap(this.EOt(t,n));case 9:case"end":return i.stop()}},null,this,null,We)},i.TOt=function(t,n,i){var e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new mj(this,r),u.prev=4,u.next=7,Lr.awrap(s.Jh(n,i));case 7:this.yOt.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),hu(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],We)},i.SOt=function(t){for(var n=Xj(t),i=0;i<n.length;i++){var e=n[i],r=new Fj(this,e.B_,e.Gyt);this.mOt.push(r)}},i.EOt=function(t,n){var i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.yOt;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Lr.awrap(r.Jh(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,We)},i.ADt=function(){return this.B4.ADt()},i.CDt=function(){return this.B4.CDt()},i.Il=function(){this.tu(),this.B4.nu(GY._Dt,this.kDt);for(var t=0,n=this.mOt;t<n.length;t++){n[t].Il()}for(var i=0,e=this.yOt;i<e.length;i++){e[i].Il()}Qs(this.yOt),Qs(this.mOt)},b(n,[{key:"Gyt",get:function(){return this.yOt}},{key:"eDt",get:function(){return this.mOt}},{key:"Wyt",get:function(){return this.B4.Vi.Wyt}},{key:"Vg",get:function(){return this.B4.Vg}},{key:"OD",get:function(){return this.DD+this.Vg}},{key:"qyt",get:function(){return this.B4.Vi.qyt||[]}},{key:"B_",get:function(){return this.B4.B_}},{key:"mDt",get:function(){return this.pOt}},{key:"NDt",get:function(){return this.kOt}},{key:"IOt",get:function(){return this.kOt.ROt(this)}},{key:"lDt",get:function(){return this}},{key:"NOt",get:function(){return this.kOt.DOt(this)}},{key:"COt",get:function(){return this.AOt(1/0,w.min)}},{key:"OOt",get:function(){return this.AOt(0,w.max)}},{key:"DD",get:function(){return this.B4.DD}},{key:"Tl",get:function(){return this.NDt.Tl}}]),n}(_j),Gj=function(t){function n(){return t.call(this,Nf.bf)||this}return S(n,t),n}(Tu);!function(t){t.POt="BOt"}(Vj||(Vj={}));var Wj=function(t){function n(){return t.call(this,Vj.POt)||this}return S(n,t),n}(Tu),qj=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.kyt)||this).SDt=void 0,e.LOt=void 0,e.SDt=i,e.dOt(!0),e}S(n,t);var i=n.prototype;return i.aDt=function(t){return!!Uc(this.ZP)&&this.ryt.aDt(t.qgt)},i.hDt=function(t,n,i,e){return this.ryt.hDt(t,this,n,i,e)},i.FDt=function(){return this.HDt.FDt(this)},i.dDt=function(t){return this.HDt.dDt(t,this)},i.RDt=function(t){return this.HDt.RDt(t,this)},i.DDt=function(){return this.LOt},i.gOt=function(t){var n=this.ryt,i=n.DDt(t),e=i&&function(t,n){var i,e=t.oCt,r=t.hCt,s=t.uCt,u=e.Wm,o=n._Ct(r);if(o.getTime()<=s.getTime())i=r.qm;else{var a=(o.getTime()-s.getTime())/1e3,h=w.max(r.Vg-a,0);i=r.Wm+h}return{DD:u,OD:i}}(i,n),r=this.ryt.CDt(t,i);return this.LOt=i,{uCt:t,lOt:e,wOt:r}},i.Jh=function(t){this.fOt(t,this.SDt.kyt)},b(n,[{key:"xDt",get:function(){return this.SDt}},{key:"lDt",get:function(){return this.SDt.lDt}},{key:"rCt",get:function(){return this.SDt.rCt}},{key:"ZP",get:function(){return this.qi.ZP||this.SDt.ZP}},{key:"HDt",get:function(){return this.vOt()}},{key:"ryt",get:function(){return this.HDt.ryt}}]),n}(Bj),Yj=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.kyt)||this).VDt=void 0,e.zDt=void 0,e.VDt=i,e.dOt(!1),e.zDt=n.K0.map(function(t){return new qj(t,Kt(e))}),e}S(n,t);var i=n.prototype;return i.Jh=function(t){this.fOt(t,this.VDt.kyt);var n=t.K0||[];if(this.zDt.length!==n.length)throw new v("Expected "+this.zDt.length+' representations in adaptation set "'+t.B_+'", found '+n.length);for(var i=0;i<n.length;i++)this.zDt[i].Jh(n[i])},i._Ot=function(n){for(var i=0,e=this.zDt;i<e.length;i++){e[i]._Ot(n)}t.prototype._Ot.call(this,n)},i.gOt=function(t){return{uCt:t,lOt:xj(this.zDt),wOt:Mj(this.zDt)}},i.xs=function(){for(var n=0,i=this.zDt;n<i.length;n++){i[n].xs()}t.prototype.xs.call(this)},b(n,[{key:"K0",get:function(){return this.zDt}},{key:"lDt",get:function(){return this.VDt}},{key:"rCt",get:function(){return this.VDt.rCt}},{key:"Ryt",get:function(){return this.qi.Ryt}},{key:"ZP",get:function(){var t;return this.qi.ZP||(null==(t=this.zDt[0])?void 0:t.Vi.ZP)||""}}]),n}(Bj),jj=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.kyt)||this).xOt=void 0,s.KS=void 0,s.oa=void 0,s.yOt=void 0,s.mOt=[],s.xOt=n,s.KS=e,s.oa=r,s.dOt(!1),s.yOt=(i.Gyt||[]).map(function(t){return new Yj(t,Kt(s))}),s.mOt=Xj(s.yOt),s}S(n,t);var i=n.prototype;return i.Jh=function(t,n){this.fOt(t,this.xOt.kyt),this.oa=n;var i=t.Gyt||[];if(this.yOt.length!==i.length)throw new v("Expected "+this.yOt.length+' adaptation sets in period "'+t.B_+'", found '+i.length);for(var e=0;e<i.length;e++)this.yOt[e].Jh(i[e])},i._Ot=function(n){for(var i=0,e=this.yOt;i<e.length;i++){e[i]._Ot(n)}t.prototype._Ot.call(this,n)},i.gOt=function(t){return{uCt:t,lOt:xj(this.yOt),wOt:Mj(this.yOt)}},i.xs=function(){for(var n=0,i=this.yOt;n<i.length;n++){i[n].xs()}t.prototype.xs.call(this)},b(n,[{key:"Gyt",get:function(){return this.yOt}},{key:"eDt",get:function(){return this.mOt}},{key:"lDt",get:function(){return this}},{key:"rCt",get:function(){return this.xOt}},{key:"B_",get:function(){return this.qi.B_}},{key:"DD",get:function(){return this.KS}},{key:"Vg",get:function(){return this.oa}}]),n}(Bj),Qj=new Date("2000-01-01"),Zj=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).qi=void 0,s.MOt=void 0,s.UOt=void 0,s.BW=void 0,s.FOt=void 0,s.cOt=void 0,s.aOt=void 0,s.HOt=void 0,s.XOt=void 0,s.VOt=void 0,s.zOt=[],s.MOt=i,s.Jh(n,e,r),n.vs===uG.TE){var u=s.CCt();u&&u.jyt&&u.jyt.getTime()<Qj.getTime()&&(s.VOt=new Date(s.rmt.getTime()-1e3*(u.l8.Wm+u.l8.Vg)),s._Ot(r))}return s}S(n,t);var e=n.prototype;return e.ADt=function(){var t;return null==(t=this.cOt)?void 0:t.lOt},e.CDt=function(){var t;return null==(t=this.cOt)?void 0:t.wOt},e.Jh=function(t,n,e,r){var s;this.qi=t,this.UOt=n,this.FOt=null!=r?r:e,this.BW=e;var u,o=[(u=n,i.Br(".",u))];this.aOt=t.kyt&&t.kyt.length>0?kj(t.kyt.map(function(t){return t.jd}),o):o,this.HOt=t.Zyt&&t.Zyt.length>0?kj(t.Zyt,this.aOt):[];var a=this.HOt.map(function(t){return t.href}),h=n.href;Ys(a,h)||(this.HOt.push(n),a.push(h));var c=this.MOt.href;Ys(a,c)||(this.HOt.push(this.MOt),a.push(c)),this.XOt=null==(s=t.tmt)?void 0:s.xgt();var f=t.vs===uG.TE,v=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.DD)u=s.DD.xgt();else if(r>0&&t[r-1].Vg){var o=e[r-1],a=t[r-1].Vg.xgt();u=o+a}else{if(0!==r||n)break;u=0}e.push(u)}for(var h=[],c=0;c<e.length-1;c++)h.push({Vi:t[c],DD:e[c],Vg:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,v=t[f],d=e[f],l=1/0;n||(l=v.Vg?v.Vg.xgt():i-d),h.push({Vi:v,DD:d,Vg:l})}return h}(t.emt,f,this.XOt);this.GOt(v),this._Ot(e)},e.GOt=function(t){var n=this.zOt;if(0!==t.length){for(var i=t[0].Vi.B_,e=0;e<n.length&&n[e].B_!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].xs()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var a=n[u];0,a.Jh(o.Vi,o.Vg)}else n.push(new jj(this,o.Vi,o.DD,o.Vg))}}else Qs(n)},e._Ot=function(t){for(var n=0,i=this.zOt;n<i.length;n++){i[n]._Ot(t)}var e=this.cOt,r=this.gOt(t);e&&Uj(e,r)||(this.cOt=r,this.Zs(new Pj))},e.gOt=function(t){return{uCt:t,lOt:Lj(this.zOt),wOt:Mj(this.zOt)}},e.CCt=function(){if(0!==this.zOt.length){var t=this.zOt[this.zOt.length-1];if(!isFinite(t.Vg)&&0!==t.Gyt.length){var n=t.Gyt[0];if(0!==n.K0.length){var i=n.K0[0].ryt,e=i.CCt();if(e)return{l8:e,jyt:i.cCt(e)}}}}},e.xs=function(){this.tu();for(var t=0,n=this.zOt;t<n.length;t++){n[t].xs()}},b(n,[{key:"Vi",get:function(){return this.qi}},{key:"vs",get:function(){return this.qi.vs||uG.bE}},{key:"Qyt",get:function(){return this.VOt||this.qi.Qyt||this.rmt}},{key:"jyt",get:function(){return this.qi.jyt}},{key:"tmt",get:function(){return this.XOt}},{key:"kyt",get:function(){return this.aOt}},{key:"Zyt",get:function(){return this.HOt}},{key:"emt",get:function(){return this.zOt}},{key:"rmt",get:function(){return this.qi.rmt||this.BW}},{key:"iyt",get:function(){return this.qi.iyt}},{key:"WOt",get:function(){return this.FOt}},{key:"qOt",get:function(){return this.BW}}]),n}(Au);var Jj=function(){function t(t,n,i){this.YOt=0,this.wE=t,this.jOt=n,this.QOt=i}var n=t.prototype;return n.gx=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(this.ZOt(t,this.wE,this.jOt,this.QOt).catch(cu));case 2:case"end":return n.stop()}},null,this,null,We)},n.JOt=function(){return new Date(Gt()+this.YOt)},n.ZOt=function(t,n,i,e){var r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Lr.awrap(this.KOt(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}au(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Lr.awrap(this.$Ot(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.YOt=void 0===r?0:r-Gt();case 18:case"end":return o.stop()}},null,this,null,We)},n.$Ot=function(t,n,i){var e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.G0,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.Ti)){o.next=9;break}return o.next=8,Lr.awrap(this.KOt(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.Ti)){o.next=15;break}if(u=new Date(s).getTime(),y(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,We)},n.KOt=function(t,n,i){var e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Lr.awrap(t.qd({jd:n,_l:uw.GET,zd:Df.$n,Ws:i}));case 3:return e=u.sent,u.next=6,Lr.awrap(e.Sd());case 6:if(r=u.sent,s=new Date(r).getTime(),y(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),hu(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],We)},t}(),Kj=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).tPt=void 0,s.B4=void 0,s.nPt=void 0,s.Vrt=!0,s.zOt=[],s.iPt=void 0,s.ePt=void 0,s.rPt=void 0,s.wE=void 0,s.sPt=void 0,s.iPt=n,s.nPt=n.K_,s.ePt=i,s.wE=e,s.tPt=r,s.sPt=new Jj(s.wE,s.tPt,s.iPt.uPt),s}S(n,t);var e=n.prototype;return e.oPt=function(t){var n=this.ym;this.Vrt=t,n!==this.ym&&this.Zs(new Wj)},e.Jh=function(t,n,e){var r,s,u,o,a,h,c,f,v,d,l,w,_;return Lr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(s=[],u=[],o=t.Jyt?i.Br(t.Jyt,this.nPt):this.nPt,void 0!==this.B4){g.next=10;break}return g.next=6,Lr.awrap(this.sPt.gx(t.umt));case 6:this.B4=new Zj(t,this.nPt,o,this.JOt()),this.B4.Js(GY._Dt,this.Qs),g.next=11;break;case 10:this.B4.Jh(t,o,this.JOt(),n);case 11:if(0===(a=this.B4.emt).length)h=this.zOt.slice(),Qs(this.zOt);else{for(c=a[0].B_,f=0;f<this.zOt.length&&this.zOt[f].B_!==c;)f++;for(h=this.zOt.splice(0,f),v=0;v<a.length;v++)d=a[v],l=void 0,v<this.zOt.length?l=this.zOt[v]:(l=new zj(this,d),s.push(l)),u.push(l.Jh(this.ePt,e))}return g.next=15,Lr.awrap(We.all(u));case 15:for((r=this.zOt).push.apply(r,s),w=0,_=h;w<_.length;w++)_[w].bOt();this.Zs(new Gj);case 18:case"end":return g.stop()}},null,this,null,We)},e.JOt=function(){return this.sPt.JOt()},e.DOt=function(t){var n=this.zOt.indexOf(t);if(n>0)return this.zOt[n-1]},e.ROt=function(t){var n=this.zOt.indexOf(t);if(n>=0&&n+1<this.zOt.length)return this.zOt[n+1]},e.ADt=function(){return this.B4?this.B4.ADt():void 0},e.CDt=function(){return this.B4&&this.B4.CDt()},e._Ot=function(t){this.B4&&this.B4._Ot(t)},e.Il=function(){this.tu(),this.rPt=void 0,this.oPt(!1);for(var t=0,n=this.zOt;t<n.length;t++){n[t].Il()}Qs(this.zOt),this.B4&&this.B4.xs()},b(n,[{key:"jyt",get:function(){return this.B4&&this.B4.jyt}},{key:"Qyt",get:function(){return this.B4&&this.B4.Qyt}},{key:"B_",get:function(){return this.B4&&this.B4.Vi.B_}},{key:"WOt",get:function(){var t;return null==(t=this.B4)?void 0:t.WOt}},{key:"aPt",get:function(){var t;return null==(t=this.B4)?void 0:t.qOt}},{key:"Zyt",get:function(){return this.B4?this.B4.Zyt.map(function(t){return t.href}):[this.iDt]}},{key:"iDt",get:function(){return this.nPt.href}},{key:"Kyt",get:function(){return this.B4&&this.B4.Vi.Kyt}},{key:"$yt",get:function(){return this.B4&&this.B4.Vi.$yt}},{key:"tmt",get:function(){return this.B4&&this.B4.Vi.tmt}},{key:"nmt",get:function(){return this.B4&&this.B4.Vi.nmt}},{key:"imt",get:function(){var t,n,i=(null==(t=this.B4)?void 0:null==(n=t.Vi.imt)?void 0:n.Mgt())||0;return w.max(i,tQ)}},{key:"ym",get:function(){return this.Vrt}},{key:"emt",get:function(){return this.zOt}},{key:"hPt",get:function(){return this.vs===uG.TE?this.jDt:this.cPt}},{key:"fPt",get:function(){var t=this.hPt;if(void 0!==t)for(var n=0,i=this.emt;n<i.length;n++){var e=i[n];if(e.DD<=t&&e.OD>t)return e}}},{key:"wyt",get:function(){return this.B4&&this.B4.Vi.wyt}},{key:"rmt",get:function(){return this.B4&&this.B4.rmt}},{key:"COt",get:function(){for(var t=this.zOt.length-1;t>=0;t-=1){var n=this.zOt[t].COt;if(n)return n}}},{key:"jDt",get:function(){var t=this.COt;if(void 0!==t){var n=t-this.vPt;return w.max(n,this.cPt)}}},{key:"cPt",get:function(){for(var t=0,n=this.zOt;t<n.length;t++){var i=n[t].pDt;if(void 0!==i)return i}}},{key:"Tl",get:function(){return Boolean(this.iPt.Tl)}},{key:"vPt",get:function(){var t=this.B4&&this.B4.Vi.smt;return t?t.xgt():this.vs===uG.TE?this.dPt:0}},{key:"dPt",get:function(){return this.iPt.dPt?this.iPt.dPt:1.5*this.nmt.xgt()}},{key:"iyt",get:function(){return this.B4&&this.B4.iyt}},{key:"vs",get:function(){return this.B4?this.B4.vs:void 0}}]),n}(Au),$j=function(){function t(t,n,i,e){this.kOt=void 0,this.kOt=new Kj(t,n,i,e)}return b(t,[{key:"NDt",get:function(){return this.kOt}}]),t}(),tQ=1e3,nQ=w.pow(2,31)-1,iQ=function(){function t(t,n,i,e){var r=this;this.jht=void 0,this.B4=void 0,this.lPt=void 0,this.wPt=void 0,this._Pt=void 0,this.gPt=new su,this.yPt=function(t){var n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.B4.NDt.JOt(),e.next=4,Lr.awrap(r.mPt(r.B4.NDt.Zyt,t));case 4:return i=e.sent,e.next=7,Lr.awrap(r.B4.NDt.Jh(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),Gp(e.t0)&&r.B4.NDt.oPt(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],We)},this.jht=e,this.B4=new $j(t,n,i,this.gPt.Ws)}var n=t.prototype;return n.Sw=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.B4.NDt.Zs(new XN),n.prev=1,n.next=4,Lr.awrap(Wx(this.yPt,t));case 4:this.B4.NDt.oPt(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),hu(n.t0),this.wPt=void 0,this.B4.NDt.oPt(!1),new v("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.lPt=this.kPt(this.gPt.Ws);case 14:case"end":return n.stop()}},null,this,[[1,7]],We)},n.kPt=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.B4.NDt.vs!==uG.TE){n.next=6;break}return n.next=4,Lr.awrap(fu(this.pPt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],We)},n.APt=function(t){var n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(au(t),!((n=this.bPt())>0)){e.next=6;break}return i=w.min(n,nQ),e.next=6,Lr.awrap(yu(i,t));case 6:return e.prev=6,e.next=9,Lr.awrap(Wx(this.yPt,t,1/0,tQ,3e4));case 9:this.B4.NDt.oPt(!0);case 10:return e.prev=10,this._Pt=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],We)},n.bPt=function(){var t=this.B4.NDt.JOt().getTime()-this.B4.NDt.WOt.getTime();return this.B4.NDt.imt-t},n.TPt=function(t){var n=this.B4.NDt.CDt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.B4.NDt._Ot(t);var e=this.B4.NDt.CDt();return e?e.getTime()-t.getTime():NaN},n.SPt=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this._Pt||(this._Pt=this.APt(t)),(n=new su).zs(t),i.prev=3,i.next=6,Lr.awrap(We.race([this._Pt,this.EPt(n.Ws)].filter(H)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),cu(i.t0);case 11:return i.prev=11,n.Vs(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],We)},n.EPt=function(t){var n=this.B4.NDt.JOt(),i=this.TPt(n);if(!y(i))return this.IPt(i,t)},n.IPt=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lr.awrap(yu(t,n));case 2:i=this.B4.NDt.JOt(),this.B4.NDt._Ot(i);case 4:case"end":return e.stop()}},null,this,null,We)},n.mPt=function(t,n){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(this.jht.qht(t,{},n,!1));case 2:return i=r.sent,e=new nW,r.abrupt("return",e.Lct(i.zht,i.Yd));case 5:case"end":return r.stop()}},null,this,null,We)},n.Il=function(){return this.gPt.Vs(),this.lPt=void 0,this.wPt=void 0,this._Pt=void 0,this.B4.NDt.Il(),We.resolve()},b(t,[{key:"z$",get:function(){return this.B4}},{key:"hkt",get:function(){return this.wPt||(this.wPt=this.Sw(this.gPt.Ws),_u(this.wPt)),this.wPt}},{key:"pPt",get:function(){return this.B4.NDt.aPt&&this.B4.NDt.vs===uG.TE?this.SPt(this.gPt.Ws):this.hkt}}]),t}(),eQ=function(){function t(t,n,i){this.jht=t,this.RPt=n,this.NPt=i}var n=t.prototype;return n.DPt=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new v("Invalid typed source");case 2:if(!uy(n=t.type)){i.next=9;break}return i.next=6,Lr.awrap(this.CPt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!sy(n)){i.next=15;break}return i.next=12,Lr.awrap(this.OPt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,We)},n.CPt=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Lr.awrap(nj(t.src,this.jht));case 3:return n=i.sent,i.next=6,Lr.awrap(ij(n,this.jht));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],We)},n.OPt=function(t){var n;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new iQ({K_:i.Br(t.src),dPt:t.liveOffset,uPt:t.timeServer,Tl:t.useCredentials},this.NPt,dw.Pl,this.jht),e.next=4,Lr.awrap(n.hkt);case 4:return e.next=6,Lr.awrap(HY(n.z$.NDt,t.contentProtection,this.RPt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],We)},t}();var rQ=function(){function t(t){this.PPt=void 0,this.BPt=[],this.LPt=0,this.PPt=t}var n=t.prototype;return n.xPt=function(){var t=new Ko;return this.BPt.push(t),this.MPt(),t.Xu},n.UPt=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(t);case 2:this.LPt-=1,this.MPt(),0===this.BPt.length&&0===this.LPt&&n.Wu(!0);case 5:case"end":return i.stop()}},null,this,null,We)},n.MPt=function(){this.BPt.length>0&&this.LPt<this.PPt&&(this.BPt.shift().Wu(),this.LPt+=1)},t}();function sQ(t,n){for(var i=0,e=0,r=t.qS.eK.map(function(t){return t.Vg});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var uQ=function(t){function n(n,e,r,s,u,o,a,h){var c,f,v,d,l;void 0===h&&(v=M.En||M.Tn,d=void 0!==f&&void 0!==f.preferredAudioCodecs&&f.preferredAudioCodecs.some(function(t){return"ec-3"===t}),l=v&&!d,h=function(t){var n,e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.Nd,MediaSource.isTypeSupported(e)||Zp(t.ZP,t.VX)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!l||-1===(null==(n=t.ir)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.J0){u.next=13;break}return r=t.J0,s=Js(r,function(t){return _s(t.G0)}).filter(H),u.next=10,Lr.awrap(iu(s,function(t){return i.Or(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,We)}),(c=t.call(this)||this).Zht=void 0,c.FPt=void 0,c.HPt=new Ko,c.XPt=void 0,c.uct=void 0,c.VPt=OY.JNt(),c.jNt=void 0,c.zPt=void 0,c.Ty=void 0,c.GPt=void 0,c.Fat=void 0,c.jht=void 0,c.WPt=void 0,c.RPt=void 0,c.NPt=void 0,c.NNt=void 0,c.Zht=n,c.Fat=e,c.jht=r,c.GPt=s,c.WPt=u,c.RPt=o,c.NPt=h,c.NNt=a,c.zPt=-1;var w=c.Zht.cD.sources[0];return c.XPt=w,c.Ty=c.zy(),c.FPt=new rQ(c.Zht._c.parallelTasksThreshold),c}S(n,t);var e=n.prototype;return e.zy=function(){var t,n,i,e,r,s,u,o,a,h,c,f,v,d,l,_,g,y,m,k,p,A,b,T,S,E,I,R=this;return Lr.async(function(N){for(;;)switch(N.prev=N.next){case 0:return t=new eQ(this.jht,this.RPt,this.NPt),N.next=3,Lr.awrap(t.DPt(this.XPt));case 3:return this.uct=N.sent,n=this.Zht._c.amount,i=this.uct.Vg,e=MY(n,i),this.jNt=e,s=RH(this.uct.nDt[0]),N.next=11,Lr.awrap(this.Fat.Oat.Nat(s,"manifestURL"));case 11:for(u=N.sent.filter(function(t){return Ys(t.references,R.Zht.B_)}),o=[],a=this.Zht._c.bandwidth,h=0,c=this.uct.emt;h<c.length;h++)for(f=c[h],v=0,d=f.rDt;v<d.length;v++)for(l=d[v],_=0,g=aQ(l.Wb);_<g.length;_++)for(y=g[_],m=0,k=hQ(y.F_,a);m<k.length;m++)p=k[m],o.push(p);if(this.zPt=w.ceil(o.map(function(t){return t.PR*sQ(t,e)/8}).reduce(function(t,n){return t+n},0)),A=Ur(),u&&0!==u.length){for(b=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new gS(n.startsAndEnds);if(A.has(i))A.get(i).timeRanges=A.get(i).timeRanges.QD(e).jD(5e-4);else{var r,s=Vs(o,function(t){return t.B_===i}),a=w.min(R.jNt,null!=(r=null==s?void 0:s.qS.Vg)?r:1/0);A.set(i,{timeRanges:e,totalQualityDurationToCache:a})}},S=0;S<u.length;S++)T(S);r=new OY(b,A,this.jNt)}else{for(E=0;E<o.length;E++)I=o[E],A.set(I.B_,{timeRanges:gS.dC(),totalQualityDurationToCache:w.min(I.qS.Vg,this.jNt)});r=new OY(0,A,this.jNt)}this.qPt=r;case 19:case"end":return N.stop()}},null,this,null,We)},e.YPt=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(this.Ty);case 2:return n.next=4,Lr.awrap(this.jPt(this.uct,t));case 4:return n.next=6,Lr.awrap(this.HPt.Xu);case 6:case"end":return n.stop()}},null,this,null,We)},e.jPt=function(t,n){var i,e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.nDt){u.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return u.next=4,Lr.awrap(this.QPt());case 4:for(i=[],e=0,r=t.emt;e<r.length;e++)s=r[e],i.push(this.ZPt(s,t.nDt[0],n));return u.abrupt("return",We.all(i));case 7:case"end":return u.stop()}},null,this,null,We)},e.QPt=function(){var t,n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(this.GPt.Iat());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Lr.awrap(this.Fat.Pat.Ru(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Lr.awrap(oQ(e,this.Zht.B_,this.Fat.Pat,this.NNt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Lr.awrap(this.Fat.Pat.Tat(i,this.NNt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new FY("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Lr.awrap(this.GPt.Cat());case 27:case"end":return r.stop()}},null,this,[[14,19]],We)},e.ZPt=function(t,n,i){var e,r,s,u,o,a,h;return Lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:for(e=[],r=0,s=t.rDt;r<s.length;r++)for(u=s[r],o=aQ(u.Wb),a=0;a<o.length;a++)h=o[a],e.push(this.JPt(h,n,i));return c.abrupt("return",We.all(e));case 3:case"end":return c.stop()}},null,this,null,We)},e.JPt=function(t,n,i){var e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.Zht._c.bandwidth,r=hQ(t.F_,e),t.vs!==fm.ll||!t.sDt||!t.sDt.VE.widevine||"persistent"!==t.sDt.VE.widevine.licenseType){a.next=6;break}return a.next=5,Lr.awrap(this.KPt(t.sDt));case 5:au(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.$Pt(o,n,i));return a.abrupt("return",We.all(s));case 9:case"end":return a.stop()}},null,this,null,We)},e.$Pt=function(t,n,i){var e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:au(i),e=t.qS.eK[0].Wm,r=e+this.jNt,s=0,u=t.qS.eK;case 4:if(!(s<u.length)){a.next=16;break}if(!((o=u[s]).Wm>=r)){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Lr.awrap(this.tBt(i));case 10:return a.next=12,Lr.awrap(this.FPt.xPt());case 12:_u(this.FPt.UPt(this.nBt(o,t,n),this.HPt));case 13:s++,a.next=4;break;case 16:case"end":return a.stop()}},null,this,null,We)},e.tBt=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.Cs){n.next=4;break}return n.next=3,Lr.awrap(this.HPt.Xu);case 3:throw new uu;case 4:case"end":return n.stop()}},null,this,null,We)},e.iBt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lr.awrap(this.Ty);case 2:return t.abrupt("return",this.uct);case 3:case"end":return t.stop()}},null,this,null,We)},e.KPt=function(t){return We.resolve()},e.eBt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return ot("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,We)},e.nBt=function(t,n,i){var e,r,s,u,o,a,h,c=this;return Lr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.Fat.Oat,r=NH(t.uDt.jd,t.uDt.Sht),f.next=4,Lr.awrap(e.Ru(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Lr.awrap(oQ(s,this.Zht.B_,e,this.NNt));case 8:this.rBt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Lr.awrap(this.sBt(t.uDt));case 14:return u=f.sent,o=this.uBt(t,n,i,u),a=o.segmentMetadataEntry,h=o.segmentEntry,f.next=18,Lr.awrap(this.Fat.xat(function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(t.Oat.Tat(a,c.NNt));case 2:return n.next=4,Lr.awrap(t.eK.Tat(h,c.NNt));case 4:case"end":return n.stop()}},null,null,null,We)}));case 18:this.rBt(a,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new FY("Unable to store segment with url: "+t.uDt.jd,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],We)},e.sBt=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(this.WPt.oBt(t,!1));case 2:return n=i.sent,i.next=5,Lr.awrap(this.aBt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,We)},e.aBt=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(t.Id());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,We)},e.uBt=function(t,n,i,e){var r=NH(t.uDt.jd,t.uDt.Sht),s=t.Wm,u=t.Vg,o=this.hBt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:RH(i),qualityId:n.B_,byteSize:o,startsAndEnds:new gS([s,s+u]).BD,references:[this.Zht.B_]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:RH(i),data:e}}},e.hBt=function(t){return t.buffer.byteLength},e.rBt=function(t,n){var i=t.qualityId,e=this.VPt,r=e.Em;r.get(i).timeRanges=r.get(i).timeRanges.QD(new gS(t.startsAndEnds)).jD(5e-4),this.qPt=new OY(n?e.KNt+t.byteSize:e.KNt,r,this.jNt)},b(n,[{key:"cBt",get:function(){return this.zPt}},{key:"qPt",get:function(){return this.VPt},set:function(t){this.VPt.wk(t)||(this.VPt=t,t.wk(OY.JNt())||this.Zs(new xY))}}]),n}(Au);function oQ(t,n,i,e){return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Ys(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Lr.awrap(i.Tat(t,e));case 4:case"end":return r.stop()}},null,null,null,We)}function aQ(t){return t.length?[t[0]]:[]}function hQ(t,n){if(!t.length)return[];var i=[].concat(t).sort(rY),e=i.filter(function(t){return t.PR<=n});return e.length>0?[e.pop()]:[i.shift()]}var cQ=function(){function t(t,n,i){this.Zht=t,this.Fat=n,this.uct=i}var n=t.prototype;return n.fBt=function(){var t=this;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(this.Fat.xat(function(n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(t.vBt(n));case 2:return i.next=4,Lr.awrap(t.dBt(n));case 4:return i.next=6,Lr.awrap(t.lBt(n));case 6:return i.next=8,Lr.awrap(t.wBt(n));case 8:case"end":return i.stop()}},null,null,null,We)}));case 2:case"end":return n.stop()}},null,this,null,We)},n.vBt=function(t){var n,i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Bat,i=this.Zht.B_,e.next=4,Lr.awrap(n.Zh(i));case 4:case"end":return e.stop()}},null,this,null,We)},n.dBt=function(t){var n,i,e,r,s,u,o,a=this;return Lr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(n=t.Oat,i=t.eK,cy(e=this.Zht.cD.sources[0])){h.next=5;break}return h.abrupt("return");case 5:return r=RH(e.src),h.next=8,Lr.awrap(n.Nat(r,"manifestURL"));case 8:s=h.sent.filter(function(t){return Ys(t.references,a.Zht.B_)}),u=0;case 10:if(!(u<s.length)){h.next=25;break}if(Ws((o=s[u]).references,this.Zht.B_),0!==o.references.length){h.next=20;break}return h.next=16,Lr.awrap(n.Zh(o.key));case 16:return h.next=18,Lr.awrap(i.Zh(o.key));case 18:h.next=22;break;case 20:return h.next=22,Lr.awrap(n.Tat(o));case 22:u++,h.next=10;break;case 25:case"end":return h.stop()}},null,this,null,We)},n.lBt=function(t){var n,i,e,r,s,u=this;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.Pat,i=this._Bt(),o.next=4,Lr.awrap(n.Aat(i));case 4:e=o.sent.filter(function(t){return Ys(t.references,u.Zht.B_)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(Ws((s=e[r]).references,this.Zht.B_),0!==s.references.length){o.next=14;break}return o.next=12,Lr.awrap(n.Zh(s.key));case 12:o.next=16;break;case 14:return o.next=16,Lr.awrap(n.Tat(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,We)},n._Bt=function(){if(!this.uct)return[];var t=this.Zht.cD.sources[0];if(!cy(t))return[];var n=RH(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.emt;i<e.length;i++)for(var r=0,s=e[i].rDt;r<s.length;r++)for(var u=0,o=s[r].Wb;u<o.length;u++)for(var a=0,h=o[u].F_;a<h.length;a++){var c=h[a];c.wDt&&n.push(c.wDt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.uct).map(function(t){return{src:t}}).map(function(t){return RH(t.src)});return[n].concat(i)},n.wBt=function(t){var n,i,e,r,s=this;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.Lat,u.next=3,Lr.awrap(n.Iat());case 3:i=u.sent.filter(function(t){return Ys(t.references,s.Zht.B_)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(Ws((r=i[e]).references,this.Zht.B_),0!==r.references.length){u.next=14;break}return u.next=11,Lr.awrap(n.Zh(r.key));case 11:this.gBt(r),u.next=16;break;case 14:return u.next=16,Lr.awrap(n.Tat(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,We)},n.gBt=function(t){},t}(),fQ=new(function(){function t(){}return t.prototype.TJ=function(t,n,i){return new cQ(t,n,i)},t}());var vQ=function(){function t(t,n){this.qw=void 0,this.Iw=t,this.yBt=n}var n=t.prototype;return n.mBt=function(t){this.kBt(t)},n.kBt=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Lr.awrap(this.yBt.eBt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.Iw.ONt(fY.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],We)},b(t,[{key:"Yw",get:function(){var t;return this.qw||(this.qw=(t=this,{renew:function(n){t.mBt(n)}})),this.qw}}]),t}(),dQ=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Bh=void 0,o.RNt=void 0,o.qw=void 0,o.krt=void 0,o.pBt=void 0,o.Fat=void 0,o.yBt=void 0,o.ABt=new su,o.bBt=void 0,o.evictOnLoading=function(){o.nu("gNt",o.evictOnLoading),o.TBt()},o.Bh=n,o.krt=i,o.pBt=e,o.Fat=r,o.yBt=s.TJ(Kt(o),o.Fat,u),o.bBt=new vQ(Kt(o),o.yBt),o.RNt=1===o.yBt.qPt.$Nt?fY.DONE:fY.IDLE,o.yBt.Js("WNt",function(t){o.Qs(t),1===o.VNt&&o.ONt(fY.DONE)});var h=new Date,c=o.pBt.expirationDate.getTime()-h.getTime();return c<2147483647&&a(function(){return o.TBt()},c),o}S(n,t);var i=n.prototype;return i.ONt=function(t){this.RNt!==t&&(this.RNt=t,this.Zs(new pY))},i.DD=function(){this.RNt===fY.EVICTED||this.RNt===fY.DONE||this.SBt()},i.SBt=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.ONt(fY.LOADING),t=new su,this.ABt=t,n.next=6,Lr.awrap(this.yBt.YPt(t.Ws));case 6:this.ONt(fY.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),ou(n.t0)?this.ONt(fY.IDLE):this.ONt(fY.ERROR);case 12:return n.prev=12,this.ABt.xs(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],We)},i.xy=function(){this.ABt.Vs()},i.Zh=function(){this.Xd===fY.LOADING?(this.Js("gNt",this.evictOnLoading),this.xy()):this.TBt()},i.TBt=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Lr.awrap(this.yBt.iBt());case 3:return t=n.sent,n.next=6,Lr.awrap(fQ.TJ(this,this.Fat,t).fBt());case 6:this.yBt.qPt=OY.JNt(),this.ONt(fY.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.ONt(fY.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],We)},b(n,[{key:"Yw",get:function(){return this.qw||(this.qw=CY(this)),this.qw}},{key:"B_",get:function(){return this.Bh}},{key:"vB",get:function(){return this.bBt}},{key:"Xd",get:function(){return this.RNt}},{key:"cD",get:function(){return this.krt}},{key:"_c",get:function(){return this.pBt}},{key:"Vg",get:function(){return this.yBt.qPt.hC}},{key:"HNt",get:function(){return this.yBt.qPt.ZNt}},{key:"XNt",get:function(){return this.yBt.qPt.QNt}},{key:"VNt",get:function(){return this.yBt.qPt.$Nt}},{key:"zNt",get:function(){return this.yBt.cBt}},{key:"GNt",get:function(){return this.yBt.qPt.KNt}}]),n}(Gg);var lQ=function(){function t(t,n){this.Fat=t,this.EBt=n}var n=t.prototype;return n.xNt=function(t,n,i){var e=fI();return this.BNt(e,t,n,i)},n.BNt=function(t,n,i,e){return new dQ(t,n,i,this.Fat,this.EBt,e)},t}(),wQ=30,_Q=5;function gQ(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(q(t)&&!ys(t,"%"))return _(t);return t}(t.amount);!function(t){if(i=t,q(i)&&ys(i,"%")){var n=g(t);if(y(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!q(t)&&y(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+wQ),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Q(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(y(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return _Q;if(y(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var yQ=5,mQ=function(){function t(t,n,i,e){var r=this;this.IBt=void 0,this.yBt=void 0,this.RBt=void 0,this.UM=void 0,this.NBt=[],this.DBt=0,this.bw=void 0,this.CBt=void 0,this.EBt=void 0,this.EC=void 0,this.kIt=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=r.Gpt())){n.next=4;break}return n.next=4,Lr.awrap(r.Vst(t));case 4:case"end":return n.stop()}},null,null,null,We)},this.mIt=function(){var t=r.NBt.shift();null==t||t.Zh()},this.OBt=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=!1;case 1:if(i){e.next=7;break}return e.next=4,Lr.awrap(t.fu("WNt"));case 4:i=1===t.qPt.$Nt,e.next=1;break;case 7:n.Vg<yQ&&r.kIt();case 8:case"end":return e.stop()}},null,null,null,We)},this.UM=t,this.CBt=n,this.bw=new su,this.EBt=i,this.EC=e}var n=t.prototype;return n.Gpt=function(){var t;if(this.RBt){var n=this.RBt.uSt[this.DBt];if(!n&&this.RBt.uSt.length>this.DBt)return this.DBt++,this.IBt=void 0,this.Gpt();this.IBt||(this.IBt=FW.rSt(n));var i=null==(t=this.IBt)?void 0:t.Klt();return null==i?void 0:i.owt}},n.A_=function(){for(this.gIt=void 0,this.IBt=void 0,this.DBt=0,this.bw.Vs(),this.bw=new su;this.NBt.length;)this.mIt()},n.getCachingTaskService=function(t){return new DY(GH.Yn.Bat,t,"temporary")},n.Vst=function(t){var n,i,e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if((n=uY(t.V_t,this.UM.ads.allowedMimeTypes)).length){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,Lr.awrap(aS.Yn.aD(n,OE({sources:n})));case 5:if((i=a.sent).fD.$N()){a.next=8;break}return a.abrupt("return");case 8:this.yBt||(this.yBt=new this.EBt(this.CBt)),e=GH.Yn,r=new lQ(e,this.yBt),s=this.getCachingTaskService(r),u=s.BNt(OE({sources:i.cD}),gQ({amount:10,bandwidth:jg.gg()||this.EC.kx/8}),"temporary"),this.NBt.push(u),o=this.yBt.TJ(u,e,"temporary"),this.bw.Vs(),this.bw=new su,o.YPt(this.bw.Ws).then(J),this.OBt(o,t);case 19:case"end":return a.stop()}},null,this,null,We)},b(t,[{key:"gIt",get:function(){return this.RBt},set:function(t){this.RBt=t,this.DBt=0}}]),t}(),kQ=function(){function t(t){this.wE=void 0,this.hF=new gN,this.wE=t}var n=t.prototype;return n.qd=function(t){var n=this,i=new Ko;return this.hF.KU(function(e){return n.PBt(i,t,e)},t.Ws).catch(J),i.Xu},n.El=function(t){return this.wE.El(t)},n.PBt=function(t,n,i){var e,r,s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return au(i),e=new fw({jd:n.jd,Ws:i},n),r=this.wE.qd(e),t.Wu(r),u.next=6,Lr.awrap(r);case 6:return s=u.sent,u.next=9,Lr.awrap(s.xd());case 9:case"end":return u.stop()}},null,this,null,We)},n.Il=function(){this.hF.Il()},t}(),pQ=function(){function t(t,n){this.wE=void 0,this.BBt=void 0,this.q6=void 0,this.wE=t,this.BBt=new kQ(t),this.q6=n}var n=t.prototype;return n.oBt=function(t,n,i){return this.S3(t,n,!0,!1,void 0,i)},n.c8=function(t,n,i,e){return this.S3(t,n,!1,!1,i,e)},n.LBt=function(t,n,i,e){return this.S3(t,n,!1,!0,i,e)},n.S3=function(n,i,e,r,s,u){var o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return au(u),a.next=3,Lr.awrap(this.g8(n,e,r,s,u));case 3:if(o=a.sent,!i){a.next=8;break}return a.abrupt("return",t.xBt(o));case 8:return a.abrupt("return",this.MBt(o));case 9:case"end":return a.stop()}},null,this,null,We)},n.MBt=function(t){return t},t.xBt=function(t){return t},n.g8=function(t,n,i,e,r){var s=new fw({jd:t.jd,zd:Df.qf,Vd:t.Sht?{Range:"bytes="+t.Sht[0]+"-"+t.Sht[1]}:void 0,Tl:t.Tl,_l:uw.GET,vs:ow.Kd,Al:i?aw.il:aw.Zd,bl:this.q6,yl:e,Ws:r});return n?this.BBt.qd(s):this.wE.qd(s)},t}(),AQ=function(){function t(t){this.wE=void 0,this.wE=t}return t.prototype.uOt=function(t,n,i,e){var r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Lr.awrap(this.wE.qd({jd:t,zd:Df.qf,Vd:{Range:"bytes="+n[0]+"-"+n[1]},Tl:i,_l:uw.GET,vs:ow.Zd,Ws:e}));case 2:return r=s.sent,s.next=5,Lr.awrap(r.Id());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,We)},t}(),bQ=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).l8=void 0,r.l8=n,r}return S(n,t),n}(tn),TQ=function(){function t(t){this.F4=void 0,this.F4=t}return t.prototype.uOt=function(t,n,i,e){var r,s;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(this.F4.J6(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Lr.awrap(this.F4.J6(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Yo(new m(s.buffer),n[0],n[1]));case 10:throw new bQ({jd:t,Sht:n,Tl:!1});case 11:case"end":return i.stop()}},null,this,null,We)},t}(),SQ={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new gS([0,0]).BD,references:[]},EQ={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},IQ=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).UBt=void 0,u.FBt=void 0,u.Fat=void 0,u.NNt=void 0,u.UBt=new AQ(i),u.Fat=e,u.FBt=r,u.NNt=s,u}S(n,t);var i=n.prototype;return i.uOt=function(n,i,e,r){var s;return Lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Lr.awrap(t.prototype.uOt.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),hu(u.t0);case 9:return u.next=11,Lr.awrap(this.UBt.uOt(n,i,e,r));case 11:return s=u.sent,u.next=14,Lr.awrap(this.HBt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],We)},i.HBt=function(t,i,e){var r,s,u,o,a,h,c,f=this;return Lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(void 0!==this.FBt){v.next=2;break}return v.abrupt("return");case 2:return r=this.Fat.Oat,s=NH(t,i),v.next=6,Lr.awrap(r.Ru(s));case 6:if(!(u=v.sent)){v.next=12;break}return v.next=10,Lr.awrap(oQ(u,this.FBt,r,this.NNt));case 10:v.next=22;break;case 12:return v.prev=12,o={buffer:e},a=n.uBt(s,o,this.FBt),h=a.segmentMetadataEntry,c=a.segmentEntry,v.next=17,Lr.awrap(this.Fat.xat(function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(t.Oat.Tat(h,f.NNt));case 2:return n.next=4,Lr.awrap(t.eK.Tat(c,f.NNt));case 4:case"end":return n.stop()}},null,null,null,We)}));case 17:v.next=22;break;case 19:throw v.prev=19,v.t0=v.catch(12),new FY("Unable to store segment with url: "+t,v.t0);case 22:case"end":return v.stop()}},null,this,[[12,19]],We)},n.uBt=function(t,n,i){return{segmentMetadataEntry:xr({},SQ,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:xr({},EQ,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(TQ);var RQ,NQ=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.XBt=function(t,n,i,e,r,s,u){return new uQ(t,n,i,e,r,s,u)},n}(function(){function t(t){this.wE=t}return t.prototype.TJ=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.cD.sources[0].useCredentials),r=new pQ(this.wE,hw.Zd),s=new dX(this.wE,e),u=new DH(n.Pat,n.Oat,n.eK,n.Lat),o=function(t,n,i,e,r){return new IQ(n,t,i,e,r)}(this.wE,u,n,t.B_,i),a=new UH,h=new yX(gX(s,u),a,t);return this.XBt(t,n,h,a,r,o,i)},t}()),DQ=NQ;!function(t){t[t.NOT_INITIALISED=0]="NOT_INITIALISED",t[t.VBt=1]="VBt",t[t.zBt=2]="zBt",t[t.Hg=3]="Hg",t[t.py=4]="py",t[t.GBt=5]="GBt"}(RQ||(RQ={}));var CQ=function(t){function i(n,i,e,r,s,u,o){var a;(a=t.call(this,n,e,r)||this).WBt=void 0,a.qBt=void 0,a.URt=void 0,a.YBt=void 0,a.jBt=void 0,a.QBt=void 0,a.OSt=void 0,a.ZBt=void 0,a.JBt=void 0,a.bG=void 0,a.KBt=void 0,a.Ekt=void 0,a.$Bt=void 0,a.tLt=void 0,a.Slt=!1,a.lEt=void 0,a.wEt=void 0,a.nLt=void 0,a.Elt=!1,a.iLt=!0,a.ARt=void 0,a.eLt=void 0,a.wE=void 0,a.rLt=function(t){"play"!==t.type||a.iLt?a.Zs(t):a.iLt=!0},a.sLt=function(){a.Elt||(a.Elt=!0)},a.EIt=function(t){var n;(n=a.jBt).push.apply(n,t);for(var i=0;i<t.length;i++)t[i],a.Elt&&a.Vlt.D_!==Kt(a)&&a.uLt()},a.oLt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return a.QBt=RQ.VBt,t.next=4,Lr.awrap(a.qBt.XRt());case 4:return a.OSt&&a.OSt.pmt.sIt++,t.abrupt("return",a.WRt(a.ZBt.Klt()));case 6:case"end":return t.stop()}},null,null,null,We)},a.aLt=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=new cz(oz.PLAYBACK,az.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad."),a.slt.Zs(lz.ylt(n,t)),i.next=4,Lr.awrap(a.qBt.XRt());case 4:return a.OSt&&a.OSt.pmt.sIt++,i.abrupt("return",a.WRt(a.ZBt.mu()));case 6:case"end":return i.stop()}},null,null,null,We)},a.hLt=function(){return a.URt.XRt(),a.WRt(a.ZBt.Klt())},a.cLt=function(t){var n=new cz(oz.PLAYBACK,az.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return a.slt.Zs(lz.ylt(n,t)),a.URt.XRt(),a.WRt(a.ZBt.mu())},a.wE=o,a.KBt=!1,a.ARt=i,a.URt=new wY(a.cLt,a.hLt,Kt(a),e),a.qBt=new dY(a.aLt,a.oLt,n,a.URt,s,Kt(a),r,i),a.fLt(a.URt.WIt),a.fLt(a.qBt.WIt);var h=new fR(o,!1),c=new mQ(s,h,NQ,u);return a.YBt=new jq(a.fD,Kt(a),a.slt,c),a.qBt.$s(a.rLt),a.URt.$s(a.Qs),a.slt.HC(a.qBt.slt),a.slt.HC(a.URt.slt),a.slt.HC(a.YBt),a.JBt=[],a.jBt=[],a.OSt=void 0,a.ZBt=void 0,a.$Bt=new FW(Kt(a),a.fD),a.QBt=RQ.NOT_INITIALISED,a.bG=0,a.Zs(new my(a.Xg,0)),a.Zs(new Ly(a.Xg,0)),a.OU.Js("TB",a.Qs),a.nLt=!1,a.eLt=[],a.fD.Js("play",a.sLt),a}S(i,t);var e=i.prototype;return e.NSt=function(t,n,i){this.Ekt=n,"boolean"==typeof i&&(this.Slt=i),this.bG=ty.Dg,this.Zs(new Ly(this.Xg,ty.Dg)),n===rz.Ydt&&this.Elt?_u(this.Vpt([t])):this.eLt.push(t)},e.Ly=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.WBt){n.next=2;break}return n.abrupt("return");case 2:if(this.Zs(new py(this.Xg)),this.sLt(),!this.eLt.length){n.next=9;break}return this.WBt=this.Vpt(this.eLt),n.next=8,Lr.awrap(this.WBt);case 8:this.WBt=void 0;case 9:if(!this.lEt||!this.Slt){n.next=11;break}return n.abrupt("return");case 11:return n.next=13,Lr.awrap(this.YBt.SIt(this.fD.Xg));case 13:(t=this.QBt)!==RQ.py&&t!==RQ.VBt&&t!==RQ.GBt||(!this.OSt&&this.jBt.length?this.uLt():this.OSt?(this.iLt=!1,this.qBt.Ly()):(this.Glt(),this.fD.Ly()),this.QBt=RQ.Hg);case 15:case"end":return n.stop()}},null,this,null,We)},e.xy=function(){this.QBt===RQ.Hg&&(this.qBt.xy(),this.QBt=RQ.py)},e.pIt=function(){this.YBt.pIt()},e.DD=function(){this.QBt=RQ.VBt,this.YBt.DD(),this.bG=ty.Og,this.Zs(new Ly(this.Xg,ty.Og))},e.My=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.YBt&&(this.YBt.OD(),this.vLt(!1),this.URt.My(),this.QBt=RQ.GBt,this.KBt=!1,this.OSt&&(this.YBt.CIt(this.OSt.pmt),this.OSt=void 0)),this.Elt=!1,this.iLt=!0,Qs(this.jBt),this.Vlt.D_===this&&(this.Glt(),this.fD.qy()),Qs(this.eLt),t.next=8,Lr.awrap(this.qBt.My());case 8:return t.next=10,Lr.awrap(this.ARt.A_());case 10:case"end":return t.stop()}},null,this,null,We)},e.cb=function(){this.qBt.qRt(),this.URt.qRt()},e.zy=function(){this.ARt.zy(),this.sLt()},e.Jy=function(t){return!("ended"!==t.type||!this.YBt||!this.YBt._It(-1))&&(this.YBt.TIt().then(J),!0)},e.dLt=function(){return this.qBt.YRt},e.qy=function(){},e.Yy=function(){},e.Vpt=function(t){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lr.awrap(yY.wNt(t,this.wE,this.slt));case 2:if(!(i=e.sent).length){e.next=7;break}this.YBt.DIt(i),e.next=11;break;case 7:return"Ads could not be loaded.",this.slt.Zs(lz.ylt(new cz(oz.ADBLOCK,az.FILE_NOT_FOUND),"Ads could not be loaded.")),this.Slt?(this.wEt=new hf(n.ErrorCode.AD_BLOCKER_DETECTED,"Ads could not be loaded."),this.lEt=am(this.wEt),this.Zs(new xy(this.wEt))):this.Elt&&!this.OSt&&0===this.jBt.length&&this.lLt(),e.abrupt("return");case 11:this.bG=ty.Cg,this.Zs(new Ly(this.Xg,this.bG)),this.slt.Zs(new mY),this.Vlt.D_===this||this.Vlt.qg||this.YBt.SIt(this.fD.Xg),this.QBt!==RQ.NOT_INITIALISED&&this.QBt!==RQ.GBt||this.DD();case 16:case"end":return e.stop()}},null,this,null,We)},e.uLt=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.QBt!==RQ.zBt){n.next=2;break}return n.abrupt("return");case 2:if(this.nLt){n.next=21;break}if(this.nLt=!0,this.QBt=RQ.zBt,t=this.OSt,this.wLt(),!this.OSt){n.next=17;break}return n.next=11,Lr.awrap(this.OSt.pmt.KEt(this.slt));case 11:return this._Lt()||(this.nLt=!1),this.slt.Zs(new _Y(this.gLt(this.OSt))),n.next=15,Lr.awrap(this.yLt());case 15:n.next=21;break;case 17:null!=t&&t.pmt.nIt()&&this.slt.Zs(new Rq(this.gLt(t))),this.nLt=!1,this.QBt=RQ.VBt,this.lLt();case 21:case"end":return n.stop()}},null,this,null,We)},e.lLt=function(){this.Glt(),this.fD.qy(),this.fD.zg?this.fD.Zs(new Ry(this.fD.Xg)):this.Vlt.Ly()},e.wLt=function(){var t;if(this.OSt&&this._Lt())t=this.OSt.pmt;else{if(0===this.jBt.length)return;t=this.jBt.shift()}if(t){var n=t.Klt(!0);n?this.OSt=n:(this.OSt&&(this.YBt.CIt(this.OSt.pmt),this.OSt=void 0),this.OSt=void 0)}},e.yLt=function(){var t,n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(t=this.mLt())){i.next=13;break}if(this.OSt){i.next=4;break}return i.abrupt("return");case 4:return this.ZBt=t,this.kLt(this.OSt.Awt),this.pLt(xz.W_t),n=this.ZBt.Klt(),this.OSt.pmt.nIt()&&(this.URt.XRt(),1===this.OSt.pmt.qgt&&this.slt.Zs(new Eq(this.gLt(this.OSt)))),i.next=11,Lr.awrap(this.WRt(n));case 11:i.next=17;break;case 13:this.QBt=RQ.VBt,this.nLt=!1,this.OSt=void 0,this.uLt();case 17:case"end":return i.stop()}},null,this,null,We)},e.WRt=function(t){var n,i,e,r,s,u,o,a,h;return Lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!t){c.next=30;break}if(n=Boolean(t.owt),i=Boolean(t.fwt),e=Boolean(t.hwt),t.hwt)for(r=0,s=t.hwt.zwt;r<s.length;r++)u=s[r],n?this.qBt.VRt(u):i&&this.URt.VRt(u);if(o=this.OSt,!t.owt){c.next=14;break}return t.owt.Lwt=o,void 0!==o.okt.skipOffset&&(a=fW.Wmt(o.okt.skipOffset,t.owt.Vg))<t.owt.Vg&&(t.owt.z_t=a),this.URt.XRt(),this.zlt(),c.next=13,Lr.awrap(this.qBt.WRt(t.owt,t.mu,{width:this.fD.hm.offsetWidth,height:this.fD.hm.offsetHeight},t.vwt));case 13:n=!0;case 14:if(!t.fwt){c.next=21;break}return t.fwt.pwt[0].Lwt=o,void 0!==o.okt.skipOffset&&(t.fwt.pwt[0].Lwt.z_t=fW.Wmt(o.okt.skipOffset,this.fD.Vg)),n&&this.qBt.ZRt(),c.next=20,Lr.awrap(this.URt.WRt(t.fwt,t.mu,{width:this.fD.hm.offsetWidth,height:this.fD.hm.offsetHeight},t.vwt));case 20:i=!0;case 21:if(n&&(this.QBt=RQ.Hg,this.qBt.qy(),h=!(this.Olt&&0===this.Olt.timeOffset),this.iLt=h,this.ARt.xy(),this.qBt.Ly(),this.fD.xy(),this.fD.Yy(),this.zlt(),this.bG=ty.Pg,this.Zs(new Ly(this.Xg,ty.Pg)),this.qBt.SRt()),i&&(this.QBt=RQ.Hg,this.URt.qy(),this.URt.SRt()),(n||i||e)&&this.ALt(t.cwt),n||i){c.next=27;break}return c.next=27,Lr.awrap(this.bLt());case 27:!n&&i&&(this._Lt()||this.jBt.length>0?this.uLt():(this.lLt(),this.OSt=o)),c.next=36;break;case 30:if(null!==t){c.next=35;break}return c.next=33,Lr.awrap(this.bLt());case 33:c.next=36;break;case 35:this.vLt(!0);case 36:case"end":return c.stop()}},null,this,null,We)},e.bLt=function(){var t=this.ZBt;return this.WRt(t&&t.Klt())},e.vLt=function(t){this.pLt(xz.q_t),this.TLt(),this.QBt=RQ.VBt;var n=this.OSt&&this.OSt.pmt.Klt(!1);if(this.nLt=!1,n)t&&(this.QBt=RQ.VBt,this.uLt());else{if(this.Vlt.D_!==this)return;this.fD.qy(),!this.fD.zg&&t&&this.fD.Ly(),this.Glt()}},e.Glt=function(){this.SLt(),t.prototype.Glt.call(this)},e.SLt=function(){this.fD.zg&&(this.QBt=RQ.GBt),this.OSt&&(this.OSt.pmt.nIt()&&this.slt.Zs(new Rq(this.gLt(this.OSt))),this.YBt.CIt(this.OSt.pmt),this.OSt=void 0)},e.kLt=function(t){this.JBt=this.JBt.concat(t)},e.TLt=function(){this.JBt=[]},e.fLt=function(t){this.fD.hm.appendChild(t)},e.pLt=function(t){for(var n=0,i=this.JBt;n<i.length;n++){var e=i[n];e.Agt===t&&pz(e.eventURL)}},e.ALt=function(t){this.qBt.GIt(xz.vgt);for(var n=0;n<t.length;n++){var i=t[n];pz(i)}},e._Lt=function(){if(!this.OSt)return!1;var t=this.mLt();if(t)for(;t.Klt();)if(t.jlt.owt)return!0;return!1},e.mLt=function(){if(this.OSt)return FW.rSt(this.OSt)},e.gLt=function(t){var n=new HW(this,this.fD);return new XW(t,n)},e.KRt=function(){return this.tLt||(this.tLt=new HW(this,this.fD)),this.tLt},e.jy=function(){return this.ARt.jy()},e.Zy=function(){return this.ARt.Zy()},e.hlt=function(t){this.YBt.hlt(t)},e.Il=function(){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(t.prototype.Il.call(this));case 2:return this.fD.nu("play",this.sLt),this.Vlt.Ky(this),this.slt.XC(this.qBt.slt),this.slt.XC(this.URt.slt),this.slt.XC(this.YBt),this.qBt.Il(),this.URt.Il(),n.next=11,Lr.awrap(this.ARt.Il());case 11:case"end":return n.stop()}},null,this,null,We)},b(i,[{key:"JRt",get:function(){return this.OSt}},{key:"elt",get:function(){return i.elt}},{key:"Xg",get:function(){return this.qBt.YRt?this.qBt.Xg:this.fD.Xg},set:function(t){}},{key:"Vg",get:function(){return this.qBt.Vg}},{key:"hm",get:function(){return this.fD.hm}},{key:"zg",get:function(){return this.qBt.zg}},{key:"mu",get:function(){return this.lEt}},{key:"Gg",get:function(){return this.wEt}},{key:"Wg",get:function(){return this.qBt.Wg},set:function(t){this.Wg!==t&&(this.qBt.Wg=t,this.Zs(new Oy(this.Xg,this.Jg)))}},{key:"ym",get:function(){return!0}},{key:"qg",get:function(){return this.qBt.qg}},{key:"Q_",get:function(){return this.bG}},{key:"Am",get:function(){return gS.dC().qN()}},{key:"Qg",get:function(){return 0}},{key:"Zg",get:function(){return 0}},{key:"Jg",get:function(){return this.qBt.Jg},set:function(t){this.Jg!==t&&(this.qBt.Jg=t,this.Zs(new Oy(this.Xg,this.Jg)))}},{key:"Olt",get:function(){return this.OSt?this.gLt(this.OSt).KTt():null}},{key:"Clt",get:function(){if(!this.OSt)return[];var t=[];if(this.qBt.owt){var n=this.qBt.owt;t.push(new QW(n,this.qBt.$Rt,this.OSt,this.KRt(),this.qBt.MRt).KTt())}if(this.URt.awt){var i=this.URt.awt.pwt[0];i&&t.push(new jW(i,this.URt.$Rt,this.OSt,this.KRt(),this.URt.MRt).KTt())}return t}},{key:"Plt",get:function(){for(var t=this.YBt?this.jBt.concat(this.YBt.Plt.filter(function(t){return!t.tIt()})).map(function(t){return t.uSt}):[],n=[],i=0;i<t.length;i++)for(var e=t[i],r=0;r<e.length;r++){var s=e[r];n=n.concat(this.$Bt.eSt(s))}return n}},{key:"Blt",get:function(){var t=this;return this.YBt.Plt.map(function(n){for(var i=[],e=0,r=0,s=n.uSt;r<s.length;r++){var u=s[r];i=i.concat(t.$Bt.eSt(u))}return i.forEach(function(t){t.duration&&(e+=t.duration)}),{timeOffset:n.Rp,maxDuration:e,maxRemainingDuration:e,ads:i}})}}],[{key:"elt",get:function(){return BW.VTt}}]),i}(kz),OQ=function(){function t(){}var n=t.prototype;return n.aO=function(t){return t&&("string"!=typeof t.integration||t.integration===HS.DEFAULT||t.integration===HS.THEO)},n.nlt=function(t,n,i,e,r,s,u,o,a,h){var c=new AS(a,e,o,u,h,s);return new CQ(t,c,n,i,e,u,o)},n.Oe=function(t,n,i,e){i.NSt(t,n,e)},n.$O=function(t){var n=_W(t.sources);if(n){var i={integration:HS.THEO,sources:n};"vast"===i.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===i.sources.type&&void 0!==t.timeOffset&&ot("property timeOffset will be ignored for vmap ad sources");var e=yW(t.timeOffset);void 0!==e&&(i.timeOffset=e);var r=yW(t.skipOffset);return void 0!==r&&(i.skipOffset=r),i}},b(t,[{key:"tlt",get:function(){return CQ.elt}}]),t}();KS.Yn.hO(new OQ);var PQ=function(){function t(t,n){this.fEt=void 0,this.OIt=void 0,this.OJ=void 0,this.ELt=void 0,this.OJ=t;var i,e=s.createElement("div");e.className="theoplayer-ima-wrapper",hr(e),e.style.zIndex="10",M.dn&&(i="mousedown",e.addEventListener(i,sr)),n.appendChild(e);var r=s.createElement("div");r.className="theoplayer-ima",r.style.height="100%",this.ELt=r,e.appendChild(r),this.OIt=e}var n=t.prototype;return n.gx=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.fEt=new google.ima.AdDisplayContainer(this.ELt,this.OJ),this.fEt.initialize();case 2:case"end":return t.stop()}},null,this,null,We)},n.ILt=function(t){"linear"===t?this.OIt.style.marginTop="0px":"nonlinear"===t&&(this.OIt.style.marginTop="-45px")},n.qy=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.OIt.style.opacity="1",this.OIt.style.pointerEvents="";case 2:case"end":return t.stop()}},null,this,null,We)},n.Yy=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.OIt.style.opacity="0",this.OIt.style.pointerEvents="none";case 2:case"end":return t.stop()}},null,this,null,We)},n.xs=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:null==(t=this.fEt)||t.destroy(),this.fEt=void 0;case 2:case"end":return n.stop()}},null,this,null,We)},b(t,[{key:"WIt",get:function(){return this.OIt}},{key:"RLt",get:function(){return this.ELt.offsetHeight}},{key:"NLt",get:function(){return this.ELt.offsetWidth}},{key:"DLt",get:function(){return this.fEt}}]),t}();function BQ(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var LQ=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Lbt=void 0,r.fEt=void 0,r.Xq=void 0,r.CLt=function(t){t.getAd().isLinear()?r.fEt.ILt("linear"):r.fEt.ILt("nonlinear")},r.OLt=function(){r.Lbt.resize(r.fEt.NLt,r.fEt.RLt,google.ima.ViewMode.NORMAL)},r.forwardAdEventListener=function(t){var n,i,e=t.getAd(),s=(n=t.type,((i={})[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED]=TW.SAt,i[google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED]=TW.EAt,i[google.ima.AdEvent.Type.CLICK]=TW.IAt,i[google.ima.AdEvent.Type.DURATION_CHANGE]=TW.gf,i[google.ima.AdEvent.Type.EXPANDED_CHANGED]=TW.RAt,i[google.ima.AdEvent.Type.STARTED]=TW.NAt,i[google.ima.AdEvent.Type.IMPRESSION]=TW.DAt,i[google.ima.AdEvent.Type.PAUSED]=TW.py,i[google.ima.AdEvent.Type.RESUMED]=TW.CAt,i[google.ima.AdEvent.Type.AD_PROGRESS]=TW.mAt,i[google.ima.AdEvent.Type.AD_BUFFERING]=TW.OAt,i[google.ima.AdEvent.Type.FIRST_QUARTILE]=TW.PAt,i[google.ima.AdEvent.Type.MIDPOINT]=TW.ugt,i[google.ima.AdEvent.Type.THIRD_QUARTILE]=TW.BAt,i[google.ima.AdEvent.Type.COMPLETE]=TW.ogt,i[google.ima.AdEvent.Type.USER_CLOSE]=TW.LAt,i[google.ima.AdEvent.Type.LINEAR_CHANGED]=TW.xAt,i[google.ima.AdEvent.Type.LOADED]=TW.MAt,i[google.ima.AdEvent.Type.AD_CAN_PLAY]=TW.UAt,i[google.ima.AdEvent.Type.AD_METADATA]=TW.FAt,i[google.ima.AdEvent.Type.AD_BREAK_READY]=TW.HAt,i[google.ima.AdEvent.Type.INTERACTION]=TW.XAt,i[google.ima.AdEvent.Type.ALL_ADS_COMPLETED]=TW.VAt,i[google.ima.AdEvent.Type.SKIPPED]=TW.zAt,i[google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED]=TW.GAt,i[google.ima.AdEvent.Type.LOG]=TW.WAt,i[google.ima.AdEvent.Type.VIEWABLE_IMPRESSION]=TW.qAt,i[google.ima.AdEvent.Type.VOLUME_CHANGED]=TW.YAt,i[google.ima.AdEvent.Type.VOLUME_MUTED]=TW.jAt,i)[n]),u={type:s,date:new Date,wlt:e?NW(e):void 0,Xbt:DW(s,t.getAdData())};r.Zs(u)},r.forwardAdErrorEventListener=function(t){r.Zs({date:new Date,wlt:void 0,type:SW.QAt,Xbt:{Gbt:PW(t.getError())}})},r.Lbt=n,r.fEt=i,r.Xq=e,r.Xq.Js("TB",r.OLt),r.Lbt.init(r.fEt.NLt,r.fEt.RLt,google.ima.ViewMode.NORMAL),r.Lbt.addEventListener(google.ima.AdEvent.Type.LOADED,r.CLt),r.Lbt.addEventListener(BQ(),r.forwardAdEventListener),r.Lbt.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r.forwardAdErrorEventListener),r}S(n,t);var i=n.prototype;return i.rM=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:null==(n=this.Lbt)||n.setVolume(t);case 1:case"end":return i.stop()}},null,this,null,We)},i.eM=function(){return this.Lbt.getVolume()},i.HTt=function(){return this.Lbt.getRemainingTime()},i.xs=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Xq.nu("TB",this.OLt),this.Lbt.removeEventListener(google.ima.AdEvent.Type.LOADED,this.CLt),this.Lbt.removeEventListener(BQ(),this.forwardAdEventListener),this.Lbt.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener),this.Lbt.destroy();case 5:case"end":return t.stop()}},null,this,null,We)},i.DD=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Lbt.start();case 1:case"end":return t.stop()}},null,this,null,We)},i.OEt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Lbt.resume();case 1:case"end":return t.stop()}},null,this,null,We)},i.xy=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Lbt.pause();case 1:case"end":return t.stop()}},null,this,null,We)},i.cb=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Lbt.skip();case 1:case"end":return t.stop()}},null,this,null,We)},i.My=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Lbt.stop();case 1:case"end":return t.stop()}},null,this,null,We)},i.Vbt=function(){var t=this.Lbt.getCurrentAd();if(t)return NW(t)},i.xEt=function(){return this.Lbt.getCuePoints()},i.GEt=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.Lbt.updateAdsRenderingSettings(UQ(t));case 1:case"end":return n.stop()}},null,this,null,We)},n}(Au),xQ=function(t){function n(n,i){var e;return(e=t.call(this,"NEt")||this).PLt=void 0,e.OIt=void 0,e.PLt=n,e.OIt=i,e}return S(n,t),b(n,[{key:"BLt",get:function(){return this.PLt}},{key:"WIt",get:function(){return this.OIt}}]),n}(Tu),MQ=function(t){function n(n,i){var e;return(e=t.call(this)||this).cEt=void 0,e.Xq=void 0,e.LLt=void 0,e.xLt=void 0,e.MLt=void 0,e.ULt=void 0,e.onAdsManagerLoadedListener=function(t){if(e.MLt&&e.ULt&&e.xLt){var n,i=UQ(e.ULt),r=e.MLt,s=t.getAdsManager({get currentTime(){return r.Xg},get duration(){return r.Vg}},i),u=new LQ(s,e.LLt,e.Xq);e.Zs(new xQ(s,e.LLt.WIt)),null==(n=e.xLt)||n.Wu(u),e.xLt=void 0}},e.onAdsManagerErrorListener=function(t){var n,i={wu:t.getError().getMessage(),bAt:t.getError().getVastErrorCode(),llt:t.getError().getErrorCode(),vs:CW(t.getError().getType()),TAt:void 0};null==(n=e.xLt)||n.Yu(i),e.xLt=void 0},e.Xq=i,e.LLt=n,e}S(n,t);var i=n.prototype;return i.PEt=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:null==(t=this.cEt)||t.contentComplete();case 1:case"end":return n.stop()}},null,this,null,We)},i.Vpt=function(t,n,i){var e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.xLt){r.next=2;break}throw new v("Only one ImaAdsRequest can be made at a time.");case 2:if(this.LLt.DLt){r.next=4;break}throw new v("AdDisplayContainer is not initialized.");case 4:return this.cEt=new google.ima.AdsLoader(this.LLt.DLt),this.cEt.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.cEt.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.xLt=new Ko,this.MLt=n,this.ULt=i,e=new google.ima.AdsRequest,t.Vkt?e.adTagUrl=t.Vkt:t.zkt&&(e.adsResponse=t.zkt),e.linearAdSlotWidth=t.xkt,e.linearAdSlotHeight=t.Mkt,e.nonLinearAdSlotWidth=t.Ukt,e.nonLinearAdSlotHeight=t.Fkt,e.setAdWillAutoPlay(t.Hkt),e.setAdWillPlayMuted(t.Xkt),t.Gkt&&(e.omidAccessModeRules=t.Gkt),this.cEt.requestAds(e),r.abrupt("return",this.xLt.Xu);case 21:case"end":return r.stop()}},null,this,null,We)},i.xs=function(){var t,n,i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:null==(t=this.cEt)||t.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),null==(n=this.cEt)||n.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),null==(i=this.cEt)||i.destroy(),this.cEt=void 0,null==(e=this.xLt)||e.Yu("AdsLoader destroyed"),this.xLt=void 0;case 6:case"end":return r.stop()}},null,this,null,We)},n}(Au);function UQ(t){var n=new google.ima.AdsRenderingSettings;return n.enablePreloading=t.XEt,t.cAt&&(n.uiElements=t.cAt),n.mimeTypes=t.HEt,void 0!==t.zEt&&(n.playAdsAfterTime=t.zEt),void 0!==t.VEt&&(n.loadVideoTimeout=t.VEt),void 0!==t.ESt&&(n.bitrate=t.ESt),void 0!==t.zEt&&(n.playAdsAfterTime=t.zEt),n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n}var FQ=function(t){function n(n){var i;return(i=t.call(this)||this).FLt=void 0,i.yD=void 0,i.yD=n,i.FLt=i.yD.Xg,i.yD.Js("timeupdate",function(){i.yD.jg||(i.FLt=i.yD.Xg),i.Zs(new Iy(i.Xg,void 0))}),i}return S(n,t),n.prototype.A_=function(){this.FLt=0},b(n,[{key:"Xg",get:function(){return this.yD.jg?this.FLt:this.yD.Xg}},{key:"Vg",get:function(){return this.yD.Vg}},{key:"Wg",get:function(){return this.yD.Wg}},{key:"Jg",get:function(){return this.yD.Jg}}]),n}(Au);Hq.Yn.registerWebImaAdPlayerConstructor(function(t,n,i,e,r){Mq(e);var s=Uq(e)?t.jy():void 0,u=new PQ(s,t.hm),o=new MQ(u,i),a=new FQ(t);return new Fq(t,n,i,e,r,u,o,a)});var HQ=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},XQ=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),VQ={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(VQ,VQ.exports);var zQ=VQ.exports;function GQ(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function WQ(t){return JSON.stringify(t,VQ.exports.getSerialize(GQ))}var qQ={},YQ={};!function(t){l.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(YQ);var jQ={};!function(t){l.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(jQ);var QQ={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}l.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(QQ),l.defineProperty(qQ,"__esModule",{value:!0});var ZQ=YQ.isS,JQ=YQ.isChar,KQ=YQ.isNameStartChar,$Q=YQ.isNameChar,tZ=YQ.S_LIST,nZ=YQ.NAME_RE,iZ=jQ.isChar,eZ=QQ.isNCNameStartChar,rZ=QQ.isNCNameChar,sZ=QQ.NC_NAME_RE;const uZ="http://www.w3.org/XML/1998/namespace",oZ="http://www.w3.org/2000/xmlns/",aZ={__proto__:null,xml:uZ,xmlns:oZ},hZ={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},cZ=-1,fZ=-2,vZ=0,dZ=1,lZ=2,wZ=3,_Z=4,gZ=5,yZ=6,mZ=7,kZ=8,pZ=9,AZ=10,bZ=11,TZ=12,SZ=13,EZ=14,IZ=15,RZ=16,NZ=17,DZ=18,CZ=19,OZ=20,PZ=21,BZ=22,LZ=23,xZ=24,MZ=25,UZ=26,FZ=27,HZ=28,XZ=29,VZ=30,zZ=31,GZ=32,WZ=33,qZ=34,YZ=35,jZ=36,QZ=37,ZZ=38,JZ=39,KZ=40,$Z=41,tJ=42,nJ=43,iJ=44,eJ=9,rJ=10,sJ=13,uJ=32,oJ=33,aJ=38,hJ=45,cJ=47,fJ=59,vJ=60,dJ=61,lJ=62,wJ=63,_J=91,gJ=93,yJ=133,mJ=8232,kJ=t=>34===t||39===t,pJ=[34,39],AJ=[...pJ,_J,lJ],bJ=[...pJ,vJ,gJ],TJ=[dJ,wJ,...tZ],SJ=[...tZ,lJ,aJ,vJ];function EJ(t,n,i){switch(n){case"xml":i!==uZ&&t.fail(`xml prefix must be bound to ${uZ}.`);break;case"xmlns":i!==oZ&&t.fail(`xmlns prefix must be bound to ${oZ}.`)}switch(i){case oZ:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${oZ}.`);break;case uZ:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const IJ=t=>sZ.test(t),RJ=t=>nZ.test(t),NJ=0,DJ=1,CJ=2;qQ.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const OJ={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var PJ=qQ.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=eZ,this.nameCheck=rZ,this.isName=IJ,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=l.assign({__proto__:null},aZ);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of l.keys(n))EJ(t,i,n[i])}(this,t),l.assign(this.ns,t))}else this.nameStartCheck=KQ,this.nameCheck=$Q,this.isName=RJ,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._o}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=NJ,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?SZ:vZ,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this._o=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=l.create(hZ),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[OJ[t]]=n}off(t){this[OJ[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===sJ||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return cZ;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=uJ||i===eJ)return i;switch(i){case rJ:return this.line++,this.column=0,this.positionAtNewLine=this.position,rJ;case sJ:return t.charCodeAt(n+1)===rJ&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,fZ;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return cZ;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==mJ||i===eJ)return i;switch(i){case rJ:return this.line++,this.column=0,this.positionAtNewLine=this.position,rJ;case sJ:{const i=t.charCodeAt(n+1);i!==rJ&&i!==yJ||(this.i=n+2)}case yJ:case mJ:return this.line++,this.column=0,this.positionAtNewLine=this.position,fZ;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===fZ?rJ:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===fZ,s=r?rJ:e;if(s===cZ||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case fZ:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=rJ;break;case cZ:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===cZ)return this.name+=t.slice(n),cZ;if(!$Q(i))return this.name+=t.slice(n,this.prevI),i===fZ?rJ:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===cZ||!ZQ(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=JQ,this.getCode=this.getCode10):(this.isChar=iZ,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=dZ}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case vJ:if(this.state=IZ,0!==this.text.length)throw new v("no-empty text at start");break;case cZ:break;default:this.unget(),this.state=SZ,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(AJ);switch(n){case lJ:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=SZ,this.doctype=!0;break;case cZ:break;default:this.text+=String.fromCodePoint(n),n===_J?this.state=_Z:kJ(n)&&(this.state=wZ,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=lZ)}sDTD(){const t=this.captureTo(bJ);t!==cZ&&(this.text+=String.fromCodePoint(t),t===gJ?this.state=lZ:t===vJ?this.state=yZ:kJ(t)&&(this.state=gZ,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=_Z,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case oJ:this.state=mZ,this.openWakaBang="";break;case wJ:this.state=bZ;break;default:this.state=_Z}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?kZ:_Z,this.openWakaBang="")}sDTDComment(){this.captureToChar(hJ)&&(this.text+="-",this.state=pZ)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===hJ?AZ:kZ}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===lJ?this.state=_Z:(this.fail("malformed comment."),this.state=kZ)}sDTDPI(){this.captureToChar(wJ)&&(this.text+="?",this.state=TZ)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===lJ&&(this.state=_Z)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case fZ:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case fJ:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===SZ&&void 0===this.textHandler||(this.text+=r);break t}case cZ:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(KQ(t))this.state=qZ,this.unget(),this.xmlDeclPossible=!1;else switch(t){case cJ:this.state=nJ,this.xmlDeclPossible=!1;break;case oJ:this.state=RZ,this.openWakaBang="",this.xmlDeclPossible=!1;break;case wJ:this.state=LZ;break;default:this.fail("disallowed character in tag name"),this.state=SZ,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=OZ,this.openWakaBang="";break;case"--":this.state=NZ,this.openWakaBang="";break;case"DOCTYPE":this.state=lZ,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(hJ)&&(this.state=DZ)}sCommentEnding(){var t;const n=this.getCodeNorm();n===hJ?(this.state=CZ,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=NZ)}sCommentEnded(){const t=this.getCodeNorm();t!==lJ?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=NZ):this.state=SZ}sCData(){this.captureToChar(gJ)&&(this.state=PZ)}sCDataEnding(){const t=this.getCodeNorm();t===gJ?this.state=BZ:(this.text+=`]${String.fromCodePoint(t)}`,this.state=OZ)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case lJ:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=SZ;break;case gJ:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=OZ}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=xZ):t===wJ||ZQ(t)?(this.fail("processing instruction without a target."),this.state=t===wJ?UZ:MZ):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=xZ)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===cZ)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===wJ;e||ZQ(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?WZ:FZ):this.state=e?UZ:MZ:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===wJ?this.state=UZ:ZQ(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(wJ)&&(this.state=UZ)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===lJ){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=SZ}else n===wJ?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=MZ);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==wJ?t!==cZ&&(this.state=HZ,this.name=String.fromCodePoint(t)):this.state=WZ}sXMLDeclName(){const t=this.captureTo(TJ);if(t===wJ)return this.state=WZ,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(ZQ(t)||t===dJ){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===dJ?VZ:XZ}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===wJ)return this.state=WZ,void this.fail("XML declaration is incomplete.");ZQ(t)||(t!==dJ&&this.fail("value required."),this.state=VZ)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===wJ)return this.state=WZ,void this.fail("XML declaration is incomplete.");ZQ(t)||(kJ(t)?this.q=t:(this.fail("value must be quoted."),this.q=uJ),this.state=zZ)}sXMLDeclValue(){const t=this.captureTo([this.q,wJ]);if(t===wJ)return this.state=WZ,this.text="",void this.fail("XML declaration is incomplete.");if(t===cZ)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=GZ}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==wJ?(ZQ(t)||(this.fail("whitespace required."),this.unget()),this.state=FZ):this.state=WZ}sXMLDeclEnding(){var t;this.getCodeNorm()===lJ?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=SZ):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===cZ)return;const i=this.tag={name:this.name,attributes:l.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=l.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case lJ:this.openTag();break;case cJ:this.state=YZ;break;default:ZQ(n)||this.fail("disallowed character in tag name."),this.state=jZ}}sOpenTagSlash(){this.getCode()===lJ?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=jZ)}sAttrib(){const t=this.skipSpaces();t!==cZ&&(KQ(t)?(this.unget(),this.state=QZ):t===lJ?this.openTag():t===cJ?this.state=YZ:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===dJ?this.state=JZ:ZQ(t)?this.state=ZZ:t===lJ?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==cZ&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case cZ:return;case dJ:this.state=JZ;break;default:this.fail("attribute without value."),this.text="",this.name="",t===lJ?this.openTag():KQ(t)?(this.unget(),this.state=QZ):(this.fail("disallowed character in attribute name."),this.state=jZ)}}sAttribValue(){const t=this.getCodeNorm();kJ(t)?(this.q=t,this.state=KZ):ZQ(t)||(this.fail("unquoted attribute value."),this.state=tJ,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=$Z);case aJ:return this.text+=n.slice(i,this.prevI),this.state=EZ,void(this.entityReturnState=KZ);case rJ:case fZ:case eJ:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case vJ:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case cZ:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();ZQ(t)?this.state=jZ:t===lJ?this.openTag():t===cJ?this.state=YZ:KQ(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=QZ):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(SJ);switch(t){case aJ:this.state=EZ,this.entityReturnState=tJ;break;case vJ:this.fail("disallowed character.");break;case cZ:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===lJ?this.openTag():this.state=jZ}}sCloseTag(){const t=this.captureNameChars();t===lJ?this.closeTag():ZQ(t)?this.state=iJ:t!==cZ&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case lJ:this.closeTag();break;case cZ:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case vJ:if(this.state=IZ,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=NJ;break t;case aJ:this.state=EZ,this.entityReturnState=SZ,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=NJ;break t;case gJ:switch(n){case NJ:n=DJ;break;case DJ:n=CJ;break;case CJ:break;default:throw new v("impossible state")}break;case lJ:n===CJ&&this.fail('the string "]]>" is disallowed in char data.'),n=NJ;break;case fZ:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=NJ;break;case cZ:void 0!==e&&(this.text+=i.slice(t));break t;default:n=NJ}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case vJ:if(this.state=IZ,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case aJ:this.state=EZ,this.entityReturnState=SZ,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case fZ:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case cZ:void 0!==i&&(this.text+=n.slice(t));break t;default:ZQ(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,EJ(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,EJ(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==vZ&&this.state!==SZ&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this._o=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?oZ:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=SZ,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=SZ,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=SZ,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=_(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=_(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},BJ=function(){function t(){}return t.prototype.oi=function(t){var n=new PJ({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new XJ,e=[i];function r(t){e[e.length-1].Ci(t)}return n.on("text",function(t){e.length>1&&r(new FJ(t))}),n.on("cdata",function(t){r(new HJ(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new MJ({wi:n,gi:""===i?void 0:i,HLt:""===s?void 0:s}),o=t.attributes,a=0,h=l.keys(o);a<h.length;a++){var c=o[h[a]],f=c.prefix,v=c.local,d=c.uri,w=c.value,_=new LJ({wi:v,Ti:w,gi:""===d?void 0:d,HLt:""===f?void 0:f});u.XLt(_)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new nn(t)}),n.write(t).close(),i},t}(),LJ=function(){function t(t){this.VLt=void 0,this.zLt=void 0,this.GLt=void 0,this.pe=void 0,this.VLt=t.wi,this.pe=t.Ti,this.zLt=t.gi,this.GLt=t.HLt}var n=t.prototype;return n.ci=function(t){return this===t||!!zJ(this,t)&&(this.VLt===t.VLt&&this.zLt===t.zLt&&this.GLt===t.GLt&&this.pe===t.pe)},n.di=function(){return new t({wi:this.wi,Ti:this.Ti,gi:this.gi,HLt:this.Ai})},b(t,[{key:"Jn",get:function(){return Yt.ni}},{key:"wi",get:function(){return this.VLt}},{key:"_i",get:function(){return void 0===this.GLt?this.VLt:this.GLt+":"+this.VLt}},{key:"gi",get:function(){return this.zLt}},{key:"Ai",get:function(){return this.GLt}},{key:"Ti",get:function(){return this.pe}}]),t}(),xJ=function(){function t(){this.Ei=[]}var n=t.prototype;return n.Ii=function(t){return this.Ei.filter(function(n){return VJ(n)&&n.Ni===t})},n.Di=function(t,n){return this.Ei.filter(function(i){return VJ(i)&&i.wi===n&&i.gi===t})},n.Ci=function(t){this.Ei.push(t)},b(t,[{key:"Ri",get:function(){return this.Ei}},{key:"Pi",get:function(){return this.Ei.filter(VJ)}}]),t}(),MJ=function(t){function n(n){var i;return(i=t.call(this)||this).VLt=void 0,i.zLt=void 0,i.GLt=void 0,i.WLt=[],i.VLt=n.wi,i.zLt=n.gi,i.GLt=n.HLt,i}S(n,t);var i=n.prototype;return i.qLt=function(t){for(var n=0,i=this.Ri;n<i.length;n++){var e=i[n];VJ(e)?e.qLt(t):t.push(e.Vi)}},i.Li=function(t,n){for(var i=0,e=this.WLt;i<e.length;i++){var r=e[i];if(r.wi===n&&r.gi===t)return r.Ti}},i.Bi=function(t){for(var n=0,i=this.WLt;n<i.length;n++){var e=i[n];if(e._i===t)return e.Ti}},i.XLt=function(t){this.WLt.push(t)},i.xi=function(t){for(var n=0;n<this.WLt.length;n++)if(this.WLt[n]._i===t)return void this.WLt.splice(n,1)},i.Mi=function(t,n){for(var i=0;i<this.WLt.length;i++)if(this.WLt[i].wi===n&&this.WLt[i].gi===t)return void this.WLt.splice(i,1)},i.Ui=function(t,n){this.xi(t),this.XLt(new LJ({wi:t,Ti:n}))},i.Fi=function(t,n,i){this.xi(n);var e=n.split(":");this.XLt(new LJ({wi:e[e.length-1],Ti:i,gi:t,HLt:e.length>1?e[0]:void 0}))},i.di=function(t){var i=new n({wi:this.wi,gi:this.gi,HLt:this.Ai});return this.Hi.forEach(function(t){return i.XLt(t.di())}),t&&this.Ri.forEach(function(n){return i.Ci(n.di(t))}),i},i.ci=function(t){return this===t||!!zJ(this,t)&&(this.VLt===t.VLt&&this.GLt===t.GLt&&this.zLt===t.zLt&&(GJ(this.Hi,t.Hi)&&GJ(this.Ri,t.Ri)))},b(n,[{key:"Jn",get:function(){return Yt.Kn}},{key:"Hi",get:function(){return this.WLt}},{key:"wi",get:function(){return this.VLt}},{key:"gi",get:function(){return this.zLt}},{key:"Ai",get:function(){return this.GLt}},{key:"Ni",get:function(){return void 0===this.GLt?this.VLt:this.GLt+":"+this.VLt}},{key:"Xi",get:function(){var t=[];return this.qLt(t),t.join("")}}]),n}(xJ),UJ=function(){function t(t){this.qi=void 0,this.qi=t}return b(t,[{key:"Vi",get:function(){return this.qi}}]),t}(),FJ=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.di=function(){return new n(this.Vi)},i.ci=function(t){return this===t||!!zJ(this,t)&&this.Vi===t.Vi},b(n,[{key:"Jn",get:function(){return Yt.$n}}]),n}(UJ),HJ=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.di=function(){return new n(this.Vi)},i.ci=function(t){return this===t||!!zJ(this,t)&&this.Vi===t.Vi},b(n,[{key:"Jn",get:function(){return Yt.ei}}]),n}(UJ),XJ=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.di=function(t){var i=new n;return t&&this.Ri.forEach(function(n){return i.Ci(n.di(t))}),i},i.ci=function(t){return this===t||!!zJ(this,t)&&GJ(this.Ri,t.Ri)},b(n,[{key:"Jn",get:function(){return Yt.ri}},{key:"zi",get:function(){return this.Pi[0]}}]),n}(xJ);function VJ(t){return Zt(t)}function zJ(t,n){return t.Jn===n.Jn}function GJ(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ci(n[i]))return!1;return!0}var WJ,qJ=["adBreak"],YJ=["adBreak"];function jJ(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:xr({},t,{adBreak:xr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,QA(t,qJ)})})})}function QJ(t){return void 0===t.ads?t:xr({},t,{ads:t.ads.map(function(t){return t.adBreak,QA(t,YJ)})})}function ZJ(t){return"string"==typeof t.date?new Date(t.date):t.date}function JJ(t){var n;return t.cue.track?(n=$J(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=$J(t.cue,""),n}function KJ(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&l.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=l.entries(i);return l.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function $J(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new BJ).oi(e.firstChild.outerHTML).zi.Hi.forEach(function(t){r[t.wi]=t.Ti}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(h=o)&&null!==h){var a=tK(o);s[u]={type:WJ.YLt,value:a}}else iK(o)?s[u]={type:WJ.Qmt,value:o}:s[u]={type:WJ.EQ,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=tK(t.scte35Cmd),i.scte35Out=tK(t.scte35Out),i.scte35In=tK(t.scte35In),i.customAttributes=s}var h}(),i}function tK(t){if(void 0!==t)return Xu(t)}function nK(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push($J(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push($J(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function iK(t){return"number"==typeof t}!function(t){t.EQ="daterange-ca-type_string",t.Qmt="daterange-ca-type_number",t.YLt="daterange-ca-type_arraybuffer"}(WJ||(WJ={}));var eK={cue:function(t){var n={};switch(n.date=ZJ(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=JJ(t)}return n},textTrack:function(t){var n={};switch(n.date=ZJ(t),n.type=t.type,t.type){case"addcue":var i=t.cue;oK().register(i);var e=uK()[aK()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=JJ(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push($J(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:nK(t.track),date:ZJ(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=oK();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=ZJ(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Nf.Vf:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=xr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=nK(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=QJ(t.ad);break;case"adloaded":case"adimpression":n.ad=jJ(t.ad);break;case"adskip":n.ad=jJ(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.vlt&&(n.vlt=t.vlt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=jJ(t.ad)}return KJ(n)},minimizeCueHelper:function(t){var n={};return n.date=ZJ(t),n.type=t.type,n.cue=JJ(t),n.track={uid:t.cue.track.uid},n},adReplacer:jJ,adBreakReplacer:QJ,removeCircularReferences:KJ},rK=function(){this.stringify=WQ,this.minimize=eK};function sK(){return le.self}function uK(){return sK().THEOplayerBridge}function oK(){return sK().THEOCueMirrorMap}function aK(){return sK().THEOplayerGlobalID}function hK(){var t=sK();if(t.THEOplayerBridge){var n=new HQ;t.THEOplayerBridge=_g(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new HQ;t.THEOplayerUtils||(t.THEOplayerUtils=new rK),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new XQ)}hK();var cK,fK=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return S(n,t),n}(Tu),vK=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Zs(new fK(t,n))},i.addEventListener=function(t,n){this.Js(t,n)},i.removeEventListener=function(t,n){this.nu(t,n)},n}(Wg),dK=function(t){function n(n,i){var e;return(e=t.call(this)||this).jLt=void 0,e.QLt=void 0,e.ZLt=function(t){e.jLt.cJ("THEOplayerABRSetTargetBuffer",t.tx),e.Zs(t)},e.JLt=function(t){e.jLt.cJ("THEOplayerABRSetStrategy",t.ix),e.Zs(t)},e.jLt=n,e.QLt=i,e.QLt.Js("nx",e.ZLt),e.QLt.Js("ex",e.JLt),e}return S(n,t),n.prototype.yx=function(t){return this.QLt.yx(t)},b(n,[{key:"kx",get:function(){var t;switch(this.ix.type){case cR.PERFORMANCE:return 1;case cR.QUALITY:return 0;case cR.BANDWIDTH:return null!=(t=this.ix.metadata)&&t.bitrate&&!y(this.ix.metadata.bitrate)?this.ix.metadata.bitrate:0;default:return 0}}},{key:"Yw",get:function(){return this.QLt.Yw}},{key:"ix",get:function(){return this.QLt.ix},set:function(t){this.QLt.ix=t}},{key:"tx",get:function(){return this.QLt.tx},set:function(t){this.QLt.tx=t}},{key:"mx",get:function(){return this.QLt.mx}},{key:"sx",get:function(){return this.QLt.sx},set:function(t){this.QLt.sx=t}},{key:"ox",get:function(){return this.QLt.ox}},{key:"QL",get:function(){return this.QLt.QL}}]),n}(Au),lK=function(){function t(t,n,i){this.Pc=void 0,this.As=void 0,this.Gc=void 0,this.ec=void 0,this.Pc=t,this.As=i,this.Gc=n}var n=t.prototype;return n.pE=function(t){throw new v("Not implemented yet.")},n.DF=function(t,n){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Lr.awrap(this.As.Es(t.ds,n));case 2:return i=r.sent,r.next=5,Lr.awrap(i.lc());case 5:return e=r.sent,r.next=8,Lr.awrap(this.CF(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,We)},n.OF=function(t){return!1},n.PF=function(t){return We.resolve(void 0)},n.xs=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lr.awrap(this.CF(void 0));case 2:case"end":return t.stop()}},null,this,null,We)},n.CF=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.LF(t),i.next=3,Lr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,We)},n.LF=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.ec)){i.next=5;break}return i.next=4,Lr.awrap(n.fc(this.Gc));case 4:this.ec=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Lr.awrap(t.cc(this.Gc));case 8:this.ec=t;case 9:case"end":return i.stop()}},null,this,null,We)},n.yE=function(t,n,i){throw new v("Not implemented yet.")},b(t,[{key:"uc",get:function(){return this.Pc}},{key:"pm",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"Am",get:function(){return new gS([0,1/0])}},{key:"Py",get:function(){throw new v("Not implemented yet.")}},{key:"KLt",get:function(){throw new v("Not implemented yet")}},{key:"Oy",get:function(){throw new v("Not implemented yet.")}},{key:"$Lt",get:function(){throw new v("Not implemented yet")}},{key:"txt",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.nxt="webkitneedkey",t.ixt="webkitkeymessage",t.ext="webkitkeyerror",t.rxt="webkitkeyflowdone"}(cK||(cK={}));var wK=function(t){function n(n,i){var e;return(e=t.call(this,cK.nxt)||this).initData=n,e.sessionId=i,e}return S(n,t),n}(Tu),_K=function(t){function n(n,i){var e;return(e=t.call(this,cK.ixt)||this).message=n,e.destinationURL=i,e}return S(n,t),n}(Tu),gK=function(t){function n(){return t.call(this,cK.ext)||this}return S(n,t),n}(Tu),yK=function(t){function n(){return t.call(this,cK.rxt)||this}return S(n,t),n}(Tu),mK=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).kc=new Ko,u.Bc=void 0,u.bc=new Pu,u.xc=new Ko,u.sxt=function(t){u.Bc?(u.Bc.Yu(void 0),u.Bc=void 0):u.Rc("internal-error"),u.Zs(new Nu)},u.uxt=function(t){u.Zs(new Ru(Kt(u),"license-request",jo(t.message).buffer,t.destinationURL||void 0))},u.oxt=function(t){u.Bc&&(u.Bc.Wu(void 0),u.Bc=void 0)},u.Dc=n,u.Gh=i,u.axt=e,u.Vc=r,u.Uc=s,u}S(n,t);var i=n.prototype;return i.jh=function(t,n,i){var e;return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Fc){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Lr.awrap(this.hxt(qo(n),e));case 5:this.Rc("usable"),this.xc.Wu(),this.xc=new Ko;case 8:case"end":return t.stop()}},null,this,null,We)},i.Qh=function(t){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,We)},i.Jh=function(t){var n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=qo(t)).byteLength){i.next=3;break}throw new d("Cannot call update with an empty response.");case 3:return this.Bc=new Ko,this.axt.Jh(this.Vc,n),i.abrupt("return",this.Bc.Xu);case 6:case"end":return i.stop()}},null,this,null,We)},i.Yh=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lr.awrap(this.xc);case 2:return this.axt.nu(cK.ixt,this.uxt),this.axt.nu(cK.ext,this.sxt),this.axt.nu(cK.rxt,this.oxt),this.xc.Vs(),this.kc.Wu(void 0),t.abrupt("return",this.kc.Xu);case 8:case"end":return t.stop()}},null,this,null,We)},i.Zh=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,We)},i.hxt=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=af(t,n,this.Uc),this.axt.Js(cK.ixt,this.uxt),this.axt.Js(cK.ext,this.sxt),this.axt.Js(cK.rxt,this.oxt),this.axt.Iq(this.Vc,i);case 5:case"end":return e.stop()}},null,this,null,We)},i.Rc=function(t){this.bc.Cu(),this.bc.Du(Ou,t),this.Zs(new Iu(this))},b(n,[{key:"ic",get:function(){return this.Vc}},{key:"tc",get:function(){return NaN}},{key:"$h",get:function(){return this.kc.Xu}},{key:"nc",get:function(){return this.bc}}]),n}(Au),kK=function(){function t(t,n,i){this.uvt=void 0,this.Vc=void 0,this.Uc=void 0,this.axt=void 0,this.Gh=void 0,this.Pc=void 0,this.Dc=void 0,this.axt=t,this.Gh=n,this.Pc=i;var e=qc(i)||"video/mp4";this.Dc=Vc(e)}var i=t.prototype;return i.ac=function(t){var i;return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Uc){t.next=2;break}throw new hf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new mK(this.Dc,this.Gh,this.axt,this.Vc,this.Uc),this.uvt=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,We)},i.hc=function(t){return this.Uc=qo(t),We.resolve(!0)},i.cc=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,We)},i.fc=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,We)},i.createSession=function(){throw new v("Whoops.")},b(t,[{key:"rc",get:function(){return this.Gh}},{key:"uc",get:function(){return this.Pc}},{key:"sessionId",set:function(t){this.Vc=t}}]),t}(),pK=function(){function t(t,n,i){this.cxt=t,this.Gh=n,this.Pc=i}var n=t.prototype;return n.wc=function(){return this.Pc},n.lc=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new kK(this.cxt,this.Gh,this.Pc));case 1:case"end":return t.stop()}},null,this,null,We)},b(t,[{key:"rc",get:function(){return this.Gh}}]),t}(),AK=function(){function t(t){this.cxt=void 0,this.cxt=t}return t.prototype.Es=function(t,n){var i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=Gc(bK,Eu,t,e))){s.next=6;break}return s.abrupt("return",new pK(this.cxt,t,r));case 6:i++,s.next=1;break;case 9:throw new d("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,We)},t}();function bK(t,n){return t===as}var TK,SK=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Mq=function(t,n){return!0},n}(XO),EK=function(t){function n(n,i,e){var r;return void 0===e&&(e=new AK(i)),(r=t.call(this)||this).tN=void 0,r.As=void 0,r.EF=void 0,r.Vq=new gN,r.fxt=void 0,r.cxt=void 0,r.vxt=!1,r.Vc=void 0,r.Mc=null,r.dxt={vm:0,dm:0,lm:0,wm:0,_m:0,gm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.lxt=function(t){"boolean"==typeof t.detail.casting&&(r.vxt=t.detail.casting,r.Zs(new Dm(r.vxt)))},r.wxt=function(t){r.Vc=t.sessionId,r.Mc&&(r.Mc.sessionId=r.Vc);var n=t.initData;if(n){var i=jO(n);if(!i)return;r.Zs(new Du(Kr,i))}else r.Zs(new Du(Kr,new ArrayBuffer(0)))},r.fxt=n,r.cxt=i,r.cxt.Js(cK.nxt,r.wxt),r.As=e,r.EF=new SK(Kt(r)),r._xt(),r}S(n,t);var i=n.prototype;return i.HF=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.vs===vA.bE)return i}},i.xs=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lr.awrap(this.A_());case 2:return this.tu(),this.gxt(),this.cxt.nu(cK.nxt,this.wxt),t.next=7,Lr.awrap(this.EF.xs());case 7:case"end":return t.stop()}},null,this,null,We)},i.Yy=function(){throw new v("Not implemented yet")},i.yE=function(t,n,i,e,r,s,u,o){throw new v("Not implemented yet")},i.LN=function(){return!1},i.MN=function(t,n,i,e){throw new v("Not implemented yet")},i.pE=function(t){throw new v("Not implemented yet")},i.HN=function(){throw new v("Not implemented yet")},i.Qh=function(t){var n=this;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.Vq.KU(function(i){var e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.vs!==vA.bE){r.next=8;break}return au(i),e=new lK(t,n,n.As),n.tN=e,n.EF.Qh(e,t),r.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,We)}));case 1:case"end":return i.stop()}},null,this,null,We)},i.xy=function(){throw new v("Not implemented yet")},i.Ly=function(){throw new v("Not implemented yet")},i.A_=function(){var t=this;return this.Vq.Vs(),this.Vq.KU(function(){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.tN){n.next=4;break}return n.next=3,Lr.awrap(t.tN.xs());case 3:t.tN=void 0;case 4:return n.next=6,Lr.awrap(t.EF.A_());case 6:case"end":return n.stop()}},null,null,null,We)})},i.xu=function(t,n){throw new v("Not implemented yet")},i.YN=function(t){throw new v("Not implemented yet")},i.qy=function(){throw new v("Not implemented yet")},i.jN=function(){return this.dxt},i._xt=function(){this.fxt.addEventListener("airPlayIsCasting",this.lxt)},i.gxt=function(){this.fxt.removeEventListener("airPlayIsCasting",this.lxt)},i.webkitSetMediaKeys=function(t){this.Mc=t||null,this.Mc&&(this.Mc.sessionId=this.Vc)},i.Ej=function(){},i.Tj=function(){throw new v("Not implemented yet")},i.Sj=function(){throw new v("Not implemented yet")},b(n,[{key:"um",get:function(){throw new v("Not implemented yet")}},{key:"im",get:function(){throw new v("Not implemented yet")}},{key:"Xg",get:function(){throw new v("Not implemented yet")}},{key:"OU",get:function(){throw new v("Not implemented yet")}},{key:"Vg",get:function(){throw new v("Not implemented yet")}},{key:"zg",get:function(){throw new v("Not implemented yet")}},{key:"mu",get:function(){throw new v("Not implemented yet")}},{key:"oT",get:function(){throw new v("Not implemented yet")}},{key:"cm",get:function(){return this.vxt}},{key:"Wg",get:function(){throw new v("Not implemented yet")}},{key:"qg",get:function(){throw new v("Not implemented yet")}},{key:"Yg",get:function(){throw new v("Not implemented yet")}},{key:"mm",get:function(){throw new v("Not implemented yet")}},{key:"Q_",get:function(){throw new v("Not implemented yet")}},{key:"Am",get:function(){throw new v("Not implemented yet")}},{key:"jg",get:function(){throw new v("Not implemented yet")}},{key:"Nj",get:function(){throw new v("Not implemented yet")}},{key:"Jg",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"Ek",get:function(){throw new v("Not implemented yet")}},{key:"FN",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Mc}},{key:"Dj",get:function(){return LN}},{key:"Py",get:function(){throw new v("Not implemented yet")}},{key:"BU",get:function(){throw new v("Not implemented yet")}},{key:"QN",get:function(){throw new v("Not implemented yet")}},{key:"Ij",get:function(){return!0}},{key:"IN",get:function(){return this.EF.IN},set:function(t){this.EF.IN=t}},{key:"Cj",get:function(){},set:function(t){}},{key:"Hq",get:function(){return this.EF.Hq}}]),n}(Gg),IK=function(t){function n(n){var i;return(i=t.call(this,Nf.Wf)||this).dxt=n,i}return S(n,t),n}(Tu);function RK(t){switch(t.type){case TK.EQ:return t.value;case TK.Qmt:return bg(t.value);case TK.YLt:return Fu(t.value);default:return}}function NK(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.EQ="daterange-ca-type_string",t.Qmt="daterange-ca-type_number",t.YLt="daterange-ca-type_arraybuffer"}(TK||(TK={}));var DK=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).hR=void 0,u.yxt=void 0,u.hR=n,u.yxt=s,u}return S(n,t),b(n,[{key:"name",get:function(){return this.hR}},{key:"timestamp",get:function(){return this.yxt}}]),n}(hf),CK=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e,r,a)||this).url=void 0,h.status=void 0,h.errorComment=void 0,h.url=s,h.status=u,h.errorComment=o,h}return S(n,t),n}(DK),OK=function(){function t(t,n){this.Iy=void 0,this.Jq=void 0,this.Iy=new Fp,this.Jq=new kO(t,n)}var n=t.prototype;return n.yE=function(t,n,i,e,r,s,u){var o=new kC(t,n,i,e,r,s,u);return this.Iy.m_(o),this.Jq.m_(o),o},n.pE=function(t){this.Iy.k_(t),this.Jq.k_(t),t.Il()},n.A_=function(){for(var t=0,n=this.Iy.b_.slice();t<n.length;t++){n[t].Il()}this.Iy.A_(),this.Jq.A_()},n.Il=function(){this.A_(),this.Iy.Il(),this.Jq.Il()},b(t,[{key:"Py",get:function(){return this.Iy}}]),t}(),PK=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).yC=0,u.AG=!1,u.nN=void 0,u.iN=void 0,u.mxt=void 0,u.kC=!0,u.pC=1,u.Sy=void 0,u.Ey=void 0,u.Yq=void 0,u.Qq=void 0,u.Iy=void 0,u.lE=void 0,u.oa=void 0,u.x8=gS.dC(),u.aG=gS.dC(),u.mC=!1,u.sY=gS.dC(),u.AC=void 0,u.kvt=void 0,u.mvt=void 0,u.bG=ty.Dg,u.SE=ty.Dg,u.fxt=void 0,u.Jq=void 0,u.sN=void 0,u.jLt=void 0,u.krt=void 0,u.EC=void 0,u.$R=void 0,u.uN=void 0,u.cxt=void 0,u.dxt={vm:0,dm:0,lm:0,wm:0,_m:0,gm:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.tN=void 0,u.kxt=void 0,u.aN=new jT,u.hN=new tS,u.setCurrentTime=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Am.length){n.next=4;break}return u.yC=t,n.next=4,Lr.awrap(u.fxt.fu("seekablechange"));case 4:u.yC=u.updateCurrentTime(t),u.jLt.cJ("THEOplayerSetCurrentTime",u.yC),u.AC=!0,u.Zs(new Dy(u.yC));case 8:case"end":return n.stop()}},null,null,null,We)},u.pxt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.x8=new gS(i),u.Zs(new HN(u.Xg))}},u.Axt=function(t){u.bG=t.detail.readyState,u.Zs(new Py(+t.detail.currentTime,u.Q_)),u.bxt()},u.Txt=function(t){u.bG=t.detail.readyState,u.Zs(new By(+t.detail.currentTime,u.Q_)),u.bxt()},u.Sxt=function(t){if(t.detail){var n=+t.detail.duration;u.oa=n,u.Zs(new Sy(u.Vg))}},u.Ext=function(t){t.detail&&(u.AG=!0,u.Zs(new Ry(+t.detail.currentTime)))},u.cN=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);NK(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.iN=new CK(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.nN=am(u.iN),u.Zs(new xy(u.iN))):NK(i)&&(u.iN=new DK(i.name,i.message,void 0,i.code,i.timestamp),u.nN=am(u.iN),u.Zs(new xy(u.iN)))}},u.Ixt=function(t){u.Zs(new XN)},u.Rxt=function(t){u.bG=t.detail.readyState,u.Zs(new Ny(+t.detail.currentTime,u.Q_)),u.bxt()},u.Nxt=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Am.length){n.next=3;break}return n.next=3,Lr.awrap(u.fxt.fu("seekablechange"));case 3:u.bG=t.detail.readyState,u.Zs(new Ty(+t.detail.currentTime,u.Q_)),u.bxt();case 6:case"end":return n.stop()}},null,null,null,We)},u.Dxt=function(t){t.detail&&u.kC&&(u.kC=!1,u.Zs(new py(+t.detail.currentTime)))},u.Cxt=function(t){t.detail&&(u.kC||(u.kC=!0,u.Zs(new ky(+t.detail.currentTime))))},u.Oxt=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.sY=new gS(i)}},u.Pxt=function(t){t.detail&&u.Zs(new TA(+t.detail.currentTime))},u.Bxt=function(t){t.detail&&(u.pC=t.detail.playbackRate,u.Zs(new Ey(+t.detail.currentTime,u.pC)))},u.Lxt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.aG=new gS(i)}},u.xxt=function(t){t.detail&&(u.yC=+t.detail.currentTime,u.AC=!1,u.Zs(new Iy(u.yC,u.mxt)),u.Zs(new Cy(u.yC)))},u.Mxt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.oa&&(u.AG=!1),u.AC=!0,u.Zs(new Dy(n))}},u.Uxt=function(t){t.detail&&(t.detail.currentDate&&(u.mxt=new Date(1e3*t.detail.currentDate)),u.yC=+t.detail.currentTime,u.Zs(new Iy(u.yC,u.mxt)))},u.Fxt=function(t){u.kvt=t.detail.height,u.mvt=t.detail.width},u.Hxt=function(t){t.detail&&u.Zs(new bA(+t.detail.currentTime))},u.Xxt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Cy.m_(new Tm(n))},u.Vxt=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.Sy.T_;s++){var o=u.Cy.y_(s);o.U_==e&&o.M_==r?i=u.Sy.y_(s):1==o.P_&&(n=u.Sy.y_(s))}i&&n&&(i.P_=!0,n.P_=!1)},u.zxt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Oy.m_(new Nm(n))},u.UZ=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Up.YA&&e===Im.ID3?(n=new EO("",t.detail.label)).q_=Bg.V_:i===Up.YA&&e===Im.DATE_RANGE?(n=new Cx,u.kxt=n):n=new kC(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.Yq.m_(n),u.Jq.m_(n)},u.Gxt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new TO(bg(e.startTime),s,e.uid),a=u.Wxt();a&&a.kE(o)}},u.qxt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new jm(bg(r.startTime),bg(r.endTime),r.content,!1),o=null!=(e=u.Yxt(Up.WA))?e:u.Yxt(Up.nE);o&&(o.vs=Im.WEBVTT,o.kE(s))}},u.$Y=function(t){t.type===Nf.df&&(u.nN=am(t.errorObject)),u.Qs(t)},u.jxt=function(t){t.detail&&(u.dxt.dm=t.detail.corruptedVideoFrames,u.dxt.vm=t.detail.droppedVideoFrames,u.Zs(new IK(u.fm)))},u.Qxt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={B_:t.id};if(void 0!==t.startDate&&(n.QN=new Date(t.startDate)),void 0!==t.endDate&&(n.PK=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=RK(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.LK=e}void 0!==t.scte35Cmd&&(n.MK=Fu(t.scte35Cmd)),void 0!==t.scte35In&&(n.HK=Fu(t.scte35In)),void 0!==t.scte35Out&&(n.FK=Fu(t.scte35Out)),void 0!==t.startTime&&(n.Wm=t.startTime),n.CK=t.class,n.Vg=bg(t.duration),n.BK=bg(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Wm?t.Wm:(new Date).getTime(),e=new Nx(t,i);u.kxt.kE(e),u.kxt.Jh(n,i)})};var o=r.uid;u.jLt=u.getSdkBridge(o),u.fxt=new vK,uK()[o].sdkEventBus=u.fxt,u.Sy=new vm,u.Ey=new vm;var a=u.Zxt(e);return u.lE=new OK(Kt(u),new pO),u.Jq=new bO(Kt(u)),u.sN=new uA(u.lE,a),u.Yq=new Fp,u.Qq=new NO(u.lE,u.Yq),u.Iy=new JT([u.Yq,u.sN.Wb,u.Qq.Wb]),u.cxt=u.getFairPlayControllerBridge(u.jLt),u.$R=new EK(u.fxt,u.cxt),u.uN=new QT(a),u.$R.IN=u.uN,u.observeMediaElement(),u.NN(),u.EC=new dK(u.jLt,s),u.EC.Js("nx",function(){u.jLt.cJ("THEOplayerSetPreferredForwardBufferDuration",u.EC.tx)}),u}S(n,t);var i=n.prototype;return i.Qy=function(){return kS},i.qy=function(){this.jLt.cJ("THEOplayerShow",{})},i.Yy=function(){this.jLt.cJ("THEOplayerHide",{})},i.Jxt=function(){var t=this;this.jLt.cJ("THEOplayerSetInitialPreferredPeakBitRate",this.EC.kx);this.Js("playing",function n(){t.jLt.cJ("THEOplayerSetInitialPreferredPeakBitRate",0),t.nu("playing",n)})},i.Fy=function(t,n){var i,e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.krt=t,i=xr({},n,{sources:{src:t.src,type:Jg.Ag,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.jLt.cJ("THEOplayerSourceChange",i),e={vs:vA.bE,K_:t.src,Nd:t.type,DN:this.CN(t),ON:t.crossOrigin,PN:n.metadata&&n.metadata.title},this.uN.MR(t.contentProtection),s.next=7,Lr.awrap(this.$R.Qh(e));case 7:this.tN=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==Im.WEBVTT})).length>0&&this.BN(r),fA(this.Py),this.Jxt();case 11:case"end":return s.stop()}},null,this,null,We)},i.CN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{rc:vs,GN:[{initDataTypes:[vs.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Ly=function(){this.kC=!1,this.Zs(new py(this.Xg)),this.jLt.cJ("THEOplayerPlay",{})},i.xy=function(){this.kC=!0,this.Zs(new ky(this.Xg)),this.jLt.cJ("THEOplayerPause",{})},i.jy=function(){},i.A_=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.yC=0,this.AG=!1,this.nN=void 0,this.iN=void 0,this.kC=!0,this.pC=1,this.oa=void 0,this.aG=gS.dC(),this.x8=gS.dC(),this.kvt=void 0,this.mvt=void 0,this.bG=ty.Dg,this.SE=ty.Dg,this.Sy.A_(),this.Ey.A_(),this.Yq.A_(),this.Iy.A_(),t.next=19,Lr.awrap(this.Qq.A_());case 19:return t.next=21,Lr.awrap(this.sN.A_());case 21:return this.lE.A_(),this.Jq.A_(),this.krt=void 0,t.next=26,Lr.awrap(this.$R.A_());case 26:case"end":return t.stop()}},null,this,null,We)},i.Xy=function(){this.jLt.cJ("THEOplayerShowAirPlayPicker",{})},i.Vy=function(){this.jLt.cJ("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.fm.dm=t.dm,this.fm.vm=t.vm},i.Il=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lr.awrap(this.A_());case 2:return this.tu(),this.unobserveMediaElement(),this.VN(),this.$R.IN=void 0,t.next=8,Lr.awrap(this.$R.xs());case 8:return this.Sy.Il(),this.Ey.Il(),this.Yq.Il(),this.Iy.Il(),t.next=14,Lr.awrap(this.Qq.Il());case 14:return t.next=16,Lr.awrap(this.sN.Il());case 16:this.lE.Il(),this.Jq.Il();case 18:case"end":return t.stop()}},null,this,null,We)},i.BN=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.sN.gE(i)}},i.bxt=function(){var t=this.SE,n=this.bG;t!==n&&(this.SE=n,this.Zs(new Ly(this.Xg,n)))},i.observeMediaElement=function(){this.$R.Js(Nf.uf,this.Qs),this.$R.Js([Nf.lf,Nf.df],this.$Y),this.fxt.addEventListener("play",this.Dxt),this.fxt.addEventListener("pause",this.Cxt),this.fxt.addEventListener("seeking",this.Mxt),this.fxt.addEventListener("seeked",this.xxt),this.fxt.addEventListener("ratechange",this.Bxt),this.fxt.addEventListener("durationchange",this.Sxt),this.fxt.addEventListener("timeupdate",this.Uxt),this.fxt.addEventListener("waiting",this.Hxt),this.fxt.addEventListener("playing",this.Pxt),this.fxt.addEventListener("ended",this.Ext),this.fxt.addEventListener("loadedmetadata",this.Nxt),this.fxt.addEventListener("loadeddata",this.Rxt),this.fxt.addEventListener("loadstart",this.Ixt),this.fxt.addEventListener("canplay",this.Axt),this.fxt.addEventListener("canplaythrough",this.Txt),this.fxt.addEventListener("error",this.cN),this.fxt.addEventListener("seekablechange",this.Lxt),this.fxt.addEventListener("videosizechange",this.Fxt),this.fxt.addEventListener("bufferedchange",this.pxt),this.fxt.addEventListener("playedchange",this.Oxt),this.fxt.addEventListener("metricschange",this.jxt),this.fxt.addEventListener("addDateRangeCues",this.Qxt)},i.unobserveMediaElement=function(){this.$R.nu(Nf.uf,this.Qs),this.$R.nu([Nf.lf,Nf.df],this.$Y),this.fxt.removeEventListener("play",this.Dxt),this.fxt.removeEventListener("pause",this.Cxt),this.fxt.removeEventListener("seeking",this.Mxt),this.fxt.removeEventListener("seeked",this.xxt),this.fxt.removeEventListener("ratechange",this.Bxt),this.fxt.removeEventListener("durationchange",this.Sxt),this.fxt.removeEventListener("timeupdate",this.Uxt),this.fxt.removeEventListener("waiting",this.Hxt),this.fxt.removeEventListener("playing",this.Pxt),this.fxt.removeEventListener("ended",this.Ext),this.fxt.removeEventListener("loadedmetadata",this.Nxt),this.fxt.removeEventListener("loadeddata",this.Rxt),this.fxt.removeEventListener("loadstart",this.Ixt),this.fxt.removeEventListener("canplay",this.Axt),this.fxt.removeEventListener("canplaythrough",this.Txt),this.fxt.removeEventListener("error",this.cN),this.fxt.removeEventListener("seekablechange",this.Lxt),this.fxt.removeEventListener("videosizechange",this.Fxt),this.fxt.removeEventListener("bufferedchange",this.pxt),this.fxt.removeEventListener("playedchange",this.Oxt),this.fxt.removeEventListener("metricschange",this.jxt),this.fxt.removeEventListener("addDateRangeCues",this.Qxt)},i.updateCurrentTime=function(t){var n=this.Am.start(0),i=this.Am.end(0);return w.min(w.max(t,n),i)},i.Wxt=function(){for(var t=0,n=this.Iy.b_;t<n.length;t++){var i=n[t];if(i.x_===Up.YA&&i.vs===Im.ID3)return i}},i.Yxt=function(t){for(var n=0,i=this.Iy.b_;n<i.length;n++){var e=i[n],r=e.q_===Bg.z_,s=e.x_===t;if(r&&s)return e}},i.NN=function(){this.fxt.addEventListener("addaudiotrack",this.Xxt),this.fxt.addEventListener("enableaudiotrack",this.Vxt),this.fxt.addEventListener("addvideotrack",this.zxt),this.fxt.addEventListener("addtexttrack",this.UZ),this.fxt.addEventListener("addtexttrackid3cues",this.Gxt),this.fxt.addEventListener("addtexttrackcues",this.qxt)},i.VN=function(){this.fxt.removeEventListener("addaudiotrack",this.Xxt),this.fxt.removeEventListener("enableaudiotrack",this.Vxt),this.fxt.removeEventListener("addvideotrack",this.zxt),this.fxt.removeEventListener("addtexttrack",this.UZ),this.fxt.removeEventListener("addtexttrackid3cues",this.Gxt),this.fxt.removeEventListener("addtexttrackcues",this.qxt)},i.nm=function(){},b(n,[{key:"Cy",get:function(){return this.Sy}},{key:"im",get:function(){return this.x8.qN()}},{key:"um",get:function(){return this.mxt?this.mxt:null},set:function(t){this.jLt.cJ("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.mxt=t}},{key:"Xg",get:function(){return this.yC},set:function(t){this.setCurrentTime(t)}},{key:"Vg",get:function(){return this.oa}},{key:"zg",get:function(){return this.AG}},{key:"mu",get:function(){return this.nN}},{key:"Gg",get:function(){return this.iN}},{key:"By",get:function(){}},{key:"cm",get:function(){return this.$R.cm}},{key:"fm",get:function(){return this.dxt}},{key:"Wg",get:function(){return this.mC},set:function(t){this.mC!==t&&(this.jLt.cJ("THEOplayerSetMuted",t),this.mC=t,this.Zs(new Oy(this.Xg,t?0:1)))}},{key:"qg",get:function(){return this.kC}},{key:"Yg",get:function(){return this.pC},set:function(t){this.jLt.cJ("THEOplayerSetPlaybackRate",t),this.pC=t}},{key:"mm",get:function(){return this.sY.qN()}},{key:"pm",get:function(){return hS.wD},set:function(t){}},{key:"Q_",get:function(){return this.bG}},{key:"Am",get:function(){return this.aG.qN()}},{key:"jg",get:function(){return this.AC}},{key:"QN",get:function(){}},{key:"Py",get:function(){return this.Iy}},{key:"Qg",get:function(){return this.kvt}},{key:"Zg",get:function(){return this.mvt}},{key:"Jg",get:function(){return 1},set:function(t){}},{key:"Tm",get:function(){return this.hN}},{key:"Oy",get:function(){return this.Ey}},{key:"ZN",get:function(){return this.aN}},{key:"Sm",get:function(){return!1},set:function(t){}},{key:"ym",get:function(){return!0}}]),n}(Gg),BK=function(){function t(){this.JN=zT.RR}var n=t.prototype;return n.KN=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(sy(n.type))return!1;var e=n.contentProtection;if(e&&!hb(e)){if(!vb(e))return!1;if(!t.Eut(e))return!1}return!0},t.Eut=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.$N=function(){return!1},t}(),LK=function(){function t(){this.Kxt=r.webkit}return t.prototype.cJ=function(t,n){this.Kxt.messageHandlers[t]&&this.Kxt.messageHandlers[t].postMessage(n)},t}(),xK=function(t){function n(n){var i;return(i=t.call(this)||this).jLt=void 0,i.fxt=void 0,i.$xt=function(t){var n=Fu(t.detail.initData),e=t.detail.sessionId;i.Zs(new wK(n,e))},i.tMt=function(t){var n=new m(ju(t.detail.message)),e=t.detail.destinationURL;i.Zs(new _K(n,e))},i.nMt=function(t){i.Zs(new gK)},i.forwardKeyFlowDone=function(t){i.Zs(new yK)},i.jLt=n,i.fxt=new vK,uK().fairplayController={sdkEventBus:i.fxt},i.iMt(),i}S(n,t);var i=n.prototype;return i.iMt=function(){this.fxt.addEventListener(cK.nxt,this.$xt),this.fxt.addEventListener(cK.ixt,this.tMt),this.fxt.addEventListener(cK.ext,this.nMt),this.fxt.addEventListener(cK.rxt,this.forwardKeyFlowDone)},i.Iq=function(t,n){var i={playerId:aK(),data:Qu(n.buffer),sessionId:t};this.jLt.cJ("THEOplayerCreateKeySession",i)},i.Jh=function(t,n){var i={playerId:aK(),data:Qu(n.buffer),sessionId:t};this.jLt.cJ("THEOplayerUpdateKey",i)},n}(Gg),MK=function(t){var n=this;this.fxt=void 0,this.eMt=void 0,this.rMt=function(){n.eMt.qZ()},this.sMt=function(){n.eMt.WZ()},this.fxt=new vK,this.eMt=t,this.fxt.addEventListener("showTracks",this.rMt),this.fxt.addEventListener("hideTracks",this.sMt),uK().texttracks={sdkEventBus:this.fxt}},UK=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).JZ=void 0,o.KZ=void 0,o.uMt=void 0;var a=i.SN(fm.ll);return o.JZ=new eP,o.JZ.Rj(n),o.KZ=new rB(o.JZ.hm,a.OU,o.Py,u,a.FN),o.uMt=new MK(o.KZ),i.zN(a),le.document.querySelector(".vjs-tech")?le.document.querySelector(".player-div").classList.add("theo-ios-sdk"):le.document.querySelector(".player-div").style.background="transparent",o}S(n,t);var i=n.prototype;return i.qy=function(){t.prototype.qy.call(this),this.JZ.qy()},i.Yy=function(){t.prototype.Yy.call(this),this.JZ.Yy()},i.Hy=function(){return!0},i.getSdkBridge=function(){return new LK},i.getFairPlayControllerBridge=function(){return FK},i.Zxt=function(t){return t},i.Il=function(){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return le.document.querySelector(".vjs-tech")?le.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):le.document.querySelector(".player-div").style.background="#000000",n.next=3,Lr.awrap(t.prototype.Il.call(this));case 3:this.KZ.Il(),this.JZ.Il();case 5:case"end":return n.stop()}},null,this,null,We)},n}(PK);oS(new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.AI=function(t,n,i,e,r,s){return new UK(t,n,i,e,r,s)},i.KN=function(n,i){if(n.type){var e=lr();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.KN.call(this,n,i)},n}(BK)));var FK=new xK(new LK);var HK,XK,VK,zK,GK,WK,qK=function(t){function n(n,i){var e;return(e=t.call(this)||this).qw=void 0,e.oMt=n,e.kU=i,e.oMt.Js("gNt",e.Qs),e}return S(n,t),n.prototype.aMt=function(t,n,i){var e,r;if(!t)throw new v("Unexpected - The source description is undefined");if(e=OE(t),r=gQ(n),kE(e))throw new v("Invalid source description");return this.oMt.BNt(e,r).Yw},b(n,[{key:"Yw",get:function(){var t,n,i;return this.qw||(this.qw=(i={get status(){return t.Xd},get tasks(){return t.FNt},get network(){return t.PU.Yw},createTask:function(n,i){return t.aMt(n,i)},addEventListener:function(t,i){n.Js(t,i)},removeEventListener:function(t,i){n.nu(t,i)}},n=new CR(t=this,i),i)),this.qw}},{key:"Xd",get:function(){return this.oMt.Xd}},{key:"FNt",get:function(){return this.oMt.FNt.Yw}},{key:"PU",get:function(){return this.kU}}]),n}(Gg);(HK=new fR(i.Xw,!1),XK=GH.Yn,VK=new DQ(HK),zK=new lQ(XK,VK),GK=new dR(HK),WK=new DY(XK.Bat,zK,"persistent"),new qK(WK,GK)).Yw;var YK=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Bh=void 0,s.RNt=void 0,s.qw=void 0,s.krt=void 0,s.pBt=void 0,s.oa=0,s.hMt=gS.dC(),s.cMt=0,s.fMt=0,s.oMt=void 0,s.Bh=n,s.RNt=fY.IDLE,s.krt=i,s.pBt=e,s.oMt=r,s}S(n,t);var i=n.prototype;return i.DD=function(){this.oMt.startCachingTask(this)},i.Zh=function(){this.oMt.removeCachingTask(this)},b(n,[{key:"Yw",get:function(){return this.qw||(this.qw=CY(this)),this.qw}},{key:"B_",get:function(){return this.Bh}},{key:"Xd",get:function(){return this.RNt},set:function(t){this.RNt!==t&&(this.RNt=t,this.Zs(new pY))}},{key:"cD",get:function(){return this.krt}},{key:"_c",get:function(){return this.pBt}},{key:"Vg",get:function(){return this.oa},set:function(t){this.oa=t}},{key:"HNt",get:function(){return this.hMt},set:function(t){this.hMt=t}},{key:"XNt",get:function(){return this.cMt},set:function(t){this.cMt=t}},{key:"VNt",get:function(){return this.fMt},set:function(t){this.fMt=t,this.Zs(new xY)}}]),n}(Wg),jK=30;function QK(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+jK),n&&((i=n)&&!(Q(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var ZK=function(t){function n(){var n;return(n=t.call(this)||this).RNt=TY.UNINITIALISED,n.YU=new NY,n.jLt=void 0,n.fxt=void 0,n.vMt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Xd=fY.EVICTED,i.VNt=0,i.XNt=0,i.Vg=0,i.HNt=gS.dC(),n.YU.Zh(i))}},n.dMt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.Xd=e);var r=t.detail.percentage;r&&(i.VNt=r);var s=t.detail.duration;s&&(i.Vg=s);var u=t.detail.seconds;u&&(i.XNt=u);var o=t.detail.cached;if(o){for(var a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}i.HNt=new gS(a)}}}},n.lMt=function(t){if(t.detail){var i=OE(JSON.parse(t.detail.source));if(!n.wMt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.BNt(i,QK(e),s)}}},n._Mt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.BNt(OE(r),QK(i),s);u.Xd=t.detail.status,u.VNt=t.detail.percentage,u.Vg=t.detail.duration,u.XNt=t.detail.seconds;for(var o=t.detail.cached,a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}u.HNt=new gS(a)}},n.gMt=function(t){t.detail&&n.ONt(t.detail.status)},n.jLt=new LK,n.fxt=new vK,uK().cache={sdkEventBus:n.fxt},n.iMt(),n}S(n,t);var i=n.prototype;return i.ONt=function(t){this.RNt!==t&&(this.RNt=t,this.Zs(new pY))},i.BNt=function(t,n,i){void 0===i&&(i=void 0);var e=new YK(i||fI(),t,n,this);return this.YU.Im(e),i||this.jLt.cJ("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.B_}),e},i.findTaskWithId=function(t){for(var n=0,i=this.YU.mNt;n<i.length;n++){var e=i[n];if(e.B_===t)return e}},i.wMt=function(t){for(var n=KK(t.sources),i=0,e=this.YU.mNt;i<e.length;i++){if(KK(e[i].cD.sources).src===n.src)return!0}return!1},i.iMt=function(){this.fxt.addEventListener("deleteTask",this.vMt),this.fxt.addEventListener("updateValues",this.dMt),this.fxt.addEventListener("newTask",this.lMt),this.fxt.addEventListener("restoreTask",this._Mt),this.fxt.addEventListener("setCacheStatus",this.gMt)},i.startCachingTask=function(t){this.jLt.cJ("THEOplayerCacheStartCachingTask",{id:t.B_})},i.removeCachingTask=function(t){this.jLt.cJ("THEOplayerCacheRemoveCachingTask",{id:t.B_})},b(n,[{key:"Xd",get:function(){return this.RNt}},{key:"FNt",get:function(){return this.YU}}]),n}(Au),JK=function(t){function n(n){var i;return(i=t.call(this,n)||this).yMt=n,i.yMt.Js("gNt",i.Qs),i}return S(n,t),n.prototype.aMt=function(t,n){var i,e;if(!t)throw new v("Unexpected - The source description is undefined");if(i=OE(t),e=QK(n),kE(i))throw new v("Invalid source description");if(!KK(i.sources))throw new v("The provided sources can't be cached");return this.yMt.BNt(i,e).Yw},n}(qK);function KK(t){for(var n=0;n<t.length;n++){var i=t[n];if(uy(i.type))return i}}var $K,t$,n$=function(){var t=new ZK;return new JK(t)}().Yw;!function(t){t.Fwt="any",t.mMt="natural",t.kMt="landscape",t.pMt="portrait",t.AMt="portrait-primary",t.bMt="portrait-secondary",t.TMt="landscape-primary",t.SMt="landscape-secondary"}($K||($K={})),function(t){t.AMt="portrait-primary",t.bMt="portrait-secondary",t.TMt="landscape-primary",t.SMt="landscape-secondary"}(t$||(t$={}));var i$,e$,r$=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).jLt=new LK,n.EMt=$K.mMt,n.IMt=t$.AMt,n.RMt=t$.AMt,n.NMt=t$.AMt,n}S(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.EMt=t,n.jLt.cJ("THEOplayerOrientationLock",t),n.DMt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.EMt=$K.mMt,t.jLt.cJ("THEOplayerOrientationUnlock"),t.type=t.RMt,t.DMt(),n()})},i.DMt=function(){var t=this.NMt,n=this.type;t!==n&&(this.NMt=n,this.Zs(new Tu("change")))},i.addEventListener=function(t,n){this.Js(t,n)},i.removeEventListener=function(t,n){this.nu(t,n)},n.CMt=function(t){switch(t){case $K.AMt:return[t$.AMt];case $K.bMt:return[t$.bMt];case $K.pMt:return[t$.AMt,t$.bMt];case $K.TMt:return[t$.TMt];case $K.SMt:return[t$.SMt];case $K.kMt:return[t$.TMt,t$.SMt];case $K.mMt:return[t$.AMt,t$.TMt,t$.SMt];case $K.Fwt:return[t$.AMt,t$.bMt,t$.TMt,t$.SMt]}},n.OMt=function(t,i){return n.CMt(i).indexOf(t)>=0},b(n,[{key:"type",get:function(){return this.IMt},set:function(t){this.RMt=t,n.OMt(t,this.EMt)?(this.IMt=t,this.DMt()):(t===t$.TMt&&this.EMt===$K.SMt&&(this.IMt=t$.SMt,this.DMt()),t===t$.SMt&&this.EMt===$K.TMt&&(this.IMt=t$.TMt,this.DMt()))}},{key:"angle",get:function(){switch(this.type){case t$.TMt:return-90;case t$.SMt:return 90;case t$.AMt:return 0;case t$.bMt:return 180;default:return 0}}}]),n}(Wg);r$.Yn=new r$,r.screen.orientation=r$.Yn,o&&-1===o.userAgent.indexOf("OS 9")&&l.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.PMt="unavailable",t.BMt="available",t.LMt="presenting"}(i$||(i$={})),oN(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),n.prototype.Fy=function(n){t.prototype.Fy.call(this,n);var i=this.Yw;this.Yw.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===i$.LMt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock($K.SMt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},iN.xU),function(t){t.Vw="addtrack",t.Gw="removetrack",t.u_="change",t.v_="update"}(e$||(e$={}));var s$=function(t,n,i){this.type=e$.u_,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},u$=function(t,n){this.type=e$.Vw,this.mediaType=t,this.mediaTrack=n},o$=function(t,n){this.type=e$.Gw,this.mediaType=t,this.mediaTrack=n},a$=function(t,n){this.type=e$.v_,this.mediaType=t,this.mediaTrack=n},h$=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.xMt=function(t){var n=new s$(e.type,t.track,e.mediaTracks);e.messageDispatcher.MMt(n)},this.UMt=function(t){var n=new u$(e.type,t.track);e.messageDispatcher.MMt(n),t.track.addEventListener("update",e.FMt)},this.HMt=function(t){var n=new o$(e.type,t.track);e.messageDispatcher.MMt(n)},this.FMt=function(t){var n=new a$(e.type,t.track);e.messageDispatcher.MMt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.iMt()}return t.prototype.iMt=function(){this.mediaTracks.addEventListener("change",this.xMt),this.mediaTracks.addEventListener("addtrack",this.UMt),this.mediaTracks.addEventListener("removetrack",this.HMt)},t}(),c$=function(){function t(){this.XMt=void 0,this.XMt=new LK}return t.prototype.MMt=function(t){this.XMt.cJ(t.type,WQ(t))},t}();cN(function(t){if(t.Yw.audioTracks){var n=new c$;new h$("audio",t.Yw.audioTracks,n)}if(t.Yw.videoTracks){var i=new c$;new h$("video",t.Yw.videoTracks,i)}});var f$,v$="nativePromiseCallback",d$=function(t){function n(n){var i;return(i=t.call(this,v$)||this).detail=n,i}return S(n,t),n}(Tu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(f$||(f$={}));var l$=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Zs(new d$(n))},i.addEventListener=function(t,n){this.Js(t,n)},i.removeEventListener=function(t,n){this.nu(t,n)},n}(vK),w$=function(){function t(){var t=this;this.XMt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case f$.RESOLVE:i.Wu(n.detail.data);break;case f$.REJECT:i.Yu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new l$;uK().nativePromise={sdkEventBus:n},n.addEventListener(v$,this.handleNativePromiseEvent)}return t.prototype.VMt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=xr({},n,{promiseId:e}),s=new Ko;return this.promisesMap[e]=s,null==(i=this.XMt)||i.cJ(n.type,zQ(r)),s.Xu},t}();w$.messageIdTracker=-1;var _$,g$=function(t){function n(){var n;return(n=t.call(this)||this).XMt=new LK,n}return S(n,t),n}(w$),y$=function(){function n(t){this.playerID=t}return n.prototype.cJ=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),m$=function(t){function n(n){var i;return(i=t.call(this)||this).XMt=new y$(n),i}return S(n,t),n}(w$);!function(t){t.Vw="TextTrackListAddTrack",t.Gw="TextTrackListRemoveTrack",t.u_="TextTrackListChange"}(_$||(_$={}));var k$,p$=function(t){this.type=_$.Vw,this.textTrack=t},A$=function(t){this.type=_$.Gw,this.textTrack=t},b$=function(t){this.type=_$.u_,this.textTrack=t};!function(t){t.Zw="TextTrackAddCue",t.Kw="TextTrackRemoveCue",t.t_="TextTrackEnterCue",t.i_="TextTrackExitCue",t.r_="TextTrackCueChange"}(k$||(k$={}));var T$,S$=function(t,n){this.type=k$.Zw,this.textTrackCue=t,this.textTrackUid=n},E$=function(t,n){this.type=k$.Kw,this.textTrackCue=t,this.textTrackUid=n},I$=function(t,n){this.type=k$.t_,this.textTrackCue=t,this.textTrackUid=n},R$=function(t,n){this.type=k$.i_,this.textTrackCue=t,this.textTrackUid=n},N$=function(t){this.type=k$.r_,this.textTrackUid=t};!function(t){t.Hm="TextTrackCueEnter",t.Vm="TextTrackCueExit",t.v_="TextTrackCueUpdate"}(T$||(T$={}));var D$=function(t){this.type=T$.Hm,this.textTrackCue=t},C$=function(t){this.type=T$.Vm,this.textTrackCue=t},O$=function(t){this.type=T$.v_,this.textTrackCue=t},P$=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.zMt=function(t){var i=B$(t.cue),e=new D$(i);n.messageDispatcher.VMt(e).then()},this.GMt=function(t){var i=B$(t.cue),e=new C$(i);n.messageDispatcher.VMt(e).then()},this.WMt=function(t){var i=B$(t.cue),e=new O$(i);n.messageDispatcher.VMt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.iMt=function(t){t.addEventListener("enter",this.zMt),t.addEventListener("exit",this.GMt),t.addEventListener("update",this.WMt)},n.ou=function(t){t.removeEventListener("enter",this.zMt),t.removeEventListener("exit",this.GMt),t.removeEventListener("update",this.WMt)},t}();function B$(t){var n=$J(t,t.track.type);return delete n.track,n}var L$=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.qMt=function(t){var n,e=B$(t.cue),r=new S$(e,t.cue.track.uid);i.messageDispatcher.VMt(r).then(),null==(n=i.textTrackCueBridge)||n.iMt(t.cue)},this.YMt=function(t){var n,e=B$(t.cue),r=new E$(e,t.cue.track.uid);i.messageDispatcher.VMt(r).then(),null==(n=i.textTrackCueBridge)||n.ou(t.cue)},this.zMt=function(t){var n=B$(t.cue),e=new I$(n,t.cue.track.uid);i.messageDispatcher.VMt(e).then()},this.GMt=function(t){var n=B$(t.cue),e=new R$(n,t.cue.track.uid);i.messageDispatcher.VMt(e).then()},this.jMt=function(t){var n=new N$(t.track.uid);i.messageDispatcher.VMt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new P$(e))}var n=t.prototype;return n.iMt=function(t){t.addEventListener("addcue",this.qMt),t.addEventListener("removecue",this.YMt),t.addEventListener("entercue",this.zMt),t.addEventListener("exitcue",this.GMt),t.addEventListener("cuechange",this.jMt)},n.ou=function(t){t.removeEventListener("addcue",this.qMt),t.removeEventListener("removecue",this.YMt),t.removeEventListener("entercue",this.zMt),t.removeEventListener("exitcue",this.GMt),t.removeEventListener("cuechange",this.jMt)},n.initMessageDispatcher=function(t){return M.zn?new g$:M.Gn&&void 0!==t?new m$(t):void 0},t}(),x$=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.UMt=function(t){var n,i=new p$(t.track);e.messageDispatcher.VMt(i).then(),null==(n=e.textTrackBridge)||n.iMt(t.track)},this.HMt=function(t){var n,i=new A$(t.track);e.messageDispatcher.VMt(i).then(),null==(n=e.textTrackBridge)||n.ou(t.track)},this.QMt=function(t){var n=new b$(t.track);e.messageDispatcher.VMt(n).then()},this.ZMt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.JMt(i);r&&(this.textTrackBridge=new L$(r,i)),this.iMt(),this.sdkEventBus=new vK,uK().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.ZMt)}var n=t.prototype;return n.iMt=function(){this.textTracks.addEventListener("addtrack",this.UMt),this.textTracks.addEventListener("removetrack",this.HMt),this.textTracks.addEventListener("change",this.QMt)},n.JMt=function(t){return M.zn?new g$:M.Gn&&void 0!==t?new m$(t):void 0},t}();cN(function(t){if(t.Yw.textTracks){var n=new g$;new x$(t.Yw.textTracks,n)}});var M$,U$,F$=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case M$.KMt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Zs(new H$(i));break;default:0}},n}(vK),H$=function(t){function n(n){var i;return(i=t.call(this,M$.KMt)||this).detail=n,i}return S(n,t),n}(Tu);!function(t){t.KMt="registerContentProtectionIntegration"}(M$||(M$={})),function(t){t.$Mt="certifiateRequest",t.tUt="certifiateResponse",t.nUt="licenseRequest",t.iUt="licenseResponse",t.eUt="extractFairplayContentId",t.rUt="buildContentProtection",t.sUt="registerContentProtectionCallback"}(U$||(U$={}));var X$,V$,z$=function(t,n){this.type=U$.sUt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(X$||(X$={})),function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(V$||(V$={}));var G$=function(t,n){this.type=U$.rUt,this.value=t,this.integrationId=n},W$=function(t,n){this.type=U$.$Mt,this.value=t,this.integrationId=n},q$=function(t,n){this.type=U$.tUt,this.value=t,this.integrationId=n},Y$=function(t,n){this.type=U$.eUt,this.value=t,this.integrationId=n},j$=function(t,n){this.type=U$.nUt,this.value=t,this.integrationId=n},Q$=function(t,n){this.type=U$.iUt,this.value=t,this.integrationId=n},Z$=function(){function t(t,n){this.uUt=void 0,this.bI=void 0,this.uUt=t,this.bI=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e=new W$(i,this.bI),a.prev=2,a.next=5,Lr.awrap(this.uUt.VMt(e));case 5:if(!(r=a.sent)){a.next=16;break}if(s=JSON.parse(r),!this.oUt(s)){a.next=13;break}return u=xr({},s),a.abrupt("return",u);case 13:if(!this.aUt(s)){a.next=16;break}return o=new m(s),a.abrupt("return",o);case 16:throw new sm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw a.prev=19,a.t0=a.catch(2),new sm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 22:case"end":return a.stop()}},null,this,[[2,19]],We)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new q$(e,this.bI),o.next=5,Lr.awrap(this.uUt.VMt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new m(u));case 11:throw new sm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,We)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,a;return Lr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new j$(e,this.bI),h.prev=3,h.next=6,Lr.awrap(this.uUt.VMt(r));case 6:if(!(s=h.sent)){h.next=17;break}if(u=JSON.parse(s),!this.oUt(u)){h.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new m(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},h.abrupt("return",o);case 14:if(!this.aUt(u)){h.next=17;break}return a=new m(u),h.abrupt("return",a);case 17:throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw h.prev=20,h.t0=h.catch(3),new sm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 23:case"end":return h.stop()}},null,this,[[3,20]],We)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=xr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new Q$(r,this.bI),a.next=6,Lr.awrap(this.uUt.VMt(s));case 6:if(!(u=a.sent)){a.next=12;break}return o=JSON.parse(u),a.abrupt("return",new m(o));case 12:throw new sm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return a.stop()}},null,this,null,We)},i.extractFairplayContentId=function(t){var i,e;return Lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new Y$(t,this.bI),r.next=3,Lr.awrap(this.uUt.VMt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",We.reject(new sm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,We)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.oUt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.aUt=function(t){return!!new m(t)},t}(),J$=function(){function t(t){this.uUt=void 0,this.uUt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new Z$(this.uUt,t.integration),i=new G$({drmConfiguration:t},t.integration);return this.uUt.VMt(i),n},t}(),K$=function(t){function n(){var n;return(n=t.call(this)||this).uUt=new g$,n}return S(n,t),b(n,[{key:"messageDispatcher",get:function(){return this.uUt}}]),n}(function(){var t=this;this.fxt=void 0,this.hUt=function(n){var i=new J$(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:nb.NI.SI(r,s,i)};t.messageDispatcher.VMt(new z$(u,r))},this.fxt=new F$,uK().contentProtectionIntegration={sdkEventBus:this.fxt},this.fxt.addEventListener(M$.KMt,this.hUt)});cN(function(t){new K$});var $$,t0=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case o0.STREAM_LOADED:this.Zs(new n0(n));break;case o0.ERROR:this.Zs(new i0(n));break;case o0.AD_EVENT_RECEIVED:this.Zs(new e0(n));break;case o0.AD_PROGRESS:this.Zs(new r0(n));break;case o0.SNAP_BACK_SEEK_TIME:this.Zs(new s0(n))}},n}(vK),n0=function(t){function n(n){var i;return(i=t.call(this,o0.STREAM_LOADED)||this).detail=n,i}return S(n,t),n}(Tu),i0=function(t){function n(n){var i;return(i=t.call(this,o0.ERROR)||this).detail=n,i}return S(n,t),n}(Tu),e0=function(t){function n(n){var i;return(i=t.call(this,o0.AD_EVENT_RECEIVED)||this).detail=n,i}return S(n,t),n}(Tu),r0=function(t){function n(n){var i;return(i=t.call(this,o0.AD_PROGRESS)||this).detail=n,i}return S(n,t),n}(Tu),s0=function(t){function n(n){var i;return(i=t.call(this,o0.SNAP_BACK_SEEK_TIME)||this).detail=n,i}return S(n,t),n}(Tu),u0=function(t){function n(n,i,e){var r;return(r=t.call(this,n,new Date)||this).cUt=void 0,r.wlt=void 0,r.cUt=i,r.wlt=e,r}return S(n,t),n}(Tu);!function(t){t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete"}($$||($$={}));var o0,a0=function(t){function n(n,i){return t.call(this,$$.LOADED,n,i)||this}return S(n,t),n}(u0),h0=function(t){function n(n,i){return t.call(this,$$.AD_BREAK_STARTED,n,i)||this}return S(n,t),n}(u0),c0=function(t){function n(n,i){return t.call(this,$$.AD_BREAK_ENDED,n,i)||this}return S(n,t),n}(u0),f0=function(t){function n(n,i){return t.call(this,$$.AD_PERIOD_STARTED,n,i)||this}return S(n,t),n}(u0),v0=function(t){function n(n,i){return t.call(this,$$.AD_PERIOD_ENDED,n,i)||this}return S(n,t),n}(u0),d0=function(t){function n(n,i){return t.call(this,$$.AD_PROGRESS,n,i)||this}return S(n,t),n}(u0),l0=function(t){function n(n,i){return t.call(this,$$.CUEPOINTS_CHANGED,n,i)||this}return S(n,t),n}(u0),w0=function(t){function n(n,i){return t.call(this,$$.CLICK,n,i)||this}return S(n,t),n}(u0),_0=function(t){function n(n,i){return t.call(this,$$.ERROR,n,i)||this}return S(n,t),n}(u0),g0=function(t){function n(n,i){return t.call(this,$$.STARTED,n,i)||this}return S(n,t),n}(u0),y0=function(t){function n(n,i){return t.call(this,$$.FIRST_QUARTILE,n,i)||this}return S(n,t),n}(u0),m0=function(t){function n(n,i){return t.call(this,$$.MIDPOINT,n,i)||this}return S(n,t),n}(u0),k0=function(t){function n(n,i){return t.call(this,$$.STREAM_INITIALIZED,n,i)||this}return S(n,t),n}(u0),p0=function(t){function n(n,i){return t.call(this,$$.THIRD_QUARTILE,n,i)||this}return S(n,t),n}(u0),A0=function(t){function n(n,i){return t.call(this,$$.COMPLETE,n,i)||this}return S(n,t),n}(u0),b0=function(){function t(t){var n=this;this.fxt=void 0,this.fUt=void 0,this.vUt=function(t){n.fUt.dUt(t.detail)},this.unload=function(){n.fxt.removeEventListener(o0.STREAM_LOADED,n.lUt),n.fxt.removeEventListener(o0.ERROR,n.Ec),n.fxt.removeEventListener(o0.AD_EVENT_RECEIVED,n.wUt),n.fxt.removeEventListener(o0.AD_PROGRESS,n._Ut),n.fxt.removeEventListener(o0.SNAP_BACK_SEEK_TIME,n.vUt)},this._Ut=function(t){var i={gUt:n.createAdProgress(t.detail.adProgressData),yUt:n.createCuePoints(t.detail.cuePoints),mUt:void 0,kUt:void 0,pUt:t.detail.streamId,AUt:[],jd:void 0},e=new d0(i,void 0);n.fUt.Zs(e)},this.lUt=function(t){var i={gUt:void 0,yUt:[],mUt:void 0,kUt:void 0,pUt:void 0,AUt:t.detail.subtitles.map(function(t){return{U_:t.language,bUt:t.ttml,TUt:t.webvtt}}),jd:t.detail.url};n.fUt.Zs(new a0(i,void 0))},this.Ec=function(t){var i={gUt:void 0,yUt:[],mUt:t.detail.message,kUt:void 0,pUt:void 0,AUt:[],jd:void 0};n.fUt.Zs(new _0(i,void 0))},this.wUt=function(t){var i,e=t.detail.eventName,r=n.createStreamData(t.detail.daiStreamData),s=n.createAd(t.detail.ad);switch(e){case $$.AD_BREAK_STARTED:i=new h0(r,s);break;case $$.AD_BREAK_ENDED:i=new c0(r,s);break;case $$.AD_PERIOD_STARTED:i=new f0(r,s);break;case $$.AD_PERIOD_ENDED:i=new v0(r,s);break;case $$.CUEPOINTS_CHANGED:i=new l0(r,s);break;case $$.CLICK:i=new w0(r,s);break;case $$.STARTED:i=new g0(r,s);break;case $$.FIRST_QUARTILE:i=new y0(r,s);break;case $$.MIDPOINT:i=new m0(r,s);break;case $$.THIRD_QUARTILE:i=new p0(r,s);break;case $$.COMPLETE:i=new A0(r,s);break;case $$.STREAM_INITIALIZED:i=new k0(r,s)}i&&n.fUt.Zs(i)},this.streamManager=t,this.fUt=t,this.fxt=new t0,uK().dai={sdkEventBus:this.fxt},this.fxt.addEventListener(o0.STREAM_LOADED,this.lUt),this.fxt.addEventListener(o0.ERROR,this.Ec),this.fxt.addEventListener(o0.AD_EVENT_RECEIVED,this.wUt),this.fxt.addEventListener(o0.AD_PROGRESS,this._Ut),this.fxt.addEventListener(o0.SNAP_BACK_SEEK_TIME,this.vUt)}var n=t.prototype;return n.createStreamData=function(t){return{gUt:this.createAdProgress(t.adProgressData),yUt:this.createCuePoints(t.cuePoints),mUt:void 0,kUt:void 0,pUt:t.streamId,AUt:[],jd:void 0}},n.createAdProgress=function(t){if(t)return{kAt:t.adBreakDuration,SUt:t.adPeriodDuration,jpt:t.adPosition,Xg:t.currentTime,Vg:t.currentTime,Jpt:t.totalAds}},n.createCuePoints=function(t){return t.map(function(t){return{qm:t.endTime,mm:t.played,Wm:t.startTime}})},n.createAd=function(t){if(t){var n={jpt:t.adPodInfo.adPosition,Qpt:t.adPodInfo.maxDuration,Zpt:t.adPodInfo.podIndex,L1:t.adPodInfo.timeOffset,Jpt:t.adPodInfo.totalAds},i=t.companionAds.map(function(t){return{s_t:void 0,Nd:void 0,Ym:t.content,oT:t.height,Ek:t.width}});return{x_t:t.adId,yAt:n,gwt:t.adSystem,nAt:t.advertiserName,r_t:void 0,hwt:i,xwt:t.creativeId,iAt:t.creativeAdId,eAt:t.dealId,gT:t.description,Vg:t.duration,PN:t.title,EUt:t.universalAdIdRegistry,IUt:t.universalAdIdValue,vAt:t.vastMediaHeight,dAt:t.vastMediaWidth,lAt:t.wrapperAdIds,wAt:t.wrapperAdSystems,_At:t.wrapperCreativeIds}}},t}();!function(t){t.STREAM_LOADED="streamLoaded",t.AD_EVENT_RECEIVED="adEventReceived",t.AD_PROGRESS="adProgress",t.ERROR="error",t.SNAP_BACK_SEEK_TIME="snapBackSeekTime"}(o0||(o0={}));var T0,S0=function(t){function n(){var n;return(n=t.call(this)||this).jLt=new LK,n.iOSEventsHandler=void 0,n.lastSnapBackPromise=void 0,n.iOSEventsHandler=new b0(Kt(n)),n}S(n,t);var i=n.prototype;return i.RUt=function(t){this.jLt.cJ(T0.PROCESS_TIMED_METADATA,JSON.stringify(t))},i.NUt=function(t){return this.lastSnapBackPromise&&this.lastSnapBackPromise.Vs(),this.lastSnapBackPromise=new Ko,this.jLt.cJ(T0.REQUEST_SNAPBACK_SEEK_TIME,JSON.stringify({time:t})),this.lastSnapBackPromise.Xu},i.Z6=function(t,n){this.jLt.cJ(T0.REQUEST_STREAM,JSON.stringify(t))},i.A_=function(){this.jLt.cJ(T0.RESET)},i.Il=function(){this.jLt.cJ(T0.UNLOAD),this.iOSEventsHandler.unload()},i.dUt=function(t){this.lastSnapBackPromise&&(this.lastSnapBackPromise.Wu(t.time),this.lastSnapBackPromise=void 0)},i.DUt=function(t){throw new v("Not supported using JS. Please use the swift `func contentTime(from streamTime: Double) -> Double`")},i.CUt=function(t){throw new v("Not supported using JS. Please use the swift `func streamTime(from contentTime: Double) -> Double`")},i.replaceAdTagParameters=function(t){},n}(Au);!function(t){t.REQUEST_STREAM="DAI_REQUEST_STREAM",t.REQUEST_SNAPBACK_SEEK_TIME="DAI_REQUEST_SNAPBACK_SEEK_TIME",t.PROCESS_TIMED_METADATA="DAI_PROCESS_TIMED_METADATA",t.RESET="DAI_RESET",t.UNLOAD="DAI_UNLOAD"}(T0||(T0={}));var E0=function(t){function n(n){var i;return(i=t.call(this)||this).Elt=!1,i.Wz=function(t){t.type===Nf.Rf&&(i.Elt=!0),(i.Elt||t.type!==Nf.Xf)&&i.Qs(t)},i.yD=n,i.yD.$s(i.Wz),i}S(n,t);var i=n.prototype;return i.addEventListener=function(t,n){this.Js(t,n)},i.removeEventListener=function(t,n){this.nu(t,n)},i.A_=function(){this.Elt=!1},i.Il=function(){this.tu(),this.yD.au(this.Wz)},b(n,[{key:"currentTime",get:function(){return this.yD.Px()},set:function(t){}},{key:"duration",get:function(){return this.yD.Lx()}},{key:"buffered",get:function(){return this.yD.Nx()}},{key:"seekable",get:function(){return this.yD.OUt()}},{key:"hm",get:function(){return this.yD.hm}}]),n}(Wg),I0="theo-dai-clickthrough",R0="urn:google:dai:2018",N0=function(){function t(t,n,i,e,r){var s=this;this.yD=void 0,this.PUt=void 0,this.BUt=void 0,this.fUt=void 0,this.LUt=void 0,this.xUt=void 0,this.nN=void 0,this.iN=void 0,this.eY=new su,this.MUt=!1,this.UUt=!0,this.FUt=function(t){var n=t.Qw;n.x_===Up.YA&&(n.vs===Im.ID3||n.vs===Im.EVENT_STREAM&&n.W_===R0)&&(n.q_=Bg.V_,s.xUt=n,n.Js(eg.Zw,s.HUt))},this.HUt=function(t){t.Gm.Js(Om.Hm,s.XUt)},this.XUt=function(t){var n,i;if(s.fUt)if((null==(n=s.xUt)?void 0:n.vs)===Im.ID3){var e=t.Gm.Ym;"TXXX"===e.id&&s.fUt.RUt({TXXX:e.text})}else if((null==(i=s.xUt)?void 0:i.vs)===Im.EVENT_STREAM){var r=t.Gm.Ym;s.fUt.VUt(R0,r,t.kp)}},this.yD=t,this.PUt=n,this.fUt=i,this.LUt=e,this.BUt=r,e&&i&&this.yD.Ult&&this.yD.Ult.xlt.ult(e.LSt)}var i=t.prototype;return i.Bx=function(t){this.eY.Vs(),this.eY=new su,_u(this.zUt(t,this.eY.Ws))},i.zUt=function(t,n){var i;return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(au(n),this.LUt&&this.fUt){e.next=3;break}return e.abrupt("return",this.yD.GUt(t));case 3:if(!this.LUt.Olt){e.next=5;break}return e.abrupt("return");case 5:if(!(t>this.yD.Px())||!this.UUt){e.next=14;break}return e.next=9,Lr.awrap(fu(this.fUt.NUt(t),n));case 9:if(!(i=e.sent)){e.next=14;break}return this.yD.GUt(i),e.next=14,Lr.awrap(this.fUt.fu($$.AD_BREAK_ENDED,n));case 14:this.yD.GUt(t);case 15:case"end":return e.stop()}},null,this,null,We)},i.Jx=function(){var t=this.LUt&&this.LUt.Olt;if(t){var n=gS.cC(this.yD.OUt()),i=t.L1,e=i+t.Qpt,r=new gS([i,e]);return n.zD(r).qN()}return this.yD.OUt()},i.dF=function(t,i){var e,r;return Lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t){s.next=2;break}return s.abrupt("return",this.yD.WUt(t,i));case 2:return s.prev=2,this.yD.Py.Js($_.Vw,this.FUt),s.next=6,Lr.awrap(this.BUt.qUt(t,i));case 6:return e=s.sent,this.LUt&&this.fUt&&(this.MUt=!0),s.next=10,Lr.awrap(this.yD.WUt(e,i));case 10:s.next=22;break;case 12:if(s.prev=12,s.t0=s.catch(2),hu(s.t0),s.t0.code!==im.LICENSE_INVALID){s.next=17;break}return s.abrupt("return");case 17:throw r=new hf(n.ErrorCode.SOURCE_NOT_SUPPORTED,"Something went wrong while setting up a Google DAI stream.",s.t0),this.nN=am(r),this.iN=r,this.yD.Zs(new xy(r)),r;case 22:case"end":return s.stop()}},null,this,[[2,12]],We)},i.A_=function(){if(this.MUt){if(this.yD.Py.nu($_.Vw,this.FUt),this.xUt){this.xUt.nu(eg.Zw,this.HUt);for(var t=0,n=this.xUt.Z_.b_;t<n.length;t++){n[t].nu(Om.Hm,this.XUt)}this.xUt=void 0}this.nN=void 0,this.iN=void 0,this.eY.Vs(),this.PUt.A_(),this.LUt&&this.LUt.A_(),this.fUt&&this.fUt.A_(),this.MUt=!1}},i.Il=function(){this.A_(),this.PUt.Il(),this.yD.YUt(),this.fUt&&this.fUt.Il()},b(t,[{key:"Yw",get:function(){var t=this,n=this.BUt;return{contentTimeForStreamTime:function(n){return t.fUt?t.fUt.DUt(n):n},streamTimeForContentTime:function(n){return t.fUt?t.fUt.CUt(n):n},replaceAdTagParameters:function(n){t.fUt&&t.fUt.replaceAdTagParameters(n)},get snapback(){return t.UUt},set snapback(n){t.UUt=n},get sourceTransformer(){return n.jUt},set sourceTransformer(t){n.jUt=t}}}},{key:"mu",get:function(){return this.nN||this.yD.QUt()}},{key:"Gg",get:function(){return this.iN||this.yD.ZUt()}}]),t}(),D0=function(t){function n(n,i,e,r){var s;return void 0===r&&(r=!0),(s=t.call(this,n,i,e)||this).JUt=r,s}return S(n,t),b(n,[{key:"KUt",get:function(){return this.JUt}},{key:"tSt",get:function(){return BW.GTt}}]),n}(MW),C0=function(){function t(t){this.qw=void 0,this.Oa=void 0,this.Pa=void 0,this.$Ut=void 0,this.Qwt=void 0,this.h_t=void 0,this.tFt=void 0,this.Oa=t.Ek,this.Pa=t.oT,this.$Ut=t.Ym,this.Qwt=t.s_t,this.nFt(t)}var n=t.prototype;return n.KTt=function(){var t;return this.qw||(this.qw=(t=this,{get adSlotId(){return t.s_t},get altText(){return t.a_t},get contentHTML(){return t.iFt},get clickThrough(){return t.d_t},get height(){return t.oT},get resourceURI(){return t.Tgt},get width(){return t.Ek}})),this.qw},n.nFt=function(t){var n=function(t){try{return Zz(t,"text/html")}catch(t){return}}(t.Ym);n&&(this.h_t=O0(n,"a","href"),this.tFt=O0(n,"img","src"))},b(t,[{key:"s_t",get:function(){return this.Qwt}},{key:"a_t",get:function(){return""}},{key:"iFt",get:function(){return this.$Ut}},{key:"d_t",get:function(){return this.h_t}},{key:"oT",get:function(){return this.Pa}},{key:"Tgt",get:function(){return this.tFt}},{key:"Ek",get:function(){return this.Oa}}]),t}();function O0(t,n,i){var e=t.querySelector(n);return e&&e.getAttribute(i)||""}var P0=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).eFt=0,n.bSt=void 0,n}S(n,t);var i=n.prototype;return i.jw=function(){var t,n=nq(this);return t=this,_g(n,{bitrate:0,contentType:void 0,mediaUrl:void 0,traffickingParameters:void 0,traffickingParametersString:void 0,universalAdIds:[],get adSystem(){return t.gwt},get apiFramework(){return t.SSt},get creativeId(){return t.xwt},get title(){return t.PN},get wrapperAdIds(){return t.lAt},get wrapperAdSystems(){return t.wAt},get wrapperCreativeIds(){return t._At}})},i.ISt=function(t){this.bSt=t;var n=function(t){return t.hwt.map(function(t){return new C0(t)})}(t);this.pSt(t.x_t,t.dAt,t.vAt,t.Vg,n,-1)},b(n,[{key:"rFt",get:function(){return this.eFt},set:function(t){this.eFt=t}},{key:"tSt",get:function(){return BW.GTt}},{key:"gwt",get:function(){var t;return null==(t=this.bSt)?void 0:t.gwt}},{key:"SSt",get:function(){var t;return null==(t=this.bSt)?void 0:t.r_t}},{key:"xwt",get:function(){var t;return null==(t=this.bSt)?void 0:t.xwt}},{key:"PN",get:function(){var t;return null==(t=this.bSt)?void 0:t.PN}},{key:"lAt",get:function(){var t,n;return null!=(t=null==(n=this.bSt)?void 0:n.lAt)?t:[]}},{key:"wAt",get:function(){var t,n;return null!=(t=null==(n=this.bSt)?void 0:n.wAt)?t:[]}},{key:"_At",get:function(){var t,n;return null!=(t=null==(n=this.bSt)?void 0:n._At)?t:[]}}]),n}(tq);var B0,L0=function(t){function n(n,i){var e;return(e=t.call(this,new US,BW.GTt)||this)._Ut=function(t){var n=e.OSt;if(n&&e.hSt){var i=t.cUt.gUt;e.hSt.rFt=i.Xg,function(t,n){var i,e=n.jpt,r=n.Jpt,s=n.Vg,u=n.kAt,o=n.Xg;i=1===e?u-o:e===r?s-o:u-o-(e-1)*s;t.$Tt=i}(n,i)}},e.sFt=function(t){var n=t.cUt.yUt;if(n)for(var i=0;i<n.length;i++){var r=n[i];if(!e.uFt(r.Wm)){var s=r.qm-r.Wm,u=new D0(s,s,r.Wm,!0);e.CSt.push(u)}}},e.oFt=function(t){e.aFt(t.type),e.hFt(t)},e.cFt=function(t){e.PSt=!1,e.hSt=void 0;var n=e.Olt;n&&(n.$Tt=0,e.fFt(t.type,!1,!1),e.OSt=void 0)},e.fUt=n,e.yD=i,e.vFt(),e}S(n,t);var i=n.prototype;return i.vFt=function(){var t=[$$.STARTED,$$.FIRST_QUARTILE,$$.MIDPOINT,$$.THIRD_QUARTILE,$$.COMPLETE];this.fUt.Js(t,this.oFt),this.fUt.Js($$.AD_BREAK_ENDED,this.cFt),this.fUt.Js($$.AD_PROGRESS,this._Ut),this.fUt.Js($$.CUEPOINTS_CHANGED,this.sFt)},i.dFt=function(t){var n=t.yAt.L1,i=this.OSt||this.findAdBreakWithPredicate(n,function(t){return!t.mm});if(!i){var e=t.yAt.Qpt;n=this.yD.Px(),(i=new D0(e,e,n,!1)).ZTt(),this.CSt.push(i)}return i},i.aFt=function(t){switch(t){case $$.STARTED:this.PSt=!0;break;case $$.AD_BREAK_ENDED:this.PSt=!1}},i.fFt=function(t,n,i){if(n)switch(t){case $$.STARTED:case $$.FIRST_QUARTILE:case $$.MIDPOINT:case $$.THIRD_QUARTILE:case $$.COMPLETE:this.slt.Zs(new Eq(this.OSt))}if(i)switch(t){case $$.STARTED:case $$.FIRST_QUARTILE:case $$.MIDPOINT:case $$.THIRD_QUARTILE:case $$.COMPLETE:this.slt.Zs(new cq(this.hSt,this.hSt.rFt))}switch(t){case $$.COMPLETE:this.slt.Zs(new Tq(this.hSt,this.DSt.rFt));break;case $$.AD_BREAK_ENDED:this.slt.Zs(new Rq(this.Olt))}switch(t){case $$.FIRST_QUARTILE:this.slt.Zs(new _q(this.hSt,this.DSt.rFt));break;case $$.MIDPOINT:this.slt.Zs(new yq(this.hSt,this.DSt.rFt));break;case $$.THIRD_QUARTILE:this.slt.Zs(new kq(this.hSt,this.DSt.rFt))}},i.hFt=function(t){var n=t.wlt,i=this.dFt(n),e=function(t,n){if(t.Ult.length)return!1;for(var i=0;i<n;i++){var e=new P0(t,qW.fmt);t.JTt(e)}return!0}(i,n.yAt.Jpt),r=function(t,n){var i=n.yAt.jpt-1;return t.Ult[i]}(i,n),s=function(t,n){return t.ASt!==YW.READY&&(t.ISt(n),!0)}(r,n);this.hSt=r,this.OSt=i,i.ZTt(),this.fFt(t.type,e,s)},i.uFt=function(t){for(var n=0,i=this.CSt;n<i.length;n++){var e=i[n];if(Ft(t,e.L1))return e}},i.findAdBreakWithPredicate=function(t,n){for(var i=0,e=this.CSt;i<e.length;i++){var r=e[i];if(Ft(r.L1,t)&&n(r))return r}},i.lFt=function(t,n){for(var i,e=0,r=this.CSt;e<r.length;e++){var s=r[e];s.L1>=t&&s.L1<=n&&!s.mm&&(!i||s.L1>=i.L1)&&(i=s)}return i},i.A_=function(){this.hSt&&(this.slt.Zs(new Tq(this.hSt,this.hSt.rFt)),this.hSt=void 0),this.OSt&&(this.slt.Zs(new Rq(this.OSt)),this.OSt=void 0),this.PSt=!1,Qs(this.CSt)},i.Il=function(){this.A_(),this.slt.Il()},b(n,[{key:"Mlt",get:function(){return this.PSt}},{key:"slt",get:function(){return this.Flt}},{key:"Blt",get:function(){return this.CSt.filter(function(t){return!t.mm})}},{key:"wFt",get:function(){var t=this.findAdBreakWithPredicate(0,function(t){return t.KUt}),n=0;return t&&(n=t.Qpt),n}}]),n}(sq),x0=function(){function t(t){this.jUt=function(t){return t},this.fUt=t}var n=t.prototype;return n.qUt=function(t,n){var i,e,r,s,u,o,a,h,c,f;return Lr.async(function(d){for(;;)switch(d.prev=d.next){case 0:i=[],e=[],r=0,s=t.sources;case 3:if(!(r<s.length)){d.next=15;break}if(oy(u=s[r])){d.next=9;break}e.push(u),d.next=12;break;case 9:if(this.fUt){d.next=11;break}return d.abrupt("continue",12);case 11:i.push(u);case 12:r++,d.next=3;break;case 15:if(0!==i.length){d.next=17;break}return d.abrupt("return",t);case 17:if(void 0!==o||0===i.length){d.next=39;break}return d.next=20,Lr.awrap(aS.Yn.aD(i,t));case 20:return h=d.sent,c=h.cD,f=c,au(n),d.prev=24,d.next=27,Lr.awrap(this._Ft(f,n));case 27:o=d.sent,e.push(o),d.next=37;break;case 31:d.prev=31,d.t0=d.catch(24),hu(d.t0),a=d.t0,Ws(i,f);case 37:d.next=17;break;case 39:if(0===t.sources.length||0!==e.length){d.next=43;break}throw new v("Fatal: unable to play DAI streams.");case 43:a&&ot(a.message);case 44:return d.abrupt("return",xr({},t,{sources:e}));case 45:case"end":return d.stop()}},null,this,[[24,31]],We)},n._Ft=function(t,n){var i,e,r,s,u,o;return Lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(this.fUt){a.next=2;break}throw new v("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");case 2:return i=this.fUt.fu($$.LOADED,n),e=this.fUt.fu($$.ERROR,n),r=t.type===Jg.pg?"dash":"hls",this.fUt.Z6(xr({},t.ssai,{format:r})),a.next=8,Lr.awrap(We.race([i,e]));case 8:if((s=a.sent).type!==$$.LOADED){a.next=22;break}if(u=t.type===Jg.pg?Jg.pg:Jg.Ig,!this.jUt){a.next=17;break}return a.next=14,Lr.awrap(this.jUt(s.cUt.jd||""));case 14:a.t0=a.sent,a.next=18;break;case 17:a.t0=s.cUt.jd;case 18:return o=a.t0,a.abrupt("return",gE(xr({},t,{src:o,type:u})));case 22:throw v(s.cUt.mUt);case 23:case"end":return a.stop()}},null,this,null,We)},t}();oN((B0=function(t,n){return new S0},function(t){return function(t){function n(n,i){var e;(e=t.call(this,n,i)||this).gFt=void 0;var r=s.createElement("a");r.className=I0,r.tabIndex=0,e.hm.appendChild(r);var u,o,a=new E0(Kt(e));try{u=B0(a,r),o=new L0(u,Kt(e))}catch(t){}var h=new x0(u);return e.gFt=new N0(Kt(e),a,u,o,h),e}S(n,t);var i=n.prototype;return i.jw=function(){var n=t.prototype.jw.call(this),i=n.ads;if(!i)return n;var e=this.gFt.Yw;return _g(n,{get ads(){return _g(i,{get dai(){return e}})}})},i.GUt=function(n){t.prototype.Bx.call(this,n)},i.Bx=function(t){this.gFt.Bx(t)},i.OUt=function(){return t.prototype.Jx.call(this)},i.Jx=function(){return this.gFt.Jx()},i.Fy=function(n){return this.gFt.A_(),t.prototype.Fy.call(this,n)},i.WUt=function(n,i){return Lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.prototype.dF.call(this,n,i));case 1:case"end":return e.stop()}},null,this,null,We)},i.dF=function(t,n){return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.gFt.dF(t,n));case 1:case"end":return i.stop()}},null,this,null,We)},i.QUt=function(){return t.prototype.Ux.call(this)},i.ZUt=function(){return t.prototype.Fx.call(this)},i.Ux=function(){return this.gFt.mu},i.Fx=function(){return this.gFt.Gg},i.YUt=function(){t.prototype.Il.call(this)},i.Il=function(){this.gFt.Il()},n}(t)}),iN.xU);var M0,U0=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).yFt=function(){},e.mFt(),e}S(n,t);var e=n.prototype;return e.kFt=function(){this.yD&&this.yD.nu(Nf.uf,this.handleAirplayChangedEvent),this.yD=this.YL,this.yD.Js(Nf.uf,this.handleAirplayChangedEvent)},e.pFt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.yD){t.next=2;break}return t.abrupt("return");case 2:this.AFt(JS.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,We)},e.bFt=function(){this.AFt(JS.AVAILABLE)},e.Xy=function(){i.Mr.ze&&(this.TFt.zy(),this.SFt.Vs(),this.SFt=new su,_u(this.EFt(this.SFt.Ws)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).qw=void 0,e.TFt=void 0,e.yD=void 0,e.YL=void 0,e.me=JS.UNAVAILABLE,e.SFt=new su,e.yFt=void 0,e.handleAirplayChangedEvent=function(){e.yD&&e.yD.cm?e.pFt():e.vQ===JS.CONNECTED&&e.bFt()},e.TFt=n,e.YL=i,e}S(n,t);var e=n.prototype;return e.mFt=function(){this.kFt(),this.TFt.Js("sourcechange",this.yFt),i.Mr.ze&&this.AFt(JS.AVAILABLE)},e.preloadPlayer=function(t){if(au(t),this.yD.Q_<ty.Cg){var n=this.yD.fu("loadedmetadata",t);return this.yD.pm=hS.YA,n}return We.resolve()},e.AFt=function(t){t!==this.me&&(this.me=t,this.Zs(new nz(this.me)))},e.EFt=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lr.awrap(this.preloadPlayer(t));case 2:this.YL.Xy();case 3:case"end":return n.stop()}},null,this,null,We)},e.Vy=function(){i.Mr.ze&&this.yD.Vy()},e.Il=function(){this.tu(),this.TFt.nu("sourcechange",this.yFt),this.SFt.Vs()},b(n,[{key:"NM",get:function(){return this.vQ===JS.CONNECTED}},{key:"vQ",get:function(){return this.me}},{key:"Yw",get:function(){var t;return this.qw||(this.qw=(t=this,{get casting(){return t.NM},get state(){return t.vQ},start:function(){t.Xy()},stop:function(){t.Vy()},addEventListener:function(n,i){var e=Ig(n,Sg);t.Js(e,i)},removeEventListener:function(n,i){var e=Ig(n,Sg);t.nu(e,i)}})),this.qw}}]),n}(Au));oN(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).IFt=void 0,e.IFt=new U0(Kt(e),e.AM),e.CU.DM(e.IFt),e.Js("currentsourcechange",function(){e.IFt.kFt()}),e}S(n,t);var i=n.prototype;return i.jw=function(){var n=this,i=t.prototype.jw.call(this);return _g(i.cast,{get airplay(){return n.IFt.Yw}}),i},i.Il=function(){this.IFt.Il(),t.prototype.Il.call(this)},n}(t)},iN.LU),function(t){t.Mct="airplaystatechange"}(M0||(M0={}));var F0=function(t){this.type=M0.Mct,this.state=t},H0=function(t){function n(n){var i;return(i=t.call(this)||this).RFt=void 0,i.NFt=function(t){var n=new F0(t.state);i.MMt(n)},i.RFt=n,i.iMt(n),i}return S(n,t),n.prototype.iMt=function(t){t.addEventListener("statechange",this.NFt)},n}(c$);cN(function(t){var n;null!=(n=t.Yw.cast)&&n.airplay&&new H0(t.Yw.cast.airplay)});var X0,V0=function(t){this.type=t};!function(t){t.DFt="chromecastsendmessage",t.CFt="chromecaststartforwarding",t.OFt="chromecaststopforwarding"}(X0||(X0={}));var z0,G0=function(t){function n(n,i,e){var r;return(r=t.call(this,X0.DFt)||this).namespace=n,r.message=i,r.messageId=e,r}return S(n,t),n}(V0),W0=function(t){function n(n){var i;return(i=t.call(this,X0.CFt)||this).namespace=n,i}return S(n,t),n}(V0),q0=function(t){function n(n){var i;return(i=t.call(this,X0.OFt)||this).namespace=n,i}return S(n,t),n}(V0),Y0=function(){function t(){this.PFt=new c$,this.BFt=void 0,this.LFt={},this.xFt={},this.BFt=0}var n=t.prototype;return n.Zct=function(t,n){void 0===this.xFt[t]&&(this.xFt[t]=[]),0===this.xFt[t].length&&this.PFt.MMt(new W0(t)),this.xFt[t].push(n)},n.Sc=function(t,n){if(void 0!==this.xFt[t])for(var i=0,e=this.xFt[t].slice();i<e.length;i++){(0,e[i])(t,n)}},n.nft=function(t,n){void 0!==this.xFt[t]&&(Ws(this.xFt[t],n),0===this.xFt[t].length&&(this.PFt.MMt(new q0(t)),this.xFt[t]=void 0))},n.cJ=function(t,n){var i=new Ko;return this.LFt[++this.BFt]=i,this.PFt.MMt(new G0(t,JSON.stringify(n),this.BFt)),i.Xu},n.MFt=function(t){var n;null==(n=this.LFt[t])||n.Wu(),this.LFt[t]=void 0},n.UFt=function(t,n){var i;null==(i=this.LFt[t])||i.Yu(new NX("CHANNEL_ERROR",n)),this.LFt[t]=void 0},n.Il=function(){for(var t in this.LFt)this.UFt(Number(t),"Chromecast message bus unloading");this.xFt={}},t}();!function(t){t.FFt="chromecastmediasessioninitialize",t.Rf="chromecastplay",t.If="chromecastpause",t.cO="chromecastseek",t.HFt="chromecastsetactivetracks",t.XFt="chromecastsetplaybackrate",t.VFt="chromecaststop",t.Vct="chromecastreceiverinfo",t.zFt="chromecastmediasessionunload"}(z0||(z0={}));var j0,Q0=function(t){function n(){return t.call(this,z0.FFt)||this}return S(n,t),n}(V0),Z0=function(t){function n(){return t.call(this,z0.Rf)||this}return S(n,t),n}(V0),J0=function(t){function n(){return t.call(this,z0.If)||this}return S(n,t),n}(V0),K0=function(t){function n(n,i){var e;return(e=t.call(this,z0.cO)||this).time=n,e.paused=i,e}return S(n,t),n}(V0),$0=function(t){function n(n){var i;return(i=t.call(this,z0.HFt)||this).serializedActiveTrackIds=n,i}return S(n,t),n}(V0),t1=function(t){function n(n){var i;return(i=t.call(this,z0.XFt)||this).playbackRate=n,i}return S(n,t),n}(V0),n1=function(t){function n(){return t.call(this,z0.VFt)||this}return S(n,t),n}(V0),i1=function(t){function n(n){var i;return(i=t.call(this,z0.Vct)||this).receiverVersion=n,i}return S(n,t),n}(V0),e1=function(t){function n(){return t.call(this,z0.zFt)||this}return S(n,t),n}(V0),r1=function(n){function i(i,e){var r;return(r=n.call(this,e)||this).Dft=void 0,r.PFt=new c$,r.GFt=void 0,r.WFt=function(){var t=r.Dft.gft();t&&r.PFt.MMt(new i1(t.version))},r.Dft=i,t.iosChromecastMediaSessionUpwardBridge=Kt(r),r.WFt(),r.Dft.Js(BX.oft,r.WFt),r.PFt.MMt(new Q0),r}S(i,n);var e=i.prototype;return e.notifySourceChange=function(t,n){var i=JSON.parse(t),e=JSON.parse(n),r=e?OE(e,Uy({})):void 0;this.Zs(new rV(i,r))},e.notifyMediaStatusUpdate=function(t){var n,i=JSON.parse(t);i.ended?this.Zs(new JX):(i.buffers&&this.Zs(new eV(new gS(i.buffers.seekable))),this.Zs(new ZX(null!=(n=i.duration)?n:1/0)),this.Zs(new $X(i.paused)),this.Zs(new tV(i.playbackRate)),this.Fft(i.tracks),i.activeTracks&&this.Zs(new cV(i.activeTracks)))},e.Fft=function(t){if(t){var n=t.filter(mV),i=t.filter(kV),e=t.filter(pV);this.Zs(new hV(n,i,e))}},e.notifyTimeChange=function(t){this.Zs(new jX(t))},e.notifySeekSuccess=function(){var t;null==(t=this.GFt)||t.Wu(),this.GFt=void 0},e.notifySeekError=function(t){var n;null==(n=this.GFt)||n.Yu(new NX("CANCEL",t)),this.GFt=void 0},e.xy=function(){this.PFt.MMt(new J0)},e.Ly=function(){this.PFt.MMt(new Z0)},e.xu=function(t,n){return this.GFt?We.reject(new NX("CANCEL","Seeking cancelled, there was already a seek in progress.")):(this.GFt=new Ko,this.PFt.MMt(new K0(t,n)),this.GFt.Xu)},e.qft=function(t){this.PFt.MMt(new $0(JSON.stringify(t)))},e.qx=function(t){n.prototype.qx.call(this,t),this.PFt.MMt(new t1(t))},e.My=function(){this.PFt.MMt(new n1)},e.Il=function(){this.GFt&&this.notifySeekError("Seeking cancelled, Chromecast media session ending"),this.Dft.nu(BX.oft,this.WFt),this.PFt.MMt(new e1),t.iosChromecastMediaSessionUpwardBridge=void 0,n.prototype.Il.call(this)},i}(yV);!function(t){t.SESSION_INITIALIZE="chromecastsessioninitialize",t.qFt="chromecastload",t.YFt="chromecastsetvolume",t.jFt="chromecastsetmuted",t.QFt="chromecastsessionunload"}(j0||(j0={}));var s1,u1=function(t){function n(){return t.call(this,j0.SESSION_INITIALIZE)||this}return S(n,t),n}(V0),o1=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,j0.qFt)||this).src=n,u.sourceType=i,u.currentTime=e,u.customData=r,u.source=s,u}return S(n,t),n}(V0),a1=function(t){function n(n){var i;return(i=t.call(this,j0.YFt)||this).volume=n,i}return S(n,t),n}(V0),h1=function(t){function n(n){var i;return(i=t.call(this,j0.jFt)||this).muted=n,i}return S(n,t),n}(V0),c1=function(t){function n(){return t.call(this,j0.QFt)||this}return S(n,t),n}(V0),f1=function(n){function i(){var i;return(i=n.call(this,new Y0)||this).PFt=new c$,i.ZFt=new Ko,i.JFt="",i.KFt=[],i.Cft=void 0,t.iosChromecastSessionUpwardBridge=Kt(i),i.PFt.MMt(new u1),i}S(i,n),i.TJ=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t=new i,n.next=3,Lr.awrap(t.ZFt.Xu);case 3:return n.abrupt("return",t);case 4:case"end":return n.stop()}},null,null,null,We)};var e=i.prototype;return e.notifyReceiverName=function(t){this.JFt=t,this.ZFt.Wu()},e.notifyVolumeChange=function(t,n){this.Zs(new FX(t,n))},e.notifyLoadSuccess=function(){var t;null==(t=this.KFt.shift())||t.Wu()},e.notifyLoadFailed=function(t){var n;null==(n=this.KFt.shift())||n.Yu(new NX("LOAD_MEDIA_FAILED",t))},e.notifyMediaSessionStart=function(){this.Cft=new r1(this,this.hft),this.Zs(new UX)},e.notifyMediaSessionStop=function(){this.Cft=void 0,this.Zs(new UX)},e.notifyMessage=function(t,n){this.Wct.Sc(t,n)},e.notifyMessageSuccess=function(t){this.Wct.MFt(t)},e.notifyMessageError=function(t,n){this.Wct.UFt(t,n)},e.tvt=function(){return this.Cft},e.rvt=function(){return this.JFt},e.nvt=function(t){var n=new Ko;this.KFt.push(n);var i=t.ivt,e=AE(i)||"",r=pE(i)||"";return this.PFt.MMt(new o1(e,r,t.Xg,JSON.stringify(t.evt),JSON.stringify(t.ivt))),n.Xu},e.Vx=function(t){this.PFt.MMt(new h1(t))},e.rM=function(t){this.PFt.MMt(new a1(t))},e.Il=function(){this.PFt.MMt(new c1),n.prototype.Il.call(this),t.iosChromecastSessionUpwardBridge=void 0},i}(GX);!function(t){t.$Ft="chromecaststartsession",t.tHt="chromecaststopsession",t.nHt="chromecastonstart",t.iHt="chromecastonstop",t.eHt="chromecastonjoin",t.rHt="chromecastonleave"}(s1||(s1={}));var v1,d1,l1,w1,_1=function(t){function n(){return t.call(this,s1.$Ft)||this}return S(n,t),n}(V0),g1=function(t){function n(n){var i;return(i=t.call(this,s1.tHt)||this).killSession=n,i}return S(n,t),n}(V0),y1=function(t){function n(n){var i;return(i=t.call(this,s1.nHt)||this).source=n,i}return S(n,t),n}(V0),m1=function(t){function n(n){var i;return(i=t.call(this,s1.iHt)||this).source=n,i}return S(n,t),n}(V0),k1=function(t){function n(n){var i;return(i=t.call(this,s1.eHt)||this).source=n,i}return S(n,t),n}(V0),p1=function(t){function n(n){var i;return(i=t.call(this,s1.rHt)||this).source=n,i}return S(n,t),n}(V0);oN(uz(new(function(n){function i(){var i;return(i=n.call(this)||this).PFt=new c$,i.Dft=void 0,i.me=JS.AVAILABLE,i.sHt=[],i.uHt=[],i.oHt=[],i.aHt=[],i.hHt=[],t.iosChromecastClientUpwardBridge=Kt(i),i}S(i,n);var e=i.prototype;return e.cvt=function(t){},e.fvt=function(){},e.notifySessionStateChange=function(t){var n=function(t){switch(t.toLowerCase()){case"available":return JS.AVAILABLE;case"connecting":return JS.CONNECTING;case"connected":return JS.CONNECTED;default:return JS.UNAVAILABLE}}(t);this.me=n,n!==JS.CONNECTED&&(this.Dft=void 0),this.Zs(new RX(n))},e.notifySessionStartSucceeded=function(){this.cHt()},e.cHt=function(){var t,n;return Lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Lr.awrap(f1.TJ());case 2:for(this.Dft=i.sent,t=0,n=this.sHt;t<n.length;t++)n[t].Wu();Qs(this.sHt);case 5:case"end":return i.stop()}},null,this,null,We)},e.notifySessionStartFailed=function(t){var n=this.sHt.shift(),i="abort"===t?new uu:new NX("SESSION_ERROR",t);null==n||n.Yu(i)},e.vvt=function(){return this.Dft},e.avt=function(){return this.me},e.gx=function(t){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",We.resolve());case 1:case"end":return t.stop()}},null,null,null,We)},e.dvt=function(){var t;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.avt()!==JS.CONNECTED){n.next=2;break}return n.abrupt("return",We.resolve());case 2:return t=new Ko,this.sHt.push(t),this.PFt.MMt(new _1),n.abrupt("return",t.Xu);case 6:case"end":return n.stop()}},null,this,null,We)},e.lvt=function(t){var n=new Ko;return this.uHt.push(n),this.PFt.MMt(new y1(t)),n.Xu},e.notifyOnStarted=function(t){for(var n=JSON.parse(t),i=n?OE(n,Uy({})):void 0,e=0,r=this.uHt;e<r.length;e++){r[e].Wu(i)}Qs(this.uHt)},e.wvt=function(t){var n=new Ko;return this.oHt.push(n),this.PFt.MMt(new m1(t)),n.Xu},e.notifyOnStopped=function(t){for(var n=JSON.parse(t),i=n?OE(n,Uy({})):void 0,e=0,r=this.oHt;e<r.length;e++){r[e].Wu(i)}Qs(this.oHt)},e._vt=function(t){var n=new Ko;return this.aHt.push(n),this.PFt.MMt(new k1(t)),n.Xu},e.notifyOnJoined=function(t){for(var n=JSON.parse(t),i=n?OE(n,Uy({})):void 0,e=0,r=this.aHt;e<r.length;e++){r[e].Wu(i)}Qs(this.aHt)},e.gvt=function(t){var n=new Ko;return this.hHt.push(n),this.PFt.MMt(new p1(t)),n.Xu},e.notifyOnLeft=function(t){for(var n=JSON.parse(t),i=n?OE(n,Uy({})):void 0,e=0,r=this.hHt;e<r.length;e++){r[e].Wu(i)}Qs(this.hHt)},e.yvt=function(t){this.PFt.MMt(new g1(t))},i}(Au))),iN.LU),function(t){t.SET_VOLUME="IMA_ADSMANAGER_SET_VOLUME",t.DESTROY="IMA_ADSMANAGER_DESTROY",t.START="IMA_ADSMANAGER_START",t.RESUME="IMA_ADSMANAGER_RESUME",t.PAUSE="IMA_ADSMANAGER_PAUSE",t.SKIP="IMA_ADSMANAGER_SKIP",t.STOP="IMA_ADSMANAGER_STOP"}(v1||(v1={})),function(t){t.VOLUME_UPDATE="IMA_VOLUME_UPDATE",t.REMAINING_TIME_UPDATE="IMA_REMAINING_TIME_UPDATE",t.CURRENT_AD_UPDATE="IMA_CURRENT_AD_UPDATE",t.CUE_POINTS_UPDATE="IMA_CUE_POINTS_UPDATE"}(d1||(d1={})),function(t){t.CONTENT_COMPLETE="IMA_ADSLOADER_CONTENT_COMPLETE",t.REQUEST_ADS="IMA_ADSLOADER_REQUEST_ADS",t.DESTROY="IMA_ADSLOADER_DESTROY"}(l1||(l1={})),function(t){t.INITIALIZE="IMA_DISPLAY_CONTAINER_INITIALIZE",t.SHOW="IMA_DISPLAY_CONTAINER_SHOW",t.HIDE="IMA_DISPLAY_CONTAINER_HIDE",t.DESTROY="IMA_DISPLAY_CONTAINER_DESTROY"}(w1||(w1={}));var A1,b1=function(){this.type=w1.INITIALIZE},T1=function(){this.type=w1.SHOW},S1=function(){this.type=w1.HIDE},E1=function(){this.type=w1.DESTROY},I1=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){switch(t){case A1.AD_EVENT_RECEIVED:this.Zs(new D1({type:n.type,ad:n.ad,adData:n.adData}));break;case A1.ERROR:this.Zs(new C1(n));break;case A1.UPDATE_NATIVE_PROPERTY:var i=this.getNativePropertyUpdateEvent(n);i&&this.Zs(i);break;case A1.ADS_LOADER_STATUS:this.Zs(new R1(n));break;case A1.AD_DISPLAY_CONTAINER_CREATED:this.Zs(new N1)}},i.getNativePropertyUpdateEvent=function(t){switch(t.type){case d1.REMAINING_TIME_UPDATE:return new O1(t);case d1.CURRENT_AD_UPDATE:return new P1(t);case d1.CUE_POINTS_UPDATE:return new B1(t)}},n}(vK),R1=function(t){function n(n){var i;return(i=t.call(this,A1.ADS_LOADER_STATUS)||this).detail=n,i}return S(n,t),n}(Tu),N1=function(t){function n(n){var i;return void 0===n&&(n=void 0),(i=t.call(this,A1.AD_DISPLAY_CONTAINER_CREATED)||this).detail=n,i}return S(n,t),n}(Tu),D1=function(t){function n(n){var i;return(i=t.call(this,A1.AD_EVENT_RECEIVED)||this).detail=n,i}return S(n,t),n}(Tu),C1=function(t){function n(n){var i;return(i=t.call(this,A1.ERROR)||this).detail=n,i}return S(n,t),n}(Tu),O1=function(t){function n(n){var i;return(i=t.call(this,d1.REMAINING_TIME_UPDATE)||this).detail=n,i}return S(n,t),n}(Tu),P1=function(t){function n(n){var i;return(i=t.call(this,d1.CURRENT_AD_UPDATE)||this).detail=n,i}return S(n,t),n}(Tu),B1=function(t){function n(n){var i;return(i=t.call(this,d1.CUE_POINTS_UPDATE)||this).detail=n,i}return S(n,t),n}(Tu);!function(t){t.AD_EVENT_RECEIVED="adEventReceived",t.ERROR="error",t.UPDATE_NATIVE_PROPERTY="updateNativeProperty",t.ADS_LOADER_STATUS="adsLoaderStatus",t.AD_DISPLAY_CONTAINER_CREATED="adDisplayContainerCreated"}(A1||(A1={}));var L1=function(){function t(t,n){var i=this;this.fxt=void 0,this.uUt=void 0,this.aEt=void 0,this.fHt=function(t){var n;null==(n=i.aEt)||n.Wu(),i.aEt=void 0},this.fxt=t,this.uUt=n,this.fxt.addEventListener(A1.AD_DISPLAY_CONTAINER_CREATED,this.fHt)}var n=t.prototype;return n.qy=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.uUt.MMt(new T1);case 1:case"end":return t.stop()}},null,this,null,We)},n.Yy=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.uUt.MMt(new S1);case 1:case"end":return t.stop()}},null,this,null,We)},n.gx=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aEt=new Ko,this.uUt.MMt(new b1),t.abrupt("return",this.aEt.Xu);case 3:case"end":return t.stop()}},null,this,null,We)},n.xs=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.uUt.MMt(new E1),this.aEt=void 0;case 2:case"end":return t.stop()}},null,this,null,We)},t}(),x1=function(t){this.type=v1.SET_VOLUME,this.value=t},M1=function(){this.type=v1.DESTROY},U1=function(){this.type=v1.START},F1=function(){this.type=v1.RESUME},H1=function(){this.type=v1.PAUSE},X1=function(){this.type=v1.SKIP},V1=function(){this.type=v1.STOP};function z1(t){if(t){var n=void 0;t.adPodInfo&&(n={jpt:t.adPodInfo.adPosition,Qpt:t.adPodInfo.maxDuration,Zpt:t.adPodInfo.podIndex,L1:t.adPodInfo.timeOffset,Jpt:t.adPodInfo.totalAds,Kpt:t.adPodInfo.isBumper});var i=t.companionAds&&t.companionAds.map(function(t){return{s_t:t.adSlotId,Ym:t.content,Nd:t.contentType,oT:t.height,Ek:t.width}})||[],e=t.universalAdIds&&t.universalAdIds.map(function(t){return{$pt:t.adIdRegistry,tAt:t.adIdValue}})||[],r={};try{r=JSON.parse(t.traffickingParametersString)}catch(t){}return{x_t:t.adId,yAt:n,gwt:t.adSystem,nAt:t.advertiserName,r_t:t.apiFramework,hwt:i,Nd:t.contentType,xwt:t.creativeId,iAt:t.creativeAdId,eAt:t.dealId,gT:t.description,Vg:t.duration,Ek:t.width,oT:t.height,rAt:t.mediaUrl,sAt:t.minSuggestedDuration,uAt:t.skipTimeOffset,oAt:t.surveyUrl,PN:t.title,aAt:r,hAt:t.traffickingParametersString,cAt:t.uiElements,vwt:e,fAt:t.vastMediaBitrate,vAt:t.vastMediaHeight,dAt:t.vastMediaWidth,lAt:t.wrapperAdIds,wAt:t.wrapperAdSystems,_At:t.wrapperCreativeIds,gAt:t.isLinear}}}var G1=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).fxt=void 0,r.uUt=void 0,r.vHt=void 0,r.dHt=function(t){r.vHt.remainingTime=t.detail.time},r.lHt=function(t){r.vHt.currentAd=t.detail.ad},r.wHt=function(t){r.vHt.cuePoints=t.detail.cuePoints},r.wUt=function(t){var n=z1(t.detail.ad),i={type:t.detail.type,date:new Date,wlt:n,Xbt:t.detail.adData};r.Zs(i)},r.zbt=function(t){r.Zs({date:new Date,wlt:void 0,type:SW.QAt,Xbt:{Gbt:{wu:t.detail.message,bAt:t.detail.vastErrorCode,llt:t.detail.errorCode,vs:t.detail.type,TAt:void 0}}})},r.fxt=n,r.uUt=i,r.vHt={volume:void 0,remainingTime:void 0,currentAd:void 0,cuePoints:e},r.fxt.addEventListener(d1.REMAINING_TIME_UPDATE,r.dHt),r.fxt.addEventListener(d1.CURRENT_AD_UPDATE,r.lHt),r.fxt.addEventListener(d1.CUE_POINTS_UPDATE,r.wHt),r.fxt.addEventListener(A1.AD_EVENT_RECEIVED,r.wUt),r.fxt.addEventListener(A1.ERROR,r.zbt),r}S(n,t);var i=n.prototype;return i.rM=function(t){return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.uUt.MMt(new x1(t));case 1:case"end":return n.stop()}},null,this,null,We)},i.eM=function(){var t;return null!=(t=this.vHt.volume)?t:-1},i.HTt=function(){var t;return null!=(t=this.vHt.remainingTime)?t:-1},i.xs=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.uUt.MMt(new M1),this.fxt.removeEventListener(d1.REMAINING_TIME_UPDATE,this.dHt),this.fxt.removeEventListener(d1.CURRENT_AD_UPDATE,this.lHt),this.fxt.removeEventListener(d1.CUE_POINTS_UPDATE,this.wHt),this.fxt.removeEventListener(A1.AD_EVENT_RECEIVED,this.wUt),this.fxt.removeEventListener(A1.ERROR,this.zbt);case 6:case"end":return t.stop()}},null,this,null,We)},i.DD=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.uUt.MMt(new U1);case 1:case"end":return t.stop()}},null,this,null,We)},i.OEt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.uUt.MMt(new F1);case 1:case"end":return t.stop()}},null,this,null,We)},i.xy=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.uUt.MMt(new H1);case 1:case"end":return t.stop()}},null,this,null,We)},i.cb=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.uUt.MMt(new X1);case 1:case"end":return t.stop()}},null,this,null,We)},i.My=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.uUt.MMt(new V1);case 1:case"end":return t.stop()}},null,this,null,We)},i.GEt=function(t){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:We.resolve();case 1:case"end":return t.stop()}},null,null,null,We)},i.Vbt=function(){return z1(this.vHt.currentAd)},i.xEt=function(){var t;return null!=(t=this.vHt.cuePoints)?t:[]},n}(Au),W1=function(t){this.adsResponse=void 0,this.adTagUrl=void 0,this.adWillAutoPlay=void 0,this.adWillPlayMuted=void 0,this.adsResponse=t.zkt,this.adTagUrl=t.Vkt,this.adWillAutoPlay=t.Hkt,this.adWillPlayMuted=t.Xkt},q1=function(t){this.enablePreloading=void 0,this.mimeTypes=void 0,this.playAdsAfterTime=void 0,this.loadVideoTimeout=void 0,this.bitrate=void 0,this.enablePreloading=t.XEt,this.mimeTypes=t.HEt,this.playAdsAfterTime=t.zEt,this.loadVideoTimeout=t.VEt,this.bitrate=t.ESt},Y1=function(){this.type=l1.CONTENT_COMPLETE},j1=function(t,n){this.type=l1.REQUEST_ADS,this.adsRequest=t,this.adsRenderingSettings=n},Q1=function(){this.type=l1.DESTROY},Z1=function(t){function n(n,i){var e;return(e=t.call(this)||this).xLt=void 0,e.uUt=void 0,e.fxt=void 0,e._Ht=function(t){if(e.xLt){if(t.detail.isLoaded){var n,i=new G1(e.fxt,e.uUt,t.detail.initialCuePoints);null==(n=e.xLt)||n.Wu(i)}else{var r,s={wu:t.detail.error.message,bAt:t.detail.error.vastErrorCode,llt:t.detail.error.errorCode,vs:t.detail.error.type,TAt:void 0};null==(r=e.xLt)||r.Yu(s)}e.xLt=void 0}},e.uUt=i,e.fxt=n,e.fxt.addEventListener(A1.ADS_LOADER_STATUS,e._Ht),e}S(n,t);var i=n.prototype;return i.PEt=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.uUt.MMt(new Y1);case 1:case"end":return t.stop()}},null,this,null,We)},i.Vpt=function(t,n,i){var e,r;return Lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.xLt){n.next=2;break}throw new v("Only one ImaAdsRequest can be made at a time.");case 2:return this.xLt=new Ko,e=new W1(t),r=new q1(i),this.uUt.MMt(new j1(e,r)),n.abrupt("return",this.xLt.Xu);case 8:case"end":return n.stop()}},null,this,null,We)},i.xs=function(){return Lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.fxt.removeEventListener(A1.ADS_LOADER_STATUS,this._Ht),this.uUt.MMt(new Q1);case 2:case"end":return t.stop()}},null,this,null,We)},n}(Au),J1=function(){function t(t){this.XMt=void 0,this.XMt=new y$(t)}return t.prototype.MMt=function(t){this.XMt.cJ(t.type,WQ(t))},t}();Hq.Yn.registerNativeImaAdPlayerConstructor(function(t,n,i,e,r){var s=new I1;uK().ima={sdkEventBus:s};var u=M.Gn?new J1(e.uid):new c$,o=new L1(s,u),a=new Z1(s,u);return new Fq(t,n,i,e,r,o,a)}),n.ChromelessPlayer=RN,n.Player=RN,n.cache=n$,n.createGlobals=hK,n.features=CN,n.getCueMirrorMap=oK,n.getGlobalId=aK,n.getSdkEventBridge=uK,n.playerSuiteVersion="2023.1.0",n.players=ON,n.registerContentProtectionIntegration=PN,n.utils=DN,n.version="4.6.0",l.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
