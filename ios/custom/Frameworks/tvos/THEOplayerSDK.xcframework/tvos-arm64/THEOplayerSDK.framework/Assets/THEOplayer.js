/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2023.1.0 (4.6.0)
 Created: 2023-01-12T14:08:22.527Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i=t.window,e=t.document,r=t.location,u=t.navigator,s=t.setTimeout,o=t.clearTimeout,c=t.setInterval,h=t.clearInterval,a=t.Error,f=t.TypeError,d=(t.SyntaxError,t.Object),v=t.Math,l=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,_=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest);var m=s;function p(t){return Boolean(t&&void 0!==t.length)}function b(){}function k(t){if(!(this instanceof k))throw new f("Promises must be constructed via new");if("function"!=typeof t)throw new f("not a function");this.o=0,this.l=!1,this.g=void 0,this.p=[],A(t,this)}function T(t,n){for(;3===t.o;)t=t.g;0!==t.o?(t.l=!0,k.R(function(){var i=1===t.o?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.g)}catch(t){return void S(n.promise,t)}E(n.promise,e)}else(1===t.o?E:S)(n.promise,t.g)})):t.p.push(n)}function E(t,n){try{if(n===t)throw new f("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof k)return t.o=3,t.g=n,void R(t);if("function"==typeof i)return void A((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.o=1,t.g=n,R(t)}catch(n){S(t,n)}var e,r}function S(t,n){t.o=2,t.g=n,R(t)}function R(t){2===t.o&&0===t.p.length&&k.R(function(){t.l||k.I(t.g)});for(var n=0,i=t.p.length;n<i;n++)T(t,t.p[n]);t.p=null}function I(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function A(t,n){var i=!1;try{t(function(t){i||(i=!0,E(n,t))},function(t){i||(i=!0,S(n,t))})}catch(t){if(i)return;i=!0,S(n,t)}}k.prototype.catch=function(t){return this.then(null,t)},k.prototype.then=function(t,n){var i=new this.constructor(b);return T(this,new I(t,n,i)),i},k.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},k.all=function(t){return new k(function(n,i){if(!p(t))return i(new f("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,function(n){u(t,n)},i)}e[t]=s,0==--r&&n(e)}catch(t){i(t)}}for(var s=0;s<e.length;s++)u(s,e[s])})},k.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new f(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,function(n){u(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var s=0;s<e.length;s++)u(s,e[s])})},k.resolve=function(t){return t&&"object"==typeof t&&t.constructor===k?t:new k(function(n){n(t)})},k.reject=function(t){return new k(function(n,i){i(t)})},k.race=function(t){return new k(function(n,i){if(!p(t))return i(new f("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)k.resolve(t[e]).then(n,i)})},k.R="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){m(t,0)},k.I=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var N=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),O=u?u.userAgent:"",D=O.match(/Firefox\/([0-9]+)/i),C=null!=D,P=D?Number(D[1]):0,x=O.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),L=null!=x,M=x?Number(x[3]):0,B=function(){function t(t){this.N=0,this.C=0,this.P=[],this.M=t}return t.prototype.B=function(t){var n=this.length();this.F(n+1);var i=this.C+n&this.M-1;this.P[i]=t,this.N=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.M<n)this.B(t);else{var i=this.C+n-1,e=this.M-1;this.P[i&e]=t,this.N=n}},t.prototype.shift=function(){var t=this.C,n=this.P[t];return this.P[t]=void 0,this.C=t+1&this.M-1,this.N--,n},t.prototype.length=function(){return this.N},t.prototype.F=function(t){this.M<t&&this.U(this.M<<1)},t.prototype.U=function(t){var n=this.M;this.M=t;var i=this.C+this.N&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.P,0,n,i)},t}();var F="unhandledrejection",U=t.PromiseRejectionEvent,V=t.CustomEvent;function H(t){return new U(F,{reason:t,promise:N.reject(t).catch(function(){}),cancelable:!0})}function q(t){var n=new V(F,{detail:{reason:t},cancelable:!0});return d.defineProperty(n,"reason",{value:t}),n}function W(t){var n=e.createEvent("CustomEvent");return n.initCustomEvent(F,!1,!0,{reason:t}),n}var z,G,$,j,Y,X,K,J,Q,Z,tt,nt,it=function(t){return(it=function(){try{var t=N.resolve(),n=new U(F,{reason:"error",promise:t});return F===n.type&&"error"===n.reason}catch(t){}return!1}()?H:function(){try{var t=new V(F,{detail:{reason:"error"}});return F===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?q:W)(t)};if(N&&!(C&&P<60||L&&M<15))G=N;else{G=k;var et=null!==(z=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=N;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==z?z:k.R,rt=($=et,j=new B(16),Y=!1,{V:function(t){j.push(t),Y||(Y=!0,$(X))},H:X=function(){for(;j.length()>0;)j.shift()();Y=!1}});k.R=rt.V,k.I=function(n){try{var i=it(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}s(function(){throw new a("Unhandled promise rejection: ".concat(n))},0)}}var ut,st,ot,ct={W:function(){function t(){this.G=[]}var n=t.prototype;return n.j=function(){},n.Y=function(t){return{X:function(){return G.resolve()},K:function(){}}},n.J=function(t){throw new a("Not implemented")},n.Z=function(t){return G.resolve()},n.nt=function(t){return G.resolve()},n.it=function(t){},n.et=function(){},t}(),rt:function(){function t(){}var n=t.prototype;return n.ut=function(){return G.resolve("all")},n.st=function(){},n.et=function(){},t}(),ot:{ct:function(t){getActiveDocument().addEventListener("unload",t)},ht:function(t){getActiveDocument().removeEventListener("unload",t)}},ft:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function ht(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function at(t,n,i){return n&&ht(t.prototype,n),i&&ht(t,i),d.defineProperty(t,"prototype",{writable:!1}),t}function ft(t,n){return(ft=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function dt(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,ft(t,n)}function vt(t){st=t}Element.prototype.style={},K=(ut=ct).W,J=ut.rt,Q=ut.ot,Z=ut.ft,tt=Z&&Z.location,nt=Z&&Z.navigator,function(t){t.dt="web",t.vt="android",t.wt="android-tv",t.yt="ios",t._t="tvos",t.pt="chromecast"}(ot||(ot={}));var lt=u?u.userAgent:"",wt=lt.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),gt=lt.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),yt=lt.match(/Android ([0-9\.]+)/i),_t=lt.match(/Windows NT ([0-9\.]+)/i),mt=lt.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),pt=lt.match(/Firefox\/([0-9\.]+)/i),bt=lt.match(/OPR\/(\d+\.\d+)/i),kt=lt.match(/Tizen ([0-9\.]+)/i),Tt=lt.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),Et=function(){function n(){this.bt=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.kt=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(lt)||/(macintosh|mac(?=_powerpc)\s)/i.test(lt),this.Tt=/Windows NT/i.test(lt),this.Et=_t?w(_t[1]):0,this.St=/Android/i.test(lt),this.Rt=yt?w(yt[1]):0,this.It=/windows phone (8|8\.1)/i.test(lt),this.At=/iPhone/i.test(lt),this.Nt=/iPad/i.test(lt),this.Ot=this.kt&&this.bt&&!this.Nt,this.Dt=/iPod/i.test(lt),this.Ct=/Mobile Safari/i.test(lt),this.Pt=/EOSSTB/i.test(lt),this.xt=(this.At||this.Nt||this.Ot||this.Dt)&&!this.It,this.Lt=Tt?w(Tt[2]):0,this.Mt=this.It||this.xt||this.St||this.Ct,this.Bt=/CriOS/i.test(lt),this.Ft=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Bt,this.Ut=this.Ft&&/Edg\//i.test(u.userAgent),this.Vt=gt?l(gt[1],10):0,this.Ht=Boolean(t.chrome||/Chrome/i.test(lt)||/CriOS/i.test(lt)),this.qt=wt?l(wt[1],10):0,this.Wt=/SMART-TV.*Tizen/i.test(lt),this.zt=kt?w(kt[1]):0,this.Gt=/webos|web0s/i.test(lt),this.$t=/Edge\/\d+/i.test(lt),this.jt=/Trident/i.test(lt),this.Yt=this.jt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Xt=/Vivaldi/i.test(lt),this.Kt=/Firefox/i.test(lt)&&!/Seamonkey/i.test(lt),this.Jt=pt?w(pt[1]):0,this.Qt=/Safari/i.test(lt)&&!/Chrome/i.test(lt)&&!this.It&&!this.Wt,this.Zt=mt?w(mt[2]):0,this.tn=Boolean(bt),this.nn=bt?w(bt[1]):0,this.in=/CrKey/.test(lt),this.en=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(lt),this.rn="tvos"===ot.wt,this.un="tvos"===ot.vt,this.sn=this.un||this.rn,this.cn="tvos"===ot.yt,this.hn="tvos"===ot._t,this.an="tvos"===ot.pt}return at(n,[{key:"fn",get:function(){return this.bt}},{key:"dn",get:function(){return this.kt}},{key:"vn",get:function(){return this.Tt}},{key:"ln",get:function(){return this.Et}},{key:"wn",get:function(){return this.St}},{key:"gn",get:function(){return this.Rt}},{key:"yn",get:function(){return this.It}},{key:"_n",get:function(){return this.At}},{key:"mn",get:function(){return this.Nt}},{key:"pn",get:function(){return this.Ot}},{key:"bn",get:function(){return this.Dt}},{key:"kn",get:function(){return this.xt}},{key:"Tn",get:function(){return this.Lt}},{key:"En",get:function(){return this.Pt}},{key:"Sn",get:function(){return this.Ct}},{key:"Rn",get:function(){return this.Mt}},{key:"In",get:function(){return this.Bt}},{key:"An",get:function(){return this.Ft}},{key:"Nn",get:function(){return this.qt}},{key:"On",get:function(){return this.Ut}},{key:"Dn",get:function(){return this.Vt}},{key:"Cn",get:function(){return this.Wt}},{key:"Pn",get:function(){return this.zt}},{key:"xn",get:function(){return this.Gt}},{key:"Ln",get:function(){return this.$t}},{key:"Mn",get:function(){return this.jt}},{key:"Bn",get:function(){return this.Yt}},{key:"Fn",get:function(){return this.Xt}},{key:"Un",get:function(){return this.Kt}},{key:"Vn",get:function(){return this.Jt}},{key:"Hn",get:function(){return this.Qt}},{key:"qn",get:function(){return this.Zt}},{key:"Wn",get:function(){return this.tn}},{key:"zn",get:function(){return this.nn}},{key:"Gn",get:function(){return this.in}},{key:"$n",get:function(){return this.en}},{key:"jn",get:function(){return!(!this.xn&&!this.Cn)&&this.Nn<=56}},{key:"Yn",get:function(){return this.rn}},{key:"Xn",get:function(){return this.un}},{key:"Kn",get:function(){return this.sn}},{key:"Jn",get:function(){return this.cn}},{key:"Qn",get:function(){return this.hn}},{key:"Zn",get:function(){return this.an}},{key:"ti",get:function(){return this.Ht}}]),n}();Et.ni=new Et;var St=Et.ni,Rt={}.hasOwnProperty,It={}.toString;function At(t){return null!=t}function Nt(t){return void 0===t}var Ot=Array.isArray||function(t){return"[object Array]"===It.call(t)};function Dt(t){return Ct(t)&&Rt.call(t,"length")&&Bt(t.length)}function Ct(t){return"object"==typeof t&&null!==t}function Pt(t){return Ct(t)&&t.constructor&&t.constructor===d}function xt(t){return"string"==typeof t}function Lt(t){return"boolean"==typeof t}function Mt(t){return Boolean(t)&&"function"==typeof t.then}function Bt(t){return"number"==typeof t}var Ft=function(){},Ut=function(t){return t},Vt=!(St.Mn&&!St.Bn),Ht=t.console;function qt(t){if(Ct(t))try{return JSON.stringify(t)}catch(t){}return t}function Wt(t){return t.map(qt).join(" ")}function zt(t){var n=Ht&&Ht[t];return n?n.bind&&Vt?n.bind(Ht):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];Ht[t](Wt(i))}:void 0}var Gt,$t=zt("log")||Ft,jt=zt("warn")||$t.bind(void 0,"WARNING:"),Yt=zt("error")||$t.bind(void 0,"ERROR:"),Xt=(Gt=Ht&&Ht.assert)?Gt.bind&&Vt?Gt.bind(Ht):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Ht.assert(t,Wt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Yt.apply(void 0,["Assertion failed:"].concat(i))}},Kt=null;try{Kt=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Jt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Qt(t){return!0===(t&&t.ii)}function Zt(t){var n=v.clz32(t&-t);return t?31-n:n}Jt.prototype.ii,d.defineProperty(Jt.prototype,"ii",{value:!0}),Jt.isLong=Qt;var tn={},nn={};function en(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=nn[t])?e:(i=un(t,0,!0),r&&(nn[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=tn[t])?e:(i=un(t,t<0?-1:0,!1),r&&(tn[t]=i),i)}function rn(t,n){if(g(t))return n?ln:vn;if(n){if(t<0)return ln;if(t>=an)return mn}else{if(t<=-fn)return pn;if(t+1>=fn)return _n}return t<0?rn(-t,n).neg():un(t%hn|0,t/hn|0,n)}function un(t,n,i){return new Jt(t,n,i)}Jt.fromInt=en,Jt.fromNumber=rn,Jt.fromBits=un;var sn=v.pow;function on(t,n,i){if(0===t.length)throw a("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?ln:vn;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw a("interior hyphen");if(0===e)return on(t.substring(1),n,i).neg();for(var r=rn(sn(i,8)),u=vn,s=0;s<t.length;s+=8){var o=v.min(8,t.length-s),c=l(t.substring(s,s+o),i);if(o<8){var h=rn(sn(i,o));u=u.mul(h).add(rn(c))}else u=(u=u.mul(r)).add(rn(c))}return u.unsigned=n,u}function cn(t,n){return"number"==typeof t?rn(t,n):"string"==typeof t?on(t,n):un(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Jt.fromString=on,Jt.fromValue=cn;var hn=4294967296,an=hn*hn,fn=an/2,dn=en(1<<24),vn=en(0);Jt.ZERO=vn;var ln=en(0,!0);Jt.UZERO=ln;var wn=en(1);Jt.ONE=wn;var gn=en(1,!0);Jt.UONE=gn;var yn=en(-1);Jt.NEG_ONE=yn;var _n=un(-1,2147483647,!1);Jt.MAX_VALUE=_n;var mn=un(-1,-1,!0);Jt.MAX_UNSIGNED_VALUE=mn;var pn=un(0,-2147483648,!1);Jt.MIN_VALUE=pn;var bn=Jt.prototype;bn.toInt=function(){return this.unsigned?this.low>>>0:this.low},bn.toNumber=function(){return this.unsigned?(this.high>>>0)*hn+(this.low>>>0):this.high*hn+(this.low>>>0)},bn.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(pn)){var n=rn(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=rn(sn(t,6),this.unsigned),u=this,s="";;){var o=u.div(r),c=(u.sub(o.mul(r)).toInt()>>>0).toString(t);if((u=o).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},bn.getHighBits=function(){return this.high},bn.getHighBitsUnsigned=function(){return this.high>>>0},bn.getLowBits=function(){return this.low},bn.getLowBitsUnsigned=function(){return this.low>>>0},bn.getNumBitsAbs=function(){if(this.isNegative())return this.eq(pn)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},bn.isZero=function(){return 0===this.high&&0===this.low},bn.eqz=bn.isZero,bn.isNegative=function(){return!this.unsigned&&this.high<0},bn.isPositive=function(){return this.unsigned||this.high>=0},bn.isOdd=function(){return 1==(1&this.low)},bn.isEven=function(){return 0==(1&this.low)},bn.equals=function(t){return Qt(t)||(t=cn(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},bn.eq=bn.equals,bn.notEquals=function(t){return!this.eq(t)},bn.neq=bn.notEquals,bn.ne=bn.notEquals,bn.lessThan=function(t){return this.comp(t)<0},bn.lt=bn.lessThan,bn.lessThanOrEqual=function(t){return this.comp(t)<=0},bn.lte=bn.lessThanOrEqual,bn.le=bn.lessThanOrEqual,bn.greaterThan=function(t){return this.comp(t)>0},bn.gt=bn.greaterThan,bn.greaterThanOrEqual=function(t){return this.comp(t)>=0},bn.gte=bn.greaterThanOrEqual,bn.ge=bn.greaterThanOrEqual,bn.compare=function(t){if(Qt(t)||(t=cn(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},bn.comp=bn.compare,bn.negate=function(){return!this.unsigned&&this.eq(pn)?pn:this.not().add(wn)},bn.neg=bn.negate,bn.add=function(t){Qt(t)||(t=cn(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=0,h=0,a=0,f=0;return a+=(f+=r+(65535&t.low))>>>16,h+=(a+=e+o)>>>16,c+=(h+=i+s)>>>16,c+=n+u,un((a&=65535)<<16|(f&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},bn.subtract=function(t){return Qt(t)||(t=cn(t)),this.add(t.neg())},bn.sub=bn.subtract,bn.multiply=function(t){if(this.isZero())return this;if(Qt(t)||(t=cn(t)),Kt)return un(Kt.mul(this.low,this.high,t.low,t.high),Kt.get_high(),this.unsigned);if(t.isZero())return this.unsigned?ln:vn;if(this.eq(pn))return t.isOdd()?pn:vn;if(t.eq(pn))return this.isOdd()?pn:vn;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(dn)&&t.lt(dn))return rn(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=65535&t.low,h=0,a=0,f=0,d=0;return f+=(d+=r*c)>>>16,a+=(f+=e*c)>>>16,f&=65535,a+=(f+=r*o)>>>16,h+=(a+=i*c)>>>16,a&=65535,h+=(a+=e*o)>>>16,a&=65535,h+=(a+=r*s)>>>16,h+=n*c+i*o+e*s+r*u,un((f&=65535)<<16|(d&=65535),(h&=65535)<<16|(a&=65535),this.unsigned)},bn.mul=bn.multiply,bn.divide=function(t){if(Qt(t)||(t=cn(t)),t.isZero())throw a("division by zero");var n,i,e;if(Kt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?un((this.unsigned?Kt.div_u:Kt.div_s)(this.low,this.high,t.low,t.high),Kt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ln:vn;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return ln;if(t.gt(this.shru(1)))return gn;e=ln}else{if(this.eq(pn))return t.eq(wn)||t.eq(yn)?pn:t.eq(pn)?wn:(n=this.shr(1).div(t).shl(1)).eq(vn)?t.isNegative()?wn:yn:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(pn))return this.unsigned?ln:vn;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=vn}for(i=this;i.gte(t);){n=v.max(1,v.floor(i.toNumber()/t.toNumber()));for(var r=v.ceil(v.log(n)/v.LN2),u=r<=48?1:sn(2,r-48),s=rn(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=rn(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=wn),e=e.add(s),i=i.sub(o)}return e},bn.div=bn.divide,bn.modulo=function(t){return Qt(t)||(t=cn(t)),Kt?un((this.unsigned?Kt.rem_u:Kt.rem_s)(this.low,this.high,t.low,t.high),Kt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},bn.mod=bn.modulo,bn.rem=bn.modulo,bn.not=function(){return un(~this.low,~this.high,this.unsigned)},bn.countLeadingZeros=function(){return this.high?v.clz32(this.high):v.clz32(this.low)+32},bn.clz=bn.countLeadingZeros,bn.countTrailingZeros=function(){return this.low?Zt(this.low):Zt(this.high)+32},bn.ctz=bn.countTrailingZeros,bn.and=function(t){return Qt(t)||(t=cn(t)),un(this.low&t.low,this.high&t.high,this.unsigned)},bn.or=function(t){return Qt(t)||(t=cn(t)),un(this.low|t.low,this.high|t.high,this.unsigned)},bn.xor=function(t){return Qt(t)||(t=cn(t)),un(this.low^t.low,this.high^t.high,this.unsigned)},bn.shiftLeft=function(t){return Qt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?un(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):un(0,this.low<<t-32,this.unsigned)},bn.shl=bn.shiftLeft,bn.shiftRight=function(t){return Qt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?un(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):un(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},bn.shr=bn.shiftRight,bn.shiftRightUnsigned=function(t){return Qt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?un(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):un(32===t?this.high:this.high>>>t-32,0,this.unsigned)},bn.shru=bn.shiftRightUnsigned,bn.shr_u=bn.shiftRightUnsigned,bn.rotateLeft=function(t){var n;return Qt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?un(this.high,this.low,this.unsigned):t<32?(n=32-t,un(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),un(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},bn.rotl=bn.rotateLeft,bn.rotateRight=function(t){var n;return Qt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?un(this.high,this.low,this.unsigned):t<32?(n=32-t,un(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),un(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},bn.rotr=bn.rotateRight,bn.toSigned=function(){return this.unsigned?un(this.low,this.high,!1):this},bn.toUnsigned=function(){return this.unsigned?this:un(this.low,this.high,!0)},bn.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},bn.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},bn.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Jt.fromBytes=function(t,n,i){return i?Jt.fromBytesLE(t,n):Jt.fromBytesBE(t,n)},Jt.fromBytesLE=function(t,n){return new Jt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Jt.fromBytesBE=function(t,n){return new Jt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var kn=v.pow(2,-52);function Tn(t,n,i){return v.min(v.max(t,n),i)}function En(t,n,i){return t===n||v.abs(t-n)<=i}function Sn(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function Rn(){return Date.now()||(new Date).getTime()}function In(t){return t/1e3}var An;function Nn(t){return t.ei===An.ri}function On(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Jt.fromNumber(9007199254740991),function(t){t[t.ri=1]="ri",t[t.ui=2]="ui",t[t.si=3]="si",t[t.oi=4]="oi",t[t.ci=9]="ci"}(An||(An={}));var Dn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a.apply(this,n)};(Dn.prototype=d.create(a.prototype)).constructor=Dn;var Cn=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,a.captureStackTrace&&a.captureStackTrace(On(e),e.constructor),e}return dt(n,t),at(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Dn),Pn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return dt(n,t),n}(Cn),xn=function(){function t(){}return t.prototype.hi=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Pn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Pn;return new Hn(n)},t}(),Ln=function(){function t(t){this.ai=void 0,this.ai=t}var n=t.prototype;return n.fi=function(t){return this.ai.isEqualNode(t.ai)},n.di=function(n){return new t(this.ai.cloneNode(n))},at(t,[{key:"ei",get:function(){return An.ui}},{key:"vi",get:function(){var t;return null!=(t=this.ai.localName)?t:zn(this.ai.nodeName)}},{key:"li",get:function(){return this.ai.nodeName}},{key:"wi",get:function(){var t;return null!=(t=this.ai.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.ai.prefix)?t:void 0}},{key:"yi",get:function(){return this.ai.nodeValue}}]),t}(),Mn=function(){function t(t){this._i=void 0,this.mi=void 0,this._i=t}var n=t.prototype;return n.pi=function(t){return this.bi.filter(function(n){return qn(n)&&n.ki===t})},n.Ti=function(t,n){return this.bi.filter(function(i){return qn(i)&&i.vi===n&&i.wi===t})},n.Ei=function(t){this._i.appendChild(t.Si),this.mi&&this.mi.push(t)},n.fi=function(t){return this._i.isEqualNode(t.Si)},at(t,[{key:"bi",get:function(){return void 0===this.mi&&(this.mi=function(t){for(var n=[],i=0;i<t.length;i++){var e=Wn(t.item(i));e&&n.push(e)}return n}(this._i.childNodes)),this.mi}},{key:"Ri",get:function(){return this.bi.filter(qn)}},{key:"Si",get:function(){return this._i}}]),t}(),Bn=function(t){function n(n){return t.call(this,n)||this}dt(n,t);var i=n.prototype;return i.Ii=function(t){if(this._i.hasAttribute(t))return this._i.getAttribute(t)},i.Ai=function(t,n){if(this._i.hasAttributeNS(t,n))return this._i.getAttributeNS(t,n)},i.Ni=function(t){this._i.removeAttribute(t)},i.Oi=function(t,n){this._i.removeAttributeNS(t,n)},i.Di=function(t,n){this._i.setAttribute(t,n)},i.Ci=function(t,n,i){this._i.setAttributeNS(t,n,i)},i.di=function(t){return new n(this._i.cloneNode(t))},at(n,[{key:"ei",get:function(){return An.ri}},{key:"vi",get:function(){var t;return null!=(t=this._i.localName)?t:zn(this._i.nodeName)}},{key:"wi",get:function(){var t;return null!=(t=this._i.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this._i.prefix)?t:void 0}},{key:"ki",get:function(){return this._i.nodeName}},{key:"Pi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Ln(t.item(i)));return n}(this._i.attributes)}},{key:"xi",get:function(){return this._i.textContent}}]),n}(Mn),Fn=function(){function t(t){this._i=void 0,this._i=t}return t.prototype.fi=function(t){return this.Li===t.Li},at(t,[{key:"Li",get:function(){return this._i.nodeValue}},{key:"Si",get:function(){return this._i}}]),t}(),Un=function(t){function n(n){return t.call(this,n)||this}return dt(n,t),n.prototype.di=function(t){return new n(this._i.cloneNode(t))},at(n,[{key:"ei",get:function(){return An.si}}]),n}(Fn),Vn=function(t){function n(n){return t.call(this,n)||this}return dt(n,t),n.prototype.di=function(t){return new n(this._i.cloneNode(t))},at(n,[{key:"ei",get:function(){return An.oi}}]),n}(Fn),Hn=function(t){function n(n){return t.call(this,n)||this}return dt(n,t),n.prototype.di=function(t){return new n(this._i.cloneNode(t))},at(n,[{key:"ei",get:function(){return An.ci}},{key:"Mi",get:function(){return new Bn(this._i.documentElement)}}]),n}(Mn);function qn(t){return Nn(t)}function Wn(t){switch(t.nodeType){case An.ri:return new Bn(t);case An.si:return new Un(t);case An.oi:return new Vn(t)}}function zn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function Gn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function $n(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){jn(t,n,r,e);var u=t;t=e,e=u}return t}(t,n);return i!==t&&jn(i,null,t.length,t),t}function jn(t,n,i,e){var r,u,s,o,c,h=t.length,a=0,f=2*i;for(r=0;r<h;r+=f)for(s=(u=r+i)+i,u>h&&(u=h),s>h&&(s=h),o=r,c=u;;)if(o<u&&c<s)n(t[o],t[c])<=0?e[a++]=t[o++]:e[a++]=t[c++];else if(o<u)e[a++]=t[o++];else{if(!(c<s))break;e[a++]=t[c++]}}var Yn=/[a-zA-Z]/,Xn=/[0-9]/,Kn=/[0-9a-fA-F]/,Jn=/^0x/i,Qn=/^[0-9]+$/,Zn=/^[0-9a-fA-F]+$/,ti=/^[0-7]+$/,ni=d.prototype.toString,ii=Array.isArray||function(t){return"[object Array]"===ni.call(t)},ei="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function ri(t){return ii(t)?t:Array.from(t)}function ui(t){return t>=65&&t<=90}function si(t){return ui(t)||function(t){return t>=97&&t<=122}(t)}function oi(t){return t>=48&&t<=57}function ci(t){return oi(t)||si(t)}function hi(t){return oi(t)||t>=65&&t<=70||t>=97&&t<=102}function ai(t){return ui(t)?t+32:t}function fi(t){return oi(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function di(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var vi=v.min,li=String.fromCharCode,wi=16384;function gi(t){for(var n=t.length,i=[],e=0;e<n;e+=wi){var r=vi(e+wi,n);i.push(li.apply(null,t.slice(e,r)))}return i.join("")}var yi=/[^\0-\x7E]/,_i=/[\x2E\u3002\uFF0E\uFF61]/g,mi={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},pi=v.floor,bi=String.fromCharCode;function ki(t){throw new RangeError(mi[t])}function Ti(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}var Ei,Si,Ri,Ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Ai=function(t,n,i){var e=0;for(t=i?pi(t/700):t>>1,t+=pi(t/n);t>455;e+=36)t=pi(t/35);return pi(e+36*t/(t+38))},Ni=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(_i,".")).split("."),n).join(".");return e+r}(t,function(t){return yi.test(t)?"xn--"+function(t){for(var n=[],i=(t=Ti(t)).length,e=128,r=0,u=72,s=0,o=t;s<o.length;s++){var c=o[s];c<128&&n.push(bi(c))}var h=n.length,a=h;for(h&&n.push("-");a<i;){for(var f=2147483647,d=0,v=t;d<v.length;d++){var l=v[d];l>=e&&l<f&&(f=l)}var w=a+1;f-e>pi((2147483647-r)/w)&&ki("overflow"),r+=(f-e)*w,e=f;for(var g=0,y=t;g<y.length;g++){var _=y[g];if(_<e&&++r>2147483647&&ki("overflow"),_==e){for(var m=r,p=36;;p+=36){var b=p<=u?1:p>=u+26?26:p-u;if(m<b)break;var k=m-b,T=36-b;n.push(bi(Ii(b+k%T,0))),m=pi(k/T)}n.push(bi(Ii(m,0))),u=Ai(r,w,a==h),r=0,++a}}++r,++e}return n.join("")}(t):t})};function Oi(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return gi(n)}function Di(t){if(t>=55296&&t<=57343)throw new a("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ci(t,n){return t>>n&63|128}function Pi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Di(t),n.push(t>>12&15|224),n.push(Ci(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ci(t,12)),n.push(Ci(t,6))),n.push(63&t|128)):n.push(t)}function xi(t){for(var n=[],i=0;i<t.length;i++){Pi(t[i],n)}return n}function Li(){if(Ri>=Si)throw new a("Invalid byte index");var t=255&Ei[Ri];if(Ri++,128==(192&t))return 63&t;throw new a("Invalid continuation byte")}function Mi(){var t,n;if(Ri>Si)throw new a("Invalid byte index");if(Ri===Si)return!1;if(t=255&Ei[Ri],Ri++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Li())>=128)return n;throw new a("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Li()<<6|Li())>=2048)return Di(n),n;throw new a("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Li()<<12|Li()<<6|Li())>=65536&&n<=1114111)return n;throw new a("Invalid UTF-8 detected")}function Bi(t){return[37,di(t>>4),di(15&t)]}function Fi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Ui(t){return Fi(t)||32===t||34===t||60===t||62===t||96===t}function Vi(t){return Ui(t)||35===t||63===t||123===t||125===t}function Hi(t){return Vi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function qi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Wi(t){return qi(t)||39===t}function zi(t,n){if(!n(t))return[t];for(var i=xi([t]),e=[],r=0;r<i.length;r++){var u=i[r];e.push.apply(e,Bi(u))}return e}function Gi(t,n){for(var i=[],e=0,r=Ti(t);e<r.length;e++){var u=r[e];i.push.apply(i,zi(u,n))}return Oi(i)}function $i(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&hi(t[e+1])&&hi(t[e+2])){var u=fi(t[e+1])<<4|fi(t[e+2]);n.push(u),e+=2}else n.push(r)}return n}(xi(t))}function ji(t){return Oi(function(t){Ei=t.slice(),Si=Ei.length,Ri=0;for(var n,i=[];!1!==(n=Mi());)i.push(n);return i}($i(Ti(t))))}function Yi(t){var n,i,e,r,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,c=null,h=0;if(h<u&&":"===t[h]){if(!(h+1<u&&":"===t[h+1]))throw new f;h+=2,c=o+=1}for(;h<u;){if(8===o)throw new f("Too many groups");if(":"!==t[h]){for(var a=0,d=0;d<4&&h<u&&Kn.test(t[h]);)a=a<<4|l(t[h],16),h+=1,d+=1;if("."===t[h]){if(0===d)throw new f;if(h-=d,o>6)throw new f;for(var v=0;h<u;){var w=null;if(v>0){if(!("."===t[h]&&v<4))throw new f;h+=1}if(!Xn.test(t[h]))throw new f;for(;h<u&&Xn.test(t[h]);){var g=l(t[h],10);if(null===w)w=g;else{if(0===w)throw new f;if((w=10*w+g)>255)throw new f}h+=1}s[o]=s[o]<<8|w,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new f;break}if(":"===t[h]){if((h+=1)===u)throw new f}else if(h<u)throw new f;s[o]=a,o+=1}else{if(null!==c)throw new f("Too many :: groups");h+=1,c=o+=1}}if(null!==c){var y=o-c;for(o=7;0!==o&&y>0;)e=c+y-1,r=void 0,r=(n=s)[i=o],n[i]=n[e],n[e]=r,o-=1,y-=1}else if(8!==o)throw new f;return s}function Xi(t){var n=10,i=Qn;return Jn.test(t)?(t=t.slice(2),n=16,i=Zn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=ti),""===t?0:i.test(t)?l(t,n):void 0}var Ki={Bi:4},Ji=/[\0\t\n\r #%/:?@\[\\\]]/,Qi=/[\0\t\n\r #/:?@\[\\\]]/;function Zi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new f("Invalid IPv6 address");return{Bi:2,Fi:Yi(t.slice(1,-1))}}if(!n)return function(t){if(Qi.test(t))throw new f("Invalid code point in opaque host");var n=Gi(t,Fi);return""===n?Ki:{Bi:3,P:n}}(t);var i=function(t){return function(t){return Ni(t.toLowerCase())}(t)}(ji(t));if(Ji.test(i))throw new f("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var u=Xi(r);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new f;if(i[i.length-1]>=v.pow(256,5-i.length))throw new f;for(var o=i.pop(),c=0;c<i.length;c++)o+=i[c]*v.pow(256,3-c);return o}}(i);return void 0!==e?{Bi:1,Fi:e}:""===i?Ki:{Bi:0,Ui:i}}function te(t){switch(t.Bi){case 0:return t.Ui;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Fi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(e=u),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Fi)+"]";case 3:return t.P;case 4:return""}}var ne=/\+/g;function ie(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var u=r.indexOf("="),s=void 0,o=void 0;-1!==u?(s=r.slice(0,u),o=r.slice(u+1)):(s=r,o=""),s=s.replace(ne," "),o=o.replace(ne," ");var c=ji(s),h=ji(o);i.push([c,h])}}return i}function ee(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=re(xi(Ti(e[0])))+"="+re(xi(Ti(e[1])))}return n}function re(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||ci(n)?i.push(r):i.push.apply(i,Bi(r))}return gi(i)}var ue=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function se(t){var n=""+t,i=ue.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var u=t.charCodeAt(r);if(ce(u))if(he(u)||r===i-1)e.push(oe);else{var s=t.charCodeAt(r+1);he(s)?(e.push(u,s),r++):e.push(oe)}else e.push(u)}return t.slice(0,n)+gi(e)}(n,i.index):n}var oe=65533,ce=function(t){return 55296==(63488&t)},he=function(t){return 0!=(1024&t)};function ae(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function fe(t){t.Vi.length=0}function de(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Vi,ie(n))}function ve(t){if(t.Hi){var n=ee(t.Vi);""===n&&(n=null),t.Hi.Hi.qi=n}}var le=function(){function t(t){if(void 0===t&&(t=void 0),this.Hi=null,null==t)this.Vi=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof le&&ii(u.Vi)&&(!ei||u[Symbol.iterator]===we))this.Vi=t.Vi.slice();else if(function(t){return null!=t&&(!!ii(t)||!!ei&&"function"==typeof t[Symbol.iterator])}(t)){this.Vi=[];for(var n=0,i=ri(t);n<i.length;n++){var e=ri(i[n]);if(2!==e.length)throw new f("Invalid name-value pair");this.Vi.push([se(e[0]),se(e[1])])}}else for(var r in this.Vi=[],t)d.prototype.hasOwnProperty.call(t,r)&&this.Vi.push([se(r),se(t[r])]);else(t=se(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Vi=ie(t);var u}var n=t.prototype;return n.append=function(t,n){t=se(t),n=se(n),this.Vi.push([t,n]),ve(this)},n.delete=function(t){t=se(t);for(var n=this.Vi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}ve(this)},n.get=function(t){t=se(t);for(var n=this.Vi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=se(t);for(var n=this.Vi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=se(t);for(var n=this.Vi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=se(t),n=se(n);for(var i=this.Vi,e=!1,r=0;r<i.length;){var u=i[r];u[0]===t?e?i.splice(r,1):(u[1]=n,e=!0,r++):r++}e||i.push([t,n]),ve(this)},n.sort=function(){$n(this.Vi,ae),ve(this)},n.toString=function(){return ee(this.Vi)},n.entries=function(){return new me(this.Vi,ge)},n.keys=function(){return new me(this.Vi,ye)},n.values=function(){return new me(this.Vi,_e)},n.forEach=function(t){var n=this;this.Vi.forEach(function(i){return t(i[1],i[0],n)})},t}(),we=le.prototype.entries;ei&&(le.prototype[Symbol.iterator]=we);var ge=function(t){return[t[0],t[1]]},ye=function(t){return t[0]},_e=function(t){return t[1]},me=function(){function t(t,n){this.Wi=0,this.Vi=t,this.zi=n}return t.prototype.next=function(){return this.Wi<this.Vi.length?{done:!1,value:this.zi(this.Vi[this.Wi++])}:{done:!0,value:void 0}},t}(),pe="null";var be=d.create(null);be.ftp=21,be.file=0,be.gopher=70,be.http=80,be.https=443,be.ws=80,be.wss=443;var ke=/^(?:\.|%2e)$/i,Te=/^(?:\.|%2e){2}$/i;function Ee(t){return ke.test(t)}function Se(t){return Te.test(t)}function Re(t){return void 0!==be[t]}function Ie(t){return Re(t.Gi)}function Ae(t){return""!==t.$i||""!==t.ji}function Ne(t){var n=t.length;if(!(n>=2))return!1;if(!De(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Oe(t){return 2===t.length&&Yn.test(t[0])&&(":"===t[1]||"|"===t[1])}function De(t){return 2===t.length&&Oe(gi(t))}function Ce(t){return Oe(t)&&":"===t[1]}function Pe(t){var n=t.Yi;0!==n.length&&("file"===t.Gi&&1===n.length&&Ce(n[0])||n.pop())}function xe(t){return null===t.Xi||Ki===t.Xi||t.Ki||"file"===t.Gi}var Le=-1,Me=/\t|\n|\r/g,Be=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Fe(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new Ve,t=t.replace(Be,""));var r=null!==e?e:0;n=n||null;for(var u=[],s=!1,o=!1,c=!1,h=Ti(t=t.replace(Me,"")),a=h.length,d=0;d<=a;){var v=d<a?h[d]:Le;switch(r){case 0:if(!si(v)){if(null===e){u.length=0,r=2;continue}throw new f("Invalid scheme")}u.push(ai(v)),r=1;break;case 1:if(ci(v)||43===v||45===v||46===v)u.push(ai(v));else{if(58!==v){if(null===e){u.length=0,r=2,d=0;continue}throw new f("Invalid scheme")}var w=Oi(u);if(null!==e){if(Re(i.Gi)&&!Re(w))return;if(!Re(i.Gi)&&Re(w))return;if((Ae(i)||null!==i.Ji)&&"file"===w)return;if("file"===i.Gi&&(i.Xi===Ki||null===i.Xi))return}if(i.Gi=w,null!==e)return void(Ie(i)&&i.Ji===be[i.Gi]&&(i.Ji=null));u.length=0,"file"===i.Gi?r=13:Ie(i)&&n&&n.Gi===i.Gi?r=3:Ie(i)?r=7:47===h[d+1]?(r=4,d+=1):(i.Ki=!0,i.Yi.push(""),r=18)}break;case 2:if(!n||n.Ki&&35!==v)throw new f("Invalid scheme");n.Ki&&35===v?(i.Gi=n.Gi,i.Yi=n.Yi.slice(),i.qi=n.qi,i.Qi="",i.Ki=!0,r=20):"file"!==n.Gi?(r=5,d-=1):(r=13,d-=1);break;case 3:47===v&&47===h[d+1]?r=8:(r=5,d-=1);break;case 4:47===v?r=9:(r=17,d-=1);break;case 5:i.Gi=n.Gi,Le===v?(i.$i=n.$i,i.ji=n.ji,i.Xi=n.Xi,i.Ji=n.Ji,i.Yi=n.Yi.slice(),i.qi=n.qi):47===v?r=6:63===v?(i.$i=n.$i,i.ji=n.ji,i.Xi=n.Xi,i.Ji=n.Ji,i.Yi=n.Yi.slice(),i.qi="",r=19):35===v?(i.$i=n.$i,i.ji=n.ji,i.Xi=n.Xi,i.Ji=n.Ji,i.Yi=n.Yi.slice(),i.qi=n.qi,i.Qi="",r=20):92===v&&Ie(i)?r=6:(i.$i=n.$i,i.ji=n.ji,i.Xi=n.Xi,i.Ji=n.Ji,i.Yi=n.Yi.slice(),i.Yi.pop(),r=17,d-=1);break;case 6:!Ie(i)||47!==v&&92!==v?47===v?r=9:(i.$i=n.$i,i.ji=n.ji,i.Xi=n.Xi,i.Ji=n.Ji,r=17,d-=1):r=8;break;case 7:if(47!==v||47!==h[d+1]){r=8;continue}r=8,d+=1;break;case 8:47!==v&&92!==v&&(r=9,d-=1);break;case 9:if(64===v){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||c){var _=Oi(zi(y,Hi));c?i.ji+=_:i.$i+=_}else c=!0}u.length=0}else if(Le===v||47===v||63===v||35===v||Ie(i)&&92===v){if(s&&0===u.length)throw new f("Invalid host");d-=u.length+1,u.length=0,r=10}else u.push(v);break;case 10:case 11:if(null!==e&&"file"===i.Gi)d-=1,r=15;else if(58!==v||o)if(Le===v||47===v||63===v||35===v||Ie(i)&&92===v){if(d-=1,Ie(i)&&0===u.length)throw new f("Invalid host");if(null!==e&&0===u.length&&(Ae(i)||null!==i.Ji))return;var m=Zi(Oi(u),Ie(i));if(i.Xi=m,u.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),u.push(v);else{if(0===u.length)throw new f("Invalid host");var p=Zi(Oi(u),Ie(i));if(i.Xi=p,u.length=0,r=12,11===e)return}break;case 12:if(oi(v))u.push(v);else{if(!(Le===v||47===v||63===v||35===v||Ie(i)&&92===v||null!==e))throw new f("Invalid port");if(0!==u.length){var b=l(Oi(u),10);if(b>65535)throw new f("Invalid port");i.Ji=b===be[i.Gi]?null:b,u.length=0}if(null!==e)return;r=16,d-=1}break;case 13:i.Gi="file",47===v||92===v?r=14:n&&"file"===n.Gi?Le===v?(i.Xi=n.Xi,i.Yi=n.Yi.slice(),i.qi=n.qi):63===v?(i.Xi=n.Xi,i.Yi=n.Yi.slice(),i.qi="",r=19):35===v?(i.Xi=n.Xi,i.Yi=n.Yi.slice(),i.qi=n.qi,i.Qi="",r=20):(Ne(h.slice(d))||(i.Xi=n.Xi,i.Yi=n.Yi.slice(),Pe(i)),r=17,d-=1):(r=17,d-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.Gi&&!Ne(h.slice(d))&&(Ce(n.Yi[0])?i.Yi.push(n.Yi[0]):i.Xi=n.Xi),r=17,d-=1);break;case 15:if(Le===v||47===v||92===v||63===v||35===v)if(d-=1,null===e&&De(u))r=17;else if(0===u.length){if(i.Xi=Ki,null!==e)return;r=16}else{var k=Zi(Oi(u),Ie(i));if(0===k.Bi&&"localhost"===k.Ui&&(k=Ki),i.Xi=k,null!==e)return;u.length=0,r=16}else u.push(v);break;case 16:Ie(i)?(r=17,47!==v&&92!==v&&(d-=1)):null===e&&63===v?(i.qi="",r=19):null===e&&35===v?(i.Qi="",r=20):Le!==v&&(r=17,47!==v&&(d-=1));break;case 17:if(Le===v||47===v||Ie(i)&&92===v||null===e&&(63===v||35===v)){var T=Oi(u);if(Se(T)?(Pe(i),47===v||Ie(i)&&92===v||i.Yi.push("")):!Ee(T)||47===v||Ie(i)&&92===v?Ee(T)||("file"===i.Gi&&0===i.Yi.length&&De(u)&&(Ki!==i.Xi&&null!==i.Xi&&(i.Xi=Ki),u[1]=58,T=Oi(u)),i.Yi.push(T)):i.Yi.push(""),u.length=0,"file"===i.Gi&&(Le===v||63===v||35===v))for(;i.Yi.length>1&&""===i.Yi[0];)i.Yi.shift();63===v?(i.qi="",r=19):35===v&&(i.Qi="",r=20)}else u.push.apply(u,zi(v,Vi));break;case 18:63===v?(i.qi="",r=19):35===v?(i.Qi="",r=20):Le!==v&&(i.Yi[0]+=Oi(zi(v,Fi)));break;case 19:null===e&&35===v?(i.Qi="",r=20):Le!==v&&(i.qi+=Oi(zi(v,Ie(i)?Wi:qi)));break;case 20:Le===v||0===v||(i.Qi+=Oi(zi(v,Ui)))}d++}return i}function Ue(t,n,i,e){try{Fe(t,n,i,e)}catch(t){}}var Ve=function(){this.Gi="",this.$i="",this.ji="",this.Xi=null,this.Ji=null,this.Yi=[],this.qi=null,this.Qi=null,this.Ki=!1};function He(t){switch(t.Gi){case"blob":var n;try{n=Fe(t.Yi[0],null)}catch(t){return pe}return He(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Gi,e=t.Xi,r=t.Ji,i+"://"+te(e)+(null===r?"":":"+r);case"file":default:return pe}var i,e,r}var qe,We=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof We&&"object"==typeof i.Hi)r=n.Hi;else try{r=Fe(String(n),null)}catch(t){throw new f("Invalid base URL: "+t.message)}try{e=Fe(String(t),r)}catch(t){throw new f("Invalid URL: "+t.message)}var u=e.qi;this.Hi=e,this.qi=function(t){var n=new le;return null!==t&&de(n,t),n}(u),this.qi.Hi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Gi+":";if(null!==t.Xi?(i+="//",Ae(t)&&(i+=t.$i,""!==t.ji&&(i+=":"+t.ji),i+="@"),i+=te(t.Xi),null!==t.Ji&&(i+=":"+t.Ji)):null===t.Xi&&"file"===t.Gi&&(i+="//"),t.Ki)i+=t.Yi[0];else for(var e=0,r=t.Yi;e<r.length;e++)i+="/"+r[e];return null!==t.qi&&(i+="?"+t.qi),n||null===t.Qi||(i+="#"+t.Qi),i}(this.Hi)},set:function(t){var n;try{n=Fe(String(t),null)}catch(t){throw new f("Invalid URL: "+t.message)}this.Hi=n,fe(this.qi);var i=this.Hi.qi;null!==i&&de(this.qi,i)}},{key:"origin",get:function(){return He(this.Hi)}},{key:"protocol",get:function(){return this.Hi.Gi+":"},set:function(t){Ue(t+":",null,this.Hi,0)}},{key:"username",get:function(){return this.Hi.$i},set:function(t){xe(this.Hi)||(this.Hi.$i=Gi(t,Hi))}},{key:"password",get:function(){return this.Hi.ji},set:function(t){xe(this.Hi)||(this.Hi.ji=Gi(t,Hi))}},{key:"host",get:function(){var t=this.Hi,n=t.Xi;if(null===n)return"";var i=t.Ji,e=te(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Hi.Ki||Ue(t,null,this.Hi,10)}},{key:"hostname",get:function(){var t=this.Hi.Xi;return null===t?"":te(t)},set:function(t){this.Hi.Ki||Ue(t,null,this.Hi,11)}},{key:"port",get:function(){var t=this.Hi.Ji;return null===t?"":""+t},set:function(t){xe(this.Hi)||(""===t?this.Hi.Ji=null:Ue(t,null,this.Hi,12))}},{key:"pathname",get:function(){var t=this.Hi.Yi;return this.Hi.Ki?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Hi.Ki||(this.Hi.Yi.length=0,Ue(t,null,this.Hi,16))}},{key:"search",get:function(){var t=this.Hi.qi;return null===t||""===t?"":"?"+t},set:function(t){t=se(t);var n=this.Hi;if(""===t)return n.qi=null,void fe(this.qi);"?"===t[0]&&(t=t.slice(1)),n.qi="",Ue(t,null,n,19),de(this.qi,t)}},{key:"searchParams",get:function(){return this.qi}},{key:"hash",get:function(){var t=this.Hi.Qi;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Hi.Qi="",Ue(t,null,this.Hi,20)):this.Hi.Qi=null}}])&&Gn(n.prototype,i),e&&Gn(n,e),t}();function ze(t){return t.document&&t.document.baseURI||t.location.href||""}function Ge(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function $e(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function je(){return void 0!==e?e.createElement("video"):void 0}function Ye(){return qe||(qe=je()),qe}var Xe=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Ke=Ye(),Je=!(!Ke||!Ke.webkitShowPlaybackTargetPicker),Qe=function(){function t(){this.Zi=void 0,this.te=!1,this.fn=Xe,this.Rn=!1,this.ie=!0}var n=t.prototype;return n.ee=function(){return 0},n.re=function(t,n){return!0},n.ue=function(t){return t>=1/6*2},at(t,[{key:"se",get:function(){return void 0===this.Zi&&(this.Zi=this.ee()),this.Zi}},{key:"oe",get:function(){return!St.$n}},{key:"ce",get:function(){return i.devicePixelRatio||1}},{key:"he",get:function(){return Je}},{key:"ae",get:function(){return!1}},{key:"fe",get:function(){return!0}},{key:"de",get:function(){return St.Hn||St.kn}},{key:"ve",get:function(){return!0}},{key:"we",get:function(){return!0}},{key:"ye",get:function(){return!1}},{key:"_e",get:function(){}},{key:"me",get:function(){return!0}},{key:"pe",get:function(){return!1}}]),t}(),Ze=function(){var t=je();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(St.pn)return!1;var t=je();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var tr=function(t){function n(n){var i;return(i=t.call(this)||this).be=void 0,i.be=n,i.be&&(i.te=i.be.te,i.fn=i.be.fn,i.ie=Ze&&i.be.ie),i}dt(n,t);var i=n.prototype;return i.ee=function(){return this.be?this.be.se:t.prototype.ee.call(this)},i.re=function(n,i){return this.be?this.be.re(n,i):t.prototype.re.call(this,n,i)},i.ue=function(n){return this.be?this.be.ue(n):t.prototype.ue.call(this,n)},at(n,[{key:"_e",get:function(){var t;return null==(t=this.be)?void 0:t._e}},{key:"me",get:function(){var t,n;return null==(t=null==(n=this.be)?void 0:n.me)||t}}]),n}(Qe),nr=function(t){function n(n){var i;return(i=t.call(this,n)||this).te=!0,i.Rn=!0,i}return dt(n,t),at(n,[{key:"ye",get:function(){return St.kn}}]),n}(tr),ir=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.ee=function(){return Z.MediaSource?t.prototype.ee.call(this):1},at(n,[{key:"ye",get:function(){return!0}}]),n}(nr),er=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.re=function(n,i){return t.prototype.re.call(this,n,i)},at(n,[{key:"ae",get:function(){return St.Pn<3}},{key:"fe",get:function(){return St.Pn>=3}},{key:"pe",get:function(){return St.Pn<3}}]),n}(tr),rr=function(t){function n(){return t.call(this)||this}return dt(n,t),n}(Qe),ur=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.re=function(t,n){if(t&&t.ke&&n&&n.ke){var i=sr(t.ke,"mp4a.40.2")&&sr(n.ke,"mp4a.40.5"),e=sr(t.ke,"mp4a.40.5")&&sr(n.ke,"mp4a.40.2"),r=sr(t.ke,"mp4a.40.2")&&sr(n.ke,"mp4a.40.34"),u=sr(t.ke,"mp4a.40.34")&&sr(n.ke,"mp4a.40.2"),s=sr(t.ke,"mp4a.40.5")&&sr(n.ke,"mp4a.40.34"),o=sr(t.ke,"mp4a.40.34")&&sr(n.ke,"mp4a.40.5");return!(i||e||r||u||s||o)}return!0},at(n,[{key:"_e",get:function(){if(St.dn)return 4096}}]),n}(rr);function sr(t,n){return t.indexOf(n)>-1}var or=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.ue=function(t){return t>=2},n}(rr),cr=function(t){function n(){var n;return(n=t.call(this)||this).te=St.qn>=11,n.ie=St.Hn&&!(St.kn&&St.qn<10),n}return dt(n,t),n}(rr),hr=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),at(n,[{key:"ve",get:function(){return!1}}]),n}(tr),ar=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),at(n,[{key:"me",get:function(){return!St.vn||(St.On?92!==St.Dn:St.Nn>=100)}}]),n}(rr),fr=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),at(n,[{key:"ye",get:function(){return!0}}]),n}(tr),dr=function(){function n(){var n;this.Te=void 0,this.Ee=new xn,this.Se=new vr,this.Re=(n=function(){if(St.Un)return new ur;if(St.Ln||St.Mn)return new or;if(St.Hn)return new cr;if(St.An)return new ar;return new rr}(),St.kn?new ir(n):St.Rn?new nr(n):St.Cn?new er(n):St.xn?new hr(n):St.dn?new fr(n):new tr(n)),this.Ie=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Te=function(){return t.performance.now()}:this.Te=Rn}var i=n.prototype;return i.Ae=function(){$t.apply(void 0,arguments)},i.Ne=function(){jt.apply(void 0,arguments)},i.Oe=function(){Yt.apply(void 0,arguments)},i.De=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Xt.apply(void 0,[t].concat(i))},i.Ce=function(t,n){return s(t,n)},i.Pe=function(t,n){return c(t,n)},i.xe=function(t){o(t)},i.Le=function(t){h(t)},i.hi=function(t){return this.Ee.hi(t)},i.Me=function(){return this.Be.Me()},i.Fe=function(){return this.Be.Fe()},i.Ue=function(){return this.Be.Ue()},i.Ve=function(){return this.Be.Ve()},i.He=function(){return this.Be.He()},i.qe=function(t,n){return this.Be.qe(t,n)},i.We=function(t){return this.Be.We(t)},i.ze=function(t,n){var i;return void 0===n&&(n=ze(Z)),i="object"!=typeof n||n instanceof We?n:n.href,new We(t,i)},i.Ge=function(n,i){if(void 0===i&&(i=ze(Z)),this.Ie){var e=xt(i)?i:i.toString();return new t.URL(n,e).href}return this.ze(n,i).href},at(n,[{key:"$e",get:function(){return this.Se}},{key:"je",get:function(){return this.Re}},{key:"Ye",get:function(){return{Xe:u&&u.userAgent.match(/Android /i)?"Android":"other",Ke:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"Je",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Qe",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),vr=function(){function t(){}return at(t,[{key:"Ze",get:function(){return u.oscpu}},{key:"je",get:function(){return u.platform}},{key:"tr",get:function(){return u.vendor}},{key:"nr",get:function(){return u.vendorSub}}]),t}();var lr={exports:{}};!function(t){var n,i=d.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},u=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(t,n,i,e){var r=n&&n.prototype instanceof m?n:m,u=d.create(r.prototype),s=new D(e||[]);return u.ir=function(t,n,i){var e=v;return function(r,u){if(e===w)throw new a("Generator is already running");if(e===y){if("throw"===r)throw u;return P()}for(i.method=r,i.arg=u;;){var s=i.delegate;if(s){var o=A(s,i);if(o){if(o===_)continue;return o}}if("next"===i.method)i.sent=i.er=i.arg;else if("throw"===i.method){if(e===v)throw e=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var c=h(t,n,i);if("normal"===c.type){if(e=i.done?y:l,c.arg===_)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(e=y,i.method="throw",i.arg=c.arg)}}}(t,i,s),u}function h(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var v="suspendedStart",l="suspendedYield",w="executing",y="completed",_={};function m(){}function p(){}function b(){}var k={};k[u]=function(){return this};var T=d.getPrototypeOf,E=T&&T(T(C([])));E&&E!==i&&e.call(E,u)&&(k=E);var S=b.prototype=m.prototype=d.create(k);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.ir(n,t)}})}function I(t){var n;this.ir=function(i,r){function u(){return new G(function(n,u){!function n(i,r,u,s){var o=h(t[i],t,r);if("throw"!==o.type){var c=o.arg,a=c.value;return a&&"object"==typeof a&&e.call(a,"rr")?G.resolve(a.rr).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):G.resolve(a).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,r,n,u)})}return n=n?n.then(u,u):u()}}function A(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,A(t,i),"throw"===i.method))return _;i.method="throw",i.arg=new f("The iterator does not provide a 'throw' method")}return _}var r=h(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,_;var u=r.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,_):u:(i.method="throw",i.arg=new f("iterator result is not an object"),i.delegate=null,_)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function O(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function C(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var r=-1,s=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:P}}function P(){return{value:n,done:!0}}p.prototype=S.constructor=b,b.constructor=p,b[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,b):(t.__proto__=b,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{rr:t}},R(I.prototype),I.prototype[s]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var u=new I(c(n,i,e,r));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(S),S[o]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=C,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.er=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!g(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=e.call(s,"catchLoc"),h=e.call(s,"finallyLoc");if(c&&h){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!h)throw new a("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var u=r;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,_):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),_},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),O(i),_}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;O(i)}return r}}throw new a("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:C(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),_}}}(lr.exports);var wr=lr.exports;function gr(){return(gr=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)d.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function yr(){var t=d.create(null);return t.__=void 0,delete t.__,t}function _r(){return new br}var mr,pr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,br=pr||(mr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=yr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=yr(),this.size=0},n.keys=function(){return new mr(this.data,function(t,n){return n})},n.values=function(){return new mr(this.data,function(t,n){return t[n]})},n.entries=function(){return new mr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var kr,Tr,Er=pr||(kr=function(){function t(t,n){this.sr=void 0,this.cr=void 0,this.sr=t,this.cr=n}var n=t.prototype;return n.next=function(){var t=this.sr.next();return t.done?t:{value:this.cr(t.value),done:!1}},t}(),function(){function t(){this.hr=_r()}var n=t.prototype;return n.get=function(t){return this.hr.get(""+t)},n.set=function(t,n){return this.hr.set(""+t,n),this},n.has=function(t){return this.hr.has(""+t)},n.delete=function(t){return this.hr.delete(""+t)},n.clear=function(){this.hr.clear()},n.keys=function(){return new kr(this.hr.keys(),function(t){return Number(t)})},n.values=function(){return this.hr.values()},n.entries=function(){return new kr(this.hr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.hr.forEach(function(n,i){t(n,Number(i))})},at(t,[{key:"size",get:function(){return this.hr.size}}]),t}());!function(t){t.ar="9a04f079-9840-4286-ab92-e65be0885f95",t.dr="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.wr="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.gr="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Tr||(Tr={}));var Sr,Rr="cenc",Ir="sinf",Ar="skd",Nr=Tr.ar,Or="urn:uuid:"+Nr,Dr="com.microsoft.playready",Cr=Tr.dr,Pr="urn:uuid:"+Cr,xr=Tr.wr,Lr="urn:uuid:"+xr,Mr=Tr.gr,Br="urn:uuid:"+Mr,Fr="com.apple.fps.1_0";!function(t){t.ar="playready",t.dr="widevine",t.gr="fairplay",t.wr="clearkey",t.yr="aes128"}(Sr||(Sr={}));var Ur={_r:Sr.ar,mr:Dr,pr:"cenc",br:Nr,kr:Or,Tr:"PlayReady"},Vr={_r:Sr.dr,mr:"com.widevine.alpha",pr:"cenc",br:Cr,kr:Pr,Tr:"Widevine"},Hr={_r:Sr.gr,mr:Fr,pr:"skd",br:Mr,kr:Br,Tr:"FairPlay"};Sr.gr;var qr={_r:Sr.wr,mr:"org.w3.clearkey",pr:"cenc",br:xr,kr:Lr,Tr:"ClearKey"};function Wr(t,n,i){return t.split(n).join(i)}function zr(t,n){return null!=t&&-1!==t.indexOf(n)}function Gr(t,n){return null!=t&&t.substr(0,n.length)===n}function $r(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function jr(t,n){return t.toUpperCase()===n.toUpperCase()}function Yr(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Kr(n)}var Xr=16384;function Kr(t){var n=t.length;if(n<=Xr)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Xr)i.push(String.fromCharCode.apply(String,t.slice(e,e+Xr)));return i.join("")}var Jr=St.An&&St.Nn>=42||St.Un&&St.Vn>=38||St.Ln||St.Bn||St.Wn&&St.zn>=29;function Qr(t,n){return zr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[gr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[gr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var Zr,tu=function(){function t(t){this.Er=void 0,this.Sr=_r(),this.Rr=void 0,this.Er=t}var n=t.prototype;return n.He=function(){return this.We(Vr)},n.Fe=function(){return this.We(qr)},n.Ve=function(){return this.We(Ur)},n.Ue=function(){return this.We(Hr)},n.We=function(t){var n=t.kr,i=this.Sr.get(n);if(i)return i;var e=this.qe(t,'video/mp4; codecs="avc1.42000a"');return this.Sr.set(n,e),e},n.qe=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wr.awrap(this.Er.Ir(t.mr,[Qr(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,wr.awrap(this.Er.Ir(t.mr,[Qr(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],G)},n.Me=function(){return this.Rr||(this.Rr=this.Ar()),this.Rr},n.Ar=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==tt.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Jr){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,wr.awrap(this.Fe());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,G)},t}();function nu(t,n){var i=function(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),u=1;u<e;u*=2){iu(i,n,u,r);var s=i;i=r,r=s}return i}(t,n);return i!==t&&iu(i,void 0,t.length,t),t}function iu(t,n,i,e){var r,u,s,o,c,h=t.length,a=0,f=2*i;for(u=0;u<h;u+=f)for(r=(s=u+i)+i,s>h&&(s=h),r>h&&(r=h),o=u,c=s;;)if(o<s&&c<r)n&&n(t[o],t[c])<=0?e[a++]=t[o++]:e[a++]=t[c++];else if(o<s)e[a++]=t[o++];else{if(!(c<r))break;e[a++]=t[c++]}}!function(t){t[t.Nr=0]="Nr",t[t.Or=1]="Or",t[t.Dr=-1]="Dr"}(Zr||(Zr={}));var eu=function(t,n){return(0|t)-(0|n)},ru=function(t,n){return t===n?Zr.Nr:t<n?Zr.Dr:t>n?Zr.Or:g(t)?g(n)?Zr.Nr:Zr.Or:Zr.Dr};function uu(t,n,i){return En(t,n,i)?Zr.Nr:ru(t,n)}var su=function(t,n){return function(t,n){if(t===n)return!0;var i=v.abs(t-n);return i<kn||i<v.max(v.abs(t),v.abs(n))*kn}(t,n)?Zr.Nr:ru(t,n)};function ou(t,n,i){var e=function(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function cu(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function hu(t,n){var i=t.indexOf(n);return-1!==i&&(au(t,i),!0)}function au(t,n){t.splice(n,1)}function fu(t,n){return-1!==t.indexOf(n)}function du(t,n){for(var i=0;i<n.length;i++){if(!fu(t,n[i]))return!1}return!0}function vu(t){t.length=0}var lu=function(){function t(){this.Cr=!1,this.Pr=!1,this.xr=[],this.Lr=[]}var n=t.prototype;return n.Mr=function(){if(!this.Cr&&!this.Pr){this.Cr=!0;for(var t=0,n=this.xr.slice();t<n.length;t++){(0,n[t])()}this.Br()}},n.Br=function(){if(!this.Pr){this.Pr=!0;for(var t=0,n=this.Lr.slice();t<n.length;t++){(0,n[t])()}vu(this.xr),vu(this.Lr)}},n.Fr=function(t){this.Pr||this.xr.push(t)},n.Ur=function(t){this.Pr||hu(this.xr,t)},n.Vr=function(t){this.Pr||this.Lr.push(t)},n.Hr=function(t){this.Pr||hu(this.Lr,t)},t}(),wu=function(){function t(){this.qr=new lu}var n=t.prototype;return n.Wr=function(){this.qr.Mr()},n.Br=function(){this.qr.Br()},n.zr=function(t){var n=this.qr;if(!n.Cr)if(t.Cr)n.Mr();else if(!n.Pr&&!t.Pr){var i=function(){e(),n.Mr()},e=function e(){t.Ur(i),t.Hr(e),n.Ur(i),n.Hr(e)};t.Fr(i),t.Vr(e),n.Fr(i),n.Vr(e)}},n.Gr=function(){var n=new t,i=new t,e=n.$r,r=i.$r,u=this.qr,s=function(){e.Cr&&r.Pr||r.Cr&&e.Pr?u.Mr():e.Pr&&r.Pr&&u.Br()};e.Fr(s),r.Fr(s),e.Vr(s),r.Vr(s),n.zr(u),i.zr(u);return u.Vr(function(){e.Ur(s),r.Ur(s),e.Hr(s),r.Hr(s)}),[n,i]},at(t,[{key:"$r",get:function(){return this.qr}}]),t}(),gu=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return dt(n,t),at(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Cn);function yu(t){return t instanceof a&&"AbortError"===t.name}function _u(t){if(t&&t.Cr)throw new gu}function mu(t){if(yu(t))throw t}function pu(t){if(!yu(t))throw t}function bu(t,n){return n?new G(function(i,e){if(n.Cr)return t.catch(Ft),e(new gu);var r=function t(){n.Ur(t),e(new gu)};n.Fr(r),t.then(function(t){n.Ur(r),i(t)},function(t){n.Ur(r),e(t)})}):t}function ku(t,n){return t.then(function(t){return n.Br(),t},function(t){throw n.Br(),t})}var Tu=G.resolve();function Eu(t){Tu.then(t)}function Su(t){t.then(Ft,Ft)}function Ru(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,wr.awrap(G.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,wr.awrap(G.all(t.map(function(t){return t.catch(Ft)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],G)}function Iu(t,n){return new G(function(i,e){if(void 0!==n&&n.Cr)e(new gu);else{var r=st.Ce(function(){void 0!==n&&n.Ur(u),i()},t),u=function(){st.xe(r),e(new gu)};void 0!==n&&n.Fr(u)}})}function Au(t){return t&&"function"!=typeof t?t.slice():t}function Nu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Ou,Du=function(){function t(t){var n=this;this.jr=yr(),this.Yr=void 0,this.Xr=void 0,this.Kr=function(t){n.Jr(t)},this.Xr=t||this}var n=t.prototype;return n.Qr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Zr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Zr(e,n)}},n.Zr=function(t,n){var i=this.jr[t];i?"function"==typeof i?this.jr[t]=[i,n]:i.push(n):this.jr[t]=n},n.tu=function(t){if("function"==typeof t){var n=this.Yr;n?"function"==typeof n?this.Yr=[n,t]:n.push(t):this.Yr=t}},n.nu=function(){this.jr=yr(),this.Yr=void 0},n.Jr=function(t){var n=Au(this.jr[t.type]),i=Au(this.Yr);Nu(this.Xr,t,n),Nu(this.Xr,t,i)},n.iu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.eu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.eu(e,n)}},n.eu=function(t,n){var i=this.jr[t];i&&("function"==typeof i?i===n&&(this.jr[t]=void 0):hu(i,n))},n.ru=function(t){if("string"==typeof t)this.jr[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.jr[i]=void 0}},n.uu=function(t){var n=this.Yr;n&&("function"==typeof n?n===t&&(this.Yr=void 0):hu(n,t))},n.su=function(t,n){var i=this;return new G(function(e,r){if(n&&n.Cr)return r(new gu);var u=function(t){o(),e(t)},s=function(){o(),r(new gu)},o=function(){i.iu(t,u),n&&n.Ur(s)};i.Qr(t,u),n&&n.Fr(s)})},t}(),Cu=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.Jr=function(n){var i=this;Eu(function(){t.prototype.Jr.call(i,n)})},n}(Du),Pu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},xu=["cenc"],Lu=["cbcs","cbcs-1-9"],Mu=function(t){function n(n){var i;return(i=t.call(this,"cu")||this).ou=n,i}return dt(n,t),n}(Pu),Bu=function(t){function n(n,i,e,r){var u;return(u=t.call(this,"hu")||this).ou=n,u.au=i,u.hu=e,u.fu=r,u}return dt(n,t),n}(Pu),Fu=function(t){function n(){return t.call(this,"du")||this}return dt(n,t),n}(Pu);!function(t){t.vu="lu",t.wu="gu"}(Ou||(Ou={}));var Uu=function(t){function n(n,i){var e;return(e=t.call(this,Ou.vu)||this).pr=n,e.yu=i,e}return dt(n,t),n}(Pu),Vu=new y([0]).buffer,Hu=function(){function t(){this._u=void 0,this._u=[]}var n=t.prototype;return n.mu=function(t){for(var n=0,i=this._u;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.pu=function(t){for(var n=0,i=this._u;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.bu=function(t,n){this._u.forEach(function(n){return t(n[1],n[0])},n)},n.ku=function(t,n){this._u.push([t,n])},n.Tu=function(){vu(this._u)},at(t,[{key:"Eu",get:function(){return this._u.length}}]),t}(),qu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Wu=16383,zu=/[\t\n\f\r ]/g;function Gu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:$u()}function $u(){throw new a("Invalid base64 input")}function ju(t){var n=t;zu.test(n)&&(n=n.replace(zu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return $u();for(var r,u=0===e?0:4-e,s=new y(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,c=0,h=0;c<o;c+=4)r=Gu(n.charCodeAt(c))<<18|Gu(n.charCodeAt(c+1))<<12|Gu(n.charCodeAt(c+2))<<6|Gu(n.charCodeAt(c+3)),s[h++]=r>>16&255,s[h++]=r>>8&255,s[h++]=255&r;return 2===u?(r=Gu(n.charCodeAt(c))<<2|Gu(n.charCodeAt(c+1))>>4,s[h++]=255&r):1===u&&(r=Gu(n.charCodeAt(c))<<10|Gu(n.charCodeAt(c+1))<<4|Gu(n.charCodeAt(c+2))>>2,s[h++]=r>>8&255,s[h++]=255&r),s}function Yu(t,n,i){for(var e,r,u,s=[],o=n;o<i;o+=3)s.push((e=t[o],r=t[o+1],u=t[o+2],qu[e>>2]+qu[(3&e)<<4|r>>4]+qu[(15&r)<<2|u>>6]+qu[63&u]));return s.join("")}function Xu(t){for(var n=t.length,i=n%3,e=[],r=n-i,u=0;u<r;u+=Wu)e.push(Yu(t,u,v.min(r,u+Wu)));if(1===i){var s=t[n-1];e.push(qu[s>>2]+qu[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],c=t[n-1];e.push(qu[o>>2]+qu[(3&o)<<4|c>>4]+qu[(15&c)<<2]+"=")}return e.join("")}var Ku=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Ju=ArrayBuffer.isView||function(t){return t&&fu(Ku,It.call(t))};function Qu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Zu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var u=t[r];i.set(u,e),e+=u.byteLength}return i}(t,n)}function ts(t){return ju(t).buffer}function ns(t){return Xu(new y(t))}function is(t){return Xu(Is(t))}var es=function(){function t(t){void 0===t&&(t=0),this.Su=t}var n=t.prototype;return n.Ru=function(t){this.Su+=t},n.Iu=function(t){this.Su=t},n.Au=function(){return new t(this.Nu)},at(t,[{key:"Nu",get:function(){return this.Su}}]),t}();function rs(t){if(t>=55296&&t<=57343)throw new a("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function us(t,n){return t>>n&63|128}function ss(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(rs(t),n.push(t>>12&15|224),n.push(us(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(us(t,12)),n.push(us(t,6))),n.push(63&t|128)):n.push(t)}function os(t,n){if(n.Nu>=t.length)throw new a("Invalid byte index");var i=255&t[n.Nu];if(n.Ru(1),128==(192&i))return 63&i;throw new a("Invalid continuation byte")}function cs(t,n){var i=n.Nu;if(i>t.length)throw new a("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Ru(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|os(t,n);if(r>=128)return r;throw new a("Invalid continuation byte")}if(224==(240&e)){var u=(15&e)<<12|os(t,n)<<6|os(t,n);if(u>=2048)return rs(u),u;throw new a("Invalid continuation byte")}if(240==(248&e)){var s=(7&e)<<18|os(t,n)<<12|os(t,n)<<6|os(t,n);if(s>=65536&&s<=1114111)return s}throw new a("Invalid UTF-8 detected")}var hs=65279;var as=function(){function t(t){this.Ou=t}return t.prototype.Du=function(t){return function(t,n){return(t&n)===n}(this.Ou,t)},t}();function fs(t,n){var i=t.getUint8(n.Nu);return n.Ru(1),i}function ds(t,n,i){t.setUint8(n.Nu,i),n.Ru(1)}function vs(t,n,i){var e=Ps(Ls(t),n.Nu,n.Nu+i);return n.Ru(e.byteLength),e}function ls(t,n,i){return n.Nu+i<=t.byteLength}function ws(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Nu,i);return n.Ru(2),e}function gs(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Nu,i,e),n.Ru(2)}function ys(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Nu,i);return n.Ru(4),e}function _s(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Nu,i,e),n.Ru(4)}function ms(t,n,i){void 0===i&&(i=!1);var e=ys(t,n,i),r=ys(t,n,i),u=i?r:e,s=i?e:r;return Jt.fromBits(s,u,!0)}function ps(t,n){return function(t,n){return Ts(t,n,!0)}(t,n)}function bs(t,n,i){return Kr(Vs(vs(t,n,i)))}function ks(t,n){var i,e=fs(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&fs(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&fs(t,n))+(63&fs(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&fs(t,n))+64*(63&fs(t,n))+(63&fs(t,n))),i}function Ts(t,n,i){for(var e=[];n.Nu<t.byteLength;){var r=fs(t,n);if(i&&!r)break;e.push(r)}return Kr(e)}function Es(t,n,i,e){for(var r=[];n.Nu+2<=t.byteLength;){var u=ws(t,n,i);if(e&&!u)break;r.push(u)}return Kr(r)}function Ss(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,u=0;u<r;u+=1){gs(t,n,i.charCodeAt(u),e)}}function Rs(t){return Ts(xs(t),new Hs,!1)}function Is(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)ds(t,n,i.charCodeAt(r))}(xs(n),new Hs,t),n}function As(t,n){return void 0===n&&(n=!1),Es(xs(t),new Hs,n,!1)}function Ns(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Ss(xs(i),new Hs,t,n),i}function Os(t,n){return function(t,n,i){var e=[];(function(t,n){return n.Nu+3<=t.byteLength&&239===t.getUint8(n.Nu)&&187===t.getUint8(n.Nu+1)&&191===t.getUint8(n.Nu+2)})(t,n)&&n.Ru(3);for(;n.Nu<t.byteLength;){var r=ks(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Yr(e)}(t,n,!0)}function Ds(t){return Yr(function(t,n){var i,e=[],r=new Hs;if(!n){if(!1===(i=cs(t,r)))return e;i===hs||e.push(i)}for(;!1!==(i=cs(t,r));)e.push(i);return e}(Ls(t)))}function Cs(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)ss(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Ps(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function xs(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ls(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Ms(t){return t instanceof ArrayBuffer||Ju(t)}function Bs(t){return t instanceof ArrayBuffer?new y(t):Ls(t)}function Fs(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Us(Ps(t,n,i))}function Us(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function Vs(t){return[].slice.call(t)}var Hs=function(){function t(t){void 0===t&&(t=0),this.Su=t}var n=t.prototype;return n.Ru=function(t){this.Su+=t},n.Iu=function(t){this.Su=t},n.Au=function(){return new t(this.Nu)},n.Cu=function(){return new es(this.Nu<<3)},at(t,[{key:"Nu",get:function(){return this.Su}}]),t}(),qs=function(){function t(){var t=this;this.Pu=void 0,this.xu=void 0,this.Lu=void 0,this.Pu=new G(function(n,i){t.xu=n,t.Lu=i})}var n=t.prototype;return n.Mu=function(t){this.xu&&(this.xu(t),this.Br())},n.Bu=function(t){this.Lu&&(this.Lu(t),this.Br())},n.Wr=function(){this.Pu.catch(Ft),this.Bu(new gu)},n.Br=function(){this.xu=void 0,this.Lu=void 0},t}();function Ws(){return new y([8,4]).buffer}function zs(t){return Qu(t,Ws())}function Gs(t,n){return t===Dr?function(t){if(t.byteLength<2*$s.length)return t;if(As(new DataView(t,0,2*$s.length),!0)===$s)return t;return n=t,Ns('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+ns(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var $s="<PlayReady";var js=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,r)||this).Fu=void 0,u.Uu=void 0,u.Fu=i,u.Uu=e,u}return dt(n,t),n}(Cn),Ys=function(t,n){return(Ys=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)d.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Xs(t,n){if("function"!=typeof n&&null!==n)throw new f("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Ys(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}function Ks(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function Js(t,n,i){return v.min(v.max(t,n),i)}function Qs(t,n){return t>>8-n}function Zs(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Vu=t,this.Hu=n}t.prototype.get=function(t){var n=this.Vu.get(t);if(0===this.Hu||void 0===n)return n;var i=this.Vu.get(t+1)||0,e=n&(1<<8-this.Hu)-1,r=i>>8-this.Hu;return(e<<this.Hu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Vu.get(v.floor((t+this.Hu)/8));if(void 0!==n)return(n&1<<7-this.Hu-t%8)>0?1:0}},d.defineProperty(t.prototype,"bitLength",{get:function(){return this.Vu.bitLength-this.Hu},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"length",{get:function(){return this.Vu.length},enumerable:!1,configurable:!0})}(),function(){function t(t){this.qu=t,this.Wu=0,this.zu=0}d.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Wu+this.zu},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"done",{get:function(){return this.Wu===this.qu.length&&0===this.zu},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Wu,bit:this.zu}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.qu);return n.seek(this.Wu,this.zu),n},t.prototype.canReadBits=function(t){return 8*this.Wu+t+this.zu<=8*this.qu.length},t.prototype.canReadBytes=function(t){return 0===this.zu?this.Wu+t<=this.qu.length:this.Wu+t<this.qu.length},t.prototype.incBit=function(){this.zu++,this.zu>7&&(this.Wu++,this.zu=0)},t.prototype.seek=function(t,n){this.Wu=t,this.zu=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new a("Cannot read past end of buffer.");return this.qu.get(this.Wu)>>7-this.zu&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new a("Cannot read past end of buffer.");if(0===this.zu)return this.qu.get(this.Wu++);var t=Zs(this.qu.get(this.Wu),8-this.zu),n=Qs(this.qu.get(this.Wu+1),this.zu);return this.Wu++,t<<this.zu|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new a("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new a("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new a("Cannot read past end of buffer.");var n=0;if(0===this.zu&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new a("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new a("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-v.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new a("Skipping over the buffer edge is not allowed.");var n=this.zu+t;this.Wu+=n>>3,this.zu=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new a("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)}}();var to=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},no=function(){function t(){this.Gu=[],this.$u=[],this.N=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,u=n;r<u.length;r++){var s=u[r];e.pushRange(s)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new a("The buffer length must be positive.");if(0!==i){if(0===this.$u.length)this.$u.push(0);else{var e=this.$u[this.$u.length-1]+this.Gu[this.Gu.length-1].length;this.$u.push(e)}this.Gu.push(t.subarray(n,n+i)),this.N+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,u=this.Gu;r<u.length;r++){var s=u[r];t.set(s,e),i+=s.length,e+=s.length}return i},t.prototype.clear=function(){this.Gu=[],this.$u=[],this.N=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.$u[n];return this.Gu[n][i]}},d.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Gu.length<1)return-1;if(this.Gu.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Gu[0];return"number"==typeof t?Ks(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,u=0;u<=r&&!((u=Ks(t,i,u))<0||u>r);u++){for(var s=u+1,o=u+e,c=1;s<o&&t[s]===n[c];s++,c++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var u=v.ceil((e+r)/2);i(t[u],n)<=0?e=u:r=u-1}return e}}}(this.$u,t,to)},t.prototype.join=function(){if(1===this.Gu.length)return this.Gu[0];var t=new y(this.length);return this.copyInternal(t,0),t},d.defineProperty(t.prototype,"length",{get:function(){return this.N},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new a("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new a("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*v.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=Js(n,0,this.length),r=Js(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var u=new t,s=this.findContainingBufferIndex(e),o=this.Gu[s],c=e,h=c-this.$u[s];c+o.length-h<r;)u.pushRange(o,h,o.length-h),s+=1,h=(c+=o.length-h)-this.$u[s],o=this.Gu[s];var a=r-c;return u.pushRange(o,h,a),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Gu.length-1,e=this.Gu[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.Gu[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),io=function(){function t(n){this.ju=n||t.BUFFER_CHUNK_SIZE,this.Yu=!1,this.Xu=new no,this.qu=new y(this.ju),this.Ku=0,this.Ju=0,this.zu=7}return t.prototype.closeByte=function(){this.qu[this.Ku++]=this.Ju,this.Ku>=this.ju&&this.closeBuffer(),this.Ju=0,this.zu=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.Ku&&(this.Xu.pushRange(this.qu,0,this.Ku),t&&(this.qu=new y(this.ju)),this.Ku=0)},d.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.zu},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Yu)throw new a("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Yu=!0,this.Xu},t.prototype.writeBit=function(t){if(this.Yu)throw new a("Cannot write to a closed BitWriter.");this.Ju|=t<<this.zu,0===this.zu?this.closeByte():this.zu--},t.prototype.writeByte=function(t){if(this.Yu)throw new a("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Ju=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.zu;this.Ju|=Qs(t,n+1),this.closeByte(),this.Ju=Zs(t,8-n)<<n+1,this.zu=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Yu)throw new a("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.Ku+t.length<=this.ju?(this.qu.set(t,this.Ku),this.Ku+=t.length,this.Ku===this.ju&&this.closeBuffer()):(this.closeBuffer(),this.Xu.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.zu;this.Ju|=Qs(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=Zs(t[i-1],8-n),r=Qs(t[i],n+1);this.Ju=e<<n+1|r,this.closeByte()}this.Ju=Zs(t[t.length-1],8-n)<<n+1,this.zu=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new a("Received a negative number.");if(n>32)throw new a("The max bitlength that can be provided is 32.");if(t>=v.pow(2,n))throw new a("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new a("The max bitlength that can be provided is 32.");if(v.abs(t)>=v.pow(2,n-1))throw new a("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+v.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new a("Received a negative number.");for(var n=v.floor(v.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),eo=function(){function t(t){this.rb=new no,this.Qu=t}return t.prototype.closeWriter=function(){void 0!==this.Qu&&(this.rb=this.rb.concat(this.Qu.close()),this.Qu=void 0)},d.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Qu&&(this.Qu=new io),this.Qu},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),ro=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new a("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(v.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new eo;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=v.pow(2,32),t}();function uo(t,n){return t instanceof Jt?64===n:t<v.pow(2,n)}function so(t,n){return v.round(t*v.pow(2,n))}function oo(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}var co=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!uo(i,8))throw new a("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Xs(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.Zu},set:function(t){this.Zu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new a("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(ro);!function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}Xs(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(no.from(this.data))}}(ro);var ho=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var ao=16384;function fo(t){var n=t.length;if(n<=ao)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=ao)i.push(String.fromCharCode.apply(String,t.slice(e,e+ao)));return i.join("")}function vo(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function lo(t,n,i){var e,r=function(t,n,i){void 0===n&&(n=0);void 0===i&&(i=t.byteLength);return new y(t.buffer,t.byteOffset+n,i-n)}(new y((e=t).buffer,e.byteOffset,e.byteLength),n.offset,n.offset+i);return n.shift(r.byteLength),r}function wo(t,n,i){return n.offset+i<=t.byteLength}function go(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function yo(t,n,i){void 0===i&&(i=!1);var e=go(t,n,i),r=go(t,n,i),u=i?r:e,s=i?e:r;return Jt.fromBits(s,u,!0)}function _o(t,n,i){var e,r=lo(t,n,i);return fo((e=r,[].slice.call(e)))}function mo(t,n){var i,e=vo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&vo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&vo(t,n))+(63&vo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&vo(t,n))+64*(63&vo(t,n))+(63&vo(t,n))),i}function po(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=mo(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return fo(n)}(e)}(t,n,!0)}var bo=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new ho(this.offset<<3)},t}(),ko=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return vo(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return go(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=go(t,n,i),r=go(t,n,i),u=i?r:e,s=i?e:r;return Jt.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return yo(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return lo(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(go(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return _o(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return po(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function To(t,n){return t.type===n}var Eo=8;function So(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!wo(t,n,Eo)){var e=n.offset+Eo;return{complete:!1,neededOffset:e}}var r=go(t,n),u=_o(t,n,4);if(1===r){if(!wo(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=yo(t,n).toNumber()}if("uuid"===u){if(!wo(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}u=_o(t,n,16)}var s=n.offset;return{complete:!0,header:{type:u,size:r,headerSize:s-i}}}(t,n);if(!e.complete)return e;var r=e.header,u=r.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var c,h,a,f={type:r.type,offset:i,data:new ko((c=t,h=i,a=s,void 0===h&&(h=0),void 0===a&&(a=c.byteLength),new DataView(c.buffer,c.byteOffset+h,a-h)),new bo(r.headerSize))};return n.seek(s),{complete:!0,box:f}}!function(t){function n(){return t.call(this,"mdir")||this}Xs(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",e,r)||this;return u.name=i,u.handlerType=n,u}return Xs(n,t),d.defineProperty(n.prototype,"handlerType",{get:function(){return this.ts},set:function(t){this.ts=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(co));var Ro=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},d.defineProperty(t.prototype,"tag",{get:function(){return this.es},set:function(t){if(!uo(t,8))throw new a("Provided tag does not fit in 8 bits.");this.es=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c=t.call(this,4,o.fixed28BitMode)||this;return c.upStream=e,c.decoderSpecificInfo=s,c.objectTypeIndication=n,c.streamType=i,c.bufferSizeDb=r,c.maxBitrate=u.max,c.avgBitrate=u.avg,c}Xs(n,t),d.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.rs},set:function(t){if(!uo(t,8))throw new a("Provided objectTypeIndication does not fit in 8 bits.");this.rs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamType",{get:function(){return this.us},set:function(t){if(!uo(t,6))throw new a("Provided streamType does not fit in 6 bits.");this.us=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.ss},set:function(t){if(!uo(t,24))throw new a("Provided bufferSizeDb does not fit in 24 bits.");this.ss=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.os},set:function(t){if(!uo(t,32))throw new a("Provided maxBitrate does not fit in 32 bits.");this.os=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.cs},set:function(t){if(!uo(t,32))throw new a("Provided avgBitrate does not fit in 32 bits.");this.cs=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Ro),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}Xs(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(no.from(this.data))}}(Ro);var Io=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Xs(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Ro);!function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=e,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new Io(r.fixed28BitMode),u}Xs(n,t),d.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"esId",{get:function(){return this.hs},set:function(t){if(!uo(t,16))throw new a("Provided esId does not fit in 16 bits.");this.hs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamPriority",{get:function(){return this.as},set:function(t){if(!uo(t,5))throw new a("Provided streamPriority does not fit in 5 bits.");this.as=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.fs},set:function(t){if(t&&!uo(t,16))throw new a("Provided dependsOnEsId does not fit in 16 bits.");this.fs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.ds},set:function(t){if(t&&!uo(t,16))throw new a("Provided ocrEsId does not fit in 16 bits.");this.ds=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Ro);var Ao=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Xs(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(ro),No=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Xs(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Ao),Oo=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return Xs(n,t),d.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.vs},set:function(t){if(!uo(t,16))throw new a("Provided dataReferenceIndex does not fit in 16 bits.");this.vs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(No),Do=function(t){function n(n,i,e,r){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(u=e.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=e.sampleSize)&&void 0!==s?s:16,o.sampleRate=e.sampleRate,o}return Xs(n,t),d.defineProperty(n.prototype,"channelCount",{get:function(){return this.ls},set:function(t){if(!uo(t,16))throw new a("Provided channelCount does not fit in 16 bits.");this.ls=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleSize",{get:function(){return this.gs},set:function(t){if(!uo(t,16))throw new a("Provided sampleSize does not fit in 16 bits.");this.gs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleRate",{get:function(){return this.ys},set:function(t){if(!uo(so(t,16),32))throw new a("Provided rate does not fit in 32 bits (fixed 16.16).");this.ys=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(so(this.sampleRate,16),32),this.extra&&oo(n.writer,this.extra)},n}(Oo);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Xs(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this._s},set:function(t){if(!uo(t.length,32))throw new a("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uo(t,32)}))throw new a("Not all entries can be represented in 32 bits.");this._s=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(co),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Xs(n,t),d.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.ps},set:function(t){if(!uo(t,32))throw new a("Provided cleanApertureWidthN does not fit in 32 bits.");this.ps=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.bs},set:function(t){if(!uo(t,32))throw new a("Provided cleanApertureWidthD does not fit in 32 bits.");this.bs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.ks},set:function(t){if(!uo(t,32))throw new a("Provided cleanApertureHeightN does not fit in 32 bits.");this.ks=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Ts},set:function(t){if(!uo(t,32))throw new a("Provided cleanApertureHeightD does not fit in 32 bits.");this.Ts=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Es},set:function(t){if(!uo(t,32))throw new a("Provided horizOffN does not fit in 32 bits.");this.Es=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Ss},set:function(t){if(!uo(t,32))throw new a("Provided horizOffD does not fit in 32 bits.");this.Ss=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Rs},set:function(t){if(!uo(t,32))throw new a("Provided vertOffN does not fit in 32 bits.");this.Rs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Is},set:function(t){if(!uo(t,32))throw new a("Provided vertOffD does not fit in 32 bits.");this.Is=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(ro),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}Xs(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this._s},set:function(t){if(!uo(t.length,32))throw new a("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uo(t.sampleCount,32)||!uo(t.sampleOffset,32)}))throw new a("Not all entries can be represented in 64 bits.");this._s=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(co),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Xs(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.As},set:function(t){this.flags=void 0===t?1:0,this.As=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(co),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}Xs(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.As},set:function(t){if(1&this.flags)throw new a("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.As=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(co),function(t){function n(){return t.call(this,"dinf")||this}Xs(n,t)}(No);var Co=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!uo(i,8))throw new a("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Xs(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.Zu},set:function(t){this.Zu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new a("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Ao);!function(t){function n(){return t.call(this,"dref",0,0)||this}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Co);var Po=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return Xs(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this._s},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!uo(e.segmentDuration,this.bitSize))throw new a("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!uo(e.mediaTime,this.bitSize))throw new a("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!uo(e.mediaRateInteger,16))throw new a("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!uo(e.mediaRateFraction,16))throw new a("Provided mediaRateFraction does not fit in 16 bits.")}this._s=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(co);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Xs(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Po),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Xs(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Po),function(t){function n(){return t.call(this,"edts")||this}Xs(n,t)}(No);var xo=function(t){function n(n,i,e,r){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=e,u.compatibleBrands=r,u}return Xs(n,t),d.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Ns},set:function(t){if(4!==t.length)throw new a("the provided major brand does not conform to the 4 character requirement");this.Ns=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Os},set:function(t){if(!uo(t,32))throw new a("the provided minor version does not fit in 32 bits.");this.Os=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Ds},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new a("Some of the compatible brands do not conform to the 4 character requirement");this.Ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(ro);!function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}Xs(n,t)}(xo),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}Xs(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(no.from(this.data))}}(ro);var Lo,Mo=function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",e,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return Xs(n,t),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.Cs},set:function(t){if(!uo(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Cs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Ps},set:function(t){if(!uo(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.xs},set:function(t){if(!uo(t,32))throw new a("Provided sequence number does not fit in 32 bits.");this.xs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.Ls},set:function(t){if(!uo(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ls=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"language",{get:function(){return this.Ms},set:function(t){if(!function(t){return/^[a-z]{3}$/.test(t)}(t))throw new a("Expected an ISO-639-2/T language code");this.Ms=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(co);!function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}Xs(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}(Mo),function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}Xs(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Mo),function(t){function n(){return t.call(this,"mdia")||this}Xs(n,t)}(No),function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new no,n}Xs(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(ro),function(t){function n(){return t.call(this,"minf")||this}Xs(n,t)}(No),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Co),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Lo||(Lo={}));var Bo,Fo,Uo={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Vo(t,n){n.writer.writeUInt(so(t.a,16),32),n.writer.writeUInt(so(t.b,16),32),n.writer.writeUInt(so(0,30),32),n.writer.writeUInt(so(t.c,16),32),n.writer.writeUInt(so(t.d,16),32),n.writer.writeUInt(so(0,30),32),n.writer.writeUInt(so(t.x,16),32),n.writer.writeUInt(so(t.y,16),32),n.writer.writeUInt(so(1,30),32)}function Ho(t,n){var i,e,r,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Bo.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Fo.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Fo.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:Fo.UNKNOWN,2)}function qo(t,n){var i,e,r;n.writer.writeUInt(0,4),Ho(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Bo||(Bo={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Fo||(Fo={}));var Wo=function(){return function(){}}(),zo=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return Xs(n,t),d.defineProperty(n.prototype,"systemId",{get:function(){return this.Bs},set:function(t){if(16!==t.length)throw new a("Provided systemId length is not 16.");this.Bs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"data",{get:function(){return this.P},set:function(t){if(!uo(t.length,32))throw new a("Provided data length does not fit in 32 bits.");this.P=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(no.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(no.from(this.data))},n}(co),Go=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Xs(n,t),n}(zo),$o=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return Xs(n,t),d.defineProperty(n.prototype,"kIds",{get:function(){return this.Fs},set:function(t){if(!uo(t.length,32))throw new a("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new a("Not all provided key ids are 16 bytes long.");this.Fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(no.from(e))}},n}(zo);var jo=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return Xs(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Us},set:function(t){if(!uo(t,this.bitSize))throw new a("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Us=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(co);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Xs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)}}(jo),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Xs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)}}(jo),function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var u,s,o,c=this;return(c=t.call(this,"trex",e,r)||this).trackId=n,c.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,c.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,c.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,c.defaultSampleFlags=i.sampleFlags,c}Xs(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Vs},set:function(t){if(!uo(t,32))throw new a("Provided track id does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Hs},set:function(t){if(!uo(t,32))throw new a("Provided default sample description index does not fit in 32 bits.");this.Hs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.qs},set:function(t){if(!uo(t,32))throw new a("Provided default sample duration does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ws},set:function(t){if(!uo(t,32))throw new a("Provided default sample size does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.zs},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!uo(t.samplePaddingValue,3))throw new a("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uo(t.sampleDegradationPriority,16))throw new a("Provided sample degradation priority does not fit in 16 bits.");this.zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),qo(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)}}(co),function(t){function n(){return t.call(this,"mvex")||this}Xs(n,t)}(No);var Yo=function(t){function n(i,e,r,u,s){void 0===s&&(s=0);var o,c,h,a=this;return(a=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,a.modificationTime=i.modification,a.timescale=i.scale,a.duration=i.duration,a.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,a.volume=null!==(c=r.volume)&&void 0!==c?c:n.DEFAULT_VOLUME,a.matrix=null!==(h=r.matrix)&&void 0!==h?h:Uo,a.Gs=e,a}return Xs(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.Cs},set:function(t){if(!uo(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Cs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Ps},set:function(t){if(!uo(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.xs},set:function(t){if(!uo(t,32))throw new a("Provided sequence number does not fit in 32 bits.");this.xs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.Ls},set:function(t){if(!uo(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ls=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"rate",{get:function(){return this.$s},set:function(t){if(!uo(so(t,16),32))throw new a("Provided rate does not fit in 32 bits (fixed 16.16).");this.$s=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.js},set:function(t){if(!uo(so(t,8),16))throw new a("Provided volume does not fit in 16 bits (fixed 8.8).");this.js=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Ys},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new a("(u, v, w) does not match the required (0, 0, 1)");this.Ys=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Gs},set:function(t){if(0===t)throw new a("NextTrackId cannot be 0.");if(!uo(t,32))throw new a("NextTrackId cannot exceed 32 bits.");this.Gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(so(this.rate,16),32),n.writer.writeUInt(so(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Vo(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(co);!function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}Xs(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}(Yo),function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}Xs(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Yo);var Xo=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c,h,a,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=u,f.height=s,f.layer=null!==(c=o.layer)&&void 0!==c?c:0,f.alternateGroup=null!==(h=o.alternateGroup)&&void 0!==h?h:0,f.matrix=null!==(a=o.matrix)&&void 0!==a?a:Uo,f}return Xs(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.Cs},set:function(t){if(!uo(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Cs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Ps},set:function(t){if(!uo(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Vs},set:function(t){if(0===t)throw new a("trackId cannot be 0.");if(!uo(t,32))throw new a("trackId cannot exceed 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.Ls},set:function(t){if(!uo(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ls=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.js},set:function(t){if(!uo(so(t,8),16))throw new a("Provided volume does not fit in 16 bits (fixed 8.8).");this.js=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"width",{get:function(){return this.Xs},set:function(t){if(!uo(so(t,16),32))throw new a("Provided width does not fit in 32 bits (fixed 16.16).");this.Xs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.Ks},set:function(t){if(!uo(so(t,16),32))throw new a("Provided height does not fit in 32 bits (fixed 16.16).");this.Ks=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"layer",{get:function(){return this.Js},set:function(t){if(!uo(t,16))throw new a("Provided layer does not fit in 16 bits.");this.Js=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Qs},set:function(t){if(!uo(t,16))throw new a("Provided alternateGroup does not fit in 16 bits.");this.Qs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Ys},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new a("(u, v, w) does not match the required (0, 0, 1)");this.Ys=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(so(this.volume,8),16),n.writer.writeUInt(0,16),Vo(this.matrix,n),n.writer.writeUInt(so(this.width,16),32),n.writer.writeUInt(so(this.height,16),32)},n}(co);!function(t){function n(n,i,e,r,u,s){return t.call(this,0,n,i,e,r,u,s)||this}Xs(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)}}(Xo),function(t){function n(n,i,e,r,u,s){return t.call(this,1,n,i,e,r,u,s)||this}Xs(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Xo),function(t){function n(){return t.call(this,"trak")||this}Xs(n,t)}(No),function(t){function n(){return t.call(this,"moov")||this}Xs(n,t)}(No);var Ko=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return Xs(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Zs},set:function(t){if(!uo(t,this.bitSize))throw new a("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(co);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Xs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)}}(Ko),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Xs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)}}(Ko),function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}Xs(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Vs},set:function(t){if(!uo(t,32))throw new a("Provided track id does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.to},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new a("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new a("The base data offset present flag is not set.");if(t&&!uo(t,64))throw new a("Provided baseDataOffset does not fit in 32 bits.");this.to=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.io},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new a("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new a("The sample description index flag is not set.");if(t&&!uo(t,32))throw new a("Provided sampleDescriptionIndex does not fit in 32 bits.");this.io=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.qs},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new a("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new a("The default sample duration present flag is not set.");if(t&&!uo(t,32))throw new a("Provided defaultSampleDuration does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ws},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new a("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new a("The default sample size present flag is not set.");if(t&&!uo(t,32))throw new a("Provided defaultSampleSize does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.zs},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new a("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new a("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!uo(t.samplePaddingValue,3))throw new a("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uo(t.sampleDegradationPriority,16))throw new a("Provided sample degradation priority does not fit in 16 bits.");this.zs=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&qo(this.defaultSampleFlags,n)}}(co),function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}Xs(n,t),d.defineProperty(n.prototype,"dataOffset",{get:function(){return this.eo},set:function(t){if(t&&!uo(t,32))throw new a("Provided data offset does not fit in 32 bits.");this.eo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.ro},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!uo(t.samplePaddingValue,3))throw new a("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uo(t.sampleDegradationPriority,16))throw new a("Provided sample degradation priority does not fit in 16 bits.");this.ro=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.uo},set:function(t){var n,i;if(!uo(t.length,32))throw new a("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var u=r[e];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new a("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new a("The sample duration present flag is not set.");if(u.duration&&!uo(u.duration,32))throw new a("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new a("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new a("The sample size present flag is not set.");if(u.size&&!uo(u.size,32))throw new a("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new a("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new a("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!uo(u.flags.samplePaddingValue,3))throw new a("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!uo(u.flags.sampleDegradationPriority,16))throw new a("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new a("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new a("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!uo(u.compositionTimeOffset,32))throw new a("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.uo=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&qo(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&qo(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}}}(co),function(t){function n(){return t.call(this,"traf")||this}Xs(n,t)}(No),function(t){function n(){return t.call(this,"moof")||this}Xs(n,t)}(No),function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Xs(n,t),d.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.so},set:function(t){if(!uo(t,32))throw new a("Provided sequence number does not fit in 32 bits.");this.so=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(co);var Jo=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Xs(n,t),d.defineProperty(n.prototype,"codingName",{get:function(){return this.oo},set:function(t){if(4!==t.length)throw new a("Provided coding name was not 4 characters long.");this.oo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(ro);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}Xs(n,t),d.defineProperty(n.prototype,"hSpacing",{get:function(){return this.co},set:function(t){if(!uo(t,32))throw new a("Provided hSpacing does not fit in 32 bits.");this.co=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vSpacing",{get:function(){return this.ho},set:function(t){if(!uo(t,32))throw new a("Provided vSpacing does not fit in 32 bits.");this.ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(ro),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}Xs(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(No),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new Jo(n),r}Xs(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(ro);var Qo=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return Xs(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this._s},set:function(t){var n=this;if(!uo(t.length,32))throw new a("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!uo(t,n.bitSize)}))throw new a("Not all provided entries fit in ".concat(this.bitSize," bits."));this._s=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.ao},set:function(t){if(void 0===t)this.flags=0;else{if(!uo(t.auxInfoType,32))throw new a("Provided auxInfoType does not fit in 32 bits.");if(!uo(t.auxInfoTypeParameter,32))throw new a("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.ao=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(co);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Xs(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(Qo),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Xs(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(Qo),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}Xs(n,t),d.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.fo},set:function(t){if(!uo(t,8))throw new a("Provided defaultSampleInfoSize does not fit in a single byte.");this.fo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.do},set:function(t){if(!uo(t.length,32))throw new a("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!uo(t,8)}))throw new a("Not all provided sampleInfoSizes fit in a byte.");this.do=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.ao},set:function(t){if(void 0===t)this.flags=0;else{if(!uo(t.auxInfoType,32))throw new a("Provided auxInfoType does not fit in 32 bits.");if(!uo(t.auxInfoTypeParameter,32))throw new a("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.ao=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new a("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(co),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Ho(e[i],n)}}}(co),function(t){function n(n){return t.call(this,"stsd",n,0)||this}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Co);var Zo=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return Xs(n,t),d.defineProperty(n.prototype,"groupingType",{get:function(){return this.vo},set:function(t){if(4!==t.length)throw new a("The provided groupingType does not equal 4 characters.");this.vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(co);!function(t){function n(n,i){return t.call(this,0,n,i)||this}Xs(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(Zo),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}Xs(n,t),d.defineProperty(n.prototype,"defaultLength",{get:function(){return this.lo},set:function(t){if(!uo(t,32))throw new a("The provided defaultLength does not fit in 32 bits.");this.lo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Zo),function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=this;if(n<2)throw new a("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,u}Xs(n,t),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Hs},set:function(t){if(!uo(t,32))throw new a("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Hs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Zo),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Xs(n,t),d.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.wo},set:function(t){if(!uo(t.length,32))throw new a("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!uo(t,32)}))throw new a("Not all sampleSizes can be represented in 32 bits.");this.wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(co),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}Xs(n,t),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ws},set:function(t){if(!uo(t,32))throw new a("Provided defaultSampleSize does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.uo},set:function(t){if(!uo(t,32))throw new a("Number of allowed samples cannot fit in 32 bits.");this.uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(co),function(t){function n(){return t.call(this,"stbl")||this}Xs(n,t)}(No),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Xs(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this._s},set:function(t){if(!uo(t.length,32))throw new a("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uo(t.firstChunk,32)||!uo(t.sampleDescriptionIndex,32)||!uo(t.samplesPerChunk,32)}))throw new a("Not all entries can be represented in 96 bits.");this._s=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(co),function(t){function n(){return t.call(this,"schi")||this}Xs(n,t)}(No),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}Xs(n,t),d.defineProperty(n.prototype,"schemeType",{get:function(){return this.yo},set:function(t){if(4!==t.length)throw new a("The provided schemeType does not have a length of 4.");this.yo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeVersion",{get:function(){return this._o},set:function(t){if(!uo(t,32))throw new a("The provided schemeVersion does not fit in 23 bits.");this._o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeUri",{get:function(){return this.mo},set:function(t){if(t&&4!==t.length)throw new a("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.mo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(co);var tc=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o=0);var c=t.call(this,"sidx",n,o)||this;return c.referenceId=i,c.timescale=e,c.earliestPresentationTime=r,c.firstOffset=u,c.references=s,c}return Xs(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"referenceId",{get:function(){return this.po},set:function(t){if(!uo(t,32))throw new a("Provided referenceId does not fit in 32 bits.");this.po=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.xs},set:function(t){if(!uo(t,32))throw new a("Provided timescale does not fit in 32 bits.");this.xs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.bo},set:function(t){if(!uo(t,this.bitSize))throw new a("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.bo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstOffset",{get:function(){return this.ko},set:function(t){if(!uo(t,this.bitSize))throw new a("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.ko=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"references",{get:function(){return this.To},set:function(t){if(!uo(t.length,16))throw new a("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!uo(e.referencedSize,31))throw new a("Provided referenced size does not fit in 31 bits.");if(!uo(e.subsegmentDuration,32))throw new a("Provided subsegment duration does not fit in 31 bits.");if(!uo(e.sapType,3))throw new a("Provided SAP type does not fit in 3 bits.");if(!uo(e.sapDeltaTime,28))throw new a("Provided SAP delta time does not fit in 28 bits.")}this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(co);!function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,e,r,u,s)||this}Xs(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)}}(tc),function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,e,r,u,s)||this}Xs(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)}}(tc),function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}Xs(n,t)}(xo),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Xs(n,t),d.defineProperty(n.prototype,"balance",{get:function(){return this.Eo},set:function(t){if(t<-1||t>1)throw new a("Provided balance does not fit in the allowed range [-1, 1].");if(!uo(so(t,8),16))throw new a("Provided balance does not fit in 16 bits (fixed 8.8).");this.Eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(so(this.balance,8),16),n.writer.writeUInt(0,16)}}(co),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Xs(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this._s},set:function(t){if(!uo(t.length,32))throw new a("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uo(t,32)}))throw new a("Not all entries can be represented in 32 bits.");this._s=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(co),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Xs(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this._s},set:function(t){if(!uo(t.length,32))throw new a("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uo(t.sampleCount,32)||!uo(t.sampleDelta,32)}))throw new a("Not all entries can be represented in 64 bits.");this._s=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(co),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Xs(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Vs},set:function(t){if(!uo(t,32))throw new a("The provided trackId does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Co),function(t){function n(){return t.call(this,"udta")||this}Xs(n,t)}(No);var nc={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=nc);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}Xs(n,t),d.defineProperty(n.prototype,"opColor",{get:function(){return this.So},set:function(t){if(!uo(t.red,16)||!uo(t.green,16)||!uo(t.blue,16))throw new a("Not all colors could be represented in 16 bits.");this.So=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(co);var ic=function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s,o,c,h,a,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(s=e.horizontal)&&void 0!==s?s:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(c=r.compressorName)&&void 0!==c?c:"",f.frameCount=null!==(h=r.frameCount)&&void 0!==h?h:1,f.depth=null!==(a=r.depth)&&void 0!==a?a:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=u,f}return Xs(n,t),d.defineProperty(n.prototype,"width",{get:function(){return this.Xs},set:function(t){if(!uo(t,16))throw new a("Provided width does not fit in 16 bits.");this.Xs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.Ks},set:function(t){if(!uo(t,16))throw new a("Provided height does not fit in 16 bits.");this.Ks=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.Ro},set:function(t){if(!uo(so(t,16),32))throw new a("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.Ro=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.Io},set:function(t){if(!uo(so(t,16),32))throw new a("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.Io=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compressorName",{get:function(){return this.Ao},set:function(t){if(t.length>31)throw new a("The provided compressorName should at most be 31 characters long.");this.Ao=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"frameCount",{get:function(){return this.No},set:function(t){if(!uo(t,16))throw new a("Provided frameCount does not fit in 16 bits.");this.No=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"depth",{get:function(){return this.Oo},set:function(t){if(!uo(t,16))throw new a("Provided depth does not fit in 16 bits.");this.Oo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(so(this.horizontalResolution,16),32),n.writer.writeUInt(so(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&oo(n.writer,this.extra)},n}(Oo);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(no.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(co),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Do),function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,i,r)||this;return u.esDescriptor=e,u}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(ic),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Oo),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Xs(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(ro),function(){function t(t,n,i,e,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}d.defineProperty(t.prototype,"version",{get:function(){return this.Do},set:function(t){if(!uo(t,8))throw new a("Provided version does not fit in 8 bits.");this.Do=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileIndication",{get:function(){return this.Co},set:function(t){if(!uo(t,8))throw new a("Provided profileIndication does not fit in 8 bits.");this.Co=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.Po},set:function(t){if(!uo(t,8))throw new a("Provided profileCompatibility does not fit in 8 bits.");this.Po=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"levelIndication",{get:function(){return this.xo},set:function(t){if(!uo(t,8))throw new a("Provided levelIndication does not fit in 8 bits.");this.xo=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"spsSets",{get:function(){return this.Lo},set:function(t){if(!uo(t.length,5))throw new a("Provided number of spsSets exceeds the max (32)");this.Lo=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ppsSets",{get:function(){return this.Mo},set:function(t){if(!uo(t.length,8))throw new a("Provided number of ppsSets exceeds the max (256)");this.Mo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(no.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var s=u[r];t.writer.writeUInt(s.length,16),t.concat(no.from(s))}}}(),function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,r)||this;return s.configurationBox=e,s.bitrateBox=u,s}Xs(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(ic),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}Xs(n,t),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.ss},set:function(t){if(!uo(t,32))throw new a("Provided bufferSizeDb does not fit in 32 bits.");this.ss=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"max",{get:function(){return this.Bo},set:function(t){if(!uo(t,32))throw new a("Provided max does not fit in 32 bits.");this.Bo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avg",{get:function(){return this.Fo},set:function(t){if(!uo(t,32))throw new a("Provided avg does not fit in 32 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(ro);var ec=function(t){function n(n,i){var e,r,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new a("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new y(0),o}return Xs(n,t),d.defineProperty(n.prototype,"isProtected",{get:function(){return this.Uo},set:function(t){if(!uo(t,8))throw new a("Provided isProtected does not fit in 1 byte.");this.Uo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Vo},set:function(t){if(![8,16].includes(t))throw new a("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Vo=t,this.Ho=new y(0)},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"kId",{get:function(){return this.qo},set:function(t){if(16!==t.length)throw new a("Provided kId length is not 16.");this.qo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"constantIv",{get:function(){return this.Ho},set:function(t){if(![8,16].includes(t.length))throw new a("Provided constant IV length does not match any allowed value [8, 16].");this.Ho=t,this.Vo=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),oo(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),oo(t.writer,this.constantIv))},n}(co);!function(t){function n(n){return t.call(this,0,n)||this}Xs(n,t)}(ec);var rc=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Xs(n,t),d.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Wo},set:function(t){if(!uo(t,4))throw new a("Provided cryptByteBlocks does not fit in 4 bits.");this.Wo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.zo},set:function(t){if(!uo(t,4))throw new a("Provided skipByteBlocks does not fit in 4 bits.");this.zo=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(ec);function uc(t){return void 0!==t.iv}function sc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new rc(n),i}Xs(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Wo),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Xs(n,t),d.defineProperty(n.prototype,"samples",{get:function(){return this.uo},set:function(t){var n;if(!uo(t.length,32))throw new a("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(uc(r)&&![8,16].includes(r.iv.length))throw new a("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=sc(r)),!0===n&&!sc(r)||!1===n&&sc(r))throw new a("Mix of samples with and without subsamples detected.");if(sc(r)){if(!uo(r.subsamples.length,16))throw new a("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];if(!uo(o.clearData,16))throw new a("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!uo(o.protectedData,23))throw new a("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];uc(r)&&(n+=r.iv.length),sc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(uc(r)&&oo(n.writer,r.iv),sc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(co),function(t){function n(n,i,e,r,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=e,s.timescale=r.timescale,s.presentationTimeDelta=r.presentationTimeDelta,s.eventDuration=r.eventDuration,s}Xs(n,t),d.defineProperty(n.prototype,"timescale",{get:function(){return this.xs},set:function(t){if(!uo(t,32))throw new a("The provided timescale does not fit in 32 bits.");this.xs=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Go},set:function(t){if(!uo(t,32))throw new a("The provided presentationTimeDelta does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"eventDuration",{get:function(){return this.$o},set:function(t){if(!uo(t,32))throw new a("The provided eventDuration does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"id",{get:function(){return this.jo},set:function(t){if(!uo(t,32))throw new a("The provided id does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(no.from(this.data))}}(co);var oc,cc,hc=(oc="pssh",cc=function(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)e.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new $o(i,o,e):new Go(i,o)},function(t){var n,i=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=So(i,e);if(!r.complete)return;if(To(r.box,n))return r.box}}(new ko((n=t,new DataView(n.buffer,n.byteOffset,n.byteLength)),new bo),oc);if(!i)throw new a("".concat(oc," box not found"));return cc(i)}),ac=function(t){function n(n,i){var e;(e=t.call(this)||this).Yo=void 0,e.Xo=!1,e.Ko=void 0,e.Jo=void 0,e.Qo=function(){e.Zo()},e.tc=function(t){e.Jr(new Bu(On(e),t.messageType,Gs(e.nc,t.message)))},e.ic=function(){e.Xo=!0,e.Yo.Eu>0&&(e.Yo.Tu(),e.Jr(new Mu(On(e)))),e.ec.removeEventListener("keystatuseschange",e.Qo),e.ec.removeEventListener("message",e.tc)},e.ec=n,e.nc=i,e.ec.addEventListener("keystatuseschange",e.Qo),e.ec.addEventListener("message",e.tc),e.Yo=new Hu;var r=[];return e.ec.closed&&r.push(G.resolve(e.ec.closed)),e.Jo=new qs,r.push(e.Jo.Pu),e.Ko=G.race(r).then(e.ic,e.ic),e.Zo(),e}dt(n,t);var i=n.prototype;return i.rc=function(){if(this.Xo)return this.Ko;var t=[];return t.push(G.resolve(this.ec.close())),t.push(Iu(1e3)),this.Jo.Mu(G.race(t).catch(fc)),this.Xo=!0,this.Ko},i.uc=function(t,n,i){if(St.En){var e=hc(Bs(n));if(1===e.version)n=new Go(e.systemId,e.data).serialize().join()}return G.resolve(this.ec.generateRequest(t,n)).catch(fc)},i.sc=function(t){return G.resolve(this.ec.load(t)).catch(fc)},i.oc=function(){return G.resolve(this.ec.remove()).catch(fc)},i.cc=function(t){return G.resolve(this.ec.update(t)).catch(fc)},i.Zo=function(){var t=this;this.Yo.Tu(),this.ec.keyStatuses.forEach(function(n,i){t.hc(i,n)}),this.Jr(new Mu(this))},i.hc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Bs(t);if(this.nc===Dr&&16===e.byteLength){var r=xs(e),u=r.getUint32(0,!0),s=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,s,!1),r.setUint16(6,o,!1)}this.nc===Dr&&"status-pending"===n&&(n="usable"),this.Yo.ku(e,n)},at(n,[{key:"ac",get:function(){return this.Ko}},{key:"fc",get:function(){return this.ec.expiration}},{key:"dc",get:function(){return this.Yo}},{key:"vc",get:function(){return this.ec.sessionId}}]),n}(Du);function fc(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|l(i[1],16))}throw new js(t.message,void 0,n,t)}var dc=function(){function t(t,n,i){this.lc=t,this.wc=n,this.gc=i}var n=t.prototype;return n.yc=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new ac(this.lc.createSession(t),this.wc));case 1:case"end":return n.stop()}},null,this,null,G)},n._c=function(t){return G.resolve(this.lc.setServerCertificate(t))},n.mc=function(t){return G.resolve(t.setMediaKeys(this.lc))},n.pc=function(t){return G.resolve(t.setMediaKeys(null))},t}(),vc=function(){function t(t,n,i){this.bc=t,this.nc=n,this.kc=i}var n=t.prototype;return n.Tc=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(this.bc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new dc(t,this.nc,this.kc));case 4:case"end":return n.stop()}},null,this,null,G)},n.Ec=function(){return this.kc},at(t,[{key:"wc",get:function(){return this.bc.keySystem}}]),t}();function lc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function wc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,Sc:e.Sc},s=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(u.audioCapabilities=o.filter(function(e){return gc(t,n,i,e)}),s=!0,u.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var c=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(e){return gc(t,n,i,e)}),s=!0,u.videoCapabilities.length&&(r=!0))}return s||(r=t(i,"video/mp4")),r?u:void 0}}function gc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!fu(n,e.encryptionScheme))&&(!e.robustness&&t(i,lc(e.contentType))))}function yc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var s=u[r];if(s.contentType)return s.contentType}}function _c(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function mc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(pc))||!(!t.videoCapabilities||!t.videoCapabilities.some(pc))}function pc(t){return!t.robustness}function bc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(gr({},r,{robustness:n}))}return i}var kc=function(){function t(){}return t.prototype.Ir=function(t,n){var i,e,r,s,o,c,h,a;return wr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.Sc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=_c(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=_c(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(mc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",gr({},n=t,{videoCapabilities:n.videoCapabilities?bc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?bc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,wr.awrap(u.requestMediaKeySystemAccess(t,s));case 7:return o=f.sent,c=o.getConfiguration(),f.abrupt("return",new vc(o,t,c));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,wr.awrap(u.requestMediaKeySystemAccess(t,n));case 16:return h=f.sent,a=h.getConfiguration(),f.abrupt("return",new vc(h,t,a));case 19:case"end":return f.stop()}},null,null,[[4,12]],G)},t.Rc=function(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess},t}(),Tc=function(t){function n(n,i){var e;return(e=t.call(this)||this).Xo=!1,e.Ic=void 0,e.Ac=void 0,e.Nc=void 0,e.Oc=void 0,e.Dc=void 0,e.ic=function(){e.Xo=!0,e.Ic.Mu(void 0),e.Dc&&(e.Dc.removeEventListener("mskeyclose",e.ic),e.Dc.removeEventListener("mskeymessage",e.Cc),e.Dc.removeEventListener("mskeyerror",e.Pc),e.Dc.removeEventListener("mskeyadded",e.xc))},e.Cc=function(t){e.Nc&&(e.Nc.Mu(void 0),e.Nc=void 0),e.Jr(new Bu(On(e),"license-request",Us(t.message).buffer,t.destinationURL||void 0))},e.Pc=function(){var t=e.Dc&&e.Dc.error;if(t){var n=new js("Unknown CDM error",t.code,t.systemCode);if(e.Nc)e.Nc.Bu(n),e.Nc=void 0;else if(e.Ac)e.Ac.Bu(n),e.Ac=void 0;else switch(n.Fu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Lc("output-not-allowed");break;default:e.Lc("internal-error")}}},e.xc=function(){e.Nc&&(e.Lc("usable"),e.Nc.Mu(void 0),e.Nc=void 0),e.Ac&&(e.Lc("usable"),e.Ac.Mu(void 0),e.Ac=void 0)},e.Mc=n,e.Bc=i,e.Ic=new qs,e.Oc=new Hu,e}dt(n,t);var i=n.prototype;return i.uc=function(t,n,i){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Fc(),this.Nc=new qs,this.yc(Bs(n),i),t.next=5,wr.awrap(this.Nc.Pu);case 5:case"end":return t.stop()}},null,this,null,G)},i.yc=function(t,n){if(!t)throw new f("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Uc;return(i=n?this.Mc.createSession(this.Bc,t,e):this.Mc.createSession(this.Bc,t)).addEventListener("mskeyclose",this.ic),i.addEventListener("mskeymessage",this.Cc),i.addEventListener("mskeyerror",this.Pc),i.addEventListener("mskeyadded",this.xc),this.Dc=i,this.Lc("status-pending"),i},i.sc=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Fc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,G)},i.cc=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Ac=new qs,this.Fc(),this.Dc){i.next=4;break}return i.abrupt("return",G.resolve());case 4:if(0!==(n=Bs(t)).byteLength){i.next=7;break}throw new f("Cannot call update with an empty response.");case 7:return this.Dc.update(n),i.next=10,wr.awrap(this.Ac.Pu);case 10:case"end":return i.stop()}},null,this,null,G)},i.rc=function(){return!this.Xo&&this.Dc&&(this.Xo=!0,this.Dc.close()),this.Ic.Pu},i.oc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Fc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,G)},i.Fc=function(){if(this.Xo)throw new f("Already closing or closed.")},i.Lc=function(t){this.Oc.Tu(),this.Oc.ku(Vu,t),this.Jr(new Mu(this))},at(n,[{key:"vc",get:function(){return this.Dc&&this.Dc.sessionId||""}},{key:"fc",get:function(){return NaN}},{key:"ac",get:function(){return this.Ic.Pu}},{key:"dc",get:function(){return this.Oc}}]),n}(Du),Ec=function(){function t(t,n,i){this.Bc=void 0,this.Mc=t,this.wc=n,this.gc=i;var e=yc(i)||"video/mp4";this.Bc=lc(e)}var n=t.prototype;return n.yc=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Tc(this.Mc,this.Bc));case 1:case"end":return t.stop()}},null,this,null,G)},n._c=function(t){return G.resolve(!1)},n.mc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Mc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Mc),t.removeEventListener("loadedmetadata",i)}),G.resolve()},n.pc=function(t){return G.resolve()},t}(),Sc=function(){function t(t,n){this.nc=t,this.Vc=n}var n=t.prototype;return n.Ec=function(){return this.Vc},n.Tc=function(){var t=new Z.MSMediaKeys(this.nc);return G.resolve(new Ec(t,this.nc,this.Vc))},at(t,[{key:"wc",get:function(){return this.nc}}]),t}(),Rc=function(){function t(){}return t.prototype.Ir=function(t,n){try{return G.resolve(function(t,n){if(!Ic())throw new f("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=wc(Ac,xu,t,e);if(r)return new Sc(t,r)}throw new f("Unsupported key system configuration for "+t)}(t,n))}catch(t){return G.reject(t)}},t.Rc=function(){return Ic()},t}();function Ic(){return void 0!==Z.MSMediaKeys&&"function"==typeof Z.MSMediaKeys.isTypeSupported}function Ac(t,n){return Z.MSMediaKeys.isTypeSupported(t,n)}var Nc,Oc,Dc=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ic=new qs,r.Hc=void 0,r.Oc=new Hu,r.qc=void 0,r.Wc=new qs,r.Pc=function(){var t=r.qc&&r.qc.error;if(t){var n=new js("Unknown CDM error",t.code,t.systemCode);r.Hc?(r.Hc.Bu(n),r.Hc=void 0):n.Fu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Lc("output-not-allowed"):r.Lc("internal-error"),r.Jr(new Fu)}},r.Cc=function(t){r.Jr(new Bu(On(r),"license-request",Us(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.xc=function(){r.Hc&&(r.Hc.Mu(void 0),r.Hc=void 0),r.Lc("usable")},r.zc=n,r.Bc=i,r.Gc=e,r}dt(n,t);var i=n.prototype;return i.uc=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.$c;if(!e)throw new f("Expected FairPlay contentId to be defined but was "+e+".");var r=Cc(Bs(n),e,this.Gc);return this.qc=this.zc.createSession(this.Bc,r),this.qc.addEventListener("webkitkeymessage",this.Cc,!1),this.qc.addEventListener("webkitkeyadded",this.xc,!1),this.qc.addEventListener("webkitkeyerror",this.Pc,!1),this.Lc("status-pending"),this.Wc.Mu(this.qc),this.Wc=new qs,G.resolve()},i.sc=function(t){return G.resolve(!0)},i.cc=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Bs(t)).byteLength){i.next=3;break}throw new f("Cannot call update with an empty response.");case 3:if(this.Hc=new qs,i.t0=this.qc,i.t0){i.next=9;break}return i.next=8,wr.awrap(this.Wc.Pu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,wr.awrap(this.Hc.Pu);case 13:case"end":return i.stop()}},null,this,null,G)},i.rc=function(){var t,n=this.qc;return n&&(n.removeEventListener("webkitkeymessage",this.Cc,!1),n.removeEventListener("webkitkeyadded",this.xc,!1),n.removeEventListener("webkitkeyerror",this.Pc,!1),n.close()),this.Wc.Wr(),null==(t=this.Hc)||t.Wr(),this.Ic.Mu(void 0),this.Ic.Pu},i.oc=function(){return G.resolve(void 0)},i.Lc=function(t){this.Oc.Tu(),this.Oc.ku(Vu,t),this.Jr(new Mu(this))},at(n,[{key:"vc",get:function(){return this.qc?this.qc.sessionId:""}},{key:"fc",get:function(){return NaN}},{key:"ac",get:function(){return this.Ic.Pu}},{key:"dc",get:function(){return this.Oc}}]),n}(Du);function Cc(t,n,i){var e=Ds(t),r=2*e.length,u=2*n.length,s=new ArrayBuffer(4+r+4+u+4+i.byteLength),o=new DataView(s),c=new Hs;return _s(o,c,r,!0),Ss(o,c,e,!0),_s(o,c,u,!0),Ss(o,c,n,!0),_s(o,c,i.byteLength,!0),function(t,n,i){Ls(t).set(Ls(i),n.Nu),n.Ru(i.byteLength)}(o,c,i),new y(s)}n.ErrorCode=void 0,(Nc=n.ErrorCode||(n.ErrorCode={}))[Nc.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Nc[Nc.LICENSE_ERROR=2e3]="LICENSE_ERROR",Nc[Nc.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Nc[Nc.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Nc[Nc.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Nc[Nc.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",Nc[Nc.SOURCE_INVALID=3e3]="SOURCE_INVALID",Nc[Nc.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Nc[Nc.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Nc[Nc.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Nc[Nc.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Nc[Nc.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Nc[Nc.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Nc[Nc.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Nc[Nc.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Nc[Nc.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Nc[Nc.NETWORK_ERROR=6e3]="NETWORK_ERROR",Nc[Nc.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Nc[Nc.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Nc[Nc.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Nc[Nc.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Nc[Nc.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Nc[Nc.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Nc[Nc.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Nc[Nc.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Nc[Nc.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Nc[Nc.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Nc[Nc.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Nc[Nc.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Nc[Nc.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Nc[Nc.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Nc[Nc.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Nc[Nc.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Nc[Nc.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Nc[Nc.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Nc[Nc.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Nc[Nc.AD_ERROR=1e4]="AD_ERROR",Nc[Nc.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Nc[Nc.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(Oc=n.ErrorCategory||(n.ErrorCategory={}))[Oc.CONFIGURATION=1]="CONFIGURATION",Oc[Oc.LICENSE=2]="LICENSE",Oc[Oc.SOURCE=3]="SOURCE",Oc[Oc.MANIFEST=4]="MANIFEST",Oc[Oc.MEDIA=5]="MEDIA",Oc[Oc.NETWORK=6]="NETWORK",Oc[Oc.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Oc[Oc.SUBTITLE=8]="SUBTITLE",Oc[Oc.VR=9]="VR",Oc[Oc.AD=10]="AD",Oc[Oc.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=v.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new f("Invalid error code: "+t)}}();var Pc=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return dt(i,t),at(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(Cn);var xc=function(){function t(t,n,i){this.Bc=void 0,this.Gc=void 0,this.zc=t,this.wc=n,this.gc=i;var e=yc(i)||"video/mp4";this.Bc=lc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.zc},i.yc=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Gc){t.next=2;break}throw new Pc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Dc(this.zc,this.Bc,this.Gc));case 3:case"end":return t.stop()}},null,this,null,G)},i._c=function(t){return this.Gc=Bs(t),G.resolve(!0)},i.mc=function(t){return t.webkitSetMediaKeys(this.zc),G.resolve()},i.pc=function(t){return t.webkitSetMediaKeys(null),G.resolve()},t}(),Lc=function(){function t(t,n){this.nc=t,this.Vc=n}var n=t.prototype;return n.Ec=function(){return this.Vc},n.Tc=function(){var t=new Z.WebKitMediaKeys(this.nc);return G.resolve(new xc(t,this.nc,this.Vc))},at(t,[{key:"wc",get:function(){return this.nc}}]),t}(),Mc=function(){function t(){}return t.prototype.Ir=function(t,n){try{return G.resolve(function(t,n){if(t!==Fr)throw new f(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Bc())throw new f("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=wc(Fc,Lu,t,e);if(r)return new Lc(t,r)}throw new f("Unsupported key system configuration for "+t)}(t,n))}catch(t){return G.reject(t)}},t.Rc=function(){return Bc()},t}();function Bc(){return void 0!==Z.WebKitMediaKeys&&"function"==typeof Z.WebKitMediaKeys.isTypeSupported}function Fc(t,n){return Z.WebKitMediaKeys.isTypeSupported(t,n)}var Uc,Vc=function(){function t(t){this.jc=t}return t.prototype.Ir=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.jc;case 1:if(!(i<e.length)){u.next=14;break}return r=e[i],u.prev=3,u.next=6,wr.awrap(r.Ir(t,n));case 6:return u.abrupt("return",u.sent);case 9:u.prev=9,u.t0=u.catch(3);case 11:i++,u.next=1;break;case 14:throw new f("Unsupported key system configuration for "+t);case 15:case"end":return u.stop()}},null,this,[[3,9]],G)},t}(),Hc=function(t){function n(n){var i;return(i=t.call(this)||this).Nc=void 0,i.Hc=void 0,i.Ic=void 0,i.Yu=!1,i.Yc=void 0,i.Xc=void 0,i.Kc=void 0,i.Jc=void 0,i.Qc=void 0,i.nc=n,i.Ic=new qs,i.Xc="",i.Qc=new qs,i.Kc=new Hu,i}dt(n,t);var i=n.prototype;return i.Zc=function(){this.Hc&&(this.Lc("usable"),this.Hc.Mu(void 0),this.Hc=void 0)},i.th=function(t){var n=new js("Unknown CDM error",t.errorCode,t.systemCode);this.Hc?(this.Hc.Bu(n),this.Hc=void 0):this.Nc?(this.Nc.Bu(n),this.Nc=void 0):n.Fu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Lc("output-restricted"):1===n.Uu?this.Lc("expired"):this.Lc("internal-error")},i.nh=function(t){0!==t.message.byteLength&&(this.Nc&&(this.Nc.Mu(void 0),this.Nc=void 0),this.Jr(new Bu(this,"license-request",Gs(this.nc,Us(t.message).buffer),t.defaultURL||void 0)))},i.ih=function(t){this.Jc||(this.Jc=t,this.Qc.Mu(t))},i.rc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Yu=!0,this.Ic.Mu(void 0);case 3:case"end":return t.stop()}},null,this,null,G)},i.uc=function(t,n){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Nc=new qs,this.Yc=Bs(n),t.t0=this.Jc,t.t0){t.next=8;break}return t.next=7,wr.awrap(this.Qc.Pu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.nc,this.Yc),t.next=12,wr.awrap(this.Nc.Pu);case 12:case"end":return t.stop()}},null,this,null,G)},i.sc=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,G)},i.oc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,G)},i.cc=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Hc=new qs,n.t0=this.Jc,n.t0){n.next=7;break}return n.next=6,wr.awrap(this.Qc.Pu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.nc,Bs(t),this.Yc,this.vc),n.next=11,wr.awrap(this.Hc.Pu);case 11:case"end":return n.stop()}},null,this,null,G)},i.throwIfClosed=function(){if(this.Yu)throw new f("Already closing or closed.")},i.Lc=function(t){this.Kc.Tu(),this.Kc.ku(Vu,t),this.Jr(new Mu(this))},at(n,[{key:"dc",get:function(){return this.Kc}},{key:"vc",get:function(){return this.Xc},set:function(t){this.Xc=t}},{key:"ac",get:function(){return this.Ic.Pu}},{key:"fc",get:function(){return NaN}}]),n}(Du),qc=function(){function t(t,n){var i=this;this.Jc=void 0,this.eh=_r(),this.rh=[],this.xc=function(t){var n=i.uh(t.sessionId);n&&n.Zc()},this.sh=function(t){var n=i.uh(t.sessionId);n&&n.th(t)},this.oh=function(t){var n=i.uh(t.sessionId);n&&n.nh(t)},this.wc=t,this.gc=n}var n=t.prototype;return n.mc=function(t){return this.Jc=t,this.Jc.addEventListener("webkitkeyadded",this.xc),this.Jc.addEventListener("webkitkeyerror",this.sh),this.Jc.addEventListener("webkitkeymessage",this.oh),this.eh.forEach(function(n,i){return n.ih(t)}),this.rh.forEach(function(n){return n.ih(t)}),G.resolve()},n.pc=function(t){return t.removeEventListener("webkitkeyadded",this.xc),t.removeEventListener("webkitkeyerror",this.sh),t.removeEventListener("webkitkeymessage",this.oh),this.Jc=void 0,G.resolve()},n.yc=function(t,n,i){var e;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Hc(this.wc),this.Jc&&e.ih(this.Jc),this.rh.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,G)},n._c=function(t){return G.resolve(!1)},n.uh=function(t){if(t){var n=this.eh.get(t);return n||((n=this.rh.shift())?(n.vc=t,this.eh.set(t,n),n):void 0)}},t}(),Wc=function(){function t(t,n){this.wc=t,this.hh=n}var n=t.prototype;return n.Tc=function(){return G.resolve(new qc(this.wc,this.hh))},n.Ec=function(){return this.hh},t}(),zc=function(){function t(){}return t.prototype.Ir=function(t,n){try{return G.resolve(Gc(t,n))}catch(t){return G.reject(t)}},t.Rc=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function Gc(t,n){if(!zc.Rc())throw new f("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=wc($c,xu,t,e);if(r)return new Wc(t,r)}throw new f("Unsupported key system configuration for "+t)}function $c(t,n){var i=Ye();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function jc(){return Uc||(Uc=function(){var t=[];Mc.Rc()&&t.push(new Mc);kc.Rc()&&t.push(new kc);Rc.Rc()&&t.push(new Rc);zc.Rc()&&t.push(new zc);return new Vc(t)}()),Uc}var Yc=function(){function t(){this.ah=_r()}var n=t.prototype;return n.Tu=function(t){this.ah.delete(t)},n.fh=function(){this.ah.clear()},n.pu=function(t){return this.ah.get(t)},n.dh=function(t,n){this.ah.set(t,n)},t}(),Xc=function(){function t(){}return t.vh=function(){return t.ni||(t.ni=Kc.Rc()?new Kc:new Yc),t.ni},t.Tu=function(n){t.vh().Tu(n)},t.fh=function(){t.vh().fh()},t.pu=function(n){return t.vh().pu(n)},t.dh=function(n,i){t.vh().dh(n,i)},t}();Xc.ni=void 0;var Kc=function(n){function i(){return n.apply(this,arguments)||this}dt(i,n),i.Rc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Tu=function(n){t.sessionStorage.removeItem(n)},e.fh=function(){t.sessionStorage.clear()},e.pu=function(n){return t.sessionStorage[n]},e.dh=function(n,i){t.sessionStorage[n]=i},i}(Xc);var Jc=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var u=t[r];i.append(u)}return i.getBlob(n&&n.type||"")}}();function Qc(t,n,i){var r=Jc([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var Zc,th;!function(t){t.lh="wh",t.gh="yh",t._h="contentprotectionerror",t.mh="contentprotectionsuccess",t.ph="currentsourcechange",t.bh="destroy",t.kh="durationchange",t.Th="emptied",t.vu="encrypted",t.Eh="ended",t.Sh="Rh",t.Ih="loadstart",t.Ah="manifestupdate",t.Nh="nosupportedrepresentationfound",t.Oh="offline",t.Dh="online",t.Ch="pause",t.Ph="play",t.xh="progress",t.Lh="ratechange",t.Mh="representationchange",t.Bh="resize",t.Fh="seeked",t.Uh="seeking",t.Vh="segmentnotfound",t.Hh="qh",t.Wh="zh",t.Gh="sourcechange",t.$h="timeupdate",t.jh="volumechange",t.Yh="Xh",t.Kh="metricschange"}(Zc||(Zc={})),function(t){t.Jh="arraybuffer",t.Qh="json",t.Zh="stream",t.si="text"}(th||(th={}));var nh=function(){function t(n){var i=this;this.hr=void 0,this.hr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=ih(i),e=eh(e);var r=i.toLowerCase();if(this.hr.hasOwnProperty(r)){var u=this.hr[r],s=u[1];u[1]=s?s+", "+e:e}else this.hr[r]=[i,e]},n.delete=function(t){var n=ih(t).toLowerCase();delete this.hr[n]},n.get=function(t){var n=ih(t).toLowerCase();return this.hr.hasOwnProperty(n)?this.hr[n][1]:null},n.has=function(t){var n=ih(t).toLowerCase();return this.hr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=ih(i)).toLowerCase();this.hr[e]=[i,eh(n)]},n.forEach=function(t,n){for(var i in this.hr)this.hr.hasOwnProperty(i)&&t.call(n,this.hr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.hr)if(this.hr.hasOwnProperty(n)){var i=this.hr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.ta=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.na=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.ia=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function ih(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new f("Invalid character in header field name");return n}function eh(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function uh(){}var sh=Number.isNaN||function(t){return t!=t},oh=uh;function ch(t){return"object"==typeof t&&null!==t||"function"==typeof t}function hh(t){return t.slice()}function ah(t){return!1!==function(t){if("number"!=typeof t)return!1;if(sh(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function fh(t,n,i){if("function"!=typeof t)throw new f("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function dh(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new f(r+" is not a method");switch(i){case 0:return function(){return lh(r,t,e)};case 1:return function(n){var i=[n].concat(e);return lh(r,t,i)}}}return function(){return Th(void 0)}}function vh(t,n,i){var e=t[n];if(void 0!==e)return fh(e,t,i)}function lh(t,n,i){try{return Th(fh(t,n,i))}catch(t){return Eh(t)}}function wh(t){return t}function gh(t){if(t=Number(t),sh(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function yh(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new f("size property of a queuing strategy must be a function");return function(n){return t(n)}}var _h=G,mh=G.prototype.then,ph=G.resolve.bind(_h),bh=G.reject.bind(_h);function kh(t){return new _h(t)}function Th(t){return ph(t)}function Eh(t){return bh(t)}function Sh(t,n,i){return mh.call(t,n,i)}function Rh(t,n,i){Sh(Sh(t,n,i),void 0,oh)}function Ih(t,n){Rh(t,n)}function Ah(t,n){Rh(t,void 0,n)}function Nh(t,n,i){return Sh(t,n,i)}function Oh(t){Sh(t,void 0,oh)}var Dh=function(){function t(){this.ea=0,this.ra=0,this.C={ua:[],sa:void 0},this.oa=this.C,this.ea=0,this.ra=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.ra},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.oa,i=n;16383===n.ua.length&&(i={ua:[],sa:void 0}),n.ua.push(t),i!==n&&(this.oa=i,n.sa=i),++this.ra},t.prototype.shift=function(){var t=this.C,n=t,i=this.ea,e=i+1,r=t.ua,u=r[i];return 16384===e&&(n=t.sa,e=0),--this.ra,this.ea=e,t!==n&&(this.C=n),r[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.ea,i=this.C,e=i.ua;!(n===e.length&&void 0===i.sa||n===e.length&&(n=0,0===(e=(i=i.sa).ua).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.C,n=this.ea;return t.ua[n]},t}();function Ch(t,n,i){var e=null;!0===i&&(e=d.prototype);var r=d.create(e);return r.value=t,r.done=n,r}function Ph(t,n){t.ca=!0,t.ha=n,n.aa=t,"readable"===n.o?Bh(t):"closed"===n.o?function(t){Bh(t),Vh(t)}(t):Fh(t,n.fa)}function xh(t,n){return Gf(t.ha,n)}function Lh(t){"readable"===t.ha.o?Uh(t,new f("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Fh(t,n)}(t,new f("Reader was released and can no longer be used to monitor the stream's closedness")),t.ha.aa=void 0,t.ha=void 0}function Mh(t){return new f("Cannot "+t+" a stream using a released reader")}function Bh(t){t.Ko=kh(function(n,i){t.da=n,t.va=i})}function Fh(t,n){Bh(t),Uh(t,n)}function Uh(t,n){Oh(t.Ko),t.va(n),t.da=void 0,t.va=void 0}function Vh(t){t.da(void 0),t.da=void 0,t.va=void 0}var Hh=rh("[[CancelSteps]]"),qh=rh("[[PullSteps]]");function Wh(t,n){void 0===n&&(n=!1);var i=new Kh(t);return i.ca=n,i}function zh(t){return kh(function(n,i){var e={xu:n,Lu:i};t.aa.la.push(e)})}function Gh(t,n,i){var e=t.aa;e.la.shift().xu(Ch(n,i,e.ca))}function $h(t){return t.aa.la.length}function jh(t){var n=t.aa;return void 0!==n&&!!Jh(n)}var Yh,Xh,Kh=function(){function t(t){if(!1===Wf(t))throw new f("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===zf(t))throw new f("This stream has already been locked for exclusive reading by another reader");Ph(this,t),this.la=new Dh}return d.defineProperty(t.prototype,"closed",{get:function(){return Jh(this)?this.Ko:Eh(Zh("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Jh(this)?void 0===this.ha?Eh(Mh("cancel")):xh(this,t):Eh(Zh("cancel"))},t.prototype.read=function(){return Jh(this)?void 0===this.ha?Eh(Mh("read from")):Qh(this):Eh(Zh("read"))},t.prototype.releaseLock=function(){if(!Jh(this))throw Zh("releaseLock");if(void 0!==this.ha){if(this.la.length>0)throw new f("Tried to release a reader lock when that reader has pending read() calls un-settled");Lh(this)}},t}();function Jh(t){return!!ch(t)&&!!d.prototype.hasOwnProperty.call(t,"la")}function Qh(t){var n=t.ha;return n.wa=!0,"closed"===n.o?Th(Ch(void 0,!0,t.ca)):"errored"===n.o?Eh(n.fa):n.ga[qh]()}function Zh(t){return new f("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof rh.asyncIterator&&((Yh={})[rh.asyncIterator]=function(){return this},Xh=Yh,d.defineProperty(Xh,rh.asyncIterator,{enumerable:!1}));var ta={next:function(){if(!1===na(this))return Eh(ia("next"));var t=this.ya;return void 0===t.ha?Eh(Mh("iterate")):Nh(Qh(t),function(n){var i=n.done;return i&&Lh(t),Ch(n.value,i,!0)})},return:function(t){if(!1===na(this))return Eh(ia("next"));var n=this.ya;if(void 0===n.ha)return Eh(Mh("finish iterating"));if(n.la.length>0)return Eh(new f("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this._a){var i=xh(n,t);return Lh(n),Nh(i,function(){return Ch(t,!0,!0)})}return Lh(n),Th(Ch(t,!0,!0))}};function na(t){return!!ch(t)&&!!d.prototype.hasOwnProperty.call(t,"ya")}function ia(t){return new f("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ea(t){var n=t.ma.shift();return t.pa-=n.size,t.pa<0&&(t.pa=0),n.value}function ra(t,n,i){if(!ah(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.ma.push({value:n,size:i}),t.pa+=i}function ua(t){t.ma=new Dh,t.pa=0}void 0!==Xh&&d.setPrototypeOf(ta,Xh),d.defineProperty(ta,"next",{enumerable:!1}),d.defineProperty(ta,"return",{enumerable:!1});var sa=rh("[[AbortSteps]]"),oa=rh("[[ErrorSteps]]"),ca=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),aa(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=yh(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(Aa.prototype);var u=dh(n,"write",1,[r]),s=dh(n,"close",0,[]),o=dh(n,"abort",1,[]);Na(t,r,function(){return vh(n,"start",[r])},u,s,o,i,e)}(this,t,e=gh(e),r)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===fa(this))throw Ma("locked");return da(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===fa(this)?Eh(Ma("abort")):!0===da(this)?Eh(new f("Cannot abort a stream that already has a writer")):va(this,t)},t.prototype.close=function(){return!1===fa(this)?Eh(Ma("close")):!0===da(this)?Eh(new f("Cannot close a stream that already has a writer")):!0===_a(this)?Eh(new f("Cannot close an already-closing stream")):la(this)},t.prototype.getWriter=function(){if(!1===fa(this))throw Ma("getWriter");return ha(this)},t}();function ha(t){return new ba(t)}function aa(t){t.o="writable",t.fa=void 0,t.Qu=void 0,t.ba=void 0,t.ka=new Dh,t.Ta=void 0,t.Ea=void 0,t.Sa=void 0,t.Ra=void 0,t.Ia=!1}function fa(t){return!!ch(t)&&!!d.prototype.hasOwnProperty.call(t,"ba")}function da(t){return void 0!==t.Qu}function va(t,n){var i=t.o;if("closed"===i||"errored"===i)return Th(void 0);if(void 0!==t.Ra)return t.Ra.Aa;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=kh(function(i,r){t.Ra={Aa:void 0,xu:i,Lu:r,Na:n,Oa:e}});return t.Ra.Aa=r,!1===e&&ga(t,n),r}function la(t){var n=t.o;if("closed"===n||"errored"===n)return Eh(new f("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=kh(function(n,i){var e={xu:n,Lu:i};t.Ea=e}),r=t.Qu;return void 0!==r&&!0===t.Ia&&"writable"===n&&ja(r),ra(i=t.ba,"close",0),Ca(i),e}function wa(t,n){"writable"!==t.o?ya(t):ga(t,n)}function ga(t,n){var i=t.ba;t.o="erroring",t.fa=n;var e=t.Qu;void 0!==e&&Sa(e,n),!1===function(t){if(void 0===t.Ta&&void 0===t.Sa)return!1;return!0}(t)&&!0===i.Da&&ya(t)}function ya(t){t.o="errored",t.ba[oa]();var n=t.fa;if(t.ka.forEach(function(t){t.Lu(n)}),t.ka=new Dh,void 0!==t.Ra){var i=t.Ra;if(t.Ra=void 0,!0===i.Oa)return i.Lu(n),void ma(t);Rh(t.ba[sa](i.Na),function(){i.xu(),ma(t)},function(n){i.Lu(n),ma(t)})}else ma(t)}function _a(t){return void 0!==t.Ea||void 0!==t.Sa}function ma(t){void 0!==t.Ea&&(t.Ea.Lu(t.fa),t.Ea=void 0);var n=t.Qu;void 0!==n&&Ha(n,t.fa)}function pa(t,n){var i=t.Qu;void 0!==i&&n!==t.Ia&&(!0===n?function(t){Wa(t)}(i):ja(i)),t.Ia=n}var ba=function(){function t(t){if(!1===fa(t))throw new f("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===da(t))throw new f("This stream has already been locked for exclusive writing by another writer");this.Ca=t,t.Qu=this;var n,i=t.o;if("writable"===i)!1===_a(t)&&!0===t.Ia?Wa(this):Ga(this),Ua(this);else if("erroring"===i)za(this,t.fa),Ua(this);else if("closed"===i)Ga(this),Ua(n=this),qa(n);else{var e=t.fa;za(this,e),Va(this,e)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===ka(this)?Eh(Ba("closed")):this.Ko},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ka(this))throw Ba("desiredSize");if(void 0===this.Ca)throw Fa("desiredSize");return function(t){var n=t.Ca,i=n.o;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Da(n.ba)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===ka(this)?Eh(Ba("ready")):this.Pa},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===ka(this)?Eh(Ba("abort")):void 0===this.Ca?Eh(Fa("abort")):function(t,n){return va(t.Ca,n)}(this,t)},t.prototype.close=function(){if(!1===ka(this))return Eh(Ba("close"));var t=this.Ca;return void 0===t?Eh(Fa("close")):!0===_a(t)?Eh(new f("Cannot close an already-closing stream")):Ta(this)},t.prototype.releaseLock=function(){if(!1===ka(this))throw Ba("releaseLock");void 0!==this.Ca&&Ra(this)},t.prototype.write=function(t){return!1===ka(this)?Eh(Ba("write")):void 0===this.Ca?Eh(Fa("write to")):Ia(this,t)},t}();function ka(t){return!!ch(t)&&!!d.prototype.hasOwnProperty.call(t,"Ca")}function Ta(t){return la(t.Ca)}function Ea(t,n){"pending"===t.xa?Ha(t,n):function(t,n){Va(t,n)}(t,n)}function Sa(t,n){"pending"===t.La?$a(t,n):function(t,n){za(t,n)}(t,n)}function Ra(t){var n=t.Ca,i=new f("Writer was released and can no longer be used to monitor the stream's closedness");Sa(t,i),Ea(t,i),n.Qu=void 0,t.Ca=void 0}function Ia(t,n){var i=t.Ca,e=i.ba,r=function(t,n){try{return t.Ma(n)}catch(n){return Pa(t,n),1}}(e,n);if(i!==t.Ca)return Eh(Fa("write to"));var u=i.o;if("errored"===u)return Eh(i.fa);if(!0===_a(i)||"closed"===u)return Eh(new f("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Eh(i.fa);var s=function(t){return kh(function(n,i){var e={xu:n,Lu:i};t.ka.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{ra(t,e,i)}catch(n){return void Pa(t,n)}var r=t.Ba;if(!1===_a(r)&&"writable"===r.o){var u=xa(t);pa(r,u)}Ca(t)}(e,n,r),s}var Aa=function(){function t(){throw new f("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!ch(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"Ba"))return!1;return!0}(this))throw new f("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Ba.o&&La(this,t)},t.prototype[sa]=function(t){var n=this.Fa(t);return Oa(this),n},t.prototype[oa]=function(){ua(this)},t}();function Na(t,n,i,e,r,u,s,o){n.Ba=t,t.ba=n,n.ma=void 0,n.pa=void 0,ua(n),n.Da=!1,n.Ma=o,n.Ua=s,n.Va=e,n.Ha=r,n.Fa=u;var c=xa(n);pa(t,c),Rh(Th(i()),function(){n.Da=!0,Ca(n)},function(i){n.Da=!0,wa(t,i)})}function Oa(t){t.Va=void 0,t.Ha=void 0,t.Fa=void 0,t.Ma=void 0}function Da(t){return t.Ua-t.pa}function Ca(t){var n=t.Ba;if(!1!==t.Da&&void 0===n.Ta)if("erroring"!==n.o){if(0!==t.ma.length){var i=t.ma.peek().value;"close"===i?function(t){var n=t.Ba;(function(t){t.Sa=t.Ea,t.Ea=void 0})(n),ea(t);var i=t.Ha();Oa(t),Rh(i,function(){!function(t){t.Sa.xu(void 0),t.Sa=void 0,"erroring"===t.o&&(t.fa=void 0,void 0!==t.Ra&&(t.Ra.xu(),t.Ra=void 0)),t.o="closed";var n=t.Qu;void 0!==n&&qa(n)}(n)},function(t){!function(t,n){t.Sa.Lu(n),t.Sa=void 0,void 0!==t.Ra&&(t.Ra.Lu(n),t.Ra=void 0),wa(t,n)}(n,t)})}(t):function(t,n){var i=t.Ba;(function(t){t.Ta=t.ka.shift()})(i),Rh(t.Va(n),function(){!function(t){t.Ta.xu(void 0),t.Ta=void 0}(i);var n=i.o;if(ea(t),!1===_a(i)&&"writable"===n){var e=xa(t);pa(i,e)}Ca(t)},function(n){"writable"===i.o&&Oa(t),function(t,n){t.Ta.Lu(n),t.Ta=void 0,wa(t,n)}(i,n)})}(t,i.chunk)}}else ya(n)}function Pa(t,n){"writable"===t.Ba.o&&La(t,n)}function xa(t){return Da(t)<=0}function La(t,n){var i=t.Ba;Oa(t),ga(i,n)}function Ma(t){return new f("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Ba(t){return new f("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Fa(t){return new f("Cannot "+t+" a stream using a released writer")}function Ua(t){t.Ko=kh(function(n,i){t.da=n,t.va=i,t.xa="pending"})}function Va(t,n){Ua(t),Ha(t,n)}function Ha(t,n){Oh(t.Ko),t.va(n),t.da=void 0,t.va=void 0,t.xa="rejected"}function qa(t){t.da(void 0),t.da=void 0,t.va=void 0,t.xa="resolved"}function Wa(t){t.Pa=kh(function(n,i){t.qa=n,t.Wa=i}),t.La="pending"}function za(t,n){Wa(t),$a(t,n)}function Ga(t){Wa(t),ja(t)}function $a(t,n){Oh(t.Pa),t.Wa(n),t.qa=void 0,t.Wa=void 0,t.La="rejected"}function ja(t){t.qa(void 0),t.qa=void 0,t.Wa=void 0,t.La="fulfilled"}function Ya(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Xa="undefined"!=typeof DOMException?DOMException:void 0;var Ka,Ja=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Xa)?Xa:((Ka=function(t,n){this.message=t||"",this.name=n||"Error",a.captureStackTrace&&a.captureStackTrace(this,this.constructor)}).prototype=d.create(a.prototype),d.defineProperty(Ka.prototype,"constructor",{value:Ka,writable:!0,configurable:!0}),Ka);function Qa(t,n,i,e,r,u){var s=Wh(t),o=ha(n);t.wa=!0;var c=!1,h=Th(void 0);return kh(function(a,d){var v,l,w,g;if(void 0!==u){if(v=function(){var i=new Ja("Aborted","AbortError"),u=[];!1===e&&u.push(function(){return"writable"===n.o?va(n,i):Th(void 0)}),!1===r&&u.push(function(){return"readable"===t.o?Gf(t,i):Th(void 0)}),p(function(){return G.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void v();u.addEventListener("abort",v)}if(m(t,s.Ko,function(t){!1===e?p(function(){return va(n,t)},!0,t):b(!0,t)}),m(n,o.Ko,function(n){!1===r?p(function(){return Gf(t,n)},!0,n):b(!0,n)}),l=t,w=s.Ko,g=function(){!1===i?p(function(){return function(t){var n=t.Ca,i=n.o;return!0===_a(n)||"closed"===i?Th(void 0):"errored"===i?Eh(n.fa):Ta(t)}(o)}):b()},"closed"===l.o?g():Ih(w,g),!0===_a(n)||"closed"===n.o){var y=new f("the destination writable stream closed before all data could be piped to it");!1===r?p(function(){return Gf(t,y)},!0,y):b(!0,y)}function _(){var t=h;return Sh(h,function(){return t!==h?_():void 0})}function m(t,n,i){"errored"===t.o?i(t.fa):Ah(n,i)}function p(t,i,e){function r(){Rh(t(),function(){return k(i,e)},function(t){return k(!0,t)})}!0!==c&&(c=!0,"writable"===n.o&&!1===_a(n)?Ih(_(),r):r())}function b(t,i){!0!==c&&(c=!0,"writable"===n.o&&!1===_a(n)?Ih(_(),function(){return k(t,i)}):k(t,i))}function k(t,n){Ra(o),Lh(s),void 0!==u&&u.removeEventListener("abort",v),t?d(n):a(void 0)}Oh(kh(function(t,n){!function i(e){e?t():Sh(!0===c?Th(!0):Sh(o.Pa,function(){return Sh(Qh(s),function(t){return!0===t.done||(h=Sh(Ia(o,t.value),void 0,uh),!1)})}),i,n)}(!1)}))})}var Za=function(){function t(){throw new f}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===tf(this))throw ff("desiredSize");return cf(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===tf(this))throw ff("close");if(!1===hf(this))throw new f("The stream is not in a state that permits close");uf(this)},t.prototype.enqueue=function(t){if(!1===tf(this))throw ff("enqueue");if(!1===hf(this))throw new f("The stream is not in a state that permits enqueue");return sf(this,t)},t.prototype.error=function(t){if(!1===tf(this))throw ff("error");of(this,t)},t.prototype[Hh]=function(t){ua(this);var n=this.za(t);return rf(this),n},t.prototype[qh]=function(){var t=this.Ga;if(this.ma.length>0){var n=ea(this);return!0===this.$a&&0===this.ma.length?(rf(this),$f(t)):nf(this),Th(Ch(n,!1,t.aa.ca))}var i=zh(t);return nf(this),i},t}();function tf(t){return!!ch(t)&&!!d.prototype.hasOwnProperty.call(t,"Ga")}function nf(t){!1!==ef(t)&&(!0!==t.ja?(t.ja=!0,Rh(t.Ya(),function(){t.ja=!1,!0===t.Xa&&(t.Xa=!1,nf(t))},function(n){of(t,n)})):t.Xa=!0)}function ef(t){var n=t.Ga;return!1!==hf(t)&&(!1!==t.Da&&(!0===zf(n)&&$h(n)>0||cf(t)>0))}function rf(t){t.Ya=void 0,t.za=void 0,t.Ma=void 0}function uf(t){var n=t.Ga;t.$a=!0,0===t.ma.length&&(rf(t),$f(n))}function sf(t,n){var i=t.Ga;if(!0===zf(i)&&$h(i)>0)Gh(i,n,!1);else{var e=void 0;try{e=t.Ma(n)}catch(n){throw of(t,n),n}try{ra(t,n,e)}catch(n){throw of(t,n),n}}nf(t)}function of(t,n){var i=t.Ga;"readable"===i.o&&(ua(t),rf(t),jf(i,n))}function cf(t){var n=t.Ga.o;return"errored"===n?null:"closed"===n?0:t.Ua-t.pa}function hf(t){var n=t.Ga.o;return!1===t.$a&&"readable"===n}function af(t,n,i,e,r,u,s){n.Ga=t,n.ma=void 0,n.pa=void 0,ua(n),n.Da=!1,n.$a=!1,n.Xa=!1,n.ja=!1,n.Ma=s,n.Ua=u,n.Ya=e,n.za=r,t.ga=n,Rh(Th(i()),function(){n.Da=!0,nf(n)},function(t){of(n,t)})}function ff(t){return new f("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var df=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&v.floor(t)===t},vf=function(){function t(){throw new f("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===gf(this))throw Cf("view");return this.Ka},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===gf(this))throw Cf("respond");if(void 0===this.Ja)throw new f("This BYOB request has been invalidated");this.Ka.buffer,function(t,n){if(!1===ah(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Rf(t,n)}(this.Ja,t)},t.prototype.respondWithNewView=function(t){if(!1===gf(this))throw Cf("respond");if(void 0===this.Ja)throw new f("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new f("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Qa.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Rf(t,n.byteLength)}(this.Ja,t)},t}(),lf=function(){function t(){throw new f("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===wf(this))throw Pf("byobRequest");if(void 0===this.Za&&this.Qa.length>0){var t=this.Qa.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(vf.prototype);!function(t,n,i){t.Ja=n,t.Ka=i}(i,this,n),this.Za=i}return this.Za},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===wf(this))throw Pf("desiredSize");return Of(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===wf(this))throw Pf("close");if(!0===this.$a)throw new f("The stream has already been closed; do not close it again!");var t=this.tf.o;if("readable"!==t)throw new f("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.tf;if(t.pa>0)return void(t.$a=!0);if(t.Qa.length>0){var i=t.Qa.peek();if(i.bytesFilled>0){var e=new f("Insufficient bytes to fill elements in the given buffer");throw Nf(t,e),e}}Af(t),$f(n)}(this)},t.prototype.enqueue=function(t){if(!1===wf(this))throw Pf("enqueue");if(!0===this.$a)throw new f("stream is closed or draining");var n=this.tf.o;if("readable"!==n)throw new f("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new f("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.tf,e=n.buffer,r=n.byteOffset,u=n.byteLength,s=wh(e);if(!0===jh(i))if(0===$h(i))pf(t,s,r,u);else{var o=new y(s,r,u);Gh(i,o,!1)}else!0===Mf(i)?(pf(t,s,r,u),Sf(t)):pf(t,s,r,u);yf(t)}(this,t)},t.prototype.error=function(t){if(!1===wf(this))throw Pf("error");Nf(this,t)},t.prototype[Hh]=function(t){this.Qa.length>0&&(this.Qa.peek().bytesFilled=0);ua(this);var n=this.za(t);return Af(this),n},t.prototype[qh]=function(){var t=this.tf;if(this.pa>0){var n=this.ma.shift();this.pa-=n.byteLength,Tf(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Eh(t)}return Th(Ch(i,!1,t.aa.ca))}var e=this.nf;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return Eh(t)}var u={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.Qa.push(u)}var s=zh(t);return yf(this),s},t}();function wf(t){return!!ch(t)&&!!d.prototype.hasOwnProperty.call(t,"tf")}function gf(t){return!!ch(t)&&!!d.prototype.hasOwnProperty.call(t,"Ja")}function yf(t){!1!==function(t){var n=t.tf;if("readable"!==n.o)return!1;if(!0===t.$a)return!1;if(!1===t.Da)return!1;if(!0===jh(n)&&$h(n)>0)return!0;if(!0===Mf(n)&&Lf(n)>0)return!0;if(Of(t)>0)return!0;return!1}(t)&&(!0!==t.ja?(t.ja=!0,Rh(t.Ya(),function(){t.ja=!1,!0===t.Xa&&(t.Xa=!1,yf(t))},function(n){Nf(t,n)})):t.Xa=!0)}function _f(t,n){var i=!1;"closed"===t.o&&(i=!0);var e=mf(n);"default"===n.readerType?Gh(t,e,i):function(t,n,i){var e=t.aa;e.if.shift().xu(Ch(n,i,e.ca))}(t,e,i)}function mf(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function pf(t,n,i,e){t.ma.push({buffer:n,byteOffset:i,byteLength:e}),t.pa+=e}function bf(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=v.min(t.pa,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,s=u-u%i,o=r,c=!1;s>e&&(o=s-n.bytesFilled,c=!0);for(var h,a,f,d,l,w=t.ma;o>0;){var g=w.peek(),_=v.min(o,g.byteLength),m=n.byteOffset+n.bytesFilled;h=n.buffer,a=m,f=g.buffer,d=g.byteOffset,l=_,new y(h).set(new y(f,d,l),a),g.byteLength===_?w.shift():(g.byteOffset+=_,g.byteLength-=_),t.pa-=_,kf(t,_,n),o-=_}return c}function kf(t,n,i){Ef(t),i.bytesFilled+=n}function Tf(t){0===t.pa&&!0===t.$a?(Af(t),$f(t.tf)):yf(t)}function Ef(t){void 0!==t.Za&&(t.Za.Ja=void 0,t.Za.Ka=void 0,t.Za=void 0)}function Sf(t){for(;t.Qa.length>0;){if(0===t.pa)return;var n=t.Qa.peek();!0===bf(t,n)&&(If(t),_f(t.tf,n))}}function Rf(t,n){var i=t.Qa.peek();if("closed"===t.tf.o){if(0!==n)throw new f("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=wh(n.buffer);var i=t.tf;if(!0===Mf(i))for(;Lf(i)>0;)_f(i,If(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(kf(t,n,i),!(i.bytesFilled<i.elementSize)){If(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,u=i.buffer.slice(r-e,r);pf(t,u,0,u.byteLength)}i.buffer=wh(i.buffer),i.bytesFilled-=e,_f(t.tf,i),Sf(t)}}(t,n,i);yf(t)}function If(t){var n=t.Qa.shift();return Ef(t),n}function Af(t){t.Ya=void 0,t.za=void 0}function Nf(t,n){var i=t.tf;"readable"===i.o&&(!function(t){Ef(t),t.Qa=new Dh}(t),ua(t),Af(t),jf(i,n))}function Of(t){var n=t.tf.o;return"errored"===n?null:"closed"===n?0:t.Ua-t.pa}function Df(t,n,i){var e=d.create(lf.prototype);var r=dh(n,"pull",0,[e]),u=dh(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===df(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,u,s){n.tf=t,n.Xa=!1,n.ja=!1,n.Za=void 0,n.ma=n.pa=void 0,ua(n),n.$a=!1,n.Da=!1,n.Ua=gh(u),n.Ya=e,n.za=r,n.nf=s,n.Qa=new Dh,t.ga=n,Rh(Th(i()),function(){n.Da=!0,yf(n)},function(t){Nf(n,t)})}(t,e,function(){return vh(n,"start",[e])},r,u,i,s)}function Cf(t){return new f("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Pf(t){return new f("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function xf(t){return kh(function(n,i){var e={xu:n,Lu:i};t.aa.if.push(e)})}function Lf(t){return t.aa.if.length}function Mf(t){var n=t.aa;return void 0!==n&&!!Ff(n)}var Bf=function(){function t(t){if(!Wf(t))throw new f("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===wf(t.ga))throw new f("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(zf(t))throw new f("This stream has already been locked for exclusive reading by another reader");Ph(this,t),this.if=new Dh}return d.defineProperty(t.prototype,"closed",{get:function(){return Ff(this)?this.Ko:Eh(Uf("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ff(this)?void 0===this.ha?Eh(Mh("cancel")):xh(this,t):Eh(Uf("cancel"))},t.prototype.read=function(t){return Ff(this)?void 0===this.ha?Eh(Mh("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Eh(new f("view must have non-zero byteLength")):function(t,n){var i=t.ha;if(i.wa=!0,"errored"===i.o)return Eh(i.fa);return function(t,n){var i=t.tf,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,u={buffer:wh(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.Qa.length>0)return t.Qa.push(u),xf(i);if("closed"===i.o)return Th(Ch(new r(u.buffer,u.byteOffset,0),!0,i.aa.ca));if(t.pa>0){if(!0===bf(t,u)){var s=mf(u);return Tf(t),Th(Ch(s,!1,i.aa.ca))}if(!0===t.$a){var o=new f("Insufficient bytes to fill elements in the given buffer");return Nf(t,o),Eh(o)}}t.Qa.push(u);var c=xf(i);return yf(t),c}(i.ga,n)}(this,t)):Eh(new f("view must be an array buffer view")):Eh(Uf("read"))},t.prototype.releaseLock=function(){if(!Ff(this))throw Uf("releaseLock");if(void 0!==this.ha){if(this.if.length>0)throw new f("Tried to release a reader lock when that reader has pending read() calls un-settled");Lh(this)}},t}();function Ff(t){return!!ch(t)&&!!d.prototype.hasOwnProperty.call(t,"if")}function Uf(t){return new f("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Vf=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),qf(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),Df(this,t,e=gh(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var u=yh(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(Za.prototype),u=dh(n,"pull",0,[r]),s=dh(n,"cancel",1,[]);af(t,r,function(){return vh(n,"start",[r])},u,s,i,e)}(this,t,e=gh(e),u)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Wf(this))throw Yf("locked");return zf(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Wf(this)?Eh(Yf("cancel")):!0===zf(this)?Eh(new f("Cannot cancel a stream that already has a reader")):Gf(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Wf(this))throw Yf("getReader");if(void 0===n)return Wh(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Bf(t);return i.ca=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,u=r.preventClose,s=r.preventAbort,o=r.preventCancel,c=r.signal;if(!1===Wf(this))throw Yf("pipeThrough");if(!1===fa(i))throw new f("writable argument to pipeThrough must be a WritableStream");if(!1===Wf(e))throw new f("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==c&&!Ya(c))throw new f("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===zf(this))throw new f("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===da(i))throw new f("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Oh(Qa(this,i,u,s,o,c)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===Wf(this)?Eh(Yf("pipeTo")):!1===fa(t)?Eh(new f("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),u=Boolean(u),void 0===s||Ya(s)?!0===zf(this)?Eh(new f("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===da(t)?Eh(new f("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Qa(this,t,e,r,u,s):Eh(new f("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Wf(this))throw Yf("tee");var t=function(t,n){var i,e,r,u,s,o=Wh(t),c=!1,h=!1,a=!1,f=kh(function(t){s=t});function d(){return!0===c?Th(void 0):(c=!0,Oh(Nh(Qh(o),function(t){if(c=!1,!0===t.done)return!1===h&&uf(r.ga),void(!1===a&&uf(u.ga));var n=t.value,i=n,e=n;!1===h&&sf(r.ga,i),!1===a&&sf(u.ga,e)})),Th(void 0))}function v(){}return r=Hf(v,d,function(n){if(h=!0,i=n,!0===a){var r=hh([i,e]),u=Gf(t,r);s(u)}return f}),u=Hf(v,d,function(n){if(a=!0,e=n,!0===h){var r=hh([i,e]),u=Gf(t,r);s(u)}return f}),Ah(o.Ko,function(t){of(r.ga,t),of(u.ga,t)}),[r,u]}(this);return hh(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Wf(this))throw Yf("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Wh(t),e=d.create(ta);return e.ya=i,e._a=Boolean(n),e}(this,i)},t}();function Hf(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var u=d.create(Vf.prototype);return qf(u),af(u,d.create(Za.prototype),t,n,i,e,r),u}function qf(t){t.o="readable",t.aa=void 0,t.fa=void 0,t.wa=!1}function Wf(t){return!!ch(t)&&!!d.prototype.hasOwnProperty.call(t,"ga")}function zf(t){return void 0!==t.aa}function Gf(t,n){return t.wa=!0,"closed"===t.o?Th(void 0):"errored"===t.o?Eh(t.fa):($f(t),Nh(t.ga[Hh](n),uh))}function $f(t){t.o="closed";var n=t.aa;void 0!==n&&(Jh(n)&&(n.la.forEach(function(t){t.xu(Ch(void 0,!0,n.ca))}),n.la=new Dh),Vh(n))}function jf(t,n){t.o="errored",t.fa=n;var i=t.aa;void 0!==i&&(Jh(i)?(i.la.forEach(function(t){t.Lu(n)}),i.la=new Dh):(i.if.forEach(function(t){t.Lu(n)}),i.if=new Dh),Uh(i,n))}function Yf(t){return new f("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof rh.asyncIterator&&d.defineProperty(Vf.prototype,rh.asyncIterator,{value:Vf.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Xf=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=yh(e);if(void 0===r&&(r=1),r=gh(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,h=yh(u);void 0===s&&(s=0),s=gh(s),function(t,n,i,e,r,u){function s(){return n}t.ef=function(t,n,i,e,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var s=d.create(ca.prototype);return aa(s),Na(s,d.create(Aa.prototype),t,n,i,e,r,u),s}(s,function(n){return function(t,n){var i=t.rf;if(!0===t.Ia){var e=t.uf;return Nh(e,function(){var e=t.ef,r=e.o;if("erroring"===r)throw e.fa;return rd(i,n)})}return rd(i,n)}(t,n)},function(){return function(t){var n=t.sf,i=t.rf,e=i.cf();return id(i),Nh(e,function(){if("errored"===n.o)throw n.fa;var t=n.ga;!0===hf(t)&&uf(t)},function(i){throw Jf(t,i),n.fa})}(t)},function(n){return function(t,n){return Jf(t,n),Th(void 0)}(t,n)},i,e),t.sf=Hf(s,function(){return function(t){return Zf(t,!1),t.uf}(t)},function(n){return Qf(t,n),Th(void 0)},r,u),t.Ia=void 0,t.uf=void 0,t.hf=void 0,Zf(t,!0),t.rf=void 0}(this,kh(function(t){c=t}),r,o,s,h),function(t,n){var i=d.create(td.prototype),e=function(t){try{return ed(i,t),Th(void 0)}catch(t){return Eh(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new f("transform is not a method");e=function(t){return lh(r,n,[t,i])}}var u=dh(n,"flush",0,[i]);!function(t,n,i,e){n.af=t,t.rf=n,n.ff=i,n.cf=e}(t,i,e,u)}(this,t);var a=vh(t,"start",[this.rf]);c(a)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===Kf(this))throw sd("readable");return this.sf},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===Kf(this))throw sd("writable");return this.ef},enumerable:!0,configurable:!0}),t}();function Kf(t){return!!ch(t)&&!!d.prototype.hasOwnProperty.call(t,"rf")}function Jf(t,n){of(t.sf.ga,n),Qf(t,n)}function Qf(t,n){id(t.rf),Pa(t.ef.ba,n),!0===t.Ia&&Zf(t,!1)}function Zf(t,n){void 0!==t.uf&&t.hf(),t.uf=kh(function(n){t.hf=n}),t.Ia=n}var td=function(){function t(){throw new f("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===nd(this))throw ud("desiredSize");return cf(this.af.sf.ga)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===nd(this))throw ud("enqueue");ed(this,t)},t.prototype.error=function(t){if(!1===nd(this))throw ud("error");var n;n=t,Jf(this.af,n)},t.prototype.terminate=function(){if(!1===nd(this))throw ud("terminate");!function(t){var n=t.af,i=n.sf.ga;!0===hf(i)&&uf(i);var e=new f("TransformStream terminated");Qf(n,e)}(this)},t}();function nd(t){return!!ch(t)&&!!d.prototype.hasOwnProperty.call(t,"af")}function id(t){t.ff=void 0,t.cf=void 0}function ed(t,n){var i=t.af,e=i.sf.ga;if(!1===hf(e))throw new f("Readable side is not in a state that permits enqueue");try{sf(e,n)}catch(t){throw Qf(i,t),i.sf.fa}(function(t){return!0!==ef(t)})(e)!==i.Ia&&Zf(i,!0)}function rd(t,n){return Nh(t.ff(n),void 0,function(n){throw Jf(t.af,n),n})}function ud(t){return new f("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function sd(t){return new f("TransformStream.prototype."+t+" can only be used on a TransformStream")}var od,cd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return dt(n,t),at(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Cn);function hd(t){return n=[t],new Vf({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function ad(t){return hd(new y(t))}function fd(t,n){return function(t,n){var i=n,e=t.getReader(),r=new qs,u=function(){s();var t=new gu;e.cancel(t).catch(Ft),r.Bu(t)},s=function(){i&&(i.Ur(u),i=void 0)};i&&(i.Cr?u():i.Fr(u));var o=[];return G.resolve(e.read()).then(function t(n){return n.done?(s(),G.resolve(o)):(o.push(n.value),G.resolve(e.read()).then(t))}).then(function(t){s(),r.Mu(t)},function(t){s(),r.Bu(t)}),r.Pu}(t,n).then(function(t){return Zu(t).buffer})}function dd(t,n){var i=n,e=new Xf,r=e.readable,u=e.writable,s=u.getWriter(),o=function(){i&&i.Wr()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(Ft)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(Ft)}),r}function vd(t){return Ds(new y(t))}function ld(t){return Cs(t).buffer}!function(t){t[t.Zh=0]="Zh",t[t.df=1]="df"}(od||(od={}));var wd="content-type",gd="text/plain;charset=UTF-8",yd=function(){function t(){}var n=t.prototype;return n.vf=function(t){return this.lf(t).then(JSON.parse)},n.wf=function(t,n){switch(t){case th.Jh:return this.gf(n);case th.Qh:return this.vf(n);case th.Zh:return this.yf();case th.si:return this.lf(n);default:throw new f}},t}();function _d(t,n,i){if(t instanceof yd)return t;if(t instanceof Vf)return function(t,n){return new pd({_r:od.Zh,yf:t,_f:md(n)})}(t,i);var e=md(i),r=G.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{_r:th.si,mf:t,_f:n||gd};if(t instanceof ArrayBuffer||Ju(t))return{_r:th.Jh,mf:Id(t),_f:n};if(Pt(t)||Ot(t))return{_r:th.Qh,mf:t,_f:n};throw new f("Unsupported BodyInit type")}return{_r:th.si,mf:null,_f:n}}(t,e)});return new pd({_r:od.df,Pu:r,pf:n})}function md(t){return(t.get(wd)||"").toLowerCase()}var pd=function(t){function n(n){var i;return(i=t.call(this)||this).bf=!1,i.kf=void 0,i.Tf=new qs,i.Tf.Pu.catch(Ft),i.Ef(n),i}dt(n,t);var i=n.prototype;return i.Sf=function(){return this.Tf.Pu},i.lf=function(t){return this.Rf(bd,t)},i.vf=function(t){return this.Rf(Td,t)},i.gf=function(t){return this.Rf(Sd,t)},i.yf=function(){return this.If((t=this.kf)._r===od.Zh?t.yf:dd(t.Pu.then(Rd).then(ad),t.pf));var t},i.Rf=function(t,n){if(this.bf)return G.reject(new f("Already used"));this.bf=!0;var i=t(this.kf,n);return this.Tf.Mu(i.then(Ft)),i},i.If=function(t){if(this.bf)throw new f("Already used");if(t.locked)throw new f("Body stream is locked");this.bf=!0;var n=new Xf,i=G.resolve(t.pipeTo(n.writable));return this.Tf.Mu(i),n.readable},i.Ef=function(t){this.kf=t,t._r===od.df&&t.Pu.catch(Ft)},i.Af=function(){if(this.bf)throw new f("Already used");var t=function(t){if(t._r===od.Zh){var n=t.yf.tee(),i=n[0],e=n[1];return[{_r:t._r,yf:i,_f:t._f},{_r:t._r,yf:e,_f:t._f}]}var r=t.pf.Gr(),u=r[0],s=r[1];return[{_r:t._r,Pu:t.Pu,pf:u},{_r:t._r,Pu:t.Pu,pf:s}]}(this.kf),i=t[0],e=t[1];return this.Ef(i),new n(e)},at(n,[{key:"Nf",get:function(){return this.bf}}]),n}(yd);function bd(t,n){return t._r===od.Zh?fd(t.yf,n).then(vd):(n&&t.pf.zr(n),ku(t.Pu.then(kd),t.pf))}function kd(t){switch(t._r){case th.si:return G.resolve(t.mf||"");case th.Jh:return G.resolve(t.mf).then(vd);case th.Qh:return G.resolve(t.mf).then(JSON.stringify)}}function Td(t,n){return t._r===od.Zh?bd(t,n).then(JSON.parse):(n&&t.pf.zr(n),ku(t.Pu.then(Ed),t.pf))}function Ed(t){return t._r===th.Qh?G.resolve(t.mf):kd(t).then(JSON.parse)}function Sd(t,n){return t._r===od.Zh?fd(t.yf,n):(n&&t.pf.zr(n),ku(t.Pu.then(Rd),t.pf))}function Rd(t){switch(t._r){case th.Jh:return G.resolve(t.mf);case th.si:case th.Qh:return kd(t).then(ld)}}function Id(t){return t instanceof ArrayBuffer?t:Us(Ls(t)).buffer}function Ad(t){return t.Of>=200&&t.Of<=299||304===t.Of}var Nd,Od,Dd,Cd,Pd=function(t){function n(n,i){var e,r,u,s,o,c;i?(r=i.Df,u=i.Cf,s=i.Of,o=i.Pf,c=i.xf):(r=[],u=th.si,s=200,o="OK",c=!1);var h=n.Lf,a=new nh(n.Df||r),f=n.Cf||u,d=n.Mf||(i&&i.Lf===h?i.Mf:h.Bf),v=i?i.Ff:null,l=_d(void 0!==n.Li?n.Li:v,n.pf||new wu,a);return(e=t.call(this,l)||this).Df=void 0,e.Lf=void 0,e.Mf=void 0,e.Cf=void 0,e.Of=void 0,e.Pf=void 0,e.xf=void 0,e.Df=a,e.Lf=h,e.Mf=d,e.Cf=f,e.Of=void 0!==n.Of?n.Of:s,e.Pf=void 0!==n.Pf?String(n.Pf):o,e.xf=n.xf||c,e}dt(n,t);var i=n.prototype;return i.Li=function(t){return this.wf(this.Cf,t)},i.Au=function(){return new n({Li:this.Af(),Lf:this.Lf},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Ff=void 0,i.Ff=n,i}dt(n,t);var i=n.prototype;return i.Sf=function(){return this.Ff.Sf()},i.lf=function(t){return this.Ff.lf(t)},i.vf=function(t){return this.Ff.vf(t)},i.gf=function(t){return this.Ff.gf(t)},i.yf=function(){return this.Ff.yf()},i.Af=function(){return this.Ff.Af()},at(n,[{key:"Nf",get:function(){return this.Ff.Nf}}]),n}(yd));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Nd||(Nd={})),function(t){t.Uf="",t.Vf="manifest",t.Hf="segment",t.qf="content-protection"}(Od||(Od={})),function(t){t.Uf="",t.Wf="initialization-segment",t.zf="fairplay-license",t.Gf="fairplay-certificate",t.$f="widevine-license",t.jf="widevine-certificate",t.Yf="playready-license",t.Xf="clearkey-license",t.Kf="aes128-key"}(Dd||(Dd={})),function(t){t.Uf="",t.Jf="audio",t.Qf="video",t.si="text",t.Zf="image"}(Cd||(Cd={}));var xd=function(t,n){this.mf=void 0,this.Df=void 0,this.td=void 0,this.Cf=void 0,this.nd=void 0,this.$r=void 0,this._r=void 0,this.ed=void 0,this.rd=void 0,this.Bf=void 0,this.ud=void 0,this.sd=void 0;var i,e,r,u,s,o,c,h,a,f,d,v=t.Bf;n?(i=n.mf,e=n.Df,r=n.td,u=n.Cf,s=n.nd,o=n.$r,c=n._r,h=n.ed,a=n.rd,f=n.ud,d=n.sd):(i=null,e={},r=Nd.GET,u=th.si,s=0,c=Od.Uf,h=Dd.Uf,a=Cd.Uf,f=!1),this.Bf=v,this.mf=t.mf||i,this.Df=new nh(t.Df||e),this.td=t.td||r,this.Cf=t.Cf||u,this.nd=void 0!==t.nd?Number(t.nd)||0:s,this.$r=t.$r||o||(new wu).$r,this._r=t._r||c,this.ed=t.ed||h,this.rd=t.rd||a,this.ud=void 0!==t.ud?Boolean(t.ud):f,this.sd=t.sd||d},Ld=function(){function t(){}var n=t.prototype;return n.Lf=function(t){var n=function(t){return new Pd({Li:null,Df:{},Lf:t,Mf:t.Bf,Cf:t.Cf,Of:0,Pf:Zc.Oh})}(new xd(t));return G.resolve(n)},n.od=function(t){},n.et=function(){},t}();var Md=function(){function t(t,n){void 0===n&&(n=!0),this.hd=void 0,this.fd=void 0,this.hd=t,this.fd=n}var n=t.prototype;return n.Lf=function(t){var n=this.dd(t);return this.hd.Lf(n)},n.od=function(t){return this.hd.od(this.vd(t))},n.dd=function(n){var i=new xd(n);if(!this.fd){var e=t.ld(i.Bf);i=new xd({Bf:e},i)}return i},n.vd=function(n){var i=n.Bf;return this.fd||(i=t.ld(i)),{Bf:i,mf:n.mf}},t.ld=function(t){return st.Je&&Gr(t,"http://")?t.replace(":","s:"):t},n.et=function(){this.hd.et()},at(t,null,[{key:"wd",get:function(){return t.gd||(t.gd=new t(new Ld)),t.gd}}]),t}();function Bd(t,n){for(var i=0,e=d.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function Fd(t,n){var i=st.Ge(t);return n&&!$r(i,"/")&&(i+="/"),i}Md.gd=void 0;var Ud,Vd=/cache:(.+)?(?=&|$)/,Hd="http://webcache.googleusercontent.com/search?q=cache:";function qd(t){if(!Gr(t,Hd))return"";var n=st.ze(t).search.match(Vd);return n&&n.length>1?n[1]:""}!function(t){t.yd="HttpOpenError",t._d="HttpResponseError",t.md="HttpTimeoutError"}(Ud||(Ud={}));var Wd=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).pd=void 0,r.pd=n,r}return dt(n,t),at(n,[{key:"Lf",get:function(){return this.pd}}]),n}(Cn);var zd=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Bf+". Invalid URL.",i)||this}return dt(n,t),at(n,[{key:"name",get:function(){return Ud.yd}}]),n}(Wd);var Gd=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Lf,null!=e?e:function(t){return"Error while loading "+t.Lf.Bf+", status code "+t.Of}(n),i)||this).bd=void 0,r.bd=n,r}return dt(n,t),at(n,[{key:"name",get:function(){return Ud._d}},{key:"kd",get:function(){return this.bd}}]),n}(Wd);var $d=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Bf+" timed out after "+t.nd+" seconds."}(n),i)||this}return dt(n,t),at(n,[{key:"name",get:function(){return Ud.md}}]),n}(Wd),jd=function(t,n){return(jd=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Yd(t,n){function i(){this.constructor=t}jd(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var Xd="object"==typeof i?i:"object"==typeof t?t:"object"==typeof global?global:null;var Kd=function(){var t=Xd.Blob;if(t)try{return new t,function(t,n){return new Xd.Blob(t,n)}}catch(t){}var n,i=Xd.BlobBuilder||Xd.WebKitBlobBuilder||Xd.MozBlobBuilder||Xd.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,u=t;r<u.length;r++){var s=u[r];e.append(s)}return e.getBlob(i&&i.type||"")}):null}(),Jd="function"==typeof Vf?Vf:void 0;function Qd(t){return t&&"function"==typeof t.getReader}function Zd(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Qd(i)}catch(t){return!1}}var tv=function(){function t(t,n){this.aa=t,this.Td=n}return t.prototype.pull=function(t){var n=this;return this.aa.read().then(function(i){n.Td&&n.Td(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.aa.cancel(t)},t}();function nv(t,n){return n.constructor===t?n:new t(new tv(n.getReader()),{highWaterMark:0})}var iv=function(){function t(t,n){this.Ed=t,this.Sd=n}return t.prototype.pull=function(t){return this.Ed().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Sd&&this.Sd(t)},t}();function ev(t,n,i){return new t(new iv(n,i),{highWaterMark:0})}var rv={searchParams:"URLSearchParams"in Xd,iterable:"Symbol"in Xd&&"iterator"in Symbol,blob:"FileReader"in Xd&&!!Kd,formData:"FormData"in Xd,arrayBuffer:"ArrayBuffer"in Xd,stream:Zd(Jd),streamRequest:"Request"in Xd&&"body"in Xd.Request.prototype,streamResponse:"Response"in Xd&&"body"in Xd.Response.prototype,abort:"AbortController"in Xd&&"Request"in Xd&&"signal"in Xd.Request.prototype,encoding:"TextEncoder"in Xd&&"TextDecoder"in Xd,url:"URL"in Xd&&function(t){try{return new Xd.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Xd&&/Firefox\//.test(Xd.navigator.userAgent)};function uv(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new f("Invalid character in header field name");return t}function sv(t){return"string"!=typeof t&&(t=String(t)),t}function ov(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return rv.iterable&&(n[Symbol.iterator]=function(){return n}),n}var cv=function(){function t(t){var n=this;this.hr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return rv.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=uv(t),n=sv(n);var i=t.toLowerCase();if(this.hr.hasOwnProperty(i)){var e=this.hr[i],r=e[1];e[1]=r?r+", "+n:n}else this.hr[i]=[t,n]},t.prototype.delete=function(t){var n=uv(t).toLowerCase();delete this.hr[n]},t.prototype.get=function(t){var n=uv(t).toLowerCase();return this.hr.hasOwnProperty(n)?this.hr[n][1]:null},t.prototype.has=function(t){var n=uv(t).toLowerCase();return this.hr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=uv(t)).toLowerCase();this.hr[i]=[t,sv(n)]},t.prototype.forEach=function(t,n){for(var i in this.hr)this.hr.hasOwnProperty(i)&&t.call(n,this.hr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),ov(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),ov(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),ov(t)},t.prototype.asList=function(){var t=[];for(var n in this.hr)if(this.hr.hasOwnProperty(n)){var i=this.hr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function hv(){}rv.iterable&&(cv.prototype[Symbol.iterator]=cv.prototype.entries);var av,fv,dv,vv=v.min,lv=String.fromCharCode,wv=16384;function gv(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=wv){var r=vv(e+wv,n);i.push(lv.apply(null,t.slice(e,r)))}return i.join("")}(n)}function yv(t){if(t>=55296&&t<=57343)throw new a("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function _v(t,n){return t>>n&63|128}function mv(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(yv(t),n.push(t>>12&15|224),n.push(_v(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(_v(t,12)),n.push(_v(t,6))),n.push(63&t|128)):n.push(t)}function pv(){if(dv>=fv)throw new a("Invalid byte index");var t=255&av[dv];if(dv++,128==(192&t))return 63&t;throw new a("Invalid continuation byte")}function bv(){var t,n;if(dv>fv)throw new a("Invalid byte index");if(dv===fv)return!1;if(t=255&av[dv],dv++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|pv())>=128)return n;throw new a("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|pv()<<6|pv())>=2048)return yv(n),n;throw new a("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|pv()<<12|pv()<<6|pv())>=65536&&n<=1114111)return n;throw new a("Invalid UTF-8 detected")}var kv=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Tv(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Ev(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Sv(t){return t&&DataView.prototype.isPrototypeOf(t)}var Rv,Iv=ArrayBuffer.isView||function(t){return t&&(kv.indexOf(d.prototype.toString.call(t))>-1||Sv(t))};function Av(t){if(t.bodyUsed)return G.reject(new f("Already used"));t.bodyUsed=!0}function Nv(t){return new G(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Ov(t){return rv.encoding?new Xd.TextDecoder("utf-8").decode(new y(t)):gv(function(t){fv=(av=t).length,dv=0;for(var n,i=[];!1!==(n=bv());)i.push(n);return i}(new y(t)))}function Dv(t){return rv.encoding?(new Xd.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)mv(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function Cv(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,u=t.value;return r?G.resolve(i):(i.push(u),n.read().then(e))};return n.read().then(e)}function Pv(t){return Cv(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(c=e[i]).byteLength;for(var r=new y(n),u=0,s=0,o=t;s<o.length;s++){var c=o[s];r.set(c,u),u+=c.byteLength}return r}(t).buffer})}function xv(t){return t.slice?t.slice(0):Lv(new y(t))}function Lv(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Mv(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function Bv(t){var n=t;if(n.bodyUsed)throw new f("Already used");if(n.Rd===Rv.Id){if(!n.Ad.tee)throw new a("could not clone ReadableStream body");var i=n.Ad.tee(),e=i[0],r=i[1];return n.body=e,n.Ad=e,n.Nd=e,r}return n.Rd===Rv.Jh?xv(n.Ad):n.Rd===Rv.df?n.Ad.then(Bv):n.Nd}!function(t){t[t.si=0]="si",t[t.Od=1]="Od",t[t.Dd=2]="Dd",t[t.Jh=3]="Jh",t[t.Id=4]="Id",t[t.df=5]="df"}(Rv||(Rv={}));var Fv=function(){function t(n,i){this.bodyUsed=!1;var e,r,u,s=this;if(this.Nd=n||null,n)if("string"==typeof n)this.Rd=Rv.si,this.Ad=n;else if((u=n)&&"function"==typeof u.then)this.Rd=Rv.df,this.Ad=G.resolve(n).then(function(n){return new t(n,i)}),this.Ad.catch(hv);else if(rv.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Rd=Rv.Od,this.Ad=n;else if(rv.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Rd=Rv.Dd,this.Ad=n;else if(rv.searchParams&&Tv(n))this.Rd=Rv.si,this.Ad=n.toString();else if(rv.arrayBuffer&&(Ev(n)||Iv(n)))Sv(n)&&(this.Nd=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.Rd=Rv.Jh,this.Ad=Ev(e=n)?xv(e):Lv(e);else{if(!rv.stream||!Qd(n))throw new a("unsupported BodyInit type");n=nv(Jd,n),this.Rd=Rv.Id,this.Ad=n,this.Nd=n}else this.Rd=Rv.si,this.Ad="";this.Cd="",i.has("content-type")?this.Cd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Cd="text/plain;charset=UTF-8":s.Rd===Rv.Od&&s.Ad.type?this.Cd=s.Ad.type:rv.searchParams&&Tv(n)&&(this.Cd="application/x-www-form-urlencoded;charset=UTF-8"),this.Cd&&i.set("content-type",this.Cd)),rv.stream&&(null==n?this.body=null:s.Rd===Rv.Id?this.body=s.Ad:this.body=ev(Jd,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=Av(this);return e||(this.Rd===Rv.Od?(t=this.Ad,n=new FileReader,i=Nv(n),n.readAsText(t),i):this.Rd===Rv.Jh?G.resolve(this.Ad).then(Ov):this.Rd===Rv.Id?Pv(this.Ad).then(Ov):this.Rd===Rv.df?this.Ad.then(function(t){return t.text()}):this.Rd===Rv.Dd?G.reject(new a("could not read FormData body as text")):G.resolve(this.Ad))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();rv.blob&&(Fv.prototype.blob=function(){var t,n,i=Av(this);return i||(this.Rd===Rv.Od?G.resolve(this.Ad):this.Rd===Rv.Jh?G.resolve(Kd([this.Ad],{type:this.Cd})):this.Rd===Rv.Id?(t=this.Ad,n=this.Cd,Cv(t).then(function(t){return Kd(t,{type:n||""})})):this.Rd===Rv.df?this.Ad.then(function(t){return t.blob()}):this.Rd===Rv.Dd?G.reject(new a("could not read FormData body as Blob")):G.resolve(Kd([this.Ad],{type:this.Cd})))}),rv.arrayBuffer&&(Fv.prototype.arrayBuffer=function(){var t,n,i;return this.Rd===Rv.Jh?Av(this)||G.resolve(this.Ad):this.Rd===Rv.Od?Av(this)||(t=this.Ad,n=new FileReader,i=Nv(n),n.readAsArrayBuffer(t),i):this.Rd===Rv.Id?Pv(this.Ad):this.Rd===Rv.df?Av(this)||this.Ad.then(function(t){return t.arrayBuffer()}):this.Rd===Rv.Dd?G.reject(new a("could not read FormData body as ArrayBuffer")):G.resolve(this.Ad).then(Dv)}),rv.formData&&(Fv.prototype.formData=function(){return this.Rd===Rv.Dd?Av(this)||G.resolve(this.Ad):this.text().then(Mv)});var Uv=[301,302,303,307,308],Vv=function(t){function n(n,i){var e=this,r=new cv((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return Yd(n,t),n.prototype.clone=function(){return new n(Bv(this),{status:this.status,statusText:this.statusText,headers:new cv(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Uv.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Fv);var Hv,qv=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new f("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function c(t,n){return(c=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,n,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(e){var r=d.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var v=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){s(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,u=e.length;r<u;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=o(n).call(this))||"object"!=typeof r&&"function"!=typeof r?h(e):r).listeners||v.call(h(t)),d.defineProperty(h(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(h(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new f("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,v),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),a(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(Hv=qv)&&Hv.__esModule&&d.prototype.hasOwnProperty.call(Hv,"default")&&Hv.default,qv.AbortSignal;var Wv=qv.AbortController,zv=Xd.DOMException;try{new zv}catch(t){(zv=function(t,n){a.call(this,t),this.name=n||"Error",a.captureStackTrace&&a.captureStackTrace(this,this.constructor)}).prototype=d.create(a.prototype),zv.prototype.constructor=zv}var Gv=Wv;function $v(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function jv(t,n,i){return new G(function(e,r){if(n.signal.aborted)return t.catch(hv),r(Yv());var u=function(){n.signal.removeEventListener("abort",u),r(Yv())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()})})}function Yv(){return new zv("Aborted","AbortError")}var Xv,Kv="moz-chunked-arraybuffer";function Jv(t){try{var n=new _;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Xv||(Xv={}));var Qv=function(){function t(t,n){var i=this;this.Pd=!1,this.pd=t,this.xd=n,this.Ld=new _,this.Md=new G(function(t,n){i.Bd=t,i.Fd=n})}return t.prototype.send=function(){var t=this;return this.Ud().then(function(n){return t.Vd(n,t.xd),t.Md})},t.prototype.Ud=function(){var t=this.pd;return t.Rd===Rv.Id?t.arrayBuffer():G.resolve(t.Nd)},t.prototype.Hd=function(t){this.pd.onprogress&&this.pd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.qd=function(t){this.Fd(t)},t.prototype.Wd=function(){this.qd(new f("Network request failed"))},t.prototype.zd=function(){this.qd(new f("Network request failed"))},t.prototype.Gd=function(){this.qd(Yv())},t.prototype.Vd=function(t,n){var i=this,e=this.pd,r=this.Ld,u=function(){return i.$d()};if(e.signal.aborted)return this.Gd();r.onreadystatechange=function(){if(r.readyState>=Xv.HEADERS_RECEIVED&&!i.Pd){var t=function(t){var n=new cv;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Pd=!0,i.jd(n)}},r.onprogress=function(t){return i.Hd(t)},r.onload=function(){return i.Yd()},r.onerror=function(){return i.Wd()},r.ontimeout=function(){return i.zd()},r.onabort=function(){return i.Gd()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",u),r.onloadend=function(){e.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.$d=function(){this.Gd(),this.Ld.abort()},t}(),Zv=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Xd=void 0,e.Kd=void 0,e}return Yd(n,t),n.prototype.jd=function(t){var n=this;this.Xd=new G(function(t,i){n.Kd=t,n.Jd=i}),this.Bd(new Vv(this.Xd,t))},n.prototype.Yd=function(){var t=this.Ld.response;if(null==t){var n=this.xd;""===n||"text"===n?t=this.Ld.responseText:"document"===n?t=this.Ld.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=Kd([]))}this.Kd(t)},n.prototype.qd=function(n){t.prototype.qd.call(this,n),this.Jd&&this.Jd(n)},n}(Qv),tl=function(t){function n(n){var i=t.call(this,n,Kv)||this;return i.Qd=void 0,i.Zd=void 0,i.tv=!1,i}return Yd(n,t),n.prototype.jd=function(t){var n=this;this.Qd=new Jd({start:function(t){n.Zd=t},cancel:function(){n.tv=!0,n.$d()}}),this.Bd(new Vv(this.Qd,t))},n.prototype.Hd=function(n){this.tv||this.Zd.enqueue(new y(this.Ld.response)),t.prototype.Hd.call(this,n)},n.prototype.Yd=function(){this.Zd.close()},n.prototype.qd=function(n){t.prototype.qd.call(this,n),this.Zd&&!this.tv&&(this.tv=!0,this.Zd.error(n))},n}(Qv),nl=function(){var t=rv.firefox&&Jv(Kv);return nl=function(){return t},t},il=function(){var t;return t=rv.arrayBuffer&&Jv("arraybuffer")?"arraybuffer":rv.blob&&Jv("blob")?"blob":"",il=function(){return t},t};function el(t){return(rv.stream&&nl()?new tl(t):new Zv(t,il())).send()}var rl=Xd.fetch,ul=Xd.Request;Xd.Response;var sl=Xd.AbortController;var ol=["http:","https:"];var cl=function(){try{if(rv.streamRequest){var t=new ul("about:blank",{body:"",method:"POST"}).body;if(t&&Zd(t.constructor))return t.constructor}}catch(t){}}();function hl(t,n,i){var e;if(rv.stream){var r=void 0;if(rv.streamResponse){var u=t.body;r=u&&nv(Jd,u)}else r=ev(Jd,function(){return jv(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new tv(n.getReader(),i),{highWaterMark:0})}(Jd,t,function(t){var r=t.done,u=t.value;r?i=void 0===i?e:i:e+=u.byteLength,n(e,i)})}(r,i,al(t.headers))),e=r}else{var s=jv(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return G.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(s,i,al(t.headers))),e=s}return new Vv(e,t)}function al(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function fl(t){var n=new Gv;return t.signal&&$v(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Rd===Rv.Id?rv.streamRequest&&cl?G.resolve(nv(cl,r.Ad)):jv(t.arrayBuffer(),n,!1):jv(G.resolve(t.Nd),n,!1),rv.abort){var u=new sl;$v(u,n.signal),e=u.signal}return i.then(function(n){return new ul(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof cv?i:new cv(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return rl(i).then(function(i){return hl(i,n,t.onprogress)})})}var dl=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var vl=function(t){function n(i,e){var r,u,s,o,c,h,a,d,v,l=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new f("Already used");r=i.url,u=i.credentials,e.headers||(s=new cv(i.headers)),o=i.method,c=i.mode,h=i.referrer,a=i.referrerPolicy,d=i.signal,v=i.onprogress,w||null==i.Nd||(w=i.Nd,i.bodyUsed=!0)}else r=String(i),u="same-origin",o="GET",c="cors",h="about:client",a="",d=null,v=null;if(!e.headers&&s||(s=new cv(e.headers)),e&&(h="about:client",a=""),(l=t.call(this,w,s)||this).url=r,l.headers=s,l.credentials=e.credentials||u,l.method=function(t){var n=t.toUpperCase();return dl.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||c,l.signal=e.signal||d||(new Gv).signal,l.referrer=void 0!==e.referrer?e.referrer:h,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:a,l.onprogress=e.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&w)throw new f("Body not allowed for GET or HEAD requests");return l}return Yd(n,t),n.prototype.clone=function(){return new n(this,{body:Bv(this)})},n}(Fv),ll="function"==typeof rl&&rv.stream&&rv.streamResponse&&rv.url;function wl(t,n){return new G(function(i){var e=new vl(t,n);i((ll&&function(t){try{return ol.indexOf(new Xd.URL(t,Xd.location.href).protocol)>=0}catch(t){return!1}}(e.url)?fl:el)(e))})}wl.polyfill=!0;var gl=function(){function t(t){this.kd=void 0,this.pd=void 0,this.nv=new wu,this.bd=void 0,this.ev=!1,this.pd=t,this.nv.zr(t.$r),this.kd=this.rv()}var n=t.prototype;return n.rv=function(){var t,n,i,e,r,u,o,c,h=this;return wr.async(function(a){for(;;)switch(a.prev=a.next){case 0:(t=this.pd).nd&&s(function(){h.ev=!0,h.nv.Wr()},t.nd),a.prev=2,n=wl(t.Bf,{method:t.td,headers:t.Df.ta(),body:t.mf,credentials:t.ud?"include":"same-origin",signal:ml(this.nv.$r),onprogress:t.sd}),a.next=9;break;case 6:throw a.prev=6,a.t0=a.catch(2),new zd(t,a.t0);case 9:return a.prev=9,a.next=12,wr.awrap(n);case 12:i=a.sent,a.next=20;break;case 15:throw a.prev=15,a.t1=a.catch(9),yu(e=this.uv(a.t1))&&this.nv.Wr(),e;case 20:if(r=i.url||t.Bf,u=0===i.status&&"file:"===(f=r,st.ze(f).protocol)?200:i.status,o=new yl(this,i,this.nv),c=new Pd({Li:o,Lf:t,Cf:t.Cf,Df:new nh(i.headers.asList()),Of:u,Pf:i.statusText,Mf:r}),this.bd=c,!Ad(c)){a.next=29;break}return a.abrupt("return",c);case 29:throw new Gd(c);case 30:case"end":return a.stop()}var f},null,this,[[2,6],[9,15]],G)},n.uv=function(t){return yu(t)?this.ev?new $d(this.pd):new gu(t.message,t):this.bd?new Gd(this.bd,t):new zd(this.pd,t)},t}(),yl=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).sv=void 0,r.ov=void 0,r.nv=void 0,r.Tf=new qs,r.sv=n,r.ov=i,r.nv=e,r.Tf.Pu.catch(Ft),r}dt(n,t);var i=n.prototype;return i.Sf=function(){return this.Tf.Pu},i.lf=function(t){return this.Rf(this.ov.text(),t)},i.gf=function(t){return this.Rf(this.ov.arrayBuffer(),t)},i.yf=function(){var t=this.ov.body;return t?this.If(t):dd(this.gf().then(ad),this.nv)},i.Af=function(){var t=this.ov.clone(),i=this.nv.Gr(),e=i[0],r=i[1];return this.nv=e,new n(this.sv,t,r)},i.Rf=function(t,n){var i=this;n&&this.nv.zr(n);var e=G.resolve(t).catch(function(t){throw i.sv.uv(t)});return e=ku(e,this.nv),this.Tf.Mu(e.then(Ft)),e},i.If=function(t){var n=this,i=new Xf,e=G.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.sv.uv(t);throw i.writable.abort(e).catch(Ft),e});return e=ku(e,this.nv),this.Tf.Mu(e.then(Ft)),i.readable},at(n,[{key:"Nf",get:function(){return this.ov.bodyUsed}}]),n}(yd),_l="abort";function ml(t){var n=new Gv;if(t.Cr)n.abort();else if(!t.Pr){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(_l,i),t.Ur(i),t.Hr(e)};n.signal.addEventListener(_l,i),t.Fr(i),t.Vr(e)}return n.signal}var pl,bl=function(){function t(){}var n=t.prototype;return n.Lf=function(t){return new gl(t).kd},n.od=function(t){if(nt&&nt.sendBeacon)nt.sendBeacon(t.Bf,Jc([t.mf],{type:t._f}));else{var n=t._f?{"Content-type":t._f}:void 0;Su(this.Lf(new xd({td:Nd.POST,Bf:t.Bf,mf:t.mf,Df:n})))}},n.et=function(){},t}(),kl=function(n){function i(){for(var i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(i=n.call.apply(n,[this].concat(r))||this).cv=void 0,i.hv=function(){if(St.En)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.av=St.jn||St.En,i.fv=void 0,i}return dt(i,n),at(i,[{key:"Be",get:function(){return this.cv||(this.cv=new tu(jc())),this.cv}},{key:"dv",get:function(){return this.hv}},{key:"vv",get:function(){return this.av}},{key:"lv",get:function(){return!1}},{key:"wv",get:function(){return Xc.vh()}},{key:"gv",get:function(){return{yv:Qc}}},{key:"_v",get:function(){return u.connection&&u.connection.effectiveType||"default"}},{key:"mv",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"pv",get:function(){return this.fv||(this.fv=new Md(new bl)),this.fv}}]),i}(dr);vt(new kl),function(t){t.bv="kv",t.Tv="Ev"}(pl||(pl={})),pl.bv,pl.Tv;var Tl=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Sv=void 0,e}return dt(n,t),at(n,[{key:"Rv",get:function(){return this.Sv||(this.Sv=this.Iv()),this.Sv}}]),n}(Pu);function El(t){return Boolean(t&&t.Rv)}var Sl,Rl=function(t){function n(n){return t.call(this,n)||this}return dt(n,t),n}(Tl),Il=function(t){function n(n){return t.call(this,n)||this}return dt(n,t),n}(Pu),Al=function(t){function n(n){var i;return(i=t.call(this,pl.bv)||this).Av=n,i}return dt(n,t),n.prototype.Iv=function(){return new Nl(this.Av.Rv)},n}(Rl),Nl=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return dt(n,t),n}(Il),Ol=function(t){function n(n){var i;return(i=t.call(this,pl.Tv)||this).Av=n,i}return dt(n,t),n.prototype.Iv=function(){return new Dl(this.Av.Rv)},n}(Rl),Dl=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return dt(n,t),n}(Il);!function(t){t.Nv="Ov",t.Dv="Cv",t.Pv="xv",t.Lv="Mv",t.Bv="Fv",t.Uv="Vv",t.Hv="qv",t.Wv="zv",t.Gv="cc",t.$v="jv",t.Yv="Xv",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Sl||(Sl={}));var Cl=function(t){function n(){var n;return(n=t.call(this)||this).Kv=[],n.Sv=void 0,n}dt(n,t);var i=n.prototype;return i.Jv=function(t){return this.Kv[t]},i.Qv=function(t){return!(!t||fu(this.Kv,t))&&(this.Kv.push(t),this.Sv&&this.Sv.push(t.Rv),t.Qr(Sl.Uv,this.Kr),this.Jr(new Al(t)),!0)},i.Zv=function(t){if(!t)return!1;var n=this.Kv.indexOf(t);return!(n<0)&&(au(this.Kv,n),this.Sv&&au(this.Sv,n),t.iu(Sl.Uv,this.Kr),this.Jr(new Ol(t)),!0)},i.tl=function(t){return fu(this.Kv,t)},i.nl=function(){for(var t=this.Kv,n=t.length-1;n>=0;n-=1)this.Zv(t[n])},i.et=function(){this.nl(),this.nu()},at(n,[{key:"il",get:function(){return this.Kv}},{key:"Rv",get:function(){return this.Sv||(this.Sv=this.Iv()),this.Sv}},{key:"ul",get:function(){return this.Kv.length}}]),n}(Du),Pl=function(t){function n(n){var i;return(i=t.call(this,Sl.Uv)||this).Av=n,i}return dt(n,t),n.prototype.Iv=function(){return new xl(this.Av.Rv)},n}(Rl),xl=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return dt(n,t),n}(Il),Ll=function(t){function n(){var n;return(n=t.call(this)||this).sl=void 0,n.ol=function(t){var i=t.Av;n.Qv(i)},n.cl=function(t){var i=t.Av;n.Zv(i)},n}dt(n,t);var i=n.prototype;return i.hl=function(t){t.Qr(pl.bv,this.ol),t.Qr(pl.Tv,this.cl)},i.al=function(t){t.iu(pl.bv,this.ol),t.iu(pl.Tv,this.cl)},i.et=function(){this.sl&&this.sl.et(),t.prototype.et.call(this)},at(n,[{key:"fl",get:function(){return this.sl},set:function(t){var n=this.sl;if(t!==n){if(n){this.al(n);for(var i=0,e=n.il;i<e.length;i++){var r=e[i];t&&t.tl(r)||this.Zv(r)}}if(this.sl=t,t){for(var u=[],s=0,o=t.il;s<o.length;s++){var c=o[s];this.Qv(c),this.dl(c)&&u.push(c)}this.hl(t);for(var h=0;h<u.length;h++){var a=u[h];a.Jr(new Pl(a))}}}}}]),n}(Cl),Ml=d.freeze||Ut;function Bl(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Fl(t,n){for(var i=0,e=d.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];d.defineProperty(t,r,d.getOwnPropertyDescriptor(n,r))}return t}function Ul(t){if(Pt(t)){var n={};for(var i in t)Rt.call(t,i)&&(n[i]=Ul(t[i]));return n}if(Ot(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Ul(t[r]));return e}return t}function Vl(t,n){return t===n||!(!t||!n)&&(!(!Ct(t)||!Ct(n))&&(Dt(t)?!!Dt(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!Vl(t[r],n[r]))return!1;return!0}(t,n):!Dt(n)&&function(t,n){var i=d.keys(t),e=d.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var u=i[r];if(!Rt.call(n,u)||!Vl(t[u],n[u]))return!1}return!0}(t,n)))}function Hl(t,n){return t.constructor===n.constructor}function ql(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],u=t[r];null!=u&&(n[r]=u)}return n}function Wl(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function zl(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Gl(t){var n=zl(t);if(g(n))throw new a("Expected a valid number.");return n}function $l(t){return"string"==typeof t?t:""}function jl(t,n){if(!Dt(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Yl(t,n){return Dt(t)?jl(t,n):n(t)}var Xl=[pl.bv,pl.Tv,Sl.Uv];function Kl(t){var n,i=t.il.map(function(t){return t.Rv});return i.item=function(n){var i=0|n,e=t.Jv(i);return e&&e.Rv||void 0},i.addEventListener=function(t,i){n.Qr(t,i)},i.removeEventListener=function(t,i){n.iu(t,i)},n=new Cu(i),t.Qr(Xl,function(t){return n.Jr(t.Rv)}),i}function Jl(){}function Ql(t){var n,i=[Sl.Gv,Sl.Uv,Sl.$v,Sl.Yv,Sl.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.vl&&t.vl.Rv},get enabled(){return t.ll},set enabled(n){t.ll=Wl(n)},get id(){return t.wl},get uid(){return t.gl},get kind(){return t.yl},get label(){return t._l},set label(n){t._l=$l(n)},get language(){return t.ml},get qualities(){return t.pl.Rv},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.pl.il;e<r.length;e++)for(var u=r[e],s=0;s<n.length;s++){var o=n[s];u.Rv===o&&i.push(u)}return i}(t,Ot(n)?n:[n]):[]).length>0?t.bl=i:t.bl=void 0},get targetQuality(){if(t.bl)return 1===t.bl.length?t.bl[0].Rv:t.bl.map(function(t){return t.Rv})},addEventListener:function(t,i){var e=Yl(t,$l);n.Qr(e,i)},removeEventListener:function(t,i){var e=Yl(t,$l);n.iu(e,i)}};return n=new Cu(e),t.Qr(i,function(t){return n.Jr(t.Rv)}),d.defineProperty(e,"constructor",{value:Jl}),e}function Zl(){}function tw(t){var n=Kl(t);return d.defineProperty(n,"constructor",{value:Zl}),n}var nw,iw,ew=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.Iv=function(){return tw(this)},i.dl=function(t){return t.ll},n}(Ll);function rw(){}function uw(t){var n,i=[Sl.Uv,Sl.Gv,Sl.Nv,Sl.Dv,Sl.Pv,Sl.Lv,Sl.Bv,Sl.Hv,Sl.Wv],e=[iw.kl],r={get kind(){return t.yl},get label(){return t._l},set label(n){t._l=$l(n)},get language(){return t.ml},get id(){return t.wl},get uid(){return t.gl},get inBandMetadataTrackDispatchType(){return t.Tl},get mode(){return t.El},set mode(n){n!==nw.Sl&&n!==nw.Rl&&n!==nw.Il||t.Al(n)},get forced(){return Boolean(t.Nl)},get type(){return t._r},get readyState(){return cw(t.Ol)},get cues(){return t.El===nw.Il?null:t.Dl.Rv},get activeCues(){return t.El===nw.Il?null:t.Cl.Rv},get src(){return t.Pl||""},addEventListener:function(t,i){var e=Yl(t,$l);n.Qr(e,i)},removeEventListener:function(t,i){var e=Yl(t,$l);n.iu(e,i)}};return n=new Cu(t),t.Qr(i,function(t){return n.Jr(t.Rv)}),t.Qr(e,function(t){return n.Jr(t)}),d.defineProperty(r,"constructor",{value:rw}),r}function sw(){}function ow(t){var n=Kl(t);return d.defineProperty(n,"constructor",{value:sw}),n}function cw(t){return t}!function(t){t.Il="disabled",t.Rl="hidden",t.Sl="showing"}(nw||(nw={})),function(t){t.kl="error"}(iw||(iw={}));var hw=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.Iv=function(){return ow(this)},i.dl=function(t){return t.El===nw.Sl},n}(Ll),aw=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.tu=function(n){t.prototype.tu.call(this,n)},i.uu=function(n){t.prototype.uu.call(this,n)},n}(Du),fw=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n}(aw),dw=function(t){function n(){return t.call(this,Zc.Sh)||this}return dt(n,t),n}(Pu),vw=function(t){function n(n){var i;return(i=t.call(this,Zc.ph)||this).currentSource=n,i}return dt(n,t),n}(Pu),lw=function(){function t(){}return t.xl=function(n,i){var e=t.Ll(n,i);return e?t.Ml(e):0},t.Bl=function(){return st._v||"default"},t.Fl=function(){return st.mv||"unknown"},t.Ll=function(n,i){var e,r=null==(e=st.wv)?void 0:e.pu(i),u=r&&JSON.parse(r);if(u&&u[n])return t.Ul(u,n,i)},t.Ml=function(t){var n=t.availableBandwidth;return n||0},t.Ul=function(n,i,e){if(!t.Vl(n,i))return n[i];t.Hl(n,i,e)},t.Hl=function(t,n,i){var e;delete t[n],null==(e=st.wv)||e.dh(i,JSON.stringify(t))},t.Vl=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.ql=function(t,n,i,e){var r;return gr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Wl=function(n){var i=t.Bl();t.zl(i,"theoplayer-stored-network-info",n,Rn())},t.zl=function(n,i,e,r){var u,s,o=null==(u=st.wv)?void 0:u.pu(i),c=o?JSON.parse(o):void 0,h=t.ql(c,n,e,r);null==(s=st.wv)||s.dh(i,JSON.stringify(h))},t.Gl=function(){var n=t.Bl();return t.xl(n,"theoplayer-stored-network-info")},t}();var ww,gw,yw,_w,mw,pw,bw="1ADD53F3";function kw(t){return{chromecast:function(t){return{appID:t&&t.appID?$l(t.appID):bw}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return ww.AUTO;case"manual":return ww.MANUAL;case"disabled":return ww.DISABLED;default:return ww.MANUAL}}(t?t.strategy:void 0)}}function Tw(t){var n,i=yw.$l;return(n=t)&&zr(n,"mpd")&&(i=yw.jl),function(t){return!!t&&zr(t,"m3u8")}(t)&&(i=yw.Yl),i}function Ew(t){return Ct(t)&&Ct(t.ssai)&&"google-dai"===t.ssai.integration}function Sw(t){return Ct(t)&&xt(t.integration)&&"verizon-media"===t.integration}function Rw(t){if(xt(t))return!t;if(Sw(t))return!t.id;if(Ew(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function Iw(t){return Boolean(Ct(t)&&xt(t.src))}function Aw(t){return xt(t)||Iw(t)||Ew(t)||Sw(t)}function Nw(t){if(t){if(Aw(t))return Rw(t);for(var n=0;n<t.length;n++){if(!Rw(t[n]))return!1}return!0}return!0}function Ow(){return{crossOrigin:gw.Xl,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function Dw(){return gr({},Ow(),{src:void 0,type:yw.$l,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Cw(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:_w.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return mw.NONE;case"midroll-and-postroll":default:return mw.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Wl(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return _w.INSECURE;case"disabled":return _w.DISABLED;case"enabled":default:return _w.ENABLED}}(t.vpaidMode)),Ot(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(xt)),void 0!==t.googleIma&&(n.googleIma=function(t){var n;return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:Wl(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1}}(t.googleIma)),n)}function Pw(t){if(!Dt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];Pt(r)&&n.push(r)}return n}function xw(t){return xt(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(ww||(ww={})),function(t){t.Xl="",t.Kl="anonymous",t.Jl="use-credentials"}(gw||(gw={})),function(t){t.jl="application/dash+xml",t.Yl="application/vnd.apple.mpegurl",t.Ql="application/x-mpegurl",t.$l="video/mp4",t.Zl="application/vnd.theoplayer.hesp+json",t.tw="application/vnd.theo.hesp+json"}(yw||(yw={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(_w||(_w={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(mw||(mw={})),function(t){t[t.nw=0]="nw",t[t.iw=1]="iw",t[t.ew=2]="ew",t[t.rw=3]="rw",t[t.uw=4]="uw"}(pw||(pw={}));var Lw,Mw=function(t){function n(n,i){var e;return void 0===i&&(i=pw.nw),(e=t.call(this,Zc.Th)||this).currentTime=n,e.readyState=i,e}return dt(n,t),n}(Pu),Bw=function(t){function n(n){var i;return(i=t.call(this,Zc.Ch)||this).currentTime=n,i}return dt(n,t),n}(Pu),Fw=function(t){function n(n){var i;return(i=t.call(this,Zc.Ph)||this).currentTime=n,i}return dt(n,t),n}(Pu);!function(t){t.sw="canplay",t.ow="canplaythrough",t.cw="loadeddata",t.hw="loadedmetadata",t.Hv="readystatechange",t.aw="waiting",t.fw="playing"}(Lw||(Lw={}));var Uw,Vw=[Lw.sw,Lw.ow,Lw.cw,Lw.hw,Lw.Hv,Lw.aw,Lw.fw],Hw=function(t){function n(n,i){var e;return void 0===i&&(i=pw.iw),(e=t.call(this,Lw.hw)||this).currentTime=n,e.readyState=i,e}return dt(n,t),n}(Pu),qw=function(t){function n(n){var i;return(i=t.call(this,Zc.kh)||this).duration=n,i}return dt(n,t),n}(Pu),Ww=function(t){function n(n,i){var e;return(e=t.call(this,Zc.Lh)||this).currentTime=n,e.playbackRate=i,e}return dt(n,t),n}(Pu),zw=function(t){function n(n,i){var e;return(e=t.call(this,Zc.$h)||this).currentTime=n,e.currentProgramDateTime=i,e}return dt(n,t),n}(Pu),Gw=function(t){function n(n){var i;return(i=t.call(this,Zc.Eh)||this).currentTime=n,i}return dt(n,t),n}(Pu),$w=function(t){function n(n,i){var e;return void 0===i&&(i=pw.ew),(e=t.call(this,Lw.cw)||this).currentTime=n,e.readyState=i,e}return dt(n,t),n}(Pu),jw=function(t){function n(n){var i;return(i=t.call(this,Zc.Uh)||this).currentTime=n,i}return dt(n,t),n}(Pu),Yw=function(t){function n(n){var i;return(i=t.call(this,Zc.Fh)||this).currentTime=n,i}return dt(n,t),n}(Pu),Xw=function(t){function n(n,i){var e;return(e=t.call(this,Zc.jh)||this).currentTime=n,e.volume=i,e}return dt(n,t),n}(Pu),Kw=function(t){function n(n,i){var e;return void 0===i&&(i=pw.rw),(e=t.call(this,Lw.sw)||this).currentTime=n,e.readyState=i,e}return dt(n,t),n}(Pu),Jw=function(t){function n(n,i){var e;return void 0===i&&(i=pw.uw),(e=t.call(this,Lw.ow)||this).currentTime=n,e.readyState=i,e}return dt(n,t),n}(Pu),Qw=function(t){function n(n,i){var e;return(e=t.call(this,Lw.Hv)||this).currentTime=n,e.readyState=i,e}return dt(n,t),n}(Pu),Zw=function(t){function n(n){var i;return(i=t.call(this,iw.kl)||this).errorObject=n,i}return dt(n,t),n.prototype.Iv=function(){return this},at(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Tl);function tg(t){switch(t){case Uw.ALL:case Uw.CONTENT:return t;default:return Uw.NONE}}function ng(t){var n,i,e,r=Ul(t||{});return r.libraryLocation&&(r.libraryLocation=Fd(r.libraryLocation,!0)),r.isEmbeddable=Boolean(r.isEmbeddable),r.cast=kw(r.cast),r.ads=Cw(r.ads),r.analytics=Pw(r.analytics),r.mutedAutoplay=tg(r.mutedAutoplay),r.allowNativeFullscreen=Boolean(r.allowNativeFullscreen),r.allowMixedContent=Boolean(r.allowMixedContent),r.persistVolume=Boolean(r.persistVolume),r.liveOffset=(n=r.liveOffset,Number(n)||void 0),r.hlsDateRange=(i=r.hlsDateRange,Boolean(i)),r.retainPlaybackRateOnSourceChange=Boolean(r.retainPlaybackRateOnSourceChange),r.license=xt(e=r.license)?e:void 0,r.licenseUrl=function(t){if(!t)return;try{return Fd(t)}catch(t){return void st.Ne("Invalid 'licenseUrl', falling back to default URL")}}(r.licenseUrl),r}function ig(t){return{dw:t.dw,vw:t.vw,lw:t.lw,du:t.du,ww:t.ww,gw:t.gw,yw:t.yw,_w:t._w,Ol:t.Ol,mw:t.mw,pw:t.pw,bw:t.bw,kw:t.kw}}function eg(t,n){var i=n.kw,e=n.gw;t.kw=i,t.gw=e}function rg(t,n,i){if(n!==i){var e=n.dw,r=n.vw,u=n.gw,s=n.yw,o=n._w,c=n.Ol,h=n.mw;n.bw,n.pw;var a=n.kw,f=i.dw,d=i.vw,v=i.lw,l=i.ww,w=i.gw,y=i.yw,_=i._w,m=i.Ol,p=i.mw;i.bw,i.pw;var b=i.kw;c!==pw.nw&&t.Jr(new Mw(f,m)),y&&!s?t.Jr(new Bw(f)):!y&&s&&t.Jr(new Fw(f)),m>=pw.iw&&t.Jr(new Hw(f,m)),d===r||g(d)&&g(r)||t.Jr(new qw(d)),_!==o&&t.Jr(new Ww(f,_)),f!==e&&t.Jr(new zw(f,void 0)),v&&t.Jr(new Gw(f)),m>=pw.ew&&t.Jr(new $w(f,m)),p&&!h?t.Jr(new jw(f)):!p&&h&&t.Jr(new Yw(f)),b===a&&w===u||t.Jr(new Xw(f,b)),m>=pw.rw&&t.Jr(new Kw(f,m)),m>=pw.uw&&t.Jr(new Jw(f,m)),m!==c&&t.Jr(new Qw(f,m)),l&&t.Jr(new Zw(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Uw||(Uw={}));var ug=.25,sg=400,og={Tw:.2,Ew:.45,Sw:.7,Rw:3,Iw:lg,Aw:wg},cg={Tw:.4,Ew:.65,Sw:1,Rw:3,Iw:lg,Aw:wg},hg={Tw:.4,Ew:.7,Sw:.9,Rw:3,Iw:lg,Aw:wg},ag={Tw:.4,Ew:.65,Sw:1,Rw:3,Iw:lg,Aw:wg},fg={Tw:.5,Ew:1.125,Sw:1.75,Rw:2.55,Iw:lg,Aw:wg};function dg(){var t;return t=st.je.de?ag:st.je.ye?cg:st.je.we?"Android"===st.Ye.Xe?hg:og:fg,st.Ye.Ke?function(t){if(st.Ye.Ke){var n=(sg+250)/1e3,i=v.max(n,t.Tw),e=v.max(i+ug,t.Ew),r=v.max(e+ug,t.Sw);return{Tw:i,Ew:e,Sw:r,Rw:v.max(r+ug,t.Rw),Iw:lg,Aw:wg}}return t}(t):t}var vg,lg=.92,wg=1.08;function gg(t){return{goLive:function(){return t.Nw()},get isLive(){return t.Ow},get currentServerLiveTime(){return t.Dw},get currentLatency(){return t.Cw},get latency(){return t.Pw},set latency(n){if(!function(t){if(!Ct(t))return!1;var n=t,i=At(n.target)&&"number"==typeof n.target&&At(n.windowEnd)&&"number"==typeof n.windowEnd&&At(n.windowStart)&&"number"==typeof n.windowStart&&At(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new a("Invalid latency configuration");t.Pw=n},get manifest(){return t.xw},addEventListener:function(n,i){t.Qr(_g(n),i)},removeEventListener:function(n,i){t.iu(_g(n),i)}}}!function(t){t[t.Il=0]="Il",t[t.Lw=1]="Lw",t[t.Mw=2]="Mw"}(vg||(vg={}));var yg=["golive"];function _g(t){var n=Yl(t,$l);return(xt(n)?[n]:n).filter(function(t){return fu(yg,t)})}var mg,pg=function(t){function n(){var n,i;return(n=t.call(this)||this).sl=void 0,n.Sv=void 0,n.Bw={windowStart:(i=dg()).Tw,windowEnd:i.Sw,target:i.Ew,maxOffset:i.Rw},n.sl=void 0,n}dt(n,t);var i=n.prototype;return i.hl=function(t){t.Qr(yg,this.Kr)},i.al=function(t){t.iu(yg,this.Kr)},i.Nw=function(){var t;null==(t=this.sl)||t.Nw()},i.et=function(){this.nu(),this.sl&&this.al(this.sl),this.sl=void 0},at(n,[{key:"fl",get:function(){return this.sl},set:function(t){var n=this.sl;t!==n&&(n&&this.al(n),t&&this.hl(t),this.sl=t,this.sl&&(this.sl.Pw=this.Bw))}},{key:"Rv",get:function(){return this.Sv||(this.Sv=gg(this)),this.Sv}},{key:"Dw",get:function(){var t;return null==(t=this.sl)?void 0:t.Dw}},{key:"Cw",get:function(){var t;return null==(t=this.sl)?void 0:t.Cw}},{key:"Ow",get:function(){return!!this.sl&&this.sl.Ow}},{key:"Pw",get:function(){return this.sl?this.sl.Pw:this.Bw},set:function(t){this.sl&&(this.sl.Pw=t),this.Bw=t}},{key:"xw",get:function(){var t;return null==(t=this.sl)?void 0:t.xw}}]),n}(Du),bg=function(t){function n(n){var i;return(i=t.call(this)||this).sl=void 0,i.Fw=[],i.Uw=!1,i.Vw=new ew,i.Hw=new ew,i.qw=new hw,i.Ww=new pg,i.zw=!1,i.Gw(n),n.tu(i.Kr),i.sl=n,i.Vw.fl=n.$w,i.Hw.fl=n.jw,i.qw.fl=n.Yw,i.Ww.fl=n.Xw,i}dt(n,t);var i=n.prototype;return i.X=function(){this.sl.X()},i.K=function(){this.sl.K()},i.Kw=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ru(this.Fw.map(function(t){return t.Kw()})).then(Ft));case 1:case"end":return t.stop()}},null,this,null,G)},i.Jw=function(){return this.sl.Jw()},i.Qw=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return _u(n),i.next=3,wr.awrap(this.sl.Qw(t,n));case 3:case"end":return i.stop()}},null,this,null,G)},i.Zw=function(){return this.fl.Zw()},i.tg=function(){this.fl.tg()},i.ng=function(){this.fl.ng()},i.st=function(){if(!this.Uw){for(var t=0,n=this.Fw;t<n.length;t++){n[t].st()}this.Uw=!0}},i.ig=function(t){this.sl.ig(t)},i.eg=function(){this.sl.eg()},i.rg=function(){this.sl.rg()},i.ug=function(){this.sl.ug()},i.sg=function(){return this.sl.sg()},i.og=function(){return this.sl.og()},i.cg=function(){for(var t=[],n=0,i=this.Fw;n<i.length;n++){var e=i[n];t.push.apply(t,e.cg())}return t},i.hg=function(t){for(var n=!1,i=0,e=this.Fw;i<e.length;i++){n=e[i].hg(t)||n}return n},i.Jr=function(n){this.hg(n)||t.prototype.Jr.call(this,n)},i.Gw=function(t){this.Fw.push(t)},i.ag=function(t){hu(this.Fw,t)},i.fg=function(t){if(t!==this.sl){var n=this.sl;n.eg(),n.uu(this.Kr);var i=ig(this),e=this.dg,r=this.og();this.sl=t,this.Vw.fl=t.$w,this.Hw.fl=t.jw,this.qw.fl=t.Yw,this.Ww.fl=t.Xw,rg(this,i,this);var u=this.dg;u!==e&&this.Jr(new vw(u)),this.og()!==r&&this.Jr(new dw),t.tu(this.Kr),t.ig(n)}},i.vg=function(){},i.et=function(){var t,n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.nu(),this.sl.eg(),t=0,n=this.Fw;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,wr.awrap(i.et());case 7:t++,e.next=3;break;case 10:this.Vw.et(),this.Hw.et(),this.qw.et(),this.Ww.et();case 14:case"end":return e.stop()}},null,this,null,G)},i.nl=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ru(this.Fw.map(function(t){return t.nl()})).then(Ft));case 1:case"end":return t.stop()}},null,this,null,G)},at(n,[{key:"$w",get:function(){return this.Vw}},{key:"Yw",get:function(){return this.qw}},{key:"jw",get:function(){return this.Hw}},{key:"lg",get:function(){return this.sl.lg}},{key:"wg",get:function(){return this.sl.wg},set:function(t){this.sl.wg=t}},{key:"dg",get:function(){return this.sl.dg}},{key:"dw",get:function(){return this.sl.dw},set:function(t){this.sl.dw=t}},{key:"vw",get:function(){return this.sl.vw}},{key:"gg",get:function(){return this.sl.gg}},{key:"lw",get:function(){return this.sl.lw}},{key:"du",get:function(){return this.sl.du}},{key:"ww",get:function(){return this.sl.ww}},{key:"Xw",get:function(){return this.Ww}},{key:"yg",get:function(){return this.sl.yg}},{key:"_g",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var c=t[o];n+=c.mg,i+=c.pg,e+=c.bg,r+=c.kg,u+=c.Tg,s.amountOfBufferedAudioSegments+=c.Eg.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=c.Eg.amountOfBufferedVideoSegments}return{mg:n,pg:i,bg:e,kg:r,Tg:u,Eg:s}}(this.Fw.map(function(t){return t._g}))}},{key:"gw",get:function(){return this.sl.gw},set:function(t){this.sl.gw=t}},{key:"Sg",get:function(){return this.sl.Sg}},{key:"yw",get:function(){return this.sl.yw}},{key:"_w",get:function(){return this.sl._w},set:function(t){this.sl._w=t}},{key:"Rg",get:function(){return this.sl.Rg}},{key:"Ig",get:function(){return this.sl.Ig},set:function(t){this.sl.Ig=t}},{key:"Ol",get:function(){return this.sl.Ol}},{key:"Ag",get:function(){return this.sl.Ag}},{key:"mw",get:function(){return this.sl.mw}},{key:"pw",get:function(){return this.sl.pw}},{key:"bw",get:function(){return this.sl.bw}},{key:"kw",get:function(){return this.sl.kw},set:function(t){this.sl.kw=t}},{key:"Ng",get:function(){return this.sl.Ng}},{key:"Og",get:function(){return!1},set:function(t){}},{key:"fl",get:function(){return this.sl},set:function(t){this.fg(t)}}]),n}(fw),kg=function(t){function n(n,i,e,r,u,s,o,c){var h;return(h=t.call(this,n,i,e)||this).url=void 0,h.status=void 0,h.statusText=void 0,h.response=void 0,h.systemCode=void 0,h.url=r,h.status=u,h.statusText=s,h.response=o,h.systemCode=c,h}return dt(n,t),at(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Pc);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(mg||(mg={}));var Tg=function(t){function n(n,i,e,r){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=e,u.systemCode=r,a.captureStackTrace&&a.captureStackTrace(On(u),u.constructor),u}return dt(n,t),at(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Dn);function Eg(t){Bl(t,"MEDIA_ERR_ABORTED",mg.ABORTED),Bl(t,"MEDIA_ERR_NETWORK",mg.NETWORK),Bl(t,"MEDIA_ERR_DECODE",mg.DECODE),Bl(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",mg.SRC_NOT_SUPPORTED),Bl(t,"MEDIA_ERR_ENCRYPTED",mg.ENCRYPTED)}function Sg(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Tg(mg.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new Tg(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return mg.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return mg.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return mg.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return mg.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return mg.NETWORK;if(i===n.ErrorCategory.SOURCE)return mg.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return mg.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return mg.ENCRYPTED;if(i===n.ErrorCategory.AD)return mg.ADVERTISEMENT_ERROR;return mg.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function Rg(t){switch(t){case mg.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case mg.NETWORK:return n.ErrorCode.NETWORK_ERROR;case mg.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case mg.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case mg.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case mg.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case mg.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}Eg(Tg),Eg(Tg.prototype);var Ig,Ag=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.Qv=function(n){return t.prototype.Qv.call(this,n)},i.Iv=function(){return tw(this)},n}(Cl);!function(t){t.Jf="audio",t.Qf="video",t.si="text",t.Zf="image",t.Uf="unknown"}(Ig||(Ig={}));var Ng=function(){function t(){this.Dg=[],this.Sv=void 0}var n=t.prototype;return n.Cg=function(t){this.Dg.push(t),this.Sv&&this.Sv.push(t.Rv)},n.oc=function(t){hu(this.Dg,t),this.Sv&&hu(this.Sv,t.Rv)},n.Jv=function(t){return this.Dg[t]},n.Pg=function(t){return Ot(t)?du(this.Dg,t):fu(this.Dg,t)},n.nl=function(){vu(this.Dg),this.Sv&&vu(this.Sv)},at(t,[{key:"il",get:function(){return this.Dg}},{key:"ul",get:function(){return this.Dg.length}},{key:"Rv",get:function(){var t,n;return this.Sv||(this.Sv=((n=(t=this).il.map(function(t){return t.Rv})).item=function(n){var i=0|n,e=t.Jv(i);return e&&e.Rv||void 0},n)),this.Sv}}]),t}(),Og=function(t){function n(n){var i;return(i=t.call(this,Sl.Gv)||this).Av=n,i}return dt(n,t),n.prototype.Iv=function(){return new Dg(this.Av.Rv)},n}(Rl),Dg=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return dt(n,t),n}(Il),Cg=0;function Pg(){return Cg++}var xg=0;var Lg=0;var Mg=0;var Bg=function(t){function n(n){var i;return(i=t.call(this)||this)._r=Ig.Jf,i.xg=void 0,i.jo=void 0,i.Lg=void 0,i.Mg=void 0,i.Bg=!1,i.Dg=void 0,i.Sv=void 0,i.xg=n,i.Mg=Pg(),i.jo=Mg+++"",i.Lg=n.label,i.Dg=new Ng,i.Fg(),i}dt(n,t);var i=n.prototype;return i.Ug=function(t){this.ll=t},i.Fg=function(){this.ll=this.Vg},at(n,[{key:"vl",get:function(){}},{key:"ll",get:function(){return this.Bg},set:function(t){this.Bg!==t&&(this.Bg=t,this.Vg=t,this.Jr(new Pl(this)))}},{key:"Vg",get:function(){return this.xg.enabled},set:function(t){this.xg.enabled=t}},{key:"Rv",get:function(){return this.Sv||(this.Sv=Ql(this)),this.Sv}},{key:"wl",get:function(){return this.jo}},{key:"gl",get:function(){return this.Mg}},{key:"yl",get:function(){return this.xg.kind}},{key:"_l",get:function(){return this.Lg},set:function(t){t!==this.Lg&&(this.Lg=t,this.Jr(new Og(this)))}},{key:"ml",get:function(){return this.xg.language}},{key:"El",get:function(){return this.ll?"enabled":"disabled"}},{key:"Hg",get:function(){return this.xg}},{key:"pl",get:function(){return this.Dg}},{key:"bl",get:function(){},set:function(t){}}]),n}(Du),Fg=0;var Ug,Vg,Hg,qg,Wg=function(t){function n(n){var i;return(i=t.call(this)||this)._r=Ig.Qf,i.xg=void 0,i.jo=void 0,i.Mg=void 0,i.Bg=!1,i.Dg=void 0,i.Lg=void 0,i.Sv=void 0,i.xg=n,i.Mg=Pg(),i.jo=Fg+++"",i.Dg=new Ng,i.Lg=n.label,i.Fg(),i}dt(n,t);var i=n.prototype;return i.Fg=function(){this.ll=this.Vg},i.Ug=function(t){this.ll=t},at(n,[{key:"vl",get:function(){}},{key:"ll",get:function(){return this.Bg},set:function(t){this.Bg!==t&&(this.Bg=t,this.Vg=t,this.Jr(new Pl(this)))}},{key:"Vg",get:function(){return!!this.xg.selected},set:function(t){this.xg.selected=t}},{key:"Rv",get:function(){return this.Sv||(this.Sv=Ql(this)),this.Sv}},{key:"wl",get:function(){return this.jo}},{key:"gl",get:function(){return this.Mg}},{key:"yl",get:function(){return"main"}},{key:"_l",get:function(){return this.Lg},set:function(t){t!==this.Lg&&(this.Lg=t,this.Jr(new Og(this)))}},{key:"ml",get:function(){return this.xg.language}},{key:"El",get:function(){return this.ll?"enabled":"disabled"}},{key:"Hg",get:function(){return this.xg}},{key:"pl",get:function(){return this.Dg}},{key:"bl",get:function(){},set:function(t){}}]),n}(Du),zg=function(t){function n(n){var i;return(i=t.call(this,Zc.lh)||this).yg=n,i}return dt(n,t),n}(Pu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Ug||(Ug={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Vg||(Vg={})),function(t){t.qg="cue",t.Wg="region",t.zg="stylesheet"}(Hg||(Hg={})),function(t){t.Gg="$g",t.jg="Yg",t.Gv="cc"}(qg||(qg={}));var Gg=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Xg=i,e}return dt(n,t),n}(Rl),$g=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return dt(n,t),n}(Il);function jg(t){var n,i=[qg.Gg,qg.jg,qg.Gv],e={get track(){return t.Av.Rv},get id(){return t.wl},get uid(){return t.gl},get startTime(){return t.Kg},get endTime(){return t.Jg},get content(){return t.Qg},addEventListener:function(t,i){var e=Yl(t,$l);n.Qr(e,i)},removeEventListener:function(t,i){var e=Yl(t,$l);n.iu(e,i)}};return n=new Cu(e),t.Qr(i,function(t){return n.Jr(t.Rv)}),e}function Yg(){}var Xg=function(t){function n(n){return t.call(this,qg.Gv,n)||this}return dt(n,t),n.prototype.Iv=function(){return new Kg(this.Xg.Rv)},n}(Gg),Kg=function(t){function n(n){return t.call(this,"update",n)||this}return dt(n,t),n}($g),Jg=.02;var Qg=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).Mg=void 0,s.jo=void 0,s.Zg=void 0,s.ty=void 0,s.Sv=void 0,s.ny=void 0,s.iy=!1,s.ey=void 0,s.uy=void 0,s.sy=-1,s.Mg=Lg++,s.Zg=n,s.ty=i,s.ey=e,s.uy=Boolean(r),s.jo=null!=u?u:"",s}dt(n,t);var i=n.prototype;return i.Iv=function(){return jg(this)},i.oy=function(t){return this===t||Hl(this,t)&&(i=t,En((n=this).Kg,i.Kg,Jg)&&En(n.Jg,i.Jg,Jg)&&n.wl===i.wl);var n,i},i.et=function(){this.nu()},at(n,[{key:"Kg",get:function(){return this.Zg},set:function(t){this.Zg!==t&&(this.Zg=t,this.Jr(new Xg(this)))}},{key:"Jg",get:function(){return this.ty},set:function(t){this.ty!==t&&(this.ty=t,this.Jr(new Xg(this)))}},{key:"wl",get:function(){return this.jo}},{key:"gl",get:function(){return this.Mg}},{key:"Rv",get:function(){return this.Sv||(this.Sv=this.Iv()),this.Sv}},{key:"hy",get:function(){return this.iy},set:function(t){this.iy=t}},{key:"Av",get:function(){return this.ny},set:function(t){this.ny=t}},{key:"Qg",get:function(){return this.ey},set:function(t){this.ey!==t&&(this.ey=t,this.Jr(new Xg(this)))}},{key:"ay",get:function(){return this.uy},set:function(t){this.uy=t}}]),n}(Du);var Zg=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,u)||this).vy="auto",s.ly="start",s.wy="auto",s.gy="auto",s.yy=void 0,s._y=!0,s.Eu=100,s.my="center",s.py="",s}return dt(n,t),n.prototype.oy=function(n){return this===n||Hl(this,n)&&t.prototype.oy.call(this,n)&&(e=n,(i=this).Qg===e.Qg&&i.vy===e.vy&&i.ly===e.ly&&i.wy===e.wy&&i.gy===e.gy&&i.yy===e.yy&&i._y===e._y&&i.Eu===e.Eu&&i.my===e.my&&i.py===e.py);var i,e},at(n,[{key:"Rv",get:function(){var t;return this.Sv||(this.Sv=Fl(jg(t=this),{get align(){return t.my},get line(){return t.vy},get lineAlign(){return t.ly},get position(){return t.wy},get positionAlign(){return t.gy},get region(){return t.yy?t.yy.Rv:null},get size(){return t.Eu},get snapToLines(){return t._y},get text(){return t.Qg},get vertical(){return t.py}})),this.Sv}},{key:"_r",get:function(){return Hg.qg}}]),n}(Qg);var ty=function(){function t(t,n,i,e,r,u,s,o){this.Sv=void 0,this.wl=t,this.by=n,this.ky=i,this.Ty=e,this.Ey=r,this.Sy=u,this.Ry=s,this.Iy=o}return at(t,[{key:"Rv",get:function(){var t;return this.Sv||(this.Sv=(t=this,{get id(){return t.wl},get identifier(){return t.wl},get lines(){return t.ky},get regionAnchorX(){return t.Ty},get regionAnchorY(){return t.Ey},get scrollValue(){return t.Iy},get viewportAnchorX(){return t.Sy},get viewportAnchorY(){return t.Ry},get width(){return t.by}})),this.Sv}},{key:"_r",get:function(){return Hg.Wg}}]),t}(),ny=function(){function t(){}var n=t.prototype;return n.Ay=function(t){return this.Ny()*t},n.Oy=function(t){return this.Dy(t)>0},n.Cy=function(t){return this.Dy(t)>=0},n.Py=function(t,n){return this.Ly(t).xy(n)},n.oy=function(t){return 0===this.Dy(t)},n.My=function(t){return this.Dy(t)<0},n.xy=function(t){return this.Dy(t)<=0},n.By=function(){return this.Fy()?this.Uy():this},n.Vy=function(t){return this.Cg(t.Uy())},n.Ly=function(t){return this.Vy(t).By()},t}();function iy(t,n){return t.Hy()?n.Hy()?Zr.Nr:Zr.Or:n.Hy()?Zr.Dr:t.qy()?n.qy()&&t.Fy()===n.Fy()?Zr.Nr:t.Fy()?Zr.Dr:Zr.Or:n.Fy()?Zr.Or:Zr.Dr}var ey=function(){function t(t,n){this.Wy=void 0,this.zy=void 0,this.Wy=t,this.zy=n}t.Gy=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.$y=function(n){return n.unsigned?new t(n,Jt.UZERO):new t(n,n.isNegative()?Jt.NEG_ONE:Jt.ZERO)},t.jy=function(n,i){if(g(n))return i?t.Yy:t.Xy;if(i){if(n<0)return t.Yy;if(n>=3.402823669209385e38)return t.Ky}else{if(n<=-1.7014118346046923e38)return t.Jy;if(n+1>=1.7014118346046923e38)return t.Qy}return n<0?t.jy(-n,i).Uy():t.Gy(Jt.fromNumber(n%0x10000000000000000),Jt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Zy=function(){return this.zy.unsigned},n.t_=function(){return this.Wy.isZero()&&this.zy.isZero()},n.Fy=function(){return this.zy.isNegative()},n.n_=function(){return this.Zy()?t.Gy(this.Wy,this.zy,!1):this},n.i_=function(){return this.Zy()?this:t.Gy(this.Wy,this.zy,!0)},n.e_=function(){return this.Wy},n.Ny=function(){return this.Fy()?-this.Uy().Ny():0x10000000000000000*this.zy.toNumber()+this.Wy.toUnsigned().toNumber()},n.r_=function(){return this.Wy.toInt()},n.oy=function(t){return(this.Zy()===t.Zy()||this.zy.getHighBits()>>>31!=1||t.zy.getHighBits()>>>31!=1)&&(this.zy.toUnsigned().eq(t.zy.toUnsigned())&&this.Wy.toUnsigned().eq(t.Wy.toUnsigned()))},n.Dy=function(t){if(this.oy(t))return Zr.Nr;var n=this.Fy(),i=t.Fy();if(n&&!i)return Zr.Dr;if(!n&&i)return Zr.Or;if(!this.Zy())return this.Vy(t).Fy()?Zr.Dr:Zr.Or;var e=this.i_(),r=t.i_(),u=r.zy.comp(e.zy);return u>0||0===u&&r.Wy.gt(e.Wy)?Zr.Dr:Zr.Or},n.My=function(t){return this.Dy(t)<0},n.xy=function(t){return this.Dy(t)<=0},n.u_=function(t){return this.Dy(t)>0},n.s_=function(t){return this.Dy(t)>=0},n.o_=function(){return new t(this.Wy.not(),this.zy.not())},n.c_=function(n){return new t(this.Wy.and(n.Wy),this.zy.and(n.zy))},n.h_=function(n){return new t(this.Wy.or(n.Wy),this.zy.or(n.zy))},n.a_=function(n){var i=127&n;return 0===i?this:i<64?t.Gy(this.Wy.shl(i),this.zy.shl(i).or(this.Wy.shru(64-i)),this.Zy()):t.Gy(Jt.ZERO,this.Wy.shl(i-64),this.Zy())},n.f_=function(n){var i=127&n;return 0===i?this:i<64?t.Gy(this.Wy.shru(i).or(this.zy.shl(64-i)),this.zy.shr(i),this.Zy()):t.Gy(this.zy.shr(i-64),this.zy.isNegative()?Jt.NEG_ONE:Jt.ZERO,this.Zy())},n.d_=function(n){var i=127&n;return 0===i?this:i<64?t.Gy(this.Wy.shru(i).or(this.zy.shl(64-i)),this.zy.shru(i),this.Zy()):64===i?t.Gy(this.zy,Jt.ZERO,this.Zy()):t.Gy(this.zy.shru(i-64),Jt.ZERO,this.Zy())},n.Cg=function(n){var i=this.zy.high>>>16,e=65535&this.zy.high,r=this.zy.low>>>16,u=65535&this.zy.low,s=this.Wy.high>>>16,o=65535&this.Wy.high,c=this.Wy.low>>>16,h=65535&this.Wy.low,a=n.zy.high>>>16,f=65535&n.zy.high,d=n.zy.low>>>16,v=65535&n.zy.low,l=n.Wy.high>>>16,w=65535&n.Wy.high,g=n.Wy.low>>>16,y=0,_=0,m=0,p=0,b=0,k=0,T=0,E=0;T+=(E+=h+(65535&n.Wy.low))>>>16,E&=65535,k+=(T+=c+g)>>>16,T&=65535,b+=(k+=o+w)>>>16,k&=65535,p+=(b+=s+l)>>>16,b&=65535,m+=(p+=u+v)>>>16,p&=65535,_+=(m+=r+d)>>>16,m&=65535,y+=(_+=e+f)>>>16,_&=65535,y+=i+a,y&=65535;var S=this.Zy(),R=Jt.fromBits(m<<16|p,y<<16|_,S),I=Jt.fromBits(T<<16|E,b<<16|k,S);return t.Gy(I,R,S)},n.Vy=function(t){return this.Cg(t.Uy())},n.Uy=function(){return this.o_().Cg(t.v_)},n.l_=function(n){if(this.t_()||n.t_())return this.Zy()?t.Yy:t.Xy;if(this.Fy())return n.Fy()?this.Uy().l_(n.Uy()):this.Uy().l_(n).Uy();if(n.Fy())return this.l_(n.Uy()).Uy();if(this.zy.isZero()&&0===this.Wy.high&&n.zy.isZero()&&0===n.Wy.high)return t.$y(this.Wy.multiply(n.Wy));var i=Jt.fromBits(4294967295,0,!0),e=this.Wy.and(i),r=this.Wy.shru(32),u=this.zy.and(i),s=this.zy.shru(32),o=n.Wy.and(i),c=n.Wy.shru(32),h=n.zy.and(i),a=n.zy.shru(32),f=Jt.UZERO,d=Jt.UZERO,v=Jt.UZERO,l=Jt.UZERO;f=f.add(e.mul(o)),d=d.add(f.shru(32)),f=f.and(i),d=d.add(r.mul(o)),v=v.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(c)),v=v.add(d.shru(32)),d=d.and(i),v=v.add(u.mul(o)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(c)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(h)),l=l.add(v.shru(32)),v=v.and(i),l=l.add(s.mul(o)).add(u.mul(c)).add(r.mul(h)).add(e.mul(a)).and(i);var w=Jt.fromBits(f.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0),g=Jt.fromBits(v.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Gy(w,g,this.Zy())},n.w_=function(n){var i,e,r=n;if(r.t_())throw new RangeError("division by zero");if(this.t_())return this.Zy()?[t.Yy,t.Yy]:[t.Xy,t.Xy];if(this.Zy()){if(r.Zy()||(r=r.i_()),r.u_(this))return[t.Yy,this];if(r.u_(this.d_(1)))return[e=t.g_,i=this.Vy(r)];e=t.Yy}else{if(this.oy(t.Jy)){if(r.oy(t.v_)||r.oy(t.y_))return[t.Jy,t.Xy];if(r.oy(t.Jy))return[t.v_,t.Xy];var u=this.f_(1).__(r).a_(1);return u.oy(t.Xy)?e=r.Fy()?t.v_:t.y_:(i=this.Vy(r.l_(u)),e=u.Cg(i.__(r))),[e,i=this.Vy(r.l_(e))]}if(r.oy(t.Jy))return this.Zy()?[t.Yy,this]:[t.Xy,this];if(this.Fy()){if(r.Fy())return this.Uy().w_(r.Uy());var s=this.Uy().w_(r);return e=s[0],i=s[1],[e.Uy(),i.Uy()]}if(r.Fy()){var o=this.w_(r.Uy());return e=o[0],i=o[1],[e.Uy(),i.Uy()]}e=t.Xy}for(i=this;i.s_(r);){for(var c=v.max(1,v.floor(i.Ny()/r.Ny())),h=v.ceil(v.log(c)/v.LN2),a=h<=48?1:v.pow(2,h-48),f=t.jy(c),d=f.l_(r);d.Fy()||d.u_(i);)c-=a,d=(f=t.jy(c,this.Zy())).l_(r);f.t_()&&(f=t.v_),e=e.Cg(f),i=i.Vy(d)}return[e,i]},n.__=function(t){return this.w_(t)[0]},n.m_=function(t){return this.w_(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.t_())return"0";if(this.Fy()){if(this.oy(t.Jy)){var e=t.jy(i),r=this.__(e),u=r.l_(e).Vy(this);return r.toString(i)+u.r_().toString(i)}return"-"+this.Uy().toString(i)}for(var s=t.jy(v.pow(i,6),this.Zy()),o=this,c="";;){var h=o.__(s),a=(o.Vy(h.l_(s)).r_()>>>0).toString(i);if((o=h).t_())return a+c;for(;a.length<6;)a="0"+a;c=String(a)+c}},t}();ey.Xy=ey.$y(Jt.ZERO),ey.Yy=ey.$y(Jt.UZERO),ey.v_=ey.$y(Jt.ONE),ey.g_=ey.$y(Jt.UONE),ey.y_=ey.$y(Jt.NEG_ONE),ey.Qy=ey.Gy(Jt.NEG_ONE,Jt.MAX_VALUE,!1),ey.Ky=ey.Gy(Jt.MAX_UNSIGNED_VALUE,Jt.MAX_UNSIGNED_VALUE,!0),ey.Jy=ey.Gy(Jt.ZERO,Jt.MIN_VALUE,!1);var ry=function(){function t(t,n){void 0===n&&(n=1),this.p_=void 0,this.b_=void 0,this.p_=t,this.b_=n}t.k_=function(n){return new t(v.ceil(n.p_),n.b_)},t.T_=function(n){return new t(v.floor(n.p_),n.b_)},t.E_=function(t,n){return t.Cy(n)?t:n},t.S_=function(t,n){return t.xy(n)?t:n};var n=t.prototype;return n.Cg=function(n){return this.b_>=n.b_?new t(this.p_+n.R_(this.b_).p_,this.b_):new t(this.R_(n.b_).p_+n.p_,n.b_)},n.Oy=function(t){return t.My(this)},n.Cy=function(t){return t.xy(this)},n.Ly=function(n){return this.b_>=n.b_?new t(v.abs(this.p_-n.R_(this.b_).p_),this.b_):n.Ly(this)},n.Py=function(t,n){return this.Ly(t).xy(n)},n.Dy=function(t){return i=t,(n=this).b_>=i.b_?su(n.p_,i.R_(n.b_).p_):su(n.R_(i.b_).p_,i.p_);var n,i},n.oy=function(t){return 0===this.Dy(t)},n.My=function(t){return this.Dy(t)<0},n.xy=function(t){return this.Dy(t)<=0},n.R_=function(n){return new t(this.p_*(n/this.b_),n)},n.Vy=function(n){return this.b_>=n.b_?new t(this.p_-n.R_(this.b_).p_,this.b_):new t(this.R_(n.b_).p_-n.p_,n.b_)},n.I_=function(n){return new t(this.p_*n,this.b_)},at(t,[{key:"qy",get:function(){return!isFinite(this.p_)}},{key:"A_",get:function(){return this.p_/this.b_}}]),t}();ry.N_=new ry(1/6,1),ry.Xy=new ry(0),ry.O_=new ry(1/0),ry.D_=1e6;var uy=function(t){function n(n,i){var e;return(e=t.call(this)||this).yi=void 0,e.b_=void 0,e.yi=n.toSigned(),e.b_=i>>>0,e}dt(n,t),n.C_=function(t,i){return void 0===i&&(i=1e6),n.jy(t*i,i)},n.jy=function(t,i){return g(t)?n.P_:t===1/0?n.x_:t===-1/0?n.L_:new n(Jt.fromNumber(t),i)},n.$y=function(t,i){return new n(t,i)},n.M_=function(t){return n.C_(t.A_,1e6)},n.B_=function(t){return new n(Jt.fromNumber(t.getTime()),1e3)},n.E_=function(t,n){return t.Cy(n)?t:n},n.S_=function(t,n){return t.xy(n)?t:n},n.F_=function(t,i,e){return n.E_(i,n.S_(e,t))};var i=n.prototype;return i.Fy=function(){return this.yi.isNegative()},i.t_=function(){return 0!==this.b_&&this.yi.isZero()},i.qy=function(){return 0===this.b_&&!this.yi.isZero()},i.Hy=function(){return 0===this.b_&&this.yi.isZero()},i.Ny=function(){if(0===this.b_)return this.yi.isZero()?NaN:this.yi.isNegative()?-1/0:1/0;var t=this.yi.divide(this.b_),n=this.yi.subtract(t.multiply(this.b_));return t.toNumber()+n.toNumber()/this.b_},i.e_=function(){if(0===this.b_)throw new a("Failed to convert timestamp");return this.yi},i.U_=function(){return new Date(0===this.b_?NaN:this.R_(1e3).yi.toNumber())},i.V_=function(){return new ry(0===this.b_?this.Ny():this.yi.toNumber(),this.b_)},i.R_=function(t,i){void 0===i&&(i=cy.H_);var e=this.b_;if(e===t)return this;if(0===e)return this;var r=Sn(e,t);return new n(function(t,n,i){var e=t.w_(n),r=e[0],u=e[1];if(u.t_())return r;if(i===cy.H_)return u.Fy()?r.Vy(ey.v_):r;if(i===cy.q_)return u.Fy()?r:r.Cg(ey.v_);var s=u.l_(ey.jy(2));return s.Fy()?s.Uy().My(n)?r:r.Vy(ey.v_):s.My(n)?r:r.Cg(ey.v_)}(ey.$y(this.yi).l_(ey.jy(t/r)),ey.jy(e/r),i).e_(),t)},i.Dy=function(t){if(this===t)return Zr.Nr;if(0===this.b_||0===t.b_)return iy(this,t);if(this.t_())return t.t_()?Zr.Nr:t.Fy()?Zr.Or:Zr.Dr;if(t.t_())return this.Fy()?Zr.Dr:Zr.Or;var n=v.min(this.b_,t.b_),i=this.R_(n,cy.W_).yi,e=t.R_(n,cy.W_).yi;return i.compare(e)},i.Uy=function(){return 0===this.b_?sy(this):new n(this.yi.negate(),this.b_)},i.Cg=function(t){if(0===this.b_||0===t.b_)return oy(this,t);if(this.t_())return t;if(t.t_())return this;var i=v.max(this.b_,t.b_),e=this.R_(i,cy.W_),r=t.R_(i,cy.W_);return new n(e.yi.add(r.yi),i)},i.l_=function(t){if(this.Hy()||g(t))return n.P_;if(this.qy()||!isFinite(t)){if(this.t_()||0===t)return n.P_;var i=this.Fy()?n.L_:n.x_;return t<0?i.Uy():i}return this.t_()?this:new n(0===t?Jt.ZERO:this.yi.multiply(t),this.b_)},i.__=function(t){if(this.Hy()||g(t))return n.P_;if(this.qy())return isFinite(t)?0===t?1/t<0?this.Uy():this:t<0?this.Uy():this:n.P_;if(!isFinite(t))return new n(Jt.ZERO,this.b_);if(this.t_())return 0===t?n.P_:new n(Jt.ZERO,this.b_);if(0===t){var i=this.Fy()?n.L_:n.x_;return 1/t<0?i.Uy():i}return new n(this.yi.divide(t),this.b_)},i.z_=function(){return[this.yi.low,this.yi.high,this.b_]},n}(ny);function sy(t){return t.Hy()?t:t.Fy()?uy.x_:uy.L_}function oy(t,n){return t.Hy()||n.Hy()?uy.P_:t.qy()&&n.qy()?t.Fy()===n.Fy()?t:uy.P_:t.qy()?t:n}uy.Xy=new uy(Jt.ZERO,1e6),uy.P_=new uy(Jt.ZERO,0),uy.x_=new uy(Jt.ONE,0),uy.L_=new uy(Jt.NEG_ONE,0);var cy,hy=function(t){function n(n,i){var e;return(e=t.call(this)||this).yi=void 0,e.b_=void 0,e.yi=BigInt.asIntN(64,n),e.b_=i>>>0,e}dt(n,t),n.C_=function(t,i){return void 0===i&&(i=1e6),n.jy(t*i,i)},n.jy=function(t,i){return g(t)?n.P_:t===1/0?n.x_:t===-1/0?n.L_:new n(BigInt(v.floor(t)),i)},n.$y=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.M_=function(t){return n.C_(t.A_,1e6)},n.B_=function(t){return n.jy(t.getTime(),1e3)},n.E_=function(t,n){return t.Cy(n)?t:n},n.S_=function(t,n){return t.xy(n)?t:n},n.F_=function(t,i,e){return n.E_(i,n.S_(e,t))};var i=n.prototype;return i.Fy=function(){return this.yi<BigInt(0)},i.t_=function(){return 0!==this.b_&&this.yi===BigInt(0)},i.qy=function(){return 0===this.b_&&this.yi!==BigInt(0)},i.Hy=function(){return 0===this.b_&&this.yi===BigInt(0)},i.Ny=function(){if(0===this.b_)return this.yi===BigInt(0)?NaN:this.yi<BigInt(0)?-1/0:1/0;var t=this.yi/BigInt(this.b_),n=this.yi-t*BigInt(this.b_);return Number(t)+Number(n)/this.b_},i.e_=function(){if(0===this.b_)throw new a("Failed to convert timestamp");return this.G_()},i.G_=function(){var t=this.yi&BigInt(4294967295),n=this.yi>>BigInt(32)&BigInt(4294967295);return Jt.fromBits(Number(t),Number(n))},i.U_=function(){return new Date(0===this.b_?NaN:Number(this.R_(1e3).yi))},i.V_=function(){return new ry(0===this.b_?this.Ny():Number(this.yi),this.b_)},i.R_=function(t,i){void 0===i&&(i=cy.H_);var e=this.b_;if(e===t)return this;if(0===e)return this;var r=Sn(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===cy.H_)return r<BigInt(0)?e-BigInt(1):e;if(i===cy.q_)return r<BigInt(0)?e:e+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?e:e-BigInt(1):u<n?e:e+BigInt(1)}(this.yi*BigInt(t/r),BigInt(e/r),i),t)},i.Dy=function(t){if(this===t)return Zr.Nr;if(0===this.b_||0===t.b_)return iy(this,t);if(this.t_())return t.t_()?Zr.Nr:t.Fy()?Zr.Or:Zr.Dr;if(t.t_())return this.Fy()?Zr.Dr:Zr.Or;var n=v.min(this.b_,t.b_),i=this.R_(n,cy.W_).yi,e=t.R_(n,cy.W_).yi;return i>e?Zr.Or:i<e?Zr.Dr:Zr.Nr},i.Uy=function(){return 0===this.b_?ay(this):new n(-this.yi,this.b_)},i.Cg=function(t){if(0===this.b_||0===t.b_)return fy(this,t);if(this.t_())return t;if(t.t_())return this;var i=v.max(this.b_,t.b_),e=this.R_(i,cy.W_),r=t.R_(i,cy.W_);return new n(e.yi+r.yi,i)},i.l_=function(t){if(this.Hy()||g(t))return n.P_;if(this.qy()||!isFinite(t)){if(this.t_()||0===t)return n.P_;var i=this.Fy()?n.L_:n.x_;return t<0?i.Uy():i}return this.t_()?this:new n(0===t?BigInt(0):this.yi*BigInt(t),this.b_)},i.__=function(t){if(this.Hy()||g(t))return n.P_;if(this.qy())return isFinite(t)?0===t?1/t<0?this.Uy():this:t<0?this.Uy():this:n.P_;if(!isFinite(t))return new n(BigInt(0),this.b_);if(this.t_())return 0===t?n.P_:new n(BigInt(0),this.b_);if(0===t){var i=this.Fy()?n.L_:n.x_;return 1/t<0?i.Uy():i}return new n(this.yi/BigInt(t),this.b_)},i.z_=function(){var t=this.G_();return[t.low,t.high,this.b_]},at(n,null,[{key:"Xy",get:function(){return n.j_||(n.j_=new n(BigInt(0),1e6)),n.j_}},{key:"P_",get:function(){return n.Y_||(n.Y_=new n(BigInt(0),0)),n.Y_}},{key:"x_",get:function(){return n.X_||(n.X_=new n(BigInt(1),0)),n.X_}},{key:"L_",get:function(){return n.K_||(n.K_=new n(BigInt(-1),0)),n.K_}}]),n}(ny);function ay(t){return t.Hy()?t:t.Fy()?hy.x_:hy.L_}function fy(t,n){return t.Hy()||n.Hy()?hy.P_:t.qy()&&n.qy()?t.Fy()===n.Fy()?t:hy.P_:t.qy()?t:n}hy.j_=void 0,hy.Y_=void 0,hy.X_=void 0,hy.K_=void 0,function(t){t[t.H_=0]="H_",t[t.q_=1]="q_",t[t.W_=2]="W_"}(cy||(cy={}));var dy=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?hy:uy,vy=9e4,ly=v.pow(2,33);dy.jy(ly,vy).__(2);var wy,gy,yy,_y,my={J_:0,Q_:1/0,Z_:0},py=6,by=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],ky=[" ","\t","\n","\f","\r"],Ty=/^\d*$/,Ey=/.*[0-9]+.*/,Sy=/^[\d.-]+$/,Ry=/(^\.|\.$)/,Iy=/(\D\.|\.\D)/;function Ay(t,n){void 0===n&&(n=my);var i={Dl:[],tm:[],nm:[]},e=Ny(t),r=new Hs;if(Uy(e),Oy(e,function(t){return"\n"!==t},r),r.Nu>=e.length)return i;(r.Ru(1),"\n"!==e.charAt(r.Nu))?xy(Dy(e,r,!1,!0,i,n),i):r.Ru(1);for(Oy(e,function(t){return"\n"===t},r);r.Nu<e.length;){xy(Dy(e,r,!1,!1,i,n),i),Oy(e,function(t){return"\n"===t},r)}return i}function Ny(t){var n=Wr(t,"\0"," "),i=Wr(n,"\r\n","\n");return Wr(i,"\r","\n")}function Oy(t,n,i){for(var e=i.Nu;i.Nu<t.length&&n(t.charAt(i.Nu));)i.Ru(1);return t.substring(e,i.Nu)}function Dy(t,n,i,e,r,u){for(var s,o=0,c=n.Nu,h="",a=!1,f=!1,d=null,v=null,l=null;!a;)if(s=Oy(t,function(t){return"\n"!==t},n),o++,n.Nu>=t.length?a=!0:n.Ru(1),zr(s,"--\x3e")){if(e||1!==o&&(2!==o||f)){n.Iu(c);break}f=!0,c=n.Nu,d=new Zg(0,0,"",!1,h);try{Ly(s,r.tm,d,u),h=""}catch(t){st.Ne(t),d=null}}else{if(""===s)break;e&&Gr(s,"X-TIMESTAMP-MAP")&&(r.im=Cy(s)),e||2!==o||i||(jr("STYLE",h.replace(/ /g,""))?(v={_r:Hg.zg},h=""):jr("REGION",h.replace(/ /g,""))&&(l=new ty("",100,3,0,100,0,100,""),h="")),h&&(h+="\n"),h+=s,c=n.Nu}if(d)return d.Qg=h,d;if(v);else if(l)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&zr(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var u=r.indexOf(":"),s=r.substring(0,u),o=r.substring(u+1,r.length);switch(s.toUpperCase()){case"ID":Ky(o,n);break;case"WIDTH":Zy(o,n);break;case"LINES":Qy(o,n);break;case"REGIONANCHOR":var c=Xy(o);c&&(n.Ty=c[0],n.Ey=c[1]);break;case"VIEWPORTANCHOR":var h=Xy(o);h&&(n.Sy=h[0],n.Ry=h[1]);break;case"SCROLL":Jy(o,n)}}}}(h,l),l;return null}function Cy(t){var n,i,e=t.split("=")[1].trim().split(","),r=Py(e[0].trim(),"MPEGTS")?e[0]:e[1],u=Py(e[0].trim(),"LOCAL")?e[0]:e[1];return{rm:(i=Number(r.split(/:(.*)/)[1].trim())||0,dy.jy(i,vy)),um:dy.C_(null!=(n=Fy(u.split(/:(.*)/)[1].trim(),new Hs))?n:0)}}function Py(t,n){return Gr(t,n)}function xy(t,n){t&&function(t){return t._r===Hg.qg}(t)?n.Dl.push(t):t&&function(t){return t._r===Hg.Wg}(t)?n.tm.push(t):t&&function(t){return t._r===Hg.zg}(t)&&n.nm.push(t)}function Ly(t,n,i,e){var r=new Hs;if(Vy(t,r),i.Kg=My(Fy(t,r),e),Vy(t,r),"--\x3e"!==t.substring(r.Nu,r.Nu+3))throw a("Something went wrong with parsing a WebVTT Cue");r.Ru(3),Vy(t,r),i.Jg=My(Fy(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var u=e[r];if(0!==u.length&&zr(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),c=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":Gy(c,n,i);break;case"VERTICAL":jy(c,n);break;case"D":Yy(c,n);break;case"LINE":case"L":Wy(c,n);break;case"POSITION":case"T":zy(c,n);break;case"SIZE":case"S":$y(c,n);break;case"ALIGN":case"A":qy(c,n)}}}}(t.substring(r.Nu,t.length),i,n)}function My(t,n){return t+n.J_}function By(t){return/^[0-9]$/.test(t)}function Fy(t,n){var i,e,r,u=Wr(t,",","."),s=!1;if(n.Nu>=u.length||!By(u.charAt(n.Nu)))throw new a("Something went wrong with parsing a WebVTT Cue timestamp");var o=Oy(u,By,n),c=l(o,10);if((o.length>2||c>59)&&(s=!0),n.Nu>=u.length||":"!==u.charAt(n.Nu))throw new a("Something went wrong with parsing a WebVTT Cue timestamp");n.Ru(1);var h=Oy(u,By,n);if(2!==h.length)throw new a("Something went wrong with parsing a WebVTT Cue timestamp");var f=l(h,10);if(s||n.Nu<u.length&&":"===u.charAt(n.Nu)){if(n.Nu>=u.length||":"!==u.charAt(n.Nu))throw new a("Something went wrong with parsing a WebVTT Cue timestamp");n.Ru(1);var d=Oy(u,By,n);if(2!==h.length)throw new a("Something went wrong with parsing a WebVTT Cue timestamp");i=c,e=f,r=l(d,10)}else i=0,e=c,r=f;if(n.Nu>=u.length||"."!==u.charAt(n.Nu))throw new a("Something went wrong with parsing a WebVTT Cue timestamp");n.Ru(1);var v=Oy(u,By,n),w=l(v,10);if(f>59||r>59)throw new a("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+w/1e3}function Uy(t){if(t.length<py)return!1;for(var n=0;n<by.length;n++){if(Gr(t,by[n]))return!0}return!1}function Vy(t,n){for(;n.Nu<t.length&&(i=t.charAt(n.Nu),fu(ky,i));)n.Ru(1);var i}function Hy(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!g(i)&&i>=0&&i<=100)return i}return null}function qy(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.my=i;break;case"middle":n.my="center"}}function Wy(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),Ey.test(i)){var u,s;if($r(i,"%")){var o=Hy(i);if(null===o)return;u=o,s=!1}else{if(!Sy.test(i)||i.lastIndexOf("-")>0)return;var c=i.indexOf(".");if(c>=0&&(c!==i.lastIndexOf(".")||!Iy.test(i)||Ry.test(i)))return;if(u=w(i),g(u))return;s=!0}switch(n.vy=u,n._y=s,e=e.toLowerCase()){case"start":case"center":case"end":n.ly=e;break;case"middle":n.ly="center"}}}function zy(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var u=Hy(i);if(null!==u)switch(n.wy=u,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.gy=e;break;case"start":n.gy="line-left";break;case"middle":n.gy="center";break;case"end":n.gy="line-right"}}function Gy(t,n,i){var e=cu(i,function(n){return n.wl===t});void 0!==e&&(n.yy=e)}function $y(t,n){var i=Hy(t);null!==i&&(n.Eu=i)}function jy(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.py="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.py="lr";break;default:n.py=""}}function Yy(t,n){"VERTICAL"===t.toUpperCase()?n.py="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.py="lr")}function Xy(t){if(t.indexOf(",")>=0){var n=Hy(t.substring(0,t.indexOf(","))),i=Hy(t.substring(t.indexOf(",")+1,t.length));return[Tn(n||0,0,100),Tn(i||100,0,100)]}return null}function Ky(t,n){n.wl=t}function Jy(t,n){"up"===t.toLowerCase()&&(n.Iy="up")}function Qy(t,n){Ty.test(t)&&(n.ky=l(t))}function Zy(t,n){var i=Hy(t);null!==i&&(n.by=i)}!function(t){t.sm="moov",t.om="mvhd",t.cm="trak",t.hm="tkhd",t.am="mdia",t.fm="mdhd",t.dm="hdlr",t.vm="minf",t.lm="stbl",t.wm="stsd",t.gm="stsc",t.ym="mvex",t._m="trex",t.mm="avc1",t.pm="avcC",t.bm="hev1",t.km="hvc1",t.Tm="hvcC",t.Em="pasp",t.Sm="mp4a",t.Rm="esds",t.Im="wvtt",t.Am="vttC",t.Nm="vlab",t.Om="enca",t.Dm="encv",t.Cm="moof",t.Pm="mfhd",t.xm="traf",t.Lm="tfhd",t.Mm="trun",t.Bm="tfdt",t.Fm="senc",t.Um="mdat",t.Vm="pssh",t.Hm="emsg",t.qm="sidx",t.Wm="styp",t.zm="ftyp",t.Gm="sinf",t.$m="frma"}(wy||(wy={})),function(t){t.Qf="vide",t.Jf="soun",t.jm="subt",t.Ym="hint",t.Xm="meta",t.Km="auxv"}(gy||(gy={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(yy||(yy={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(_y||(_y={}));var t_=function(){function t(t,n){this.Li=void 0,this.Jm=void 0,this.Li=t,this.Jm=n}var n=t.prototype;return n.Qm=function(){return fs(this.Li,this.Jm)},n.Zm=function(){return ws(this.Li,this.Jm)},n.tp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Nu,i);return n.Ru(2),e}(this.Li,this.Jm)},n.np=function(){return ys(this.Li,this.Jm)},n.ip=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Nu,i);return n.Ru(4),e}(this.Li,this.Jm)},n.ep=function(){return ms(this.Li,this.Jm)},n.rp=function(t){return vs(this.Li,this.Jm,t)},n.sp=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ys(t,n));return e}(this.Li,this.Jm,t)},n.op=function(t){return bs(this.Li,this.Jm,t)},n.cp=function(){return Os(this.Li,this.Jm)},n.hp=function(t){this.Jm.Ru(t)},n.Au=function(){return new t(this.Li,this.Jm.Au())},t}(),n_=function(t){function n(n,i){var e;return(e=t.call(this)||this).ap=n,e.fp=i,e}return dt(n,t),at(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Cn),i_=function(){function t(){}return t.dp=function(n){var i=n.Li,e=n.Jm,r=t.vp(i,e,!1);if(!r.lp)throw new n_(e.Nu,r.Ri);return r.Ri},t.vp=function(n,i,e){for(var r=[];i.Nu<n.byteLength;){var u=t.wp(n,i,e);if(!u.lp)return{lp:!1,Ri:r};r.push(u.gp)}return{lp:!0,Ri:r}},t.yp=function(n,i){var e=t.wp(n,i,!1);if(!e.lp)throw new n_(i.Nu);return e.gp},t._p=function(n,i){for(var e=n.Li,r=n.Jm;r.Nu<e.byteLength;){var u=t.wp(e,r,!1);if(!u.lp)return;if(u.gp._r===i)return u.gp}},t.wp=function(n,i,e){var r=i.Nu,u=t.mp(n,i);if(!u.lp)return u;var s=u.pp,o=s.Eu;if(0===o){if(e)return i.Iu(r),{lp:!1,bp:1/0};o=n.byteLength-r}var c=r+o;if(c>n.byteLength){var h=c;return i.Iu(r),{lp:!1,bp:h}}var a,f,d,v={_r:s._r,Nu:r,Li:new t_((a=n,f=r,d=c,void 0===f&&(f=0),void 0===d&&(d=a.byteLength),new DataView(a.buffer,a.byteOffset+f,d-f)),new Hs(s.kp))};return i.Iu(c),{lp:!0,gp:v}},t.mp=function(t,n){var i=n.Nu;if(!ls(t,n,8))return{lp:!1,bp:n.Nu+8};var e=ys(t,n),r=bs(t,n,4);if(1===e){if(!ls(t,n,8)){var u=n.Nu+8;return n.Iu(i),{lp:!1,bp:u}}e=ms(t,n).toNumber()}if("uuid"===r){if(!ls(t,n,16)){var s=n.Nu+16;return n.Iu(i),{lp:!1,bp:s}}r=bs(t,n,16)}return{lp:!0,pp:{_r:r,Eu:e,kp:n.Nu-i}}},t.Tp=function(t,n,i){var e=t.Li,r=t.Jm,u=Ps(Ls(e),r.Nu,e.byteLength);return i&&(u=Us(u)),r.Ru(u.byteLength),{_r:n,Li:u}},t.Ep=function(n,i,e){var r=s_(n.np());return{_r:i,Sp:r.version,Rp:r.flags,Li:t.Tp(n,i,e).Li}},t}();function e_(t,n){var i=r_(t,n);if(!i)throw new a("Missing "+n+" atom");return i}function r_(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e._r===n)return e.Li}}function u_(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r._r===n&&i.push(r.Li)}return i}function s_(t){return{version:t>>24,flags:new as(16777215&t)}}var o_=function(){function t(){}return t.Ip=function(n){for(var i=[],e=i_.dp(new t_(n,new Hs)),r=0;r<e.length;r++){var u=e[r],s=t.Ap(u);s&&i.push(s)}return i},t.Np=function(t){return i_.vp(t,new Hs,!1).Ri.some(this.Op)},t.Dp=function(n){return u_(i_.dp(new t_(n,new Hs)),wy.Vm).map(t.Cp)},t.Pp=function(n){return u_(i_.dp(n.Li),wy.Vm).map(t.Cp)},t.Op=function(t){return t._r===wy.zm||t._r===wy.Wm||t._r===wy.sm||t._r===wy.Cm||t._r===wy.Um||t._r===wy.qm||t._r===wy.Hm},t.Ap=function(n){switch(n._r){case wy.sm:return t.xp(n.Li);case wy.Cm:return t.Lp(n.Li,n.Nu);case wy.Um:return t.Mp(n.Li);case wy.qm:return t.Bp(n.Li);case wy.Hm:return t.Fp(n.Li)}},t.xp=function(n){var i=i_.dp(n),e=e_(i,wy.om),r=u_(i,wy.cm),u=r_(i,wy.ym),s=t.Up(e),o=r.map(t.Vp),c=u?t.Hp(u):void 0;return{_r:wy.sm,pp:s,qp:o,Wp:c}},t.Up=function(t){var n=s_(t.np()),i=n.version,e=n.flags,r=1===i?t.ep():t.np(),u=1===i?t.ep():t.np(),s=t.np(),o=1===i?t.ep():t.np(),c=t.np(),h=t.Zm()>>8;t.hp(2),t.hp(8);var a=t.sp(9);t.hp(24);var f=t.np();return{_r:wy.om,Sp:i,Rp:e,zp:r,Gp:u,b_:s,vw:o,$p:c,kw:h,jp:a,Yp:f}},t.Vp=function(n){var i=i_.dp(n),e=e_(i,wy.hm),r=e_(i,wy.am),u=t.Xp(e),s=t.Kp(r);return{_r:wy.cm,pp:u,Jp:s}},t.Xp=function(t){var n=s_(t.np()),i=n.version,e=n.flags,r=1===i?t.ep():t.np(),u=1===i?t.ep():t.np(),s=t.np();t.hp(4);var o=1===i?t.ep():t.np();t.hp(8);var c=t.tp(),h=t.tp(),a=t.tp()/v.pow(2,8);t.hp(2);var f=t.sp(9),d=t.np()/v.pow(2,16),l=t.np()/v.pow(2,16);return{_r:wy.hm,Qp:e.Du(1),Zp:e.Du(2),tb:e.Du(4),zp:r,Gp:u,nb:s,vw:o,ib:c,eb:h,kw:a,jp:f,by:d,ub:l}},t.Kp=function(n){var i=i_.dp(n),e=e_(i,wy.fm),r=e_(i,wy.dm),u=e_(i,wy.vm),s=t.sb(e),o=t.ob(r),c=t.cb(u);return{_r:wy.am,pp:s,hb:o,ab:c}},t.sb=function(t){var n=s_(t.np()),i=n.version,e=n.flags,r=1===i?t.ep():t.np(),u=1===i?t.ep():t.np(),s=t.np(),o=1===i?t.ep():t.np();return t.Zm(),t.hp(2),{_r:wy.fm,Sp:i,Rp:e,zp:r,Gp:u,b_:s,vw:o}},t.ob=function(t){var n=s_(t.np()),i=n.version,e=n.flags;t.hp(4);var r=t.op(4);t.hp(12);var u=t.cp();return{_r:wy.dm,Sp:i,Rp:e,fb:r,li:u}},t.cb=function(n){var i=e_(i_.dp(n),wy.lm),e=t.vb(i);return{_r:wy.vm,lb:e}},t.vb=function(n){var i=e_(i_.dp(n),wy.wm),e=t.wb(i);return{_r:wy.lm,gb:e}},t.wb=function(n){var i=s_(n.np()),e=i.version,r=i.flags;n.np();for(var u=[],s=i_.dp(n),o=0;o<s.length;o++){var c=s[o],h=t.yb(c.Li,c._r);h&&u.push(h)}return{_r:wy.wm,Sp:e,Rp:r,_b:u}},t.yb=function(n,i){var e=t.mb(n,i);return e||((e=t.pb(n,i))||(i===wy.Im?t.bb(n):void 0))},t.mb=function(n,i){return i===wy.Sm?t.kb(n):i===wy.Om?t.Tb(n):void 0},t.pb=function(n,i){return i===wy.mm?t.Eb(n):i===wy.bm||i===wy.km?t.Sb(n,i):i===wy.Dm?t.Rb(n):void 0},t.Ib=function(t,n){return t.hp(6),{_r:n,Ab:t.Zm()}},t.Nb=function(n,i){var e=t.Ib(n,i);n.hp(8);var r=n.Zm(),u=n.Zm();return n.hp(2),n.hp(2),gr({},e,{Ob:r,Db:u,Cb:n.np()>>>16})},t.Pb=function(n,i){var e=t.Ib(n,i);n.hp(2),n.hp(2),n.hp(12);var r=n.Zm(),u=n.Zm(),s=n.np(),o=n.np();n.hp(4);var c=n.Zm();n.hp(32);var h=n.Zm();return n.hp(2),gr({},e,{by:r,ub:u,xb:s,Lb:o,Mb:c,Bb:h})},t.kb=function(n){var i=t.Nb(n,wy.Sm),e=e_(i_.dp(n),wy.Rm);return gr({},i,{Fb:t.Ub(e)})},t.bb=function(n){var i=t.Ib(n,wy.Im),e=i_.dp(n),r=e_(e,wy.Am),u=t.Vb(r),s=r_(e,wy.Nm);return gr({},i,{Hb:u,qb:s?t.Wb(s):s})},t.Vb=function(t){return{_r:wy.Am,gc:t.cp()}},t.Wb=function(t){return{_r:wy.Nm,_l:t.cp()}},t.Ub=function(t){return i_.Ep(t,wy.Rm,!0)},t.Eb=function(n){var i=t.Pb(n,wy.mm),e=i_.dp(n),r=e_(e,wy.pm),u=r_(e,wy.Em);return gr({},i,{zb:t.Gb(r),$b:u?t.jb(u):void 0})},t.Sb=function(n,i){var e=t.Pb(n,i),r=e_(i_.dp(n),wy.Tm);return gr({},e,{Yb:t.Xb(r)})},t.Rb=function(n){var i=n.Au(),e=t.Pb(n,wy.Dm),r=e_(i_.dp(n),wy.Gm),u=t.Kb(r);return gr({},e,{Jb:t.pb(i,u.Zb.Qb),tk:u})},t.Tb=function(n){var i=n.Au(),e=t.Nb(n,wy.Om),r=e_(i_.dp(n),wy.Gm),u=t.Kb(r);return gr({},e,{Jb:t.mb(i,u.Zb.Qb),tk:u})},t.Kb=function(n){var i=e_(i_.dp(n),wy.$m),e=t.nk(i);return{_r:wy.Gm,Zb:e}},t.nk=function(t){var n=t.op(4);return{_r:wy.$m,Qb:n}},t.Gb=function(t){return i_.Tp(t,wy.pm,!0)},t.Xb=function(t){return i_.Tp(t,wy.Tm,!0)},t.jb=function(t){var n=t.np(),i=t.np();return{_r:wy.Em,ik:n,ek:i}},t.Hp=function(n){var i=u_(i_.dp(n),wy._m).map(t.rk);return{_r:wy.ym,qp:i}},t.rk=function(t){var n=s_(t.np()),i=n.version,e=n.flags,r=t.np(),u=t.np(),s=t.np(),o=t.np(),c=t.np();return{_r:wy._m,Sp:i,Rp:e,nb:r,uk:u,sk:s,ck:o,hk:c}},t.Lp=function(n,i){var e=i_.dp(n),r=e_(e,wy.Pm),u=u_(e,wy.xm),s=t.ak(r),o=u.map(t.fk);return{_r:wy.Cm,dk:i,pp:s,qp:o}},t.ak=function(t){var n=s_(t.np()),i=n.version,e=n.flags,r=t.np();return{_r:wy.Pm,Sp:i,Rp:e,vk:r}},t.fk=function(n){var i=i_.dp(n),e=e_(i,wy.Lm),r=u_(i,wy.Mm),u=r_(i,wy.Bm),s=t.lk(e),o=r.map(function(n){return t.wk(n,s)}),c=u?t.gk(u):void 0;return{_r:wy.xm,pp:s,yk:o,_k:c}},t.lk=function(t){var n=s_(t.np()),i=n.version,e=n.flags,r=t.np(),u=e.Du(yy.BASE_DATA_OFFSET_PRESENT)?t.ep():void 0,s=e.Du(yy.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.np():void 0,o=e.Du(yy.DEFAULT_SAMPLE_DURATION_PRESENT)?t.np():void 0,c=e.Du(yy.DEFAULT_SAMPLE_SIZE_PRESENT)?t.np():void 0,h=e.Du(yy.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.np():void 0;return{_r:wy.Lm,Sp:i,Rp:e,nb:r,mk:u,pk:s,sk:o,ck:c,hk:h}},t.wk=function(n,i){for(var e=s_(n.np()),r=e.version,u=e.flags,s=n.np(),o=u.Du(_y.DATA_OFFSET_PRESENT)?n.ip():void 0,c=u.Du(_y.FIRST_SAMPLE_FLAGS_PRESENT)?n.np():void 0,h=[],a=0;a<s;a++){var f=t.bk(n,u,r,i);0===a&&void 0!==c&&(f.Rp=c),h.push(f)}return{_r:wy.Mm,Sp:r,Rp:u,kk:s,dk:o,Tk:c,Ek:h}},t.bk=function(t,n,i,e){return{vw:n.Du(_y.SAMPLE_DURATION_PRESENT)?t.np():e.sk,Eu:n.Du(_y.SAMPLE_SIZE_PRESENT)?t.np():e.ck,Rp:n.Du(_y.SAMPLE_FLAGS_PRESENT)?t.np():e.hk,Sk:n.Du(_y.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.np():t.ip():void 0}},t.Fp=function(t){var n=t.Li,i=t.Jm,e=s_(ys(n,i)),r=e.version,u=e.flags;if(1===r){var s=ys(n,i),o=ms(n,i),c=ys(n,i),h=ys(n,i),a=ps(n,i),f=ps(n,i),d=Fs(Ls(n),i.Nu,n.byteLength);return i.Ru(d.byteLength),{_r:wy.Hm,Sp:r,Rp:u,Rk:a,yi:f,b_:s,Ik:o,Ak:c,wl:h,Nk:d}}var v=ps(n,i),l=ps(n,i),w=ys(n,i),g=ys(n,i),y=ys(n,i),_=ys(n,i),m=Fs(Ls(n),i.Nu,n.byteLength);return i.Ru(m.byteLength),{_r:wy.Hm,Rp:u,Sp:r,Rk:v,yi:l,b_:w,Ok:g,Ak:y,wl:_,Nk:m}},t.Mp=function(t){return i_.Tp(t,wy.Um,!1)},t.Cp=function(n){var i=n.Li,e=n.Jm,r=Us(Ls(i)).buffer,u=s_(ys(i,e)),s=u.version,o=u.flags,c=t.Dk(i,e),h=[];if(s>0)for(var a=ys(i,e),f=0;f<a;f++){var d=vs(i,e,16);h.push(d)}var v=ys(i,e),l=new y(r,e.Nu,v);return e.Ru(i.byteLength),{_r:wy.Vm,Sp:s,Rp:o,Ck:c,Pk:h,xk:v,Li:l,Lk:r}},t.Dk=function(t,n){for(var i="",e=0;e<4;e++){var r=fs(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var u=0;u<2;u++){var s=fs(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var c=fs(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var h=0;h<2;h++){var a=fs(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var f=0;f<6;f++){var d=fs(t,n).toString(16);i+=1===d.length?"0"+d:d}return i.toLowerCase()},t.Bp=function(t){var n,i,e=t.Li,r=t.Jm,u=s_(ys(e,r)),s=u.version,o=u.flags,c=ys(e,r),h=ys(e,r);0===s?(n=Jt.fromBits(ys(e,r),0,!0),i=Jt.fromBits(ys(e,r),0,!0)):(n=ms(e,r),i=ms(e,r)),r.Ru(2);for(var a=ws(e,r),f=[],d=0;d<a;d+=1){var v=ys(e,r),l=v>>31&1,w=2147483647&v,g=ys(e,r),y=ys(e,r),_=y>>31&1,m=y>>28&7,p=268435455&y;f.push({Mk:l,Bk:w,vw:g,Fk:_,Uk:m,Vk:p})}return{_r:wy.qm,Sp:s,Rp:o,Hk:c,b_:h,qk:n,Wk:i,zk:a,Gk:f}},t.gk=function(t){var n,i=t.Li,e=t.Jm,r=s_(ys(i,e)),u=r.version,s=r.flags;return n=0===u?Jt.fromBits(ys(i,e),0,!0):ms(i,e),{_r:wy.Bm,Sp:u,Rp:s,_k:n}},t}();function c_(t){return t&&"Si"in t?t.Si:t}var h_=function(t){function n(n,i,e,r,u,s,o){var c;return(c=t.call(this,n,i,e,r)||this).$k=void 0,c.jk=void 0,c.Yk=void 0,c.$k=u,c.jk=s,c.Yk=o||void 0,c}return dt(n,t),n.prototype.oy=function(n){return this===n||!!Hl(this,n)&&(!!t.prototype.oy.call(this,n)&&(!!Vl(this.Xk,n.Xk)&&(!!Vl(this.tm,n.tm)&&(this.Kk&&n.Kk?!!this.Kk.fi(n.Kk)&&(this.Qg&&n.Qg?this.Qg.fi(n.Qg):this.Qg===n.Qg):this.Kk===n.Kk))))},at(n,[{key:"Xk",get:function(){return this.$k}},{key:"tm",get:function(){return this.jk}},{key:"Kk",get:function(){return this.Yk}},{key:"Rv",get:function(){var t;return this.Sv||(this.Sv=Fl(jg(t=this),{get styles(){return t.Xk},get regions(){return t.tm},get metadata(){return c_(t.Kk)},get content(){return c_(t.Qg)}})),this.Sv}}]),n}(Qg),a_=function(){function t(t,n,i){this.Ka=void 0,this.Jk=void 0,this.Qk=void 0,this.Jk=t,this.Qk=n,Nn(i)?this.Ka=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var u=r[e];i.Ni(u)}return i}(0,0,i):this.Ka=i}return at(t,[{key:"Zk",get:function(){return this.Ka.di(!0)}},{key:"Kg",get:function(){return this.Jk}},{key:"Jg",get:function(){return this.Qk}}]),t}();var f_="http://www.w3.org/XML/1998/namespace";function d_(t,n){return function(t,n){var i=t.Ri.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Ri)}return e}(t,function(t){return t.ki===n})}function v_(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function l_(t,n){for(var i=t.Pi,e={},r=0;r<i.length;r++)e[v_(i[r].li,n)]=i[r].yi;return e}var w_=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,g_=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,y_="http://www.w3.org/ns/ttml";function __(t,n,i){return void 0===i&&(i=my),function(t,n,i){var e,r=[];try{e=st.hi(t)}catch(t){return r}var u=e.Mi;if("tt"!==u.vi)return r;var s=u&&u.Ti(y_,"head")[0],o=u&&u.Ti(y_,"body")[0],c=["ebutts","tts","xml"];if(!o||!s)return r;for(var h=function(t,n){for(var i={},e=t.Ti(y_,"styling")[0],r=e&&e.Ti(y_,"style")||[],u=0;u<r.length;u++){var s=r[u],o=s.Ai(f_,"id");i[o]=l_(s,n)}return i}(s,c),a=function(t,n){var i=Ul(t),e=k_(n.Ii("tts:extent"));if(!e)return i;for(var r=0,u=d.keys(i);r<u.length;r++){var s=u[r],o=k_(i[s].extent);if(o){var c=p_(o[0],e[0]),h=p_(o[1],e[1]);i[s].extent=c+" "+h}var a=k_(i[s].origin);if(a){var f=p_(a[0],e[0]),v=p_(a[1],e[1]);i[s].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Ti(y_,"layout")[0],r=e&&e.Ti(y_,"region")||[],u=0;u<r.length;u++){var s=r[u],o=s.Ai(f_,"id");if(o){i[o]=l_(s,n);var c=S_(s,n);for(var h in c)Rt.call(c,h)&&(i[o][h]=c[h])}}return i}(s,c),u),f=s.Ti(y_,"metadata")[0],v=function t(n,i,e,r){var u=i;var s;var o=e;var c=[];var h=[];if(Nn(n)){var a,f;u=null!=(a=E_(n.Ii("begin"),r))?a:u,s=E_(n.Ii("dur"),0),o=null!=(f=E_(n.Ii("end"),r))?f:void 0!==s?u+s:o;for(var d=n.bi,v=0;v<d.length;v++)("body"===n.vi||"div"===n.vi)&&d[v].ei>1||(c=c.concat(t(d[v],u,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var u=i[r];e.push(u.Kg,u.Jg)}e.sort(ru);for(var s=e.length,o=0;o<s-1;o++)e[o+1]===e[o]&&(au(e,o+1),o--,s=e.length);return e}(u,o,c);for(var w=0;w<l.length-1;w++){var g=T_(l[w],l[w+1],c);if(g.length<=0&&R_(n)){var y=n.di(!1);h.push(new a_(l[w],l[w+1],y))}else g.length>0&&function(){var t=n.di(!1);g.forEach(function(n){return t.Ei(n.Zk)}),h.push(new a_(l[w],l[w+1],t))}()}return h}(o,i.J_,i.Q_,i.Z_),l=0;l<v.length;l++){var w=v[l],g=m_(a,w);r.push(new h_(w.Kg,w.Jg,w.Zk,!1,h,g,f))}return r}(t,0,i)}function m_(t,n){for(var i=function t(n){var i=[];var e;if(Nn(n)){(e=n.Ii("region"))&&i.push(e);for(var r=n.bi,u=0;u<r.length;u++)i=i.concat(t(r[u]))}return i}(n.Zk),e={},r=0;r<i.length;r++){var u=i[r];e[u]=t[u]}return e}function p_(t,n){var i=b_(t),e=b_(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-e.length));return g(r)||g(u)?t:r/u*100+"%"}return t}function b_(t){return $r(t,"px")?"px":$r(t,"em")?"em":$r(t,"c")?"c":$r(t,"%")?"%":void 0}function k_(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function T_(t,n,i){for(var e=[],r=0;r<i.length;r++){var u=i[r].Kg,s=i[r].Jg;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&e.push(i[r])}return e}function E_(t,n){if(t){if(w_.test(t)){var i=w_.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*e+60*r+u+(s?Number(s)*v.pow(.1,s.length):0)+n}if(g_.test(t)){var o=g_.exec(t);if(!o)return;var c,h=Number(o[1]);switch(o[4]){case"h":c=3600*h;break;case"m":c=60*h;break;case"s":c=h;break;case"ms":c=.001*h;break;case"f":case"t":default:c=NaN}return c+n}}}function S_(t,n){for(var i={},e=t.pi("style")||[],r=0;r<e.length;r++){var u=l_(e[r],n);for(var s in u)Rt.call(u,s)&&(i[s]=u[s])}return i}function R_(t){if(Nn(t)){var n=t.vi.toUpperCase(),i=Boolean(t.Ii("smpte:backgroundImage"));return"BR"===n||i}return t.ei===An.si}function I_(t){var n=function(t){try{return st.hi(t).Mi}catch(t){}}(t);return"tt"===(null==n?void 0:n.vi)}var A_,N_=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.Qv=function(n){return t.prototype.Qv.call(this,n)},i.Zv=function(n){var i=t.prototype.Zv.call(this,n);return i&&(n.El=nw.Il),i},i.Iv=function(){return ow(this)},n}(Cl);!function(t){t.jm="subtitles",t.tT="captions",t.nT="descriptions",t.iT="chapters",t.Xm="metadata",t.eT="thumbnails"}(A_||(A_={}));var O_=[A_.jm,A_.tT,A_.nT,A_.iT,A_.Xm,A_.eT];function D_(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&fu(O_,t)}(n)?n:n?A_.Xm:A_.jm}var C_,P_=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,u)||this).url=void 0,s.status=void 0,s.url=e,s.status=r,s}return dt(n,t),n}(Pc);function x_(t,n){return t===A_.eT||t===A_.Xm&&n===A_.eT}function L_(t,n,i,e){for(var r=0,u=t.Dl.il;r<u.length;r++){var s=u[r];if(s.Kg>i)break;n<=s.Jg&&e.push(s)}}function M_(t,n){return eu(t.gl,n.gl)}function B_(t,i){var e=i,r=0;if(t instanceof Wd&&t.name===Ud.yd)e=t.Lf.Bf;else if(function(t){return t instanceof Gd}(t)){var u=t.kd;if(e=u.Mf,0===(r=u.Of))return new P_(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new P_(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function F_(t,i,e,r){var u=function(t){switch(t){case Vg.WEBVTT:return"WebVTT";case Vg.SRT:return"SRT";case Vg.TTML:return"TTML";default:return""}}(t);return new P_(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(u?u+" ":"")+"subtitle file.",i,e,r)}function U_(t){return Uy(Ny(t))?Vg.WEBVTT:I_(t)?Vg.TTML:Vg.SRT}function V_(t,n){for(var i=[],e=0,r=t.Dl.il;e<r.length;e++){var u=r[e];if(u.Jg<=n)i.push(u);else if(u.Kg>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.rT(o)}}!function(t){t.uT="vtt",t.Im="wvtt",t.sT="stpp"}(C_||(C_={}));var H_=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).qp=new N_,n.oT=function(t){var i=t.Av;n.cT(i)},n}dt(n,t);var i=n.prototype;return i.Qv=function(t){t.Qr(Sl.Uv,this.oT),this.qp.Qv(t),this.cT(t)},i.Zv=function(t){t.iu(Sl.Uv,this.oT),t.El=nw.Il,this.qp.Zv(t)},i.hT=function(t){},i.aT=function(t){},i.cT=function(t){t.El!==nw.Il?this.hT(t):this.aT(t)},i.fT=function(){for(var t=0,n=this.qp.il;t<n.length;t++){var i=n[t];i.iu(Sl.Uv,this.oT),i.et()}},i.dT=function(t){if(t>0)for(var n=0,i=this.qp.il;n<i.length;n++){V_(i[n],t)}},i.nl=function(){return this.fT(),this.qp.nl(),G.resolve()},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nu(),t.next=3,wr.awrap(this.nl());case 3:this.qp.et();case 4:case"end":return t.stop()}},null,this,null,G)},n}(Du),q_=function(t){function n(n){var i;return(i=t.call(this,iw.kl)||this).errorObject=n,i}return dt(n,t),n.prototype.Iv=function(){return this},at(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Tl),W_=function(t){function n(n,i){var e;return(e=t.call(this)||this).vT=void 0,e.lT=void 0,e.wT=new wu,e.vT=n,e.lT=i,e}dt(n,t);var i=n.prototype;return i.gT=function(t){if(t.src){var n=t.kind||A_.jm,i=this.vT.yT(n,t.id,t.label,t.srclang,t.default);return i.Pl=Fd(t.src),this.Qv(i),i}},i._T=function(t,n){var i,e,r,u,s,o,c,h,a,f;return wr.async(function(d){for(;;)switch(d.prev=d.next){case 0:return t.Ol=Ug.LOADING,i=new xd({Bf:t.Pl,Cf:th.si,td:Nd.GET,$r:n}),d.prev=2,d.next=5,wr.awrap(this.lT.Lf(i));case 5:return u=d.sent,r=u.Of,d.next=9,wr.awrap(u.lf());case 9:e=d.sent,d.next=18;break;case 12:return d.prev=12,d.t0=d.catch(2),mu(d.t0),t.Ol=Ug.ERROR,t.Jr(new q_(B_(d.t0,t.Pl))),d.abrupt("return");case 18:for(d.prev=18,s=U_(e),t._r=s,o=[],s===Vg.WEBVTT||s===Vg.SRT?(c=Ay(e),o=c.Dl):s===Vg.TTML&&(o=__(e)),h=0,a=o;h<a.length;h++)f=a[h],t.mT(f);d.next=32;break;case 26:return d.prev=26,d.t1=d.catch(18),mu(d.t1),t.Ol=Ug.ERROR,t.Jr(new q_(F_(t._r,t.Pl,r,d.t1))),d.abrupt("return");case 32:t.Ol=Ug.LOADED;case 33:case"end":return d.stop()}},null,this,[[2,12],[18,26]],G)},i.hT=function(t){fu(this.qp.il,t)&&t.Ol===Ug.NONE&&this._T(t,this.wT.$r).catch(pu)},i.sc=function(){},i.nl=function(){var n,i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.wT.Wr(),this.wT=new wu,n=0,i=this.qp.il;n<i.length;n++)e=i[n],this.vT.pT(e);return r.next=5,wr.awrap(t.prototype.nl.call(this));case 5:case"end":return r.stop()}},null,this,null,G)},n}(H_);function z_(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.yl===n&&e.bT)return e}}function G_(t,n){$_(z_(t.il,n))}function $_(t){void 0!==t&&(t.El=nw.Sl)}function j_(t,n){$_(z_(t.il,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.yl===n)return e}}(t.il,n))}function Y_(t){for(var n=0;n<O_.length;n++){var i=O_[n];i===A_.iT?j_(t,i):G_(t,i)}}var X_,K_=function(t){function n(){return t.call(this,Zc.Bh)||this}return dt(n,t),n}(Pu);!function(t){t[t.kT=0]="kT",t[t.TT=1]="TT"}(X_||(X_={}));var J_=t,Q_=J_.MediaSource,Z_=J_.WebKitMediaSource,tm=J_.TextTrack,nm=e&&e.createElement("video");e&&e.documentElement.style;var im=St.dn&&St.Wn&&St.zn<=26;St.Rn;var em=!(!Q_&&!Z_),rm=!!tm;e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||St.kn,St.Un&&St.Vn,nm&&nm.canPlayType&&(""!==nm.canPlayType("application/vnd.apple.mpegURL")||St.wn&&!St.Un&&St.gn);nm&&nm.canPlayType&&nm.canPlayType("video/mp4");var um=em&&!St.Hn&&!St.Mn&&!St.Ln&&((Q_||Z_).isTypeSupported?(Q_||Z_).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):nm&&nm.canPlayType&&""!==nm.canPlayType('audio/mp4; codecs="mp4a.40.34"'));em&&!St.Hn&&(um||((Q_||Z_).isTypeSupported?(Q_||Z_).isTypeSupported("audio/mpeg"):nm&&nm.canPlayType&&nm.canPlayType("audio/mpeg"))),em&&(!St.Fn||!St.dn)&&(Q_||Z_).isTypeSupported&&(Q_||Z_).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),St.Hn||St.Mn||St.Ln,St.Bn,St.Hn,St.Mn&&St.vn&&St.ln;try{i&&i.top!==i.self}catch(t){!0}var sm=function(t){function n(n){var i;return(i=t.call(this,Lw.aw)||this).currentTime=n,i}return dt(n,t),n}(Pu),om=function(t){function n(n){var i;return(i=t.call(this,Lw.fw)||this).currentTime=n,i}return dt(n,t),n}(Pu);Lw.Hv,Lw.fw,Zc.Ph,Zc.Ch;var cm=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).ET=pw.nw,e.ST=!0,e.RT=!1,e.IT=!1,e.AT=function(t){var n=e.NT.Ol;n!==e.ET&&e.Jr(new Qw(t.currentTime,n)),n===pw.nw&&(e.RT=!1,e.IT=!1),e.OT(n),e.DT(n),e.CT(n),e.maybeDispatchCanPlayThroughEvent(n),e.PT(n),e.xT(n),e.ET=n},e.LT=function(){e.xT(e.ET),e.PT(e.ET),e.ST=e.NT.yw},e.MT=function(){e.ST=e.NT.yw},e.BT=function(t){e.Jr(new om(t.currentTime))},e.NT=n,e.FT=i,e.NT.Qr(Lw.Hv,e.AT),e.NT.Qr(Zc.Ph,e.LT),e.NT.Qr(Zc.Ch,e.MT),e.FT&&e.NT.Qr(Lw.fw,e.BT),e}dt(n,t);var i=n.prototype;return i.OT=function(t){!this.IT&&t>=pw.iw&&(this.IT=!0,this.Jr(new Hw(this.NT.dw,t)))},i.DT=function(t){!this.RT&&t>=pw.ew&&(this.RT=!0,this.Jr(new $w(this.NT.dw,t)))},i.PT=function(t){this.FT||(t>=pw.rw&&this.ET<pw.rw&&!this.NT.yw||this.UT&&t>=pw.rw)&&this.Jr(new om(this.NT.dw))},i.xT=function(t){!this.VT(t)||this.NT.lw||this.NT.du||this.Jr(new sm(this.NT.dw))},i.CT=function(t){this.ET<=pw.ew&&t>=pw.rw&&this.Jr(new Kw(this.NT.dw,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===pw.uw&&this.Jr(new Jw(this.NT.dw,t))},i.VT=function(t){var n=!this.NT.yw&&t<=pw.ew,i=!this.ST&&this.ET<=pw.ew;return n&&!i},i.nl=function(){this.ET=pw.nw,this.ST=!0,this.RT=!1,this.IT=!1},i.et=function(){this.nu(),this.FT&&this.NT.iu(Lw.fw,this.BT),this.NT.iu(Zc.Ph,this.LT),this.NT.iu(Zc.Ch,this.MT),this.NT.iu(Lw.Hv,this.AT)},at(n,[{key:"UT",get:function(){return!this.NT.yw&&this.ST}}]),n}(Du),hm="titanium",am="conax",fm="ezdrm",dm="irdeto",vm="vudrm",lm="verimatrix",wm="keyos",gm="drmtoday",ym="expressplay",_m="azure",mm="xstream",pm="vimond",bm="axinom",km="uplynk",Tm="comcast",Em="custom",Sm=function(){function t(t,n,i,e,r){this.wc=void 0,this.HT=void 0,this.qT=void 0,this.WT=void 0,this.lT=void 0,this.zT=void 0,this.GT=void 0,this.wc=t,this.HT=n,this.qT=i,this.lT=e,this.GT=r,this.WT=this.$T(n)}var i=t.prototype;return i.jT=function(){return this.zT},i.YT=function(t){this.zT=t},i.XT=function(){return this.WT.licenseAcquisitionURL||this.jT()},i.KT=function(t){return G.resolve()},i.JT=function(t,n){return G.resolve(void 0)},i.QT=function(t,i,e,r){var u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(u=this.ZT(t,i,e,r)).Bf){o.next=3;break}throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,wr.awrap(this.pv.Lf(u));case 6:return s=o.sent,o.next=9,wr.awrap(s.wf(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),mu(o.t0),o.next=17,wr.awrap(this.tE(o.t0,u.Bf,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],G)},i.ZT=function(t,n,i,e){var r=this.nE().ta(),u=this.ud,s={Bf:this.iE(),Cf:n,Df:r,mf:t,ud:u,td:Nd.POST,nd:0,$r:e,_r:Od.qf,ed:i};return new xd(s)},i.eE=function(t,n){return G.resolve(t)},i.rE=function(t,n,i,e){return G.resolve(t)},i.nE=function(){return new nh(this.WT.headers||{})},i.tE=function(t,i,e){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,G)},i.iE=function(t,n){var i=n,e=this.WT.queryParameters;if(!i){var r=this.XT();if(!r)return"";i=r}if(e||t){var u=st.ze(i);t&&Bd(u,t),e&&Bd(u,e),i=u.href}return i},i.uE=function(t,n){return Rm(t)},i.sE=function(t){return new y(t)},i.oE=function(t,n,i){var e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,wr.awrap(this.uE(t,i));case 2:return e=s.sent,s.next=5,wr.awrap(this.QT(e,this.GT,n,i));case 5:return r=s.sent,u=this.sE(r),s.abrupt("return",u);case 8:case"end":return s.stop()}},null,this,null,G)},i.et=function(){},at(t,[{key:"pv",get:function(){return this.lT}},{key:"cE",get:function(){return!1}},{key:"hE",get:function(){var t=this.WT.certificate;if(t)return xt(t)?ju(t):Bs(t)}},{key:"aE",get:function(){return!1}},{key:"ud",get:function(){return Boolean(this.WT.useCredentials)}}]),t}();function Rm(t){return G.resolve(Us(t).buffer)}var Im,Am,Nm=function(t){function n(n,i,e,r){return t.call(this,Vr,n,i,e,r)||this}dt(n,t);var i=n.prototype;return i.$T=function(t){return t.widevine||{}},i.fE=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.hE){i.next=2;break}return i.abrupt("return",this.hE);case 2:return i.abrupt("return",this.dE(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,G)},i.dE=function(n,i){return t.prototype.oE.call(this,n,Dd.$f,i)},n}(Sm);function Om(t,n){if(null==t)return{};var i,e,r={},u=d.keys(t);for(e=0;e<u.length;e++)i=u[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function Dm(t){return At(t.token&&t.deviceId)}function Cm(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&At(i.PreAuthorization)}function Pm(t){var n=t;return Dm(n)&&""!==n.token&&""!==n.deviceId&&!Cm(n)}(Am=Im||(Im={})).vE=!1,Am.lE=!1,Am.wE=!1,Am.gE=!1,Am.LOG_ADS_DETAILS=!1,Am.LOG_CHROMECAST_DETAILS=!1,Am.LOG_CUSTOM_DRM=!1,Am.LOG_BUFFERING_VIDEO_MAIN=!1,Am.LOG_BUFFERING_VIDEO_SELECTION=!1,Am.LOG_BUFFERING_AUDIO_MAIN=!1,Am.LOG_BUFFERING_AUDIO_SELECTION=!1,Am.yE=!1,Am._E=!1,Am.LOG_LCEVC_DETAILS=!1;var xm,Lm=function(){function t(t,n,i){this.mE=t,this.nc=n,this.pE=i}return t.prototype.bE=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new f("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new f("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new f("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new f("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new f("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.pE.build(t))},at(t,[{key:"kE",get:function(){return this.mE}},{key:"wc",get:function(){return this.nc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(xm||(xm={}));var Mm=function(){function t(){this.TE=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.EE(t,i,e)){case xm.FAILED:throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case xm.OVERRIDDEN:var r=np(i);st.Ne("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case xm.SUCCEEDED:np(i);0}},i.EE=function(t,n,i){var e=np(n);if(!e)return xm.FAILED;for(var r=xm.SUCCEEDED,u=0,s=this.TE.slice();u<s.length;u++){var o=s[u];o.kE===t&&o.wc===e&&(r=xm.OVERRIDDEN,hu(this.TE,o))}return this.TE.push(new Lm(t,e,i)),r},i.SE=function(t,n){return void 0!==this.RE(t,n)},i.IE=function(t,n,i){var e=this.RE(t,n);if(!e)throw a("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.bE(i)},i.RE=function(t,n){for(var i=0,e=this.TE;i<e.length;i++){var r=e[i];if(r.kE===t&&(!n||r.wc===n))return r}},t}();Mm.AE=new Mm;var Bm=["customdata"],Fm={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Um(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||e||r||u||s)}function Vm(t){return t&&void 0!==t.licenseAcquisitionURL}var Hm,qm=Vm,Wm=Vm;function zm(t){if(!t)return!0;if(Ym(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,u=t.aes128;return Um(n)&&Um(i)&&Um(e)&&Um(r)&&Um(u)}function Gm(t){var n=Pm(t),i=function(t){var n,i=t;return Cm(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Dm(i)}(t);return(!n||!i)&&(n||i)}function $m(t){return t.integration===dm}function jm(t){var n=t;if(!n)return!1;if(zm(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,u=n.clearkey;if(Ym(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!qm(e))return!1;if(r&&!Wm(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Mm.AE.SE(n.integration))return!0;switch(n.integration){case hm:if(!function(t){return t.integration===hm&&(Xm(t)||Km(t))}(t))return!1;break;case vm:if(!Jm(t))return!1;break;case lm:if(!function(t){return t.integration===lm}(t))return!1;break;case dm:if(!$m(t))return!1;break;case am:if(!Gm(t))return!1;break;case fm:if(!function(t){return t.integration===fm}(t))return!1;break;case wm:if(!Ym(t))return!1;break;case gm:if(!function(t){var n=t;return n.integration===gm&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case ym:if(!function(t){return t.integration===ym}(t))return!1;break;case mm:if(!Qm(t))return!1;break;case pm:if(!function(t){return t.integration===pm}(t))return!1;break;case bm:if(!Zm(t))return!1;break;case _m:if(!function(t){var n=t;return n.integration===_m&&void 0!==n.token}(t))return!1;break;case km:if(!function(t){return t.integration===km}(t))return!1;break;case Tm:if(!function(t){var n=t;return n&&At(n.releasePid)&&At(n.accountId)&&At(n.token)}(t))return!1;break;case Em:return!0;default:return!1}}return!0}function Ym(t){return t.integration===wm}function Xm(t){return void 0!==t.authToken}function Km(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Jm(t){var n=t;return n.integration===vm&&void 0!==n.token}function Qm(t){var n=t;return n&&n.integration===mm&&xt(n.ticketAcquisitionURL)&&xt(n.streamId)}function Zm(t){var n=t;return n.integration===bm&&void 0!==n.token}function tp(t,n){var i,e,r,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Fm[t],o=null!=(e=null==u?void 0:u.customdata)?e:n.customdata,c=o?{customData:o}:{},h=gr({},null!=(r=null==u?void 0:u.headers)?r:{},c),a=null!=u?u:{};return a.customdata,gr({},Om(a,Bm),{licenseAcquisitionURL:s,headers:h})}function np(t){switch(t.toLowerCase()){case"widevine":case Pr:return Pr;case"playready":case Or:return Or;case"fairplay":case Br:return Br}}function ip(t,i){switch(t){case Rr:return function(t){for(var n={},i=o_.Dp(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.Ck]=r.Lk}return n}(i);case Ir:case Ar:return function(t){var n;return(n={})[Mr]=t,n}(i);default:throw new Pc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.dr="Widevine",t.ar="PlayreadyV2",t.NE="PlayreadyV2",t.OE="PlayreadyV3",t.gr="Fairplay"}(Hm||(Hm={}));var ep={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function rp(t,n){var i,e,r,u,s=ep[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=st.$e)?void 0:i.je,OSVersion:null==(e=st.$e)?void 0:e.Ze,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(r=st.$e)?void 0:r.tr,DeviceModel:null==(u=st.$e)?void 0:u.nr}}}function up(t,i){if(!t.accountName)throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function sp(t,n,i){var e;if(Xm(t))e={AuthToken:t.authToken,Payload:n};else{if(!Km(t))throw up(t,i);e={LatensRegistration:rp(t,i),Payload:n}}return is(JSON.stringify(e))}function op(t,i,e){var r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=t.kd){c.next=3;break}throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return u=r,c.prev=4,c.next=7,wr.awrap(u.vf(e));case 7:s=c.sent,o=cp(s),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(4),o="";case 14:throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,u.Lf.Bf,u.Of,u.Pf,o);case 15:case"end":return c.stop()}},null,null,[[4,11]],G)}function cp(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var hp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,th.Qh)||this).DE=void 0,r}dt(i,t),i.CE=function(){return st.je.ve?"required":"optional"};var e=i.prototype;return e.tE=function(t,n,i){return op(t,n,i)},e.KT=function(t){return this.DE?bu(this.DE.Pu,t):(this.DE=new qs,G.resolve())},e.uE=function(t,i){var e,r;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.HT){i.next=3;break}throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Xu(t),i.abrupt("return",sp(e,r,Hm.dr));case 5:case"end":return i.stop()}},null,this,null,G)},e.sE=function(t){if(!t.license)throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return ju(t.license)},e.PE=function(t){return G.resolve(new y(t))},e.fE=function(t,n){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.xE(),r.next=3,wr.awrap(this.uE(t,n));case 3:return i=r.sent,r.next=6,wr.awrap(this.QT(i,th.Jh,Dd.jf,n));case 6:return e=r.sent,r.next=9,wr.awrap(this.PE(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,G)},e.dE=function(n,i){var e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,wr.awrap(t.prototype.dE.call(this,n,i));case 2:return e=r.sent,this.xE(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,G)},e.xE=function(){this.DE||(this.DE=new qs),this.DE.Mu()},e.et=function(){this.DE&&this.DE.Wr(),t.prototype.et.call(this)},i}(Nm),ap=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,th.Jh)||this).YT("https://widevine-proxy.drm.technology/proxy"),r}return dt(i,t),i.prototype.uE=function(t,i){var e,r,u,s;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(Rm(t));case 2:if(e=i.sent,r=this.qT,u=Vs(new y(e)),s=this.LE){i.next=8;break}throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:s,drm_info:u,kid:r}));case 9:case"end":return i.stop()}},null,this,null,G)},at(i,[{key:"LE",get:function(){if(Jm(this.HT))return this.HT.token}}]),i}(Nm);function fp(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=gr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),gr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var dp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,th.Jh)||this).YT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return dt(n,t),n.prototype.iE=function(n,i){var e=n;return $m(this.HT)&&(e=fp(this.HT,e)),t.prototype.iE.call(this,e,i)},n}(Nm),vp="Conax-Custom-Data";function lp(t,n,i){var e=t&&Gm(t)&&t;if(e&&!i.has(vp)){var r=Pm(e)?e.token:void 0,u=Pm(e)?e.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(vp,s)}return i}var wp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,th.Jh)||this).YT("https://connect.conax.com:8094/license"),r}return dt(n,t),n.prototype.nE=function(){var n=t.prototype.nE.call(this);return lp(this.HT,"Widevine",n)},n}(Nm);function gp(t){var n=Rs(new y(t));return ju(JSON.parse(n).license)}function yp(t){return"string"==typeof t.token?t.token:is(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function _p(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var mp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,th.Jh)||this).YT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}dt(n,t);var i=n.prototype;return i.sE=function(t){return gp(t)},i.nE=function(){return _p(t.prototype.nE.call(this),this.LE,this.HT)},at(n,[{key:"LE",get:function(){return yp(this.HT)}}]),n}(Nm),pp=function(t){function n(n,i,e){return t.call(this,n,i,e,th.Jh)||this}return dt(n,t),n.prototype.nE=function(){var n=t.prototype.nE.call(this),i=this.HT.token;return n.set("Authorization","Bearer "+i),n},n}(Nm);function bp(t,i,e,r){var u,s,o,c,h,a,f;return wr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(Qm(t)){d.next=2;break}throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new nh).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(s=t.sessionId)&&u.append("XSSESSION",s),o=t.streamId,c=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",h={drmType:i,licenseType:c,streamId:o},a={Bf:t.ticketAcquisitionURL,Cf:th.Qh,Df:u,td:Nd.POST,mf:JSON.stringify(h),$r:r},d.next=13,wr.awrap(e.Lf(a));case 13:return f=d.sent,d.next=16,wr.awrap(f.vf());case 16:return d.abrupt("return",d.sent);case 17:case"end":return d.stop()}},null,null,null,G)}var kp=function(t){function n(n,i,e){return t.call(this,n,i,e,th.Qh)||this}dt(n,t);var i=n.prototype;return i.nE=function(){var n=t.prototype.nE.call(this);return n.set("Content-Type","application/json"),n},i.uE=function(n,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=ns(n.buffer),r=this.HT,o.next=4,wr.awrap(bp(r,"widevine_modular",this.pv,i));case 4:return u=o.sent,this.YT(u.licenseServerUrl),s=Is(JSON.stringify({payload:e,ticket:u.ticket})),o.abrupt("return",t.prototype.uE.call(this,s,i));case 8:case"end":return o.stop()}},null,this,null,G)},i.sE=function(t){return ju(t.license)},n}(Nm),Tp=function(t){function i(n,i,e){return t.call(this,n,i,e,th.Jh)||this}return dt(i,t),i.prototype.nE=function(){if(!Zm(this.HT))throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.nE.call(this);return i.set("X-AxDRM-Message",this.HT.token),i},i}(Nm);function Ep(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var Sp=function(t){function n(n,i,e){var r;return(r=t.call(this,Ur,n,i,e,th.Jh)||this).ME=void 0,r}dt(n,t);var i=n.prototype;return i.$T=function(t){return t.playready||{}},i.nE=function(){var n=new nh(this.ME);return n.ia(t.prototype.nE.call(this)),n},i.BE=function(t){return t.length>=1&&t[0].bi.length>0},i.JT=function(n){var i=this.HT.playready.customData;if(i){var e=Ep(i),r=Ep('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Xu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return G.resolve({playready:{Uc:r}})}return t.prototype.JT.call(this,n)},i.uE=function(t,n){var i;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(Rm(t));case 2:return i=n.sent,n.abrupt("return",this.FE(i));case 4:case"end":return n.stop()}},null,this,null,G)},i.FE=function(t){var n,i,e,r,u,s,o,c,h,a,f,d,v,l,w,g;return wr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,s=new DataView(t),_=s,m=new Hs,void 0===(p=!0)&&(p=!1),o=Es(_,m,p,!0),y.prev=3,c=st.hi(o),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(h=null==(n=c.pi("PlayReadyKeyMessage")[0])?void 0:n.pi("LicenseAcquisition")[0],a=null!=(i=null==h?void 0:h.pi("Challenge"))?i:[],this.BE(a)&&(u=ts(a[0].xi)),f=new nh,d=null!=(e=null==h?void 0:null==(r=h.pi("HttpHeaders")[0])?void 0:r.pi("HttpHeader"))?e:[],v=0;v<d.length;v++)l=d[v],w=l.pi("name")[0].xi,g=l.pi("value")[0].xi,f.append(w,g);return this.ME=f,y.abrupt("return",u);case 18:case"end":return y.stop()}var _,m,p},null,this,[[3,7]],G)},i.fE=function(t,n){return G.resolve(t)},i.dE=function(n,i){return t.prototype.oE.call(this,n,Dd.Yf,i)},n}(Sm),Rp=function(){function t(n){this.Do=void 0,this.UE=n,this.Do=t.VE(n)}return t.VE=function(t){return"3"===t.version?Hm.OE:Hm.NE},t.prototype.HE=function(){var t={};if(this.Do===Hm.OE){var n={LatensRegistration:rp(this.UE,Hm.OE)};t["X-TITANIUM-DRM-CDATA"]=is(JSON.stringify(n))}return t},at(t,[{key:"qE",get:function(){return this.Do}},{key:"Sc",get:function(){return this.Do===Hm.NE}}]),t}();var Ip=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).WE=void 0,r.WE=new Rp(r.HT),r}dt(i,t);var e=i.prototype;return e.JT=function(t){var i=this.HT;if(!this.HT)throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Km(i)){var e={};return e.playready={Uc:Ap(i,this.WE.qE)},G.resolve(e)}return G.reject(up(i,Hm.ar))},e.nE=function(){var n=new nh(this.WE.HE());return n.ia(t.prototype.nE.call(this)),n},e.tE=function(t,i,e){var r,u,s,o,c,h,a,f;return wr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(r=t.kd){d.next=3;break}throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i);case 3:return d.prev=3,d.next=6,wr.awrap(r.gf(e));case 6:o=d.sent,c=Rs(new y(o)),(h=st.hi(c))&&(a=d_(h,"CustomData")).length>0&&(u=JSON.parse(a[0].xi),s=null==(f=u.DrmErr)?void 0:f.desc),d.next=14;break;case 12:d.prev=12,d.t0=d.catch(3);case 14:throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i,r.Of,r.Pf,s);case 15:case"end":return d.stop()}},null,null,[[3,12]],G)},e.BE=function(t){if(1!==t.length)throw new kg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(Sp);function Ap(t,n){var i=rp(t,n),e=i.DeviceInfo.FormatVersion,r=is('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Ns(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Ns('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Xu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Np,Op=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YT("https://playready-license.drm.technology/rightsmanager.asmx"),r}dt(i,t);var e=i.prototype;return e.BE=function(t){if(1!==t.length)throw new kg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.iE=function(n,i){var e=gr({},n||{},{token:this.LE});return t.prototype.iE.call(this,e,i)},at(i,[{key:"LE",get:function(){if(Jm(this.HT))return this.HT.token}}]),i}(Sp),Dp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return dt(n,t),n.prototype.iE=function(n,i){var e=n;return $m(this.HT)&&(e=fp(this.HT,e)),t.prototype.iE.call(this,e,i)},n}(Sp),Cp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return dt(n,t),n.prototype.nE=function(){var n=t.prototype.nE.call(this);return lp(this.HT,"PlayReady",n)},n}(Sp),Pp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}dt(n,t);var i=n.prototype;return i.sE=function(n){return(Gr(Rs(new y(n)),"<?xml")?Np.zE:Np.vf)===Np.vf?gp(n):t.prototype.sE.call(this,new y(n))},i.nE=function(){return _p(t.prototype.nE.call(this),this.LE,this.HT)},at(n,[{key:"LE",get:function(){return yp(this.HT)}}]),n}(Sp);!function(t){t[t.zE=0]="zE",t[t.vf=1]="vf"}(Np||(Np={}));var xp,Lp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).GE=void 0,r}dt(n,t);var i=n.prototype;return i.nE=function(){var n=t.prototype.nE.call(this);return this.GE&&n.set("Ticket",this.GE),n.set("Content-Type","text/xml"),n},i.uE=function(n,i){var e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return e=this.HT,u.next=3,wr.awrap(bp(e,"playready",this.pv,i));case 3:return r=u.sent,this.YT(r.licenseServerUrl),this.GE=r.ticket,u.abrupt("return",t.prototype.uE.call(this,n,i));case 7:case"end":return u.stop()}},null,this,null,G)},n}(Sp),Mp=function(t){function i(){return t.apply(this,arguments)||this}return dt(i,t),i.prototype.nE=function(){if(!Zm(this.HT))throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.nE.call(this);return i.set("X-AxDRM-Message",this.HT.token),i},i}(Sp);!function(t){t.Qh="application/json",t.$E="application/x-www-form-urlencoded",t.jE="application/octet-stream",t.si="text/plain;charset=UTF-8"}(xp||(xp={}));var Bp=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n.wc,i,e,r,u)||this).YE="",s.XE=void 0,s.KE=void 0,s.KE=n.JE,s}dt(n,t);var i=n.prototype;return i.QE=function(){return this.WT.certificateURL||this.XE},i.ZE=function(t){this.XE=t},i.uE=function(t){return G.resolve(this.tS(t,this.YE))},i.tS=function(t,n){return"spc="+encodeURIComponent(Xu(t))+"&assetId="+encodeURIComponent(n)},i.$T=function(t){return t.fairplay||{}},i.nS=function(t){var n=t.indexOf("?");if(n>=0)return G.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return G.resolve(i)}var e=t.split("/");return G.resolve(e[e.length-1])},i.JT=function(t){var n,i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return i=null!=(n=this.KE)?n:Ds(new y(t)),u.next=3,wr.awrap(this.nS(i));case 3:return e=u.sent,this.YE=e,(r={}).fairplay={$c:e},u.abrupt("return",r);case 8:case"end":return u.stop()}},null,this,null,G)},i.nE=function(){var n=t.prototype.nE.call(this);return n.set("Content-Type",this.iS),n},i.fE=function(t,n){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hE){t.next=2;break}return t.abrupt("return",this.hE);case 2:return t.next=4,wr.awrap(this.eS(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,G)},i.dE=function(n,i){return t.prototype.oE.call(this,n,Dd.zf,i)},i.rS=function(t){var n=this.QE(),i=this.nE(),e={Bf:n,Cf:th.Jh,Df:i,td:Nd.GET,ud:!1,mf:null,nd:0,$r:t,_r:Od.qf,ed:Dd.Gf};return new xd(e)},i.eS=function(t){var n,i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.rS(t),r.next=3,wr.awrap(this.pv.Lf(n));case 3:return i=r.sent,r.next=6,wr.awrap(i.gf());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,G)},i.sE=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=ju(i)}else n=new y(t);return n},i.iE=function(n,i){var e=t.prototype.iE.call(this,n,i);return Gr(e,"skd:")&&(e=e.substr("skd:".length)),e},at(n,[{key:"aE",get:function(){return!0}},{key:"iS",get:function(){return xp.$E}}]),n}(Sm),Fp=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,th.Jh)||this}dt(n,t);var i=n.prototype;return i.nS=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return G.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return G.resolve(i)},i.uE=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,G)},i.sE=function(t){return new y(t)},i.iE=function(n,i){var e=n||{};return e.p1=Rn(),t.prototype.iE.call(this,e,i)},at(n,[{key:"iS",get:function(){return xp.jE}}]),n}(Bp),Up=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,th.Jh)||this).YT("https://fairplay-license.drm.technology/license"),u.ZE("https://fairplay-license.drm.technology/certificate"),u}dt(i,t);var e=i.prototype;return e.tS=function(t,n){var i={token:this.LE,contentId:n,payload:Xu(t)};return JSON.stringify(i)},e.sE=function(t){return new y(t)},e.nE=function(){var n=t.prototype.nE.call(this);return n.set("x-vudrm-token",this.LE),n},at(i,[{key:"iS",get:function(){return xp.Qh}},{key:"LE",get:function(){if(!Jm(this.HT))throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.HT.token}}]),i}(Bp),Vp="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",Hp="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",qp=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,th.Jh)||this}return dt(i,t),i.prototype.sE=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,Vp)}if(!i)throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,Hp);return i}(Rs(new DataView(i)));return t.prototype.sE.call(this,e)},i}(Bp);var Wp=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,th.Qh)||this}dt(i,t);var e=i.prototype;return e.uE=function(t){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.HT){r.next=3;break}throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Xu(t),r.abrupt("return",sp(i,e,Hm.gr));case 5:case"end":return r.stop()}},null,this,null,G)},e.sE=function(t){try{var i;if(xt(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=ts(i.license);return new y(r)}throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.tE=function(t,n,i){return op(t,n,i)},at(i,[{key:"iS",get:function(){return xp.Qh}}]),i}(Bp),zp=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,th.Jh)||this).YT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.ZE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}dt(n,t);var i=n.prototype;return i.QE=function(){var n=t.prototype.QE.call(this);if(!n)return n;var i=st.ze(n),e=this.HT;return $m(e)&&Bd(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.nS=function(n){return $m(this.HT)?G.resolve(this.HT.contentId):t.prototype.nS.call(this,n)},i.uE=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,G)},i.sE=function(t){return new y(t)},i.iE=function(n,i){var e=n;return $m(this.HT)&&(e=function(t,n){return gr({},fp(t,n),{KeyId:t.keyId})}(this.HT,e)),t.prototype.iE.call(this,e,i)},at(n,[{key:"iS",get:function(){return xp.jE}}]),n}(Bp),Gp=function(t){function i(i,e,r,u){var s;if(s=t.call(this,i,e,r,u,th.si)||this,!Gm(e))throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.YT("https://connect.conax.com:8097/license"),s}dt(i,t);var e=i.prototype;return e.nE=function(){var n=t.prototype.nE.call(this);return lp(this.HT,"FairPlay",n)},e.eS=function(t){var n,i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.QE(),i={Bf:n,Cf:th.Jh,Df:{},td:Nd.GET,ud:!1,mf:null,nd:0,$r:t,_r:Od.qf,ed:Dd.Gf},u.next=4,wr.awrap(this.pv.Lf(i));case 4:return e=u.sent,u.next=7,wr.awrap(e.gf());case 7:return r=u.sent,u.abrupt("return",new y(r));case 9:case"end":return u.stop()}},null,this,null,G)},e.uE=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,G)},e.nS=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),G.resolve(Rs(ju(n)))):G.resolve("unknown")},e.sE=function(t){try{var n=JSON.parse(t);return new y(ts(n.CkcMessage))}catch(t){throw new a("CFLRW-66")}},i}(Bp),$p=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,th.si)||this).YT(Fm[Sr.gr]),u}dt(i,t);var e=i.prototype;return e.nS=function(t){return Gr(t,"skd://")?G.resolve(t.substring("skd://".length,40)):G.reject(new kg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.tS=function(t,n){return"spc="+Xu(t)+"&assetId="+n},i}(Bp),jp=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,th.si)||this).YT("https://lic.drmtoday.com/license-server-fairplay/"),u}dt(n,t);var i=n.prototype;return i.tS=function(t,n){var i="spc="+encodeURIComponent(Xu(t))+"&"+encodeURI(n);return"persistent"===this.WT.licenseType?i+"&offline=true":i},i.nE=function(){return _p(t.prototype.nE.call(this),this.LE,this.HT)},at(n,[{key:"LE",get:function(){return yp(this.HT)}}]),n}(Bp),Yp=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,th.Jh)||this}dt(n,t);var i=n.prototype;return i.nS=function(t){var n=t;return Gr(n,"skd:")&&(n="http:"+n.substring(4)),Gr(n,"http:")||Gr(n,"https:")?G.resolve(st.ze(n).hostname):G.reject(new a("Could not parse ExpressPlay FairPlay content ID."))},i.uE=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,G)},i.sE=function(t){return new y(t)},at(n,[{key:"iS",get:function(){return xp.jE}}]),n}(Bp),Xp=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,th.si)||this}return dt(n,t),n.prototype.nE=function(){var n=t.prototype.nE.call(this),i=this.HT.token;return n.set("Authorization","Bearer "+i),n},n}(Bp),Kp=function(t){function n(n,i,e,r){var u;if(u=t.call(this,n,i,e,r,th.Qh)||this,!Qm(i))throw new a("Invalid Xstream DRM configuration");return u}dt(n,t);var i=n.prototype;return i.eS=function(t){var n,i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.QE(),i=this.nE(),e={Bf:n,Cf:th.Qh,Df:i,td:Nd.POST,$r:t,_r:Od.qf,ed:Dd.Gf},s.next=5,wr.awrap(this.pv.Lf(e));case 5:return r=s.sent,s.next=8,wr.awrap(r.vf());case 8:return u=s.sent,s.abrupt("return",new y(ju(u.certificate)));case 10:case"end":return s.stop()}},null,this,null,G)},i.dE=function(t,n,i){var e,r,u,s,o,c,h;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=Xu(t),r=this.HT,i.next=5,wr.awrap(bp(r,"fairplay",this.pv,n));case 5:return u=i.sent,s=Is(JSON.stringify({spc:e,ticket:u.ticket})),o={Bf:this.XT(),Cf:th.Qh,Df:this.nE(),td:Nd.POST,mf:s,nd:0,$r:n,_r:Od.qf,ed:Dd.zf},i.next=10,wr.awrap(this.pv.Lf(o));case 10:return c=i.sent,i.next=13,wr.awrap(c.vf());case 13:return h=i.sent,i.abrupt("return",ju(h.licence));case 15:case"end":return i.stop()}},null,this,null,G)},at(n,[{key:"iS",get:function(){return xp.Qh}}]),n}(Bp),Jp=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,th.si)||this}dt(i,t);var e=i.prototype;return e.tS=function(t,n){return Xu(t)},e.sE=function(i){if(0===i.length)throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.sE.call(this,i)},e.nE=function(){var n=t.prototype.nE.call(this);return n.set("Content-Type","text/plain"),n},i}(Bp),Qp=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,th.Jh)||this}dt(i,t);var e=i.prototype;return e.tS=function(t,n){return t},e.sE=function(t){return new y(t)},e.nE=function(){if(!Zm(this.HT))throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.nE.call(this);return i.set("X-AxDRM-Message",this.HT.token),i},at(i,[{key:"iS",get:function(){return xp.Qh}}]),i}(Bp),Zp=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,th.Qh)||this).uS=void 0,u}dt(i,t);var e=i.prototype;return e.tS=function(t,n){var i={spc:Xu(t)};return JSON.stringify(i)},e.nS=function(t){var i=st.ze(t);return this.uS=t,i.searchParams.has("b")?G.resolve(i.searchParams.get("b")):G.reject(new kg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.iE=function(n,i){var e=this.XT();return!e&&this.uS&&(e=this.uS),e&&(e=e.replace("skd://","https://")),t.prototype.iE.call(this,n,i||e)},e.sE=function(t){try{var i;if((i=xt(t)?JSON.parse(t.trim()):t).ckc)return ju(i.ckc)}catch(t){throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},at(i,[{key:"iS",get:function(){return xp.si}}]),i}(Bp),tb=function(){function t(t,n){this.sS=t,this.oS=n}var n=t.prototype;return n.cS=function(t){return this.sS(t)},n.hS=function(t,n){throw new f(n+" must be "+this.oS+". (Received: "+t+")")},t}();new tb(function(t){return!0},"any");var nb=new tb(Bt,"a number"),ib=new tb(xt,"a string"),eb=new tb(Lt,"a boolean");new tb(function(t){return"[object Date]"===It.call(t)},"a date"),new tb(Nt,"undefined"),new tb(Ct,"an object"),new tb(function(t){return null===t},"null"),new tb(function(t){return null==t},"null or undefined");var rb,ub=(rb={responseCode:nb,isException:eb,description:ib,title:ib,correlationId:ib},{cS:function(t){if(!Ct(t))return!1;for(var n=0,i=d.keys(rb);n<i.length;n++){var e=i[n];if(!rb[e].cS(t[e]))return!1}return!0},hS:function(t,n){if(!Ct(t))throw new f(n+" must be an object.");for(var i=0,e=d.keys(rb);i<e.length;i++){var r=e[i],u=rb[r];if(!u.cS(t[r]))return u.hS(t[r],n+"."+String(r))}throw new f}});function sb(t,n,i,e,r){var u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return u=ob(t,n,i,r),s.next=3,wr.awrap(cb(u,e));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},null,null,null,G)}function ob(t,n,i,e){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=st.ze(t);return Bd(i,n),i.toString()}(i,r)),s=new nh({});s.append("Content-Type","application/json");var o=Xu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Bf:u,Cf:th.si,Df:s,td:Nd.POST,mf:JSON.stringify(c),$r:e,_r:Od.qf,ed:Dd.zf}}function cb(t,i){var e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,wr.awrap(i.Lf(t));case 2:return e=u.sent,u.next=5,wr.awrap(e.vf());case 5:if(r=u.sent,!ub.cS(r)){u.next=8;break}throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.Bf,r.responseCode);case 8:return u.abrupt("return",ju(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return u.stop()}},null,null,null,G)}var hb=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,th.Jh)||this).aS=void 0,u.aS=i,u}dt(n,t);var i=n.prototype;return i.nS=function(n){var i=n.replace("FairPlay",this.aS.releasePid);return t.prototype.nS.call(this,i)},i.dE=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(sb(t,this.aS,this.XT(),this.pv,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,G)},n}(Bp),ab=function(t){function i(n,i,e){return t.call(this,qr,n,i,e,th.Jh)||this}dt(i,t);var e=i.prototype;return e.$T=function(t){return t.clearkey||{}},e.QT=function(i,e,r,u){var s,o;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.WT,!this.XT()){e.next=5;break}return e.abrupt("return",t.prototype.QT.call(this,i,this.GT,r,u));case 5:if(!s.keys||!s.keys.length){e.next=10;break}return o={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Is(JSON.stringify(o)).buffer);case 10:throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,G)},e.fE=function(t,n){return G.resolve(new y(0))},e.dE=function(n,i){return t.prototype.oE.call(this,n,Dd.Xf,i)},i}(Sm),fb=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n}(Nm),db={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function vb(t,n,i){var e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=kb(n),(r=t.onCertificateRequest)&&"function"==typeof r){s.next=5;break}return s.abrupt("return",G.resolve(n));case 5:return s.next=8,wr.awrap(bu(G.resolve(r.call(t,e)),i));case 8:if(!Ms(u=s.sent)){s.next=11;break}return s.abrupt("return",Bs(u));case 11:return s.abrupt("return",bb(gr({},db,u)));case 12:case"end":return s.stop()}},null,null,null,G)}function lb(t,n,i,e,r){var u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=t.onCertificateResponse,s=pb(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",G.resolve(n));case 5:return c.next=8,wr.awrap(bu(G.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",Bs(o));case 10:case"end":return c.stop()}},null,null,null,G)}function wb(t,n,i,e){var r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,wr.awrap(yb(t,n,i,e));case 2:if(!((r=u.sent)instanceof ArrayBuffer)){u.next=5;break}return u.abrupt("return",r);case 5:return u.abrupt("return",bb(r));case 6:case"end":return u.stop()}},null,null,null,G)}function gb(t,n,i,e,r,u){var s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return s=mb(i,r),c.next=3,wr.awrap(_b(t,new y(n),s,e,u));case 3:return o=c.sent,c.abrupt("return",Bs(o).buffer);case 5:case"end":return c.stop()}},null,null,null,G)}function yb(t,n,i,e){var r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,u=mb(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",G.resolve(u));case 5:return o.next=8,wr.awrap(bu(G.resolve(r.call(t,u)),e));case 8:if(!Ms(s=o.sent)){o.next=11;break}return o.abrupt("return",Bs(s).buffer);case 11:return o.abrupt("return",gr({fairplaySkdUrl:void 0},db,s));case 12:case"end":return o.stop()}},null,null,null,G)}function _b(t,n,i,e,r){var u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=null==t?void 0:t.onLicenseResponse,s=pb(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",G.resolve(n));case 5:return c.next=8,wr.awrap(bu(G.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",Bs(o));case 10:case"end":return c.stop()}},null,null,null,G)}function mb(t,n){return gr({},kb(t),{fairplaySkdUrl:n})}function pb(t,n,i){return{url:i.Mf,status:i.Of,statusText:i.Pf,headers:i.Df.ta(),body:t,request:n}}function bb(t){return new xd({Bf:t.url,td:t.method,Df:t.headers,mf:t.body,ud:t.useCredentials})}function kb(t){var n;return{url:t.Bf,body:null!=(n=Tb(t.mf))?n:null,headers:t.Df.ta(),method:t.td,useCredentials:t.ud}}function Tb(t){if(t)return"string"==typeof t?Cs(t):t instanceof ArrayBuffer?new y(t):Ju(t)?Ls(t):void 0}var Eb,Sb=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e)||this).fS=void 0,u.fS=r,u}dt(i,t);var e=i.prototype;return e.fE=function(t,n){return G.resolve(t)},e.dE=function(t,i){var e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,wr.awrap(this.FE(Us(t).buffer));case 2:return e=c.sent,r=this.ZT(e,th.Jh,Dd.Yf,i),c.next=6,wr.awrap(wb(this.fS,r,void 0,i));case 6:if(!((u=c.sent)instanceof ArrayBuffer)){c.next=10;break}return c.abrupt("return",new y(u));case 10:if(""!==u.Bf){c.next=12;break}throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return c.prev=12,c.next=15,wr.awrap(this.pv.Lf(u));case 15:return s=c.sent,c.next=18,wr.awrap(s.gf(i));case 18:return o=c.sent,c.t0=y,c.next=22,wr.awrap(gb(this.fS,o,r,s,void 0,i));case 22:return c.t1=c.sent,c.abrupt("return",new c.t0(c.t1));case 26:throw c.prev=26,c.t2=c.catch(12),mu(c.t2),new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",c.t2);case 30:case"end":return c.stop()}},null,this,[[12,26]],G)},i}(Sp),Rb=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,th.Jh)||this).fS=void 0,u.fS=r,u}dt(i,t);var e=i.prototype;return e.fE=function(t,i){var e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.hE){c.next=2;break}return c.abrupt("return",this.hE);case 2:return e=this.ZT(t,th.Jh,Dd.jf,i),c.next=5,wr.awrap(vb(this.fS,e,i));case 5:if(!((r=c.sent)instanceof y)){c.next=9;break}return c.abrupt("return",r);case 9:if(""!==r.Bf){c.next=11;break}throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return c.prev=11,c.next=14,wr.awrap(this.pv.Lf(r));case 14:return u=c.sent,c.next=17,wr.awrap(u.gf(i));case 17:s=c.sent,c.next=24;break;case 20:throw c.prev=20,c.t0=c.catch(11),mu(c.t0),new kg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",c.t0);case 24:return o=mb(e,void 0),c.next=27,wr.awrap(lb(this.fS,new y(s),o,u,i));case 27:return c.abrupt("return",c.sent);case 28:case"end":return c.stop()}},null,this,[[11,20]],G)},e.dE=function(t,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.ZT(t,th.Jh,Dd.$f,i),o.next=3,wr.awrap(wb(this.fS,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Bf){o.next=9;break}throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,wr.awrap(this.pv.Lf(r));case 12:return u=o.sent,o.next=15,wr.awrap(u.gf(i));case 15:s=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),mu(o.t0),new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,wr.awrap(gb(this.fS,s,e,u,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],G)},i}(fb),Ib=function(t){function i(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,th.Jh)||this).fS=void 0,s.dS=void 0,s.fS=u,s}dt(i,t);var e=i.prototype;return e.fE=function(t,i){var e,r,u,s,o;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hE){t.next=2;break}return t.abrupt("return",this.hE);case 2:return e=this.rS(i),t.next=5,wr.awrap(vb(this.fS,e,i));case 5:if(r=t.sent,!Ju(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,wr.awrap(this.pv.Lf(r));case 11:return u=t.sent,t.next=14,wr.awrap(u.gf());case 14:return s=t.sent,o=mb(e,void 0),t.next=18,wr.awrap(lb(this.fS,new y(s),o,u,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),mu(t.t0),new kg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],G)},e.dE=function(t,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.ZT(t,th.Jh,Dd.zf,i),o.next=3,wr.awrap(wb(this.fS,e,this.dS,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Bf){o.next=9;break}throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,wr.awrap(this.pv.Lf(r));case 12:return u=o.sent,o.next=15,wr.awrap(u.gf(i));case 15:return s=o.sent,o.t0=y,o.next=19,wr.awrap(gb(this.fS,s,e,u,this.dS,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),mu(o.t2),new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],G)},e.nS=function(n){var i;return this.dS=n,null!=(i=this.fS)&&i.extractFairplayContentId?G.resolve(this.fS.extractFairplayContentId(n)):t.prototype.nS.call(this,n)},i}(Bp),Ab=function(){function t(){}var n=t.prototype;return n.vS=function(t,n,i,e){switch(t.wc._r){case Sr.dr:return this.lS(n,i,e);case Sr.ar:return this.wS(n,i,e);case Sr.gr:return this.gS(t,n,i,e);case Sr.wr:default:return this.yS(n,i,e)}},n.lS=function(t,n,i){var e,r=(e=t).integration===Em&&xt(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&Mm.AE.SE(r,Pr)){var u=Mm.AE.IE(r,Pr,t);return new Rb(t,n,i,u)}switch(r){case hm:return new hp(t,n,i);case vm:return new ap(t,n,i);case dm:return new dp(t,n,i);case am:return new wp(t,n,i);case gm:return new mp(t,n,i);case _m:return new pp(t,n,i);case mm:return new kp(t,n,i);case bm:return new Tp(t,n,i);case wm:default:return new fb(t,n,i,th.Jh)}},n.wS=function(t,n,i){var e=t.integration;if(e&&Mm.AE.SE(e,Or)){var r=Mm.AE.IE(e,Or,t);return new Sb(t,n,i,r)}switch(e){case hm:return new Ip(t,n,i);case vm:return new Op(t,n,i);case dm:return new Dp(t,n,i);case am:return new Cp(t,n,i);case gm:return new Pp(t,n,i);case mm:return new Lp(t,n,i);case bm:return new Mp(t,n,i);case wm:default:return new Sp(t,n,i)}},n.gS=function(t,n,i,e){var r=n.integration;if(r&&Mm.AE.SE(r,Br)){var u=Mm.AE.IE(r,Br,n);return new Ib(t,n,i,e,u)}switch(r){case fm:return new Fp(t,n,i,e);case vm:return new Up(t,n,i,e);case lm:return new qp(t,n,i,e);case hm:return new Wp(t,n,i,e);case dm:return new zp(t,n,i,e);case am:return new Gp(t,n,i,e);case wm:return new $p(t,n,i,e);case gm:return new jp(t,n,i,e);case ym:return new Yp(t,n,i,e);case _m:return new Xp(t,n,i,e);case mm:return new Kp(t,n,i,e);case pm:return new Jp(t,n,i,e);case bm:return new Qp(t,n,i,e);case km:return new Zp(t,n,i,e);case Tm:return new hb(t,n,i,e);default:return new Bp(t,n,i,e,th.si)}},n.yS=function(t,n,i){return new ab(t,n,i)},n._S=function(t){return t._r===Sr.ar||t._r===Sr.dr||t._r===Sr.gr||t._r===Sr.wr},n.Sc=function(t,n){var i;if(t._r!==Sr.ar)return!1;if(At(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!Mm.AE.SE(e,Br))&&(e===hm&&new Rp(n).Sc)},n.CE=function(t,n){if(t._r===Sr.dr){var i=n.integration;if(!i||!Mm.AE.SE(i,Br))return i===hm?hp.CE():void 0}},t}();!function(t){t[t.mS=0]="mS",t[t.pS=1]="pS",t[t.bS=2]="bS",t[t.kS=3]="kS",t[t.TS=4]="TS",t[t.Yl=5]="Yl",t[t.ES=6]="ES",t[t.SS=7]="SS",t[t.tw=8]="tw",t[t.RS=9]="RS",t[t.IS=10]="IS"}(Eb||(Eb={}));var Nb=function(){function t(){}return t.prototype.AS=function(t){},at(t,[{key:"NS",get:function(){return 0}},{key:"OS",get:function(){return 0}}]),t}(),Ob=function(){function t(t,n){void 0===n&&(n=new Ab),this.lT=void 0,this.DS=void 0,this.UE=void 0,this.lT=t,this.DS=n}var n=t.prototype;return n.CS=function(t){this.UE=t},n.CE=function(t){var n=this.UE;if(void 0!==n)return this.DS.CE(t,n)},n.Sc=function(t){var n=this.UE;return void 0!==n&&this.DS.Sc(t,n)},n.PS=function(t){var n={wc:t.wc,xS:t.xS||[],JE:t.JE},i=this.DS.vS(n,this.UE||{},t.qT,this.lT);return new Db(i)},t}(),Db=function(){function t(t){this.LS=void 0,this.LS=t}var n=t.prototype;return n.KT=function(t){return this.LS.KT(t)},n.JT=function(t,n,i){return this.LS.JT(n,i)},n.aE=function(){return this.LS.aE||void 0!==this.LS.hE},n.fE=function(t,n){return this.LS.fE(t,n)},n.dE=function(t,n,i){return n&&this.LS.YT(n),this.LS.dE(t,i)},n.Br=function(){this.LS.et()},t}(),Cb=function(t){function n(n){var i;(i=t.call(this)||this).MS=[],i.BS=function(t){i.Qv(t.Av)},i.FS=function(t){var n=t.Av;i.US(n)||i.Zv(n)};for(var e=0;e<n.length;e++){var r=n[e];i.VS(r)}return i}dt(n,t);var i=n.prototype;return i.VS=function(t){this.MS.push(t);for(var n=0,i=t.il;n<i.length;n++){var e=i[n];this.Qv(e)}this.HS(t)},i.qS=function(t){hu(this.MS,t),this.WS(t);for(var n=0,i=t.il;n<i.length;n++){var e=i[n];this.US(e)||this.Zv(e)}},i.US=function(t){for(var n=0,i=this.MS;n<i.length;n++){if(i[n].tl(t))return!0}return!1},i.HS=function(t){t.Qr(pl.bv,this.BS),t.Qr(pl.Tv,this.FS)},i.WS=function(t){t.iu(pl.bv,this.BS),t.iu(pl.Tv,this.FS)},i.et=function(){for(;this.MS.length>0;)this.qS(this.MS[0]);t.prototype.et.call(this)},i.Iv=function(){return ow(this)},n}(Cl);function Pb(t){return{get enabled(){return t.ll},set enabled(n){t.ll=Wl(n)},get currentLatency(){return t.Cw},get streamConfiguration(){if(void 0!==t.zS)return function(t){return{get minimumOffset(){return t.Tw},get maximumOffset(){return t.Sw},get targetOffset(){return t.Ew},get forceSeekOffset(){return t.Rw},get minimumPlaybackRate(){return t.Iw},get maximumPlaybackRate(){return t.Aw}}}(t.zS)},get configuration(){return function(t){return{get minimumOffset(){return t.Tw},set minimumOffset(n){t.Tw=zl(n)},get maximumOffset(){return t.Sw},set maximumOffset(n){t.Sw=zl(n)},get targetOffset(){return t.Ew},set targetOffset(n){t.Ew=zl(n)},get forceSeekOffset(){return t.Rw},set forceSeekOffset(n){t.Rw=zl(n)},get minimumPlaybackRate(){return t.Iw},set minimumPlaybackRate(n){t.Iw=zl(n)},get maximumPlaybackRate(){return t.Aw},set maximumPlaybackRate(n){t.Aw=zl(n)},update:function(n){t.cc(function(t){var n={};void 0!==t.minimumOffset&&(n.Tw=zl(t.minimumOffset));void 0!==t.maximumOffset&&(n.Sw=zl(t.maximumOffset));void 0!==t.targetOffset&&(n.Ew=zl(t.targetOffset));void 0!==t.forceSeekOffset&&(n.Rw=zl(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.Iw=zl(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.Aw=zl(t.maximumPlaybackRate));return n}(n))}}}(t.gc)}}}var xb,Lb=function(){function t(){this.Sv=void 0,this.GS=void 0,this.GS={Rw:0,Sw:0,Aw:0,Tw:0,Iw:0,Ew:0,cc:Ft}}return at(t,[{key:"Rv",get:function(){return null!=this.Sv||(this.Sv=Pb(this)),this.Sv}},{key:"ll",get:function(){return!1},set:function(t){}},{key:"Cw",get:function(){}},{key:"zS",get:function(){}},{key:"gc",get:function(){return this.GS}}]),t}();function Mb(){return xb||(xb=Z&&Z.document&&Z.document.createElement("video")),xb}var Bb=function(t){function n(n,i,e,r,u,s,o){var c;return void 0===s&&(s=new Ab),void 0===o&&(o=jc()),(c=t.call(this)||this).$S=void 0,c.jS=void 0,c.YS=void 0,c.Vw=void 0,c.Hw=void 0,c.qw=void 0,c.XS=void 0,c.KS=void 0,c.JS=void 0,c.QS=void 0,c.ZS=void 0,c.lT=void 0,c.Er=void 0,c.tR=void 0,c.nR=void 0,c.iR=new Nb,c.eR=new Lb,c.rR=function(t){var n=t.du,i=n.code,e=new Pc(Rg(i),"Something went wrong during native playback.",n),r=new Tg(i,e.message,n.message);c.uR(e,r)},c.sR=function(){c.Jr(new zw(c.dw,c.wg))},c.oR=function(t){c.yw||(c.nR=void 0),c.Jr(t)},c.cR=function(t){c.nR=void 0,c.Jr(t)},c.hR=function(){c.Jr(new zg(c.yg))},c.aR=function(){c.bw>0&&c.pw>0&&c.Jr(new K_)},c.fR=function(t){c.Vw.Qv(new Bg(t.track))},c.dR=function(t){var n=Ub(c.Vw,t.track);n&&c.Vw.Zv(n)},c.vR=function(){c.lR(c.Vw)},c.wR=function(t){c.Hw.Qv(new Wg(t.track))},c.gR=function(t){var n=Ub(c.Hw,t.track);n&&c.Hw.Zv(n)},c.yR=function(){c.lR(c.Hw)},c._R=function(t){c.Jr(t),c.uR(t.errorObject,Sg(t.errorObject))},c.$S=i,c.lT=e,c.Er=o,c.jS=c.$S.Y(Ig.Qf),c.JS=c.jS.mR.preload,c.QS=new cm(c.jS,!0),c.QS.Qr(Vw,c.Kr),c.tR=new Ob(e,s),c.jS.pR=c.tR,c.bR(),c.Vw=new Ag,c.Hw=new Ag,c.kR(),c.ZS=new W_(c.jS,c.lT),c.qw=new Cb([c.jS.Yw]),c.rg(),c}dt(n,t);var i=n.prototype;return i.ug=function(){this.jS.ug()},i.rg=function(){this.jS.rg()},i.Qw=function(t,n,i){var e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return _u(i),e={_r:X_.kT,Pl:t.src,_f:t.type,TR:this.ER(t),Ig:this.JS,SR:t.crossOrigin,RR:n.metadata&&n.metadata.title},this.tR.CS(t.contentProtection),r.next=5,wr.awrap(this.jS.sc(e));case 5:this.YS=r.sent,_u(i),n.textTracks&&this.IR(n.textTracks),Y_(this.Yw);case 9:case"end":return r.stop()}},null,this,null,G)},i.IR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.jS.AR()&&St.kn&&rm&&!x_(i.kind,i.label)&&this.NR(i)){var e,r=null!=(e=i.kind)?e:A_.jm;this.jS.OR(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.ZS.gT(i)}}},i.NR=function(t){return!t.format||"webvtt"===t.format},i.X=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,wr.awrap(this.jS.X());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.DR){t.next=12;break}return t.next=10,wr.awrap(this.jS.su(Zc.xh));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],G)},i.K=function(){this.jS.K()},i.Zw=function(){return void 0!==this.jS.mR.webkitShowPlaybackTargetPicker},i.tg=function(){this.jS.mR.webkitShowPlaybackTargetPicker&&this.jS.mR.webkitShowPlaybackTargetPicker()},i.ng=function(){this.jS.mR.webkitShowPlaybackTargetPicker&&this.jS.mR.webkitShowPlaybackTargetPicker()},i.sg=function(){return this.jS.mR},i.og=function(){return this.jS.CR},i.nl=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.XS=void 0,this.KS=void 0,this.YS=void 0,t.next=5,wr.awrap(this.ZS.nl());case 5:return this.jS.PR(),t.next=8,wr.awrap(this.jS.nl());case 8:this.QS.nl(),this.Ig=this.JS,this.$w.nl(),this.jw.nl(),this.nR=void 0;case 13:case"end":return t.stop()}},null,this,null,G)},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.nl());case 2:return this.nu(),this.xR(),this.LR(),this.QS.et(),this.jS.pR=void 0,t.next=9,wr.awrap(this.$S.nt(this.jS));case 9:return this.Vw.et(),this.Hw.et(),this.qw.et(),t.next=14,wr.awrap(this.ZS.et());case 14:case"end":return t.stop()}},null,this,null,G)},i.bR=function(){this.jS.Qr(Zc.Ph,this.Kr),this.jS.Qr(Zc.Ch,this.Kr),this.jS.Qr(Zc.$h,this.sR),this.jS.Qr(Zc.xh,this.Kr),this.jS.Qr(Zc.Ih,this.Kr),this.jS.Qr(Zc.Uh,this.Kr),this.jS.Qr(Zc.Fh,this.oR),this.jS.Qr(Zc.Eh,this.Kr),this.jS.Qr(Zc.Lh,this.Kr),this.jS.Qr(Zc.jh,this.Kr),this.jS.Qr(Zc.kh,this.Kr),this.jS.Qr(Zc.Bh,this.aR),this.jS.Qr(Lw.fw,this.cR),this.jS.Qr(iw.kl,this.rR),this.jS.Qr(Zc.mh,this.Kr),this.jS.Qr(Zc._h,this._R),this.jS.mR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.hR)},i.xR=function(){this.jS.iu(Zc.Ph,this.Kr),this.jS.iu(Zc.Ch,this.Kr),this.jS.iu(Zc.$h,this.sR),this.jS.iu(Zc.xh,this.Kr),this.jS.iu(Zc.Ih,this.Kr),this.jS.iu(Zc.Uh,this.Kr),this.jS.iu(Zc.Fh,this.oR),this.jS.iu(Zc.Eh,this.Kr),this.jS.iu(Zc.Lh,this.Kr),this.jS.iu(Zc.jh,this.Kr),this.jS.iu(Zc.kh,this.Kr),this.jS.iu(Zc.Bh,this.aR),this.jS.iu(Lw.fw,this.cR),this.jS.iu(iw.kl,this.rR),this.jS.iu(Zc.mh,this.Kr),this.jS.iu(Zc._h,this._R),this.jS.mR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.hR)},i.ER=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{wc:Hr,MR:[{initDataTypes:[Hr.pr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.kR=function(){var t=this.jS.mR.audioTracks,n=this.jS.mR.videoTracks;t&&(t.addEventListener("addtrack",this.fR),t.addEventListener("removetrack",this.dR),t.addEventListener("change",this.vR)),n&&(n.addEventListener("addtrack",this.wR),n.addEventListener("removetrack",this.gR),n.addEventListener("change",this.yR))},i.LR=function(){var t=this.jS.mR.audioTracks,n=this.jS.mR.videoTracks;t&&(t.removeEventListener("addtrack",this.fR),t.removeEventListener("removetrack",this.dR),t.removeEventListener("change",this.vR)),n&&(n.removeEventListener("addtrack",this.wR),n.removeEventListener("removetrack",this.gR),n.removeEventListener("change",this.yR))},i.lR=function(t){for(var n=0;n<t.ul;n++){t.Jv(n).Fg()}},i.vg=function(){this.jS.vg()},i.uR=function(t,n){this.XS||(this.XS=n,this.KS=t,this.Jr(new Zw(t)))},at(n,[{key:"DR",get:function(){var t=this.jS.lg,n=this.dw;return t.FR(n,.01)}},{key:"$w",get:function(){return this.Vw}},{key:"lg",get:function(){return this.jS.lg.UR()}},{key:"wg",get:function(){return this.jS.wg},set:function(t){t&&this.jS.HR(t)}},{key:"dw",get:function(){return void 0!==this.nR?this.nR:this.jS.dw},set:function(t){this.yg&&(this.nR=t),this.jS.Iu(t)}},{key:"vw",get:function(){return this.jS.vw}},{key:"lw",get:function(){return this.jS.lw}},{key:"du",get:function(){return this.XS}},{key:"ww",get:function(){return this.KS}},{key:"Xw",get:function(){}},{key:"yg",get:function(){return this.jS.yg}},{key:"_g",get:function(){return gr({},{mg:0,pg:0,bg:0,kg:0,Tg:0,Eg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.jS.qR())}},{key:"gw",get:function(){return this.jS.gw},set:function(t){this.jS.gw=t}},{key:"Sg",get:function(){return!0}},{key:"yw",get:function(){return this.jS.yw}},{key:"_w",get:function(){return this.jS._w},set:function(t){this.jS._w=t}},{key:"Rg",get:function(){return this.jS.mR.played}},{key:"Ig",get:function(){return this.JS},set:function(t){this.JS=t,this.YS&&(this.YS.Ig=t)}},{key:"Ol",get:function(){return this.jS.Ol}},{key:"Ag",get:function(){return this.jS.Ag.UR()}},{key:"mw",get:function(){return this.jS.mw}},{key:"WR",get:function(){return this.jS.WR}},{key:"Yw",get:function(){return this.qw}},{key:"jw",get:function(){return this.Hw}},{key:"pw",get:function(){return this.jS.pw}},{key:"bw",get:function(){return this.jS.bw}},{key:"kw",get:function(){return this.jS.kw},set:function(t){this.jS.kw=t}},{key:"Ng",get:function(){return this.eR}},{key:"Og",get:function(){return this.jS.Og},set:function(t){this.jS.Og=t}},{key:"zR",get:function(){return this.iR}}]),n}(aw);var Fb=function(){function t(){this.GR=Eb.IS}var n=t.prototype;return n.bE=function(t,n,i,e,r,u){return new Bb(t,n,i,e,r)},n.$R=function(t,n){return function(t){return!t.type||!(!Mb().canPlayType||!Mb().canPlayType(t.type))}(t)},n.jR=function(){return!1},t}();function Ub(t,n){for(var i=0,e=t.il;i<e.length;i++){var r=e[i];if(r.Hg===n)return r}}var Vb=function(){function t(){this.YR=new Fb,this.XR=[]}t.KR=function(){return this.ni};var n=t.prototype;return n.JR=function(t){this.XR.push(t)},n.bE=function(t,n,i,e,r,u){for(var s=this.YR.bE(t,n,i,e,r,u),o=0,c=this.XR;o<c.length;o++){s=(0,c[o])(s,i,e)}return s},n.$R=function(t,n){return this.YR.$R(t,n)},n.jR=function(){return!1},at(t,[{key:"GR",get:function(){return this.YR.GR}}]),t}();function Hb(t,n){return eu(t.GR,n.GR)}Vb.ni=new Vb;var qb=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).QR=Vb.KR(),n}dt(n,t);var i=n.prototype;return i.ZR=function(t){this.QR=t},i.tI=function(){return this.QR},i.nI=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=0;case 1:if(!(i<t.length)){c.next=11;break}return e=t[i],c.next=5,wr.awrap(this.iI(e,n));case 5:if(!(r=c.sent)){c.next=8;break}return c.abrupt("return",{eI:e,rI:r});case 8:i++,c.next=1;break;case 11:u=this.QR,s=0;case 13:if(!(s<t.length)){c.next=20;break}if(o=t[s],!u.$R(o,n)){c.next=17;break}return c.abrupt("return",{eI:o,rI:u});case 17:s++,c.next=13;break;case 20:return c.abrupt("return",{eI:t[0],rI:u});case 21:case"end":return c.stop()}},null,this,null,G)},n}(function(){function t(){this.uI=[]}var n=t.prototype;return n.sI=function(t){this.uI.push(t),this.uI.sort(Hb)},n.iI=function(t,n){var i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.uI;case 1:if(!(i<e.length)){s.next=17;break}if(r=e[i],!Mt(u=r.$R(t,n))){s.next=10;break}return s.next=7,wr.awrap(u);case 7:s.t0=s.sent,s.next=11;break;case 10:s.t0=Boolean(u);case 11:if(!s.t0){s.next=14;break}return s.abrupt("return",r);case 14:i++,s.next=1;break;case 17:return s.abrupt("return",void 0);case 18:case"end":return s.stop()}},null,this,null,G)},t}());qb.ni=new qb;var Wb,zb=function(){function t(t){var n,i;this.oI=void 0,this.oI=Z&&Z.document&&Z.document.createElement("div"),n=this.oI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.oI)}return t.prototype.et=function(){Ge(this.oI)},t}();function Gb(t){switch(t){case Wb.cI:case"":return Wb.cI;case Wb.Xm:return Wb.Xm;case Wb.hI:default:return Wb.hI}}!function(t){t.IS="",t.hI="none",t.Xm="metadata",t.cI="auto"}(Wb||(Wb={}));var $b=[iw.kl,Zc.Th,Zc.vu,Zc.Kh,Zc.lh,Zc.Sh,Zc.Oh,Zc.Dh,Zc.Hh,Zc.Wh,Lw.sw,Lw.ow,Lw.cw,Lw.hw,Lw.Hv,Lw.aw,Lw.fw,Zc._h,Zc.mh,Zc.kh,Zc.Eh,Zc.Ih,Zc.Ah,Zc.Ph,Zc.xh,Zc.Ch,Zc.Lh,Zc.Bh,Zc.Uh,Zc.Fh,Zc.$h,Zc.jh,Zc.Mh,Zc.Nh,Zc.Vh],jb=function(t){function n(n,i){var e;return(e=t.call(this)||this).aI=void 0,e.fI=void 0,e.dI=void 0,e.vI=void 0,e.JS=Wb.hI,e.lI=void 0,e.wI=!0,e.Vw=new ew,e.Hw=new ew,e.qw=new hw,e.Ww=new pg,e.aI=n,e.dI=i,e.dI.Ig=e.Ig,e.gI(),e}dt(n,t);var i=n.prototype;return i.K=function(){this.dI.K()},i.X=function(){var t=this.dI.X();Mt(t)&&Su(t)},i.Kw=function(){return this.Qw(void 0)},i.st=function(){},i.hg=function(t){return!1},i.gI=function(){this.Vw.fl=this.dI.$w,this.Hw.fl=this.dI.jw,this.qw.fl=this.dI.Yw,this.Ww.fl=this.dI.Xw,this.dI.Qr($b,this.Kr)},i.yI=function(){this.dI.iu($b,this.Kr),this.Vw.fl=void 0,this.Hw.fl=void 0,this.qw.fl=void 0,this.Ww.fl=void 0},i.Jw=function(){return this.lI},i.Qw=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(_u(n),this.lI=t,t){c.next=4;break}return c.abrupt("return");case 4:if(!Nw(i=t.sources.filter(xw))){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,wr.awrap(this.aI.nI(i,t));case 9:if(e=c.sent,_u(n),r=e.eI,u=e.rI,s=this.og(),o=ig(this),this.fI===u&&!this.du){c.next=25;break}return this.yI(),c.next=19,wr.awrap(this.dI.et());case 19:_u(n),this.fI=u,this.dI=this._I(u),Yb(this.dI,o),rg(this,o,this),this.gI();case 25:return this.dI.Ig=this.Ig,this.wI?this.dI.rg():this.dI.ug(),c.next=29,wr.awrap(this.dI.Qw(r,t,n));case 29:_u(n),this.mI(r),this.og()!==s&&this.Jr(new dw);case 32:case"end":return c.stop()}},null,this,null,G)},i.mI=function(t){this.vI!==t&&(this.vI=t,this.Jr(new vw(t)))},i.Zw=function(){return this.dI.Zw()},i.tg=function(){this.dI.tg()},i.ng=function(){this.dI.ng()},i.og=function(){return this.dI.og()},i.vg=function(){this.dI.vg()},i.nl=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lI=void 0,this.mI(void 0),t.next=4,wr.awrap(this.dI.nl());case 4:case"end":return t.stop()}},null,this,null,G)},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nu(),t.next=3,wr.awrap(this.nl());case 3:return t.next=5,wr.awrap(this.dI.et());case 5:this.Vw.et(),this.Hw.et(),this.qw.et(),this.Ww.et();case 9:case"end":return t.stop()}},null,this,null,G)},i.rg=function(){this.wI=!0,this.dI.rg()},i.ug=function(){this.wI=!1,this.dI.ug()},at(n,[{key:"$w",get:function(){return this.Vw}},{key:"lg",get:function(){return this.dI.lg}},{key:"du",get:function(){return this.dI.du}},{key:"ww",get:function(){return this.dI.ww}},{key:"wg",get:function(){return this.dI.wg},set:function(t){this.dI.wg=t}},{key:"dg",get:function(){return this.vI}},{key:"dw",get:function(){return this.dI.dw},set:function(t){this.dI.dw=t}},{key:"vw",get:function(){return this.dI.vw}},{key:"lw",get:function(){return this.dI.lw}},{key:"Xw",get:function(){return this.Ww}},{key:"yg",get:function(){return this.dI.yg}},{key:"_g",get:function(){return this.dI._g}},{key:"gw",get:function(){return this.dI.gw},set:function(t){this.dI.gw=t}},{key:"Sg",get:function(){return this.dI.Sg}},{key:"yw",get:function(){return this.dI.yw}},{key:"_w",get:function(){return this.dI._w},set:function(t){this.dI._w=t}},{key:"Rg",get:function(){return this.dI.Rg}},{key:"Ig",get:function(){return this.JS},set:function(t){this.JS=t,this.dI&&(this.dI.Ig=this.JS)}},{key:"Ol",get:function(){return this.dI.Ol}},{key:"Ag",get:function(){return this.dI.Ag}},{key:"mw",get:function(){return this.dI.mw}},{key:"Yw",get:function(){return this.qw}},{key:"pw",get:function(){return this.dI.pw}},{key:"jw",get:function(){return this.Hw}},{key:"bw",get:function(){return this.dI.bw}},{key:"kw",get:function(){return this.dI.kw},set:function(t){this.dI.kw=t}},{key:"Ng",get:function(){return this.dI.Ng}},{key:"zR",get:function(){return this.dI.zR}}]),n}(Du);function Yb(t,n){t.gw!==n.gw&&(t.gw=n.gw),t.kw!==n.kw&&(t.kw=n.kw),t._w!==n._w&&(t._w=n._w)}var Xb,Kb=function(t){function n(n,i){var e;return(e=t.call(this)||this).ul=void 0,e.pI=void 0,e.bI=void 0,e.ul=n.length>>1,e.pI=n,e.bI=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.ul),e}dt(n,t);var i=n.prototype;return i.kI=function(t){return this.pI[2*t]},i.TI=function(t){return this.bI[2*t]},i.EI=function(t){return this.pI[2*t+1]},i.SI=function(t){return this.bI[2*t+1]},at(n,[{key:"RI",get:function(){return this.pI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.oy=function(t,n){return 0===this.Dy(t,n)},n.u_=function(t,n){return this.Dy(t,n)>0},n.s_=function(t,n){return this.Dy(t,n)>=0},n.My=function(t,n){return this.Dy(t,n)<0},n.xy=function(t,n){return this.Dy(t,n)<=0},n.S_=function(t,n){return this.My(t,n)?t:n},n.E_=function(t,n){return this.u_(t,n)?t:n},n.II=function(t,n,i){return i?this.xy(t,n):this.My(t,n)},n.UR=function(){var t=this;return{get length(){return t.ul},start:function(n){var i=0|n;return t.AI(i),t.NI(t.kI(i))},end:function(n){var i=0|n;return t.AI(i),t.NI(t.EI(i))}}},n.OI=function(){for(var t=new Array(2*this.ul),n=new Array(2*this.ul),i=0;i<this.ul;i++)t[2*i]=this.kI(i),t[2*i+1]=this.EI(i),n[2*i]=!0,n[2*i+1]=!0;return this.DI(t,n)},n.AI=function(t){if(t<0)throw new a("The index provided ("+t+") must be non-negative");if(t>=this.ul)throw new a("The index provided ("+t+") is greater than the maximum bound ("+this.ul+")")},n.CI=function(t){if(0===this.ul)return this.xI();if(this.FR(t))return t;if(this.xy(t,this.kI(0)))return this.kI(0);if(this.s_(t,this.EI(this.ul-1)))return this.EI(this.ul-1);for(var n,i=this.LI(),e=0;e<this.ul;e++){var r=this.kI(e),u=this.Ly(r,t);this.My(u,i)&&(n=r,i=u);var s=this.EI(e),o=this.Ly(this.EI(e),t);this.My(o,i)&&(n=s,i=o)}return n},n.MI=function(t){for(var n=0,i=0,e=[],r=[];n<this.ul&&i<t.ul;){var u=this.kI(n),s=this.EI(n),o=this.TI(n),c=this.SI(n),h=t.kI(i),a=t.EI(i),f=t.TI(i),d=t.SI(i),v=this.E_(u,h),l=this.S_(s,a),w=void 0;w=this.oy(u,h)?o&&f:this.oy(v,u)?o:f;var g=void 0;g=this.oy(s,a)?c&&d:this.oy(l,s)?c:d,(this.My(v,l)||w&&g&&this.oy(v,l))&&(e.push(v,l),r.push(w,g));var y=this.Dy(this.EI(n),t.EI(i));0===y?(n+=1,i+=1):y<0?n+=1:i+=1}return this.DI(e,r)},n.BI=function(){var t=this.FI(),n=t.ul;if(0===n)return this.DI([t.UI(),t.LI()],[!1,!1]);var i=[],e=[],r=t.kI(0);t.oy(r,t.UI())||(i.push(t.UI(),r),e.push(!1,!t.TI(0)));for(var u=0;u<n-1;u++)i.push(t.EI(u),t.kI(u+1)),e.push(!t.SI(u),!t.TI(u+1));var s=t.EI(n-1);return t.oy(s,t.LI())||(i.push(s,t.LI()),e.push(!t.SI(n-1),!1)),t.DI(i,e)},n.VI=function(t){for(var n=0,i=0,e=this.ul,r=t.ul,u=new Array(2*(e+r)),s=new Array(2*(e+r)),o=0;n<e&&i<r;){var c=this.kI(n),h=this.EI(n),a=t.kI(i),f=t.EI(i);this.My(c,a)||this.oy(c,a)&&this.My(h,f)?(u[o]=c,u[o+1]=h,s[o]=this.TI(n),s[o+1]=this.SI(n),n++):(u[o]=a,u[o+1]=f,s[o]=t.TI(i),s[o+1]=t.SI(i),i++),o+=2}for(;n<e;)u[o]=this.kI(n),u[o+1]=this.EI(n),s[o]=this.TI(n),s[o+1]=this.SI(n),n++,o+=2;for(;i<r;)u[o]=t.kI(i),u[o+1]=t.EI(i),s[o]=t.TI(i),s[o+1]=t.SI(i),i++,o+=2;return this.DI(u,s)},n.HI=function(t){void 0===t&&(t=this.xI());var n=this.ul;if(n<2)return this;for(var i=[],e=[],r=this.kI(0),u=this.EI(0),s=this.TI(0),o=this.SI(0),c=1;c<n;c++){var h=this.kI(c),a=this.EI(c),f=this.TI(c),d=this.SI(c);this.My(r,h)&&this.u_(u,a)||(this.oy(r,h)&&(s=f=s||f),this.oy(u,a)&&(o=d=o||d),this.II(h,this.Cg(u,t),o||f)?(u=a,o=d):(i.push(r,u),e.push(s,o),r=h,u=a,s=f,o=d))}return i.push(r,u),e.push(s,o),this.DI(i,e).FI()},n.FI=function(){for(var t=[],n=[],i=0;i<this.ul;i++){var e=this.kI(i),r=this.EI(i),u=this.TI(i),s=this.SI(i);this.oy(e,r)?(u||s)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(u,s))}return this.DI(t,n)},n.qI=function(t){return this.ul?t.ul?this.VI(t).HI():this:t},n.WI=function(t){var n=this.FI(),i=t.FI(),e=n.BI(),r=i.BI(),u=e.MI(i),s=r.MI(n);return u.qI(s)},n.Ru=function(t){if(this.oy(t,this.xI()))return this;for(var n=[],i=[],e=0;e<this.ul;e++){var r=this.Cg(this.kI(e),t),u=this.Cg(this.EI(e),t);n.push(r,u),i.push(this.TI(e),this.SI(e))}return this.DI(n,i)},n.zI=function(t){return 0===this.ul||0===t.ul?this:this.FI().MI(t.FI().BI())},n.FR=function(t,n){return this.GI(t,n)>=0},n.$I=function(t,n,i,e,r){return this.jI(t,n,i,e,r)>=0},n.YI=function(t,n,i,e,r){return this.XI(t,n,i,e,r)>=0},n.KI=function(t){if(t.ul!==this.ul)return!1;for(var n=0;n<this.ul;n++)if(!this.oy(this.kI(n),t.kI(n))||!this.oy(this.EI(n),t.EI(n))||this.TI(n)!==t.TI(n)||this.SI(n)!==t.SI(n))return!1;return!0},n.JI=function(t){for(var n=[],i=[],e=0;e<this.ul;e++){var r=this.kI(e),u=this.EI(e),s=this.TI(e),o=this.SI(e);t(r,u,s,o)&&(n.push(r,u),i.push(s,o))}return this.DI(n,i)},n.XI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.xI());for(var u=this.Vy(t,r),s=this.Cg(n,r),o=0;o<this.ul;o+=1)if(this.II(this.kI(o),s,!e||this.TI(o))&&this.II(u,this.EI(o),!i||this.SI(o)))return o;return-1},n.jI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.xI());for(var u=this.Cg(t,r),s=this.Vy(n,r),o=0;o<this.ul;o+=1)if(this.II(this.kI(o),u,!i||this.TI(o))&&this.II(s,this.EI(o),!e||this.SI(o)))return o;return-1},n.GI=function(t,n){return this.jI(t,t,!0,!0,n)},n.QI=function(t,n){void 0===n&&(n=this.xI());for(var i=this.Cg(t,n),e=this.ul-1;e>=0;e-=1)if(this.II(this.kI(e),i,this.TI(e)))return e;return-1},n.ZI=function(t,n){void 0===n&&(n=this.xI());for(var i=this.Vy(t,n),e=0;e<this.ul;e+=1)if(this.II(i,this.EI(e),this.SI(e)))return e;return-1},n.tA=function(t){return this.AI(t),this.DI([this.kI(t),this.EI(t)],[this.TI(t),this.SI(t)])},n.nA=function(t,n){var i=this.GI(t,n);return i<0?void 0:this.tA(i)},at(t,[{key:"iA",get:function(){for(var t=this.xI(),n=0;n<this.ul;n++){var i=this.Vy(this.EI(n),this.kI(n));t=this.Cg(t,i)}return t}}]),t}()),Jb=function(t){function n(n,i){return t.call(this,n,i)||this}dt(n,t);var i=n.prototype;return i.Dy=function(t,n){return t<n?Zr.Dr:t===n?Zr.Nr:Zr.Or},i.Cg=function(t,n){return t+n},i.Vy=function(t,n){return t-n},i.Ly=function(t,n){return v.abs(t-n)},i.xI=function(){return 0},i.LI=function(){return 1/0},i.UI=function(){return-1/0},n.eA=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.rA=function(t){for(var i=[],e=[],r=0;r<t.ul;r++)i.push(t.kI(r).A_),i.push(t.EI(r).A_),e.push(t.TI(r)),e.push(t.SI(r));return new n(i,e)},n.uA=function(t){return new n([t,t],[!0,!0])},i.DI=function(t,i){return new n(t,i)},i.NI=function(t){return t},n.sA=function(){return Qb},n}(Kb),Qb=new Jb([]);!function(t){t.Uv="fullscreenchange",t.oA="fullscreensupportchange",t.kl="fullscreenerror"}(Xb||(Xb={}));var Zb=function(t){function n(){return t.call(this,Xb.kl)||this}return dt(n,t),n}(Pu),tk=new(function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.$g=function(){this.Jr(new Zb)},i.Yg=function(){},i.et=function(){this.nu()},at(n,[{key:"cA",get:function(){return!1}},{key:"hA",get:function(){return!1}}]),n}(Du)),nk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).$S=void 0,n.jS=void 0,n}dt(n,t);var i=n.prototype;return i.sg=function(){var t;return null==(t=this.jS)?void 0:t.mR},i.et=function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(t.prototype.et.call(this));case 2:if(!this.jS){n.next=6;break}return n.next=5,wr.awrap(this.$S.nt(this.jS));case 5:this.jS=void 0;case 6:case"end":return n.stop()}},null,this,null,G)},at(n,[{key:"aA",set:function(t){this.$S=t,this.jS=t.Y(Ig.Qf)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).fA=0,n.dA=!1,n.vA=!0,n.lA=1,n.wA=!1,n.js=1,n.$w=new Ag,n.lg=Jb.sA().UR(),n.vw=NaN,n.lw=!1,n.du=void 0,n.ww=void 0,n.Xw=void 0,n.yg=!1,n.Sg=!0,n.Rg=Jb.sA().UR(),n.Ig=Wb.hI,n.Ol=pw.nw,n.Ag=Jb.sA().UR(),n.WR=void 0,n.Yw=new N_,n.pw=0,n.jw=new Ag,n.bw=0,n.Ng=new Lb,n.iR=new Nb,n}dt(n,t);var i=n.prototype;return i.rg=function(){},i.ug=function(){},i.X=function(){this.vA&&(this.vA=!1,this.Jr(new Fw(this.dw)),this.Jr(new sm(this.dw)))},i.K=function(){this.vA||(this.vA=!0,this.Jr(new zw(this.dw,this.wg)),this.Jr(new Bw(this.dw)))},i.Qw=function(t,n){return G.resolve()},i.Zw=function(){return!1},i.tg=function(){},i.ng=function(){},i.og=function(){return tk},i.vg=function(){},i.nl=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.fA=0,this.wA=!1,this.K(),this.Jr(new Mw(this.fA));case 4:case"end":return t.stop()}},null,this,null,G)},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.nu(),this.$w.et(),this.Yw.et(),this.jw.et();case 4:case"end":return t.stop()}},null,this,null,G)},at(n,[{key:"wg",get:function(){},set:function(t){}},{key:"dw",get:function(){return this.fA},set:function(t){this.fA!==t&&(this.fA=t,this.wA=!0,this.Jr(new jw(this.dw)))}},{key:"_g",get:function(){return{mg:0,pg:0,bg:0,kg:0,Tg:0,Eg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"gw",get:function(){return this.dA},set:function(t){this.dA!==t&&(this.dA=t,this.Jr(new Xw(this.dw,this.kw)))}},{key:"yw",get:function(){return this.vA}},{key:"_w",get:function(){return this.lA},set:function(t){this.lA!==t&&(this.lA=t,this.Jr(new Ww(this.dw,this._w)))}},{key:"mw",get:function(){return this.wA}},{key:"kw",get:function(){return this.js},set:function(t){this.js!==t&&(this.js=t,this.Jr(new Xw(this.dw,this.kw)))}},{key:"Og",get:function(){return!1},set:function(t){}},{key:"zR",get:function(){return this.iR}}]),n}(Du)),ik=function(t){function n(n,i,e,r,u,s){var o,c=new nk;return(o=t.call(this,qb.ni,c)||this).Vc=void 0,o.gA=void 0,o.yA=void 0,o._A=void 0,o.lT=void 0,o.mA=void 0,o.pA=void 0,o.yA=n,o.Vc=i,o.lT=e,o.mA=r,o._A=s,o.gA=new K(u,o._A),o.gA.it(o.yA),c.aA=o.gA,o.pA=new zb(o.yA),o}dt(n,t);var i=n.prototype;return i.st=function(){t.prototype.st.call(this),this.gA.j()},i.ig=function(t){eg(this,t)},i.eg=function(){},i._I=function(t){return t.bE(this.yA,this.gA,this.lT,this.Vc,this.mA,this._A)},i.sg=function(){return this.dI.sg()},i.cg=function(){return this.gA.G.map(function(t){return t.mR})},i.tu=function(n){t.prototype.tu.call(this,n)},i.uu=function(n){t.prototype.uu.call(this,n)},i.et=function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(t.prototype.et.call(this));case 2:this.gA.et(),this.pA.et();case 4:case"end":return n.stop()}},null,this,null,G)},at(n,[{key:"gg",get:function(){return this.yA}},{key:"Og",get:function(){return this.dI.Og},set:function(t){this.dI.Og=t}}]),n}(jb),ek=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).yA=void 0,r.bA=void 0,r.kA=void 0,r.TA=void 0,r.EA=void 0,r.eR=new Lb,r.yA=n,r.bA=i,r.TA=new Ag,r.EA=new N_,r.kA=e,r}dt(n,t);var i=n.prototype;return i.hg=function(t){return!0},i.ug=function(){},i.X=function(){throw this.Jr(new Zw(this.kA)),this.bA},i.K=function(){},i.Jw=function(){},i.Qw=function(t,n){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw _u(n),this.Jr(new Zw(this.kA)),this.bA;case 3:case"end":return t.stop()}},null,this,null,G)},i.rg=function(){},i.Kw=function(){return G.resolve()},i.sg=function(){},i.og=function(){return tk},i.cg=function(){return[]},i.st=function(){},i.ig=function(t){},i.eg=function(){},i.Zw=function(){return!1},i.tg=function(){},i.ng=function(){},i.vg=function(){},i.nl=function(){return G.resolve()},i.et=function(){return this.nu(),this.TA.et(),this.EA.et(),G.resolve()},at(n,[{key:"$w",get:function(){return this.TA}},{key:"lg",get:function(){return Jb.sA().UR()}},{key:"wg",get:function(){return new Date(NaN)},set:function(t){}},{key:"dg",get:function(){}},{key:"dw",get:function(){return 0},set:function(t){}},{key:"vw",get:function(){return 0}},{key:"gg",get:function(){return this.yA}},{key:"lw",get:function(){return!0}},{key:"du",get:function(){return this.bA}},{key:"ww",get:function(){return this.kA}},{key:"Xw",get:function(){}},{key:"_g",get:function(){return{mg:0,pg:0,bg:0,kg:0,Tg:0,Eg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"gw",get:function(){return!1},set:function(t){}},{key:"Sg",get:function(){return!0}},{key:"yw",get:function(){return!0}},{key:"_w",get:function(){return 0},set:function(t){}},{key:"Rg",get:function(){return Jb.sA().UR()}},{key:"Ig",get:function(){return Wb.hI},set:function(t){}},{key:"Ol",get:function(){return pw.nw}},{key:"Ag",get:function(){return Jb.sA().UR()}},{key:"mw",get:function(){return!1}},{key:"Yw",get:function(){return this.EA}},{key:"pw",get:function(){return 0}},{key:"jw",get:function(){return this.TA}},{key:"bw",get:function(){return 0}},{key:"kw",get:function(){return 1},set:function(t){}},{key:"Ng",get:function(){return this.eR}},{key:"Og",get:function(){return!1},set:function(t){}},{key:"yg",get:function(){return!1}}]),n}(fw);function rk(t){if(t&&Ct(t))return gr({},t,{integration:uk(t.integration),fairplay:fk(t.fairplay),widevine:sk(t.widevine),playready:ok(t.playready),clearkey:dk(t.clearkey),aes128:vk(t.aes128),integrationParameters:lk(t.integrationParameters),preferredKeySystems:wk(t.preferredKeySystems)})}function uk(t){if(xt(t))return t}function sk(t){if(t&&Ct(t))return{persistentState:ck(t.persistentState),distinctiveIdentifier:ck(t.distinctiveIdentifier),audioRobustness:hk(t.audioRobustness),videoRobustness:hk(t.videoRobustness),licenseAcquisitionURL:xt(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:ak(t.licenseType),headers:t.headers,useCredentials:!!Lt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:xt(t.certificate)||Ms(t.certificate)?t.certificate:void 0}}function ok(t){if(t){var n=sk(t);if(n)return gr({},n,{customData:xt(t.customData)?t.customData:void 0})}}function ck(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function hk(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function ak(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function fk(t){if(t){var n=sk(t);if(n)return gr({},n,{certificateURL:xt(t.certificateURL)?t.certificateURL:void 0})}}function dk(t){if(t){var n=sk(t);if(n)return gr({},n,{keys:Ot(t.keys)?t.keys.map(function(t){return function(t){if(!t||!Ct(t))return;var n=t.id,i=t.value;if(!xt(n)||!xt(i))return;return{id:n,value:i}}(t)}).filter(At):void 0})}}function vk(t){if(Ct(t))return{useCredentials:Lt(t.useCredentials)?t.useCredentials:void 0}}function lk(t){if(Ct(t))return t}function wk(t){return t&&Ot(t)?t.map(function(t){return np(t)}).filter(At):[Pr,Or,Br]}var gk,yk=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return dt(n,t),n}(Pu),_k=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).SA=[],e.RA=void 0,e.IA=function(t){Eu(function(){e.Kr(t)})},e.RA=i?e.IA:e.Kr,e}dt(n,t);var i=n.prototype;return i.AA=function(t){t.tu(this.RA),this.SA.push(t)},i.NA=function(t){t.uu(this.RA),hu(this.SA,t)},i.et=function(){this.nu();for(var t=0,n=this.SA;t<n.length;t++){n[t].uu(this.RA)}vu(this.SA)},n}(aw),mk=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n}(_k);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(gk||(gk={}));var pk,bk=function(t){function i(n){var i;return(i=t.call(this)||this).OA=void 0,i.DA=void 0,i.CA=!1,i.PA=!1,i.xA=void 0,i.LA=void 0,i.MA=void 0,i.Sv=void 0,i.BA=function(){return i.FA()},i.UA=function(){return i.VA()},i.MA=n,i.OA=i.DA=i.xA=i.LA=gk.INLINE,i.MA.Qr(Xb.Uv,i.BA),i.MA.Qr(Xb.kl,i.UA),i.HA(),i}dt(i,t);var e=i.prototype;return e.Iv=function(){return t=this,i={get currentMode(){return t.qA()},requestMode:function(n){var i=Tk(n);i&&t.WA(i)},supportsMode:function(n){var i=Tk(n);return!!i&&t.zA(i)},addEventListener:function(t,i){n.Qr(t,i)},removeEventListener:function(t,i){n.iu(t,i)}},(n=new _k(i,!0)).AA(t),i;var t,n,i},e.WA=function(t){this.GA(t,t)},e.GA=function(t,n){this.DA!==n&&(this.CA=!0,this.OA=t,this.$A(n,this.DA),t!==gk.FULLSCREEN&&(this.xA=t),this.CA=!1,this.HA())},e.qA=function(){return this.PA?gk.FULLSCREEN:gk.INLINE},e.zA=function(t){switch(t){case gk.FULLSCREEN:return this.MA.hA;case gk.INLINE:return!0}return!1},e.HA=function(){if(!this.CA){var t=this.DA,n=this.qA();this.DA=n,n!==gk.FULLSCREEN&&(this.LA=n),t!==n&&this.Jr(new yk(n))}},e.$A=function(t,n){var i=t===gk.FULLSCREEN;this.PA=i,i!==this.MA.cA&&(i?this.MA.$g():this.MA.Yg())},e.FA=function(){if(!this.CA){var t=this.MA.cA;this.PA=t,t?this.GA(gk.FULLSCREEN,gk.FULLSCREEN):t||this.OA!==gk.FULLSCREEN?this.HA():this.GA(this.xA,this.LA)}},e.VA=function(){this.FA(),this.Jr(new Zw(new Pc(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.et=function(){this.MA.et(),this.nu()},at(i,[{key:"Rv",get:function(){return this.Sv||(this.Sv=this.Iv()),this.Sv}}]),i}(aw),kk={dw:0,vw:NaN,lw:!1,du:void 0,ww:void 0,gw:!1,yw:!0,_w:1,Ol:pw.nw,mw:!1,pw:0,bw:0,kw:1};function Tk(t){switch(t){case gk.INLINE:case gk.FULLSCREEN:case gk.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(pk||(pk={}));var Ek,Sk,Rk,Ik,Ak,Nk,Ok,Dk,Ck=function(){function t(){this.jA=[]}var n=t.prototype;return n.YA=function(t){var n=this.XA.filter(function(n){return n.KA(t)});if(n.length>1)0;else if(0===n.length)throw a("Unknown ad integration: "+t.integration);return n[0]||null},n.JA=function(t){this.jA.push(t)},at(t,[{key:"XA",get:function(){return this.jA}}]),t}();Ck.ni=new Ck,function(t){t.fw="PLAYING",t.Mw="PAUSED",t.QA="SEEK",t.ZA="STALLED",t.tN="FAILED",t.nN="INITIAL_BUFFERING",t.iN="NO_ACCESS"}(Ek||(Ek={})),function(t){t.eN="HTTP_REQUEST_STATUS_CODE_1XX",t.rN="HTTP_REQUEST_STATUS_CODE_2XX",t.uN="HTTP_REQUEST_STATUS_CODE_3XX",t.sN="HTTP_REQUEST_STATUS_CODE_4XX",t.oN="HTTP_REQUEST_STATUS_CODE_5XX",t.cN="BUFFER_LENGTH",t.hN="BYTES_RECEIVED",t.aN="SEGMENT_READ_BITRATE",t.fN="SEGMENT_PROFILE_BITRATE",t.dN="NUMBER_OF_FRAMES_DROPPED",t.vN="PLAYBACK_POSITION",t.lN="NUMBER_OF_FRAMES_DECODED",t.wN="PLAYBACK_DELTA_TO_ORIGIN",t.gN="STREAM_DELTA_TO_ORIGIN",t.yN="ORIGIN_TIMESTAMP"}(Sk||(Sk={})),function(t){t._N="MANIFEST_URI",t.mN="ASSET_DURATION",t.pN="NUMBER_OF_CONTENT_PROFILES",t.bN="CDN",t.kN="CONTENT_TITLE",t.TN="SERVICE_NAME",t.EN="CONTENT_TYPE",t.SN="CONTENT_DESCRIPTION"}(Rk||(Rk={})),function(t){t.RN="shutdown_normal_shutdown"}(Ik||(Ik={})),function(t){t.IN="session/",t.AN="internalError/",t.NN="drmError/",t.ON="caError/",t.DN="networkError/"}(Ak||(Ak={})),function(t){t.CN="userAction",t.PN="endOfStreamReached"}(Nk||(Nk={})),function(t){t.PAUSE="xN",t.RESUME="LN"}(Ok||(Ok={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Dk||(Dk={}));var Pk,xk,Lk,Mk,Bk,Fk="agama";function Uk(t){return function(t){switch(t){case Pk.NONE:case Pk.HORIZONTAL:case Pk.VERTICAL:return!0;default:return!1}}(t)?t:Pk.NONE}function Vk(t){switch(t){case"":return Pk.NONE;case"horizontal":return Pk.HORIZONTAL;case"vertical":return Pk.VERTICAL;default:throw new f}}function Hk(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!xt(t))return xk.cI;switch(t){case"always":return xk.MN;case"never":return xk.BN;case"clear-only":return xk.CLEAR_ONLY;case"same-drm-only":return xk.SAME_DRM_ONLY;default:return xk.cI}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:null==t?void 0:t.needsTimescaleShifting}}function qk(t){if(!t||!xt(t))return Lk.cI;switch(t){case"playlist":return Lk.FN;case"media":return Lk.UN;default:return Lk.cI}}function Wk(t,n){return t.length>0?t:n.length>0?n:void 0}function zk(t){if(null!==t)return t}function Gk(t){var n={};if(!Ct(t))return n;var i=t;for(var e in i)if(d.prototype.hasOwnProperty.call(i,e)){var r=i[e];xt(r)&&(n[e]=r)}return n}function $k(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:zk(t.streamActivityMonitorID),adTagParameters:Ct(t.adTagParameters)?t.adTagParameters:{},authToken:zk(t.authToken),omidAccessModeRules:t.omidAccessModeRules?Gk(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,r=t.contentSourceID;return e?r?gr({},i,{availabilityType:"vod",videoID:e,contentSourceID:r}):void st.Ne("A VOD DAI configuration was provided without valid contentSourceID which is required."):void st.Ne("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?gr({},i,{availabilityType:"live",assetKey:u}):void st.Ne("A Live DAI configuration was provided without valid assetKey which is required.")}st.Ne("A DAI configuration was provided without a valid availabilityType which is required.")}function jk(t){if(!jm(t)||!t.integration)return t;switch(t.integration){case wm:return n=t,i=tp(Sr.dr,n),e=tp(Sr.ar,n),r=n[Sr.gr]&&tp(Sr.gr,n),gr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Pk||(Pk={})),function(t){t.cI="auto",t.MN="always",t.BN="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(xk||(xk={})),function(t){t.cI="auto",t.FN="playlist",t.UN="media"}(Lk||(Lk={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(Mk||(Mk={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Bk||(Bk={}));var Yk="https://content.uplynk.com";function Xk(t){if(!t)return!0;var n,i,e=!(Aw(n=t.sources)||Dt(n)&&Aw(n[0]))||Nw(t.sources),r=!t.ads||(!(i=t.ads)||Ot(i)&&0===i.length),u=""!==t.poster&&!t.poster;return e&&r&&u}function Kk(t){if(t&&t.sources)return function t(n){if(xt(n))return n;if(Iw(n))return n.src;if(Dt(n)&&n.length>0)return t(n[0]);return}(t.sources)}function Jk(t,n,i){return Sw(t)?function(t,n,i){var e=gr({},Ow(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:Mk.VERIZON_MEDIA,id:"",prefix:Yk,preplayParameters:{},playbackUrlParameters:{},assetType:Bk.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,xt(r)?r:Dt(r)&&xt(r[0])?r:Ct(u=r)&&xt(u.userId)&&(Dt(u.externalId)||xt(u.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,u;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return Bk.CHANNEL;case"event":return Bk.EVENT;case"asset":default:return Bk.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Wl(t.contentProtected));t.assetInfo?e.assetInfo=Wl(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=$l(t.prefix)||Yk);return e.ping=(s=e.assetType,o=t.ping,c=!1,h=!1,a=!1,o?(c=!!Lt(o.adImpressions)&&o.adImpressions,h=!!Lt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,a=Lt(o.linearAdData)?o.linearAdData:s!==Bk.ASSET):s!==Bk.ASSET&&(a=!0),{adImpressions:c,freeWheelVideoViews:h,linearAdData:a}),e=Zk(e=tT(e=Qk(e,t),n,i),t,i);var s,o,c,h,a}(t,n,i):function(t,n,i){var e=Dw(),r=n&&(n.contentProtection||n.drm);if(xt(t)){if(e.src=t,e.type=Tw(t),r){var u=rk(r);e.contentProtection=jk(u)}}else if(Iw(t)||Ew(t)){e.src=t.src,e.type=t.type||Tw(t.src),e.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===yw.Zl||t.type===yw.tw}(t)?t.hesp:void 0;void 0!==s&&(e.hesp=s);var o=Ct(a=t)&&xt(a.integration)&&"mediatailor"===a.integration;o&&(e.integration=t.integration);var c=t.contentProtection||t.drm||r,h=rk(c);e.contentProtection=jk(h),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return $k(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=Qk(e,t)}var a;return e=Zk(e=tT(e,n,i),t,i)}(t,n,i)}function Qk(t,n){var i,e;n.useCredentials?t.crossOrigin=gw.Jl:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case gw.Kl:case gw.Jl:return t;default:return gw.Xl}}(n.crossOrigin)),xt(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Wl(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Wl(n.useNativePlayback)),n.dash&&(t.dash=Hk(n.dash)),n.hls&&(t.hls={discontinuityAlignment:qk(null==(i=n.hls)?void 0:i.discontinuityAlignment),useLegacy:(e=null==i?void 0:i.useLegacy,At(e)?Boolean(e):void 0)}),n.lcevc&&(t.lcevc=Wl(n.lcevc));var r=void 0!==n.experimentalRendering?Wl(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var u=void 0!==n.nativeUiRendering?Wl(n.nativeUiRendering):void 0;return void 0!==u&&(t.nativeUiRendering=u),t}function Zk(t,n,i){return t.abr=function(t,n){var i=jl(null==t?void 0:t.preferredAudioCodecs,$l),e=jl(null==t?void 0:t.preferredVideoCodecs,$l),r=jl(null==n?void 0:n.preferredAudioCodecs,$l),u=jl(null==n?void 0:n.preferredVideoCodecs,$l),s=Wk(i,r),o=Wk(e,u);if(s||o)return{preferredAudioCodecs:s,preferredVideoCodecs:o}}(xt(n)?void 0:n.abr,null==i?void 0:i.abr),t}function tT(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!At(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!At(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===gw.Xl&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=gw.Kl),t.useCredentials=t.crossOrigin===gw.Jl,xt(r)&&!t.timeServer&&(t.timeServer=r),t}function nT(t){var n={src:""};if(t&&t.src){if(n.src=$l(t.src),"default"in t&&(n.default=Wl(t.default)),n.kind=D_(t.kind),function(t){switch(t){case Vg.DEFAULT:case Vg.SRT:case Vg.TTML:case Vg.WEBVTT:case Vg.EMSG:case Vg.EVENT_STREAM:case Vg.ID3:case Vg.CEA608:case Vg.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function iT(t,n){if(Pt(t))try{return n.YA(t).VN(t)}catch(t){return}}function eT(t){return xt(t.sources)&&""!==t.sources||Ct(t.sources)&&xt(t.sources.src)}function rT(t){return t.integration===pk.SPOTX&&!g(t.id)}function uT(t){return"freewheel"===t.integration}function sT(t,n,i){if(void 0===i&&(i=Ck.ni),Xk(t))return{sources:[Dw()]};var e=Ul(t);if(e.sources=function(t,n,i){if(Aw(t))return[Jk(t,n,i)];if(Dt(t)&&Aw(t[0])){for(var e=[],r=0;r<t.length;r++){var u=t[r];e.push(Jk(u,n,i))}return e}return[Dw()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!Dt(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var u=r[e];(u=iT(u,n))&&(eT(u)||rT(u)||uT(u))&&i.push(u)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var u,s,o,c=!Nw(e.sources),h=e.ads&&e.ads.length>0;if(c&&!h?delete e.ads:h&&!c&&(e.sources=[]),"textTracks"in e){var a=function(t){if(!Dt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=nT(r)).src&&n.push(r)}return n}(e.textTracks);0===a.length?delete e.textTracks:e.textTracks=a}if("poster"in e&&(e.poster=$l(e.poster)),"vr"in e&&(e.vr=(u=e.vr,(s=u||{}).stereoMode=Uk(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?Vk(s.stereoMode):Pk.NONE,nativeVR:Boolean(s.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=Pw(e.analytics),d=n&&n.analytics||[];e.analytics=function(t,n){for(var i=Ul(t),e=function(e){var r=n[e],u=!t.some(function(t){return t.integration===r.integration});u&&r.integration!==Fk&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,d)}return"mutedAutoplay"in e&&(e.mutedAutoplay=tg(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=zl(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var oT=function(){function t(t){this.HN=t}return t.prototype.qN=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";var h=t.length%4;if(h>0)for(;h++<4;)t+=this.HN.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.HN.indexOf(t.charAt(n))<<18|this.HN.indexOf(t.charAt(n+1))<<12|(u=this.HN.indexOf(t.charAt(n+2)))<<6|(s=this.HN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.WN=function(t,n){var i,e,r,u,s,o,c,h=[],a="";if((o=t.length%3)>0)for(;o++<3;)a+=this.HN.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,u=i>>6&63,s=63&i,h[o/3]=this.HN.charAt(e)+this.HN.charAt(r)+this.HN.charAt(u)+this.HN.charAt(s);return c=(c=h.join("")).slice(0,c.length-a.length),n||(c+=a),c},t.um=new t(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.zN=new t(t.um.qN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function cT(t){return"string"==typeof t}function hT(t){return"number"==typeof t}var aT={}.toString;var fT,dT=Array.isArray||function(t){return"[object Array]"===aT.call(t)};function vT(t,n){return dT(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(fT||(fT={}));var lT,wT=d.keys(fT).map(function(t){return fT[t]});function gT(t){return-1!==wT.indexOf(t)}!function(t){t.MULTIVIEW="multiview"}(lT||(lT={}));var yT,_T=d.keys(lT).map(function(t){return lT[t]});function mT(t){return-1!==_T.indexOf(t)}function pT(t){try{var n=oT.zN.qN(t),i=JSON.parse(n);if(!function(t,n){var i,e=(v=t,"object"==typeof v&&null!==v),r=cT(t.key),u=cT(t.customer_id),s=hT(t.generation_date),o=hT(t.expiration_date),c=vT(t.domains_page,cT),h=vT(t.domains_source,cT),a=vT(t.sdks,n?gT:cT),f=(d=t.send_impression,"boolean"==typeof d);var d;var v;t.features?i=vT(t.features,n?mT:cT):(i=!0,t.features=[]);if(!(e&&r&&u&&s&&o&&c&&h&&a&&f&&i))return!1;return!0}(i,!1))throw new a("The provided license could not be decoded correctly.");return i}catch(t){throw new a("The provided license could not be decoded correctly.")}}function bT(){return yT||(yT={Bf:tt.href,GN:Z.parent&&Z.parent!==i,$N:ET()}),yT}var kT,TT=["http:","https:","ftp:","ws:","wss:"];function ET(){try{return Z.top.location.href}catch(t){return Z&&Z.document&&Z.document.referrer}}!function(t){t[t.jN=0]="jN",t[t.YN=1]="YN",t[t.XN=2]="XN"}(kT||(kT={}));var ST,RT=function(t,n,i,e,r,u,s,o,c){void 0===r&&(r=[]),void 0===u&&(u=""),void 0===s&&(s=Date.now()),void 0===o&&(o=[]),void 0===c&&(c=!0),this.KN=t,this.JN=n,this.QN=i,this.ZN=e,this.tO=r,this.nO=u,this.iO=s,this.eO=o,this.rO=c};!function(t){t.YN="expired",t.uO="invaliddomain",t.sO="invalidsource",t.oO="invalidfeature",t.kl="error"}(ST||(ST={}));var IT=function(){function t(t,n,i){this.cO=void 0,this.hO=t,this.aO=n,this.As=i,this.cO=PT(this.As)}var n=t.prototype;return n.fO=function(t,n){var i=this;if(!Xk(t)&&0!==n.QN.length&&!OT(n.QN)){var e=[];if(Aw(t.sources)?e=[t.sources]:Dt(t.sources)&&(e=t.sources),!e.every(function(t){return i.dO(t,n)})){var r=ST.sO,u=LT.vO(r);throw new Pc(AT(r),u)}}},n.lO=function(n){return this.wO(n.eO)&&this.gO(n)?t.yO(n.ZN)?kT.jN:kT.YN:kT.XN},n._O=function(t,n){if(!du(n.tO,t)){var i=ST.oO,e=LT.vO(i);throw new Pc(AT(i),e)}},n.wO=function(t){var n=this;return 0===t.length||t.some(function(t){return n.mO(t)})},n.mO=function(t){return"tvos"===function(t){switch(t){case fT.ANDROID:return ot.vt;case fT.ANDROIDTV:case fT.FIRETV:return ot.wt;case fT.IOS:return ot.yt;case fT.TVOS:return ot._t;case fT.CHROMECAST:case fT.CHROMECASTCAF:return ot.pt;default:return ot.dt}}(t)},t.yO=function(t){var n=Number(new Date);return!!t&&n<=t},n.gO=function(t){return!(this.cO&&0!==t.JN.length&&!OT(t.JN))||!!(this.cO&&this.pO(t.JN)&&this.bO(t.JN))},n.pO=function(t){return DT(this.As.Bf,t)},n.bO=function(t){if(!this.As.GN)return!0;if(this.hO)return!0;var n=this.kO();return!!n&&DT(n,t)},n.kO=function(){if(this.As.GN){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.As.$N?this.As.$N:void 0}},n.dO=function(n,i){return!!t.TO(n,i.QN)},t.TO=function(t,n){return DT(this.EO(t),n)},t.EO=function(t){return xt(t)?t:Iw(t)&&t.src||""},t}();function AT(t){switch(t){case ST.uO:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case ST.sO:return n.ErrorCode.LICENSE_INVALID_SOURCE;case ST.YN:return n.ErrorCode.LICENSE_EXPIRED;case ST.oO:return n.ErrorCode.LICENSE_INVALID_FEATURE;case ST.kl:return n.ErrorCode.LICENSE_ERROR}}function NT(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+r+s+r+s+r+s+"\\)"),c=e.match(o),h=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var a=new RegExp("^"+c[1]+r+h(c[2])+r+h(c[3])+r+h(c[4])+"$");return null!==i.match(a)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function OT(t){return t.some(function(t){return"*"===t})}function DT(t,n){var i=st.ze(t);if(!CT(i))return!0;for(var e=0;e<n.length;e++){var r=n[e];if(NT(i.hostname,r))return!0;if(NT(qd(t),r))return!0}return!1}function CT(t){return-1!==TT.indexOf(t.protocol)}function PT(t){var n=st.ze(t.Bf);return CT(n)&&!NT(n.hostname,"localhost")&&!function(t){return NT(t.hostname,"theoplayer.doubleclick.net")}(n)}var xT,LT=function(){function t(){}return t.vO=function(t){return t===ST.uO?this.SO:t===ST.sO?this.RO:t===ST.YN?this.IO:t===ST.oO?this.AO:this.OO},t}();function MT(t){var n=[t.vk,t.DO,t.CO];switch(t.DO){case xT.PO:n.push(t.Pl);break;case xT.xO:n.push(t.dw),n.push(t.du);break;case xT.LO:n.push(t.du)}return n}LT.OO="The license for this player is invalid.",LT.IO="The usage license for this video player has expired.",LT.SO="The current domain is incompatible with the license for this player.",LT.RO="The provided video source is incompatible with the license for this player.",LT.AO="The requested feature is not available with the license for this player.",function(t){t[t.PO=1]="PO",t[t.xO=4]="xO",t[t.LO=5]="LO"}(xT||(xT={}));for(var BT=new Array(256),FT=0;FT<256;FT+=1)BT[FT]=(FT<16?"0":"")+FT.toString(16);function UT(){var t=Rn(),n=(4294967296*v.random()|0)+t&3029421624,i=(4294967296*v.random()|0)+t&3595553209,e=(4294967296*v.random()|0)+t&1130486254,r=(4294967296*v.random()|0)+t&1284287105;return BT[255&n]+BT[n>>>8&255]+BT[n>>>16&255]+BT[n>>>24&255]+"-"+BT[255&i]+BT[i>>>8&255]+"-"+BT[i>>>16&15|64]+BT[i>>>24&255]+"-"+BT[63&e|128]+BT[e>>>8&255]+"-"+BT[e>>>16&255]+BT[e>>>24&255]+BT[255&r]+BT[r>>>8&255]+BT[r>>>16&255]+BT[r>>>24&255]}var VT=function(){function t(t){this.HN=void 0,this.HN=t}var n=t.prototype;return n.qN=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.HN.indexOf(t.charAt(n))<<18|this.HN.indexOf(t.charAt(n+1))<<12|(u=this.HN.indexOf(t.charAt(n+2)))<<6|(s=this.HN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.WN=function(t){var n,i,e,r,u,s,o,c=[],h="";if((s=t.length%3)>0)for(;s++<3;)h+=this.HN.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=n>>12&63,r=n>>6&63,u=63&n,c[s/3]=this.HN.charAt(i)+this.HN.charAt(e)+this.HN.charAt(r)+this.HN.charAt(u);return(o=c.join("")).slice(0,o.length-h.length)+h},t}();function HT(){return st.Te()}VT.um=new VT(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),VT.zN=new VT(VT.um.qN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var qT,WT="theoplayer-session-id";function zT(){if(!qT){var t=Xc.pu(WT);t?qT=t:(qT=UT(),Xc.dh(WT,qT))}return qT}var GT=/[^\x00-\x7E]/g;function $T(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}(e,r/e.length)),e.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var jT=0,YT=1,XT=6e4;function KT(t){var n,i,e,r,u,s=(n=function(t){return[t.MO,t.vc,t.KN,t.Sp,t.BO,t.FO,t.UO.map(MT)]}(t),i=[],e=n,r=function(t,n){if(Ct(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,u).replace(GT,$T));return VT.zN.WN(s)}var JT=function(){function t(t,n,i,e,r,u){var s=this;void 0===e&&(e=VT.um),void 0===r&&(r=jT),void 0===u&&(u=YT),this.VO=[],this.HO=null,this.qO=0,this.WO="unknown",this.so=0,this.zO=void 0,this.GO=function(){HT()-s.qO>XT&&s.H()},this.$O=function(){s.H(!0)},this.Do=t,this.lT=n,this.jO=i,this.YO=e,this.XO=r,this.KO=u,Q.ct(this.$O),this.zO=c(this.GO,XT)}var n=t.prototype;return n.JO=function(){return Boolean(this.BO)},n.QO=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.jO.ZO());case 2:if(i.sent.rO){i.next=5;break}return i.abrupt("return");case 5:return n={DO:xT.PO,CO:Rn(),Pl:t},i.next=8,wr.awrap(this.tD(n));case 8:case"end":return i.stop()}},null,this,null,G)},n.nD=function(t,n){var i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={DO:xT.xO,CO:Rn(),dw:n,du:t},e.next=3,wr.awrap(this.tD(i));case 3:case"end":return e.stop()}},null,this,null,G)},n.iD=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={DO:xT.LO,CO:Rn(),du:t},i.next=3,wr.awrap(this.tD(n));case 3:case"end":return i.stop()}},null,this,null,G)},n.tD=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.jO.ZO());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.YO.WN(n.KN)){i.next=6;break}if(t.DO===xT.LO){i.next=6;break}return i.abrupt("return");case 6:if(t.DO===xT.PO?this.eD():this.JO()||this.eD(),t.vk=this.so++,this.VO.push(t),(e=t.DO)!==xT.PO&&e!==xT.LO){i.next=14;break}return i.next=12,wr.awrap(this.H());case 12:i.next=19;break;case 14:if(!(this.VO.length>this.XO)){i.next=19;break}return i.next=17,wr.awrap(this.rD());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,G)},n.H=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.VO.length>0)){n.next=6;break}return n.next=4,wr.awrap(this.rD(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,G)},n.uD=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.jO.ZO());case 2:return n=i.sent,i.abrupt("return",{MO:Rn(),vc:zT(),KN:this.YO.WN(n.KN)||"dev",Sp:this.Do,BO:this.HO,FO:this.WO,UO:t});case 4:case"end":return i.stop()}},null,this,null,G)},n.rD=function(t){var n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.VO.splice(0,this.KO),e.next=4,wr.awrap(this.uD(n));case 4:i=e.sent,t?this.od(i):this.sD(i),this.qO=HT();case 7:case"end":return e.stop()}},null,this,null,G)},n.sD=function(t){var n,i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=KT(t),i=new xd({Bf:"https://license.theoplayer.com",mf:n,ud:!1,Cf:th.si,Df:{"Content-Type":xp.$E},nd:4e3,td:Nd.POST}),r.prev=2,r.next=5,wr.awrap(this.lT.Lf(i));case 5:return e=r.sent,r.next=8,wr.awrap(e.gf());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],G)},n.od=function(t){var n=KT(t);this.lT.od({Bf:"https://license.theoplayer.com",mf:n,_f:xp.$E})},n.eD=function(){this.JO()&&this.H(),this.HO=UT(),this.so=0},n.et=function(){Q.ht(this.$O),h(this.zO),this.H()},at(t,[{key:"UO",get:function(){return this.VO}},{key:"BO",get:function(){return this.HO}}]),t}();var QT=St.Mn||St.kn&&St.qn<13;function ZT(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var tE=function(){function t(t){this.rI=void 0,this.Sv=void 0,this.oD=void 0,this.rI=t}var n=t.prototype;return n.cD=function(t){if(!t||!t.drawImage)return!1;var n=this.rI.sg();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.hD=function(t,n,i,r,u,s){if(!t||!t.texImage2D)return!1;var o=this.rI,c=o.sg();if(!c)return!1;if(QT){this.oD||(this.oD=e.createElement("canvas"));var h=this.oD,f=h.getContext("2d"),d=o.bw,v=o.pw,l=h.width,w=h.height;f.clearRect(0,0,h.width,h.height),l===d&&w===v||(h.width=d,h.height=v),f.drawImage(c,0,0,d,v);var g=!1;d>0&&ZT(f,d-1,0)&&(h.width=l,g=!0),v>0&&ZT(f,0,v-1)&&(h.height=w,g=!0),g&&f.drawImage(c,0,0,d,v),c=h}try{t.texImage2D(n,i,r,u,s,c)}catch(t){throw new a("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},at(t,[{key:"Rv",get:function(){return this.Sv||(this.Sv=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.cD.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,u,s){return t.hD(n,i,e,r,u,s)}}));var t}}]),t}(),nE=function(t){function n(n,i){var e;return(e=t.call(this,"aD")||this).by=n,e.ub=i,e}return dt(n,t),n.prototype.Iv=function(){return new iE(this.by,this.ub)},n}(Tl),iE=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return dt(n,t),n}(Pu),eE=function(t,n){this.gg=void 0,this.fD=void 0,this.gg=t,this.fD=n},rE=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).dD=void 0,e.vD=0,e.lD=0,e.wD=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.lD=n.width,e.vD=n.height,e.fD(e.lD,e.vD)}},e.dD=new Z.ResizeObserver(e.wD),e.dD.observe(e.gg),e}return dt(n,t),n.prototype.et=function(){this.dD.disconnect()},at(n,[{key:"gD",get:function(){return this.vD}},{key:"yD",get:function(){return this.lD}}]),n}(eE),uE=0;var sE,oE=o,cE=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,hE=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function aE(){return sE||(sE=Z&&Z.document&&Z.document.createElement("span")),sE}cE&&hE||(cE=function(t){var n=HT(),i=v.max(0,16-(n-uE)),e=s(function(){return t(n+i)},i);return uE=n+i,e},hE=oE),cE=cE.bind(t),hE=hE.bind(t);var fE=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==Z&&"function"==typeof Z.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});Z.addEventListener("testPassiveEventSupport",Ft,n),Z.removeEventListener("testPassiveEventSupport",Ft,n)}}catch(t){}}();var dE=_r();function vE(t){return dE.has(t)||dE.set(t,function(t){var n=aE();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<fE.length;e++){var r=fE[e],u=r+i;if(void 0!==n.style[u])return u}return t}(t)),dE.get(t)}function lE(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function wE(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[vE("transition")]="0s"}var gE=function(t){function n(n,r,u){var o;(o=t.call(this,n,r)||this)._D=void 0,o.mD=0,o.lD=NaN,o.vD=NaN,o.pD=void 0,o.bD=void 0,o.kD=void 0,o.TD=void 0,o.ED=void 0,o.nl=function(){o.bD.style.width=1e5+"px",o.bD.style.height=1e5+"px",o.pD.scrollLeft=1e5,o.pD.scrollTop=1e5,o.kD.scrollLeft=1e5,o.kD.scrollTop=1e5,0===o.kD.scrollTop&&cE(o.nl)},o.SD=function(){var t=o.yD,n=o.gD;o.fD(t,n),o.lD=t,o.vD=n,o.nl(),o.mD=0},o.RD=function(){if(!o.mD){var t=o.yD,n=o.gD;t===o.lD&&n===o.vD||(o.mD=cE(o.SD))}},o.ND=function(){o.ED||(o.ED=s(o.OD,66))},o.OD=function(){o.ED=void 0,o.DD()},o.DD=function(){o.RD()};var c=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==c||(n.style.position="relative");var h,a=e.createElement("div");return o._D=a,o.pD=e.createElement("div"),o.bD=e.createElement("div"),o.kD=e.createElement("div"),o.TD=e.createElement("div"),lE(o.pD),lE(o.kD),wE(o.bD),wE(h=o.TD),h.style.width="200%",h.style.height="200%",a.appendChild(o.pD),a.appendChild(o.kD),o.pD.appendChild(o.bD),o.kD.appendChild(o.TD),n.appendChild(a),o.pD.addEventListener("scroll",o.RD),o.kD.addEventListener("scroll",o.RD),i&&i.addEventListener("resize",o.ND),o.RD(),o}return dt(n,t),n.prototype.et=function(){hE(this.mD),this.mD=0,this.pD.removeEventListener("scroll",this.RD),this.kD.removeEventListener("scroll",this.RD),Ge(this._D),i&&i.removeEventListener("resize",this.ND)},at(n,[{key:"gD",get:function(){return this.gg.getBoundingClientRect().height||this.vD||0}},{key:"yD",get:function(){return this.gg.getBoundingClientRect().width||this.lD||0}}]),n}(eE),yE=function(t){function n(n){var i;return(i=t.call(this)||this).gg=void 0,i.dD=void 0,i.wD=function(t,n){i.Jr(new nE(t,n))},i.gg=n,i}dt(n,t);var i=n.prototype;return i.mc=function(t){this.dD||("function"==typeof Z.ResizeObserver?this.dD=new rE(this.gg,this.wD):this.dD=new gE(this.gg,this.wD,t))},i.et=function(){this.nu(),this.dD&&(this.dD.et(),this.dD=void 0)},at(n,[{key:"gD",get:function(){return this.dD?this.dD.gD:0}},{key:"yD",get:function(){return this.dD?this.dD.yD:0}}]),n}(Du),_E=function(t){function n(){return t.call(this,Xb.Uv)||this}return dt(n,t),n}(Pu);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{CD:i[0],PD:i[1],xD:i[2],LD:i[3],MD:i[4],BD:i[5]}}}();var mE=function(t){function n(){return t.call(this,Xb.oA)||this}return dt(n,t),n}(Pu),pE=function(t){function n(n,i){var e;return(e=t.call(this)||this).rI=void 0,e.FD=void 0,e.UD=void 0,e.VD=!1,e.HD=function(){return e.cc()},e.BA=function(t){e.VD||e.Jr(t)},e.rI=n,e.FD=i,e.UD=tk,e.qD(),e.rI.Qr(Zc.Sh,e.HD),e.cc(),e}dt(n,t);var i=n.prototype;return i.$g=function(){this.FD&&this.UD.$g()},i.Yg=function(){this.UD.Yg()},i.qD=function(){this.UD.Qr(Xb.Uv,this.BA),this.UD.Qr(Xb.kl,this.Kr)},i.WD=function(){this.UD.iu(Xb.Uv,this.BA),this.UD.iu(Xb.kl,this.Kr)},i.cc=function(){var t=this.UD,n=this.rI.og();if(t!==n){this.VD=!0;var i=this.cA,e=this.hA;i&&this.Yg(),this.WD(),this.UD=n,this.qD(),i&&!this.cA&&this.hA?this.$g():this.Yg(),this.VD=!1,e!==this.hA&&this.Jr(new mE),i!==this.cA&&this.Jr(new _E)}},i.et=function(){this.nu(),this.WD(),this.rI.iu(Zc.Sh,this.HD)},at(n,[{key:"hA",get:function(){return!!this.FD&&this.UD.hA}},{key:"cA",get:function(){return this.UD.cA}}]),n}(Du);function bE(t){var n;return{get url(){return t.Bf},get method(){return t.td},get headers(){return n||(n=t.Df.ta()),n},get body(){return t.mf},get useCredentials(){return t.ud},get type(){return RE(t._r)},get subType(){return AE(t.ed)},get mediaType(){return OE(t.rd)},get responseType(){return TE(t.Cf)}}}function kE(t){switch(t.toLowerCase()){case"arraybuffer":return th.Jh;case"json":return th.Qh;case"stream":return th.Zh;case"text":default:return th.si}}function TE(t){return t}function EE(t){switch(t.toUpperCase()){case"POST":return Nd.POST;case"PUT":return Nd.PUT;case"DELETE":return Nd.DELETE;case"HEAD":return Nd.HEAD;case"OPTIONS":return Nd.OPTIONS;case"GET":default:return Nd.GET}}function SE(t){switch(t.toLowerCase()){case"manifest":return Od.Vf;case"segment":return Od.Hf;case"content-protection":return Od.qf;default:return Od.Uf}}function RE(t){return t}function IE(t){switch(t.toLowerCase()){case"initialization-segment":return Dd.Wf;case"fairplay-license":return Dd.zf;case"fairplay-certificate":return Dd.Gf;case"widevine-license":return Dd.$f;case"widevine-certificate":return Dd.jf;case"playready-license":return Dd.Yf;case"clearkey-license":return Dd.Xf;case"aes128-key":return Dd.Kf;default:return Dd.Uf}}function AE(t){return t}function NE(t){switch(t.toLowerCase()){case"audio":return Cd.Jf;case"video":return Cd.Qf;case"text":return Cd.si;case"image":return Cd.Zf;case"":default:return Cd.Uf}}function OE(t){return t}var DE=function(){function t(t,n){this.zD=new qs,this.GD=[],this.Sv=void 0,this.$D=!1,this.bd=void 0,this.jD=0,this.YD=t,this.XD=n}var n=t.prototype;return n.lp=function(){this.$D=!0,this.zD.Mu(null)},n.KD=function(){this.zD.Bu(new cd(this.GD))},n.JD=function(t){if(!this.QD)throw new f("Cannot respond more than once");if(!Ct(t))throw new f("Expected valid response");this.bd=this.ZD(t),this.lp()},n.tC=function(){try{var t=this.XD(this.Rv);t?this.nC(t):this.iC||this.eC||this.lp()}catch(t){this.GD.push(t),this.KD()}},n.nC=function(t){if(this.eC)throw new a("Request has been redirected or a response already exists");if(Mt(t))this.rC(t);else{if("function"!=typeof t)throw new f("Expected promise or function");var n=new qs;try{var i=t(function(t){t?n.Bu(t):n.Mu(void 0)});Mt(i)&&n.Mu(i)}catch(t){n.Bu(t)}this.rC(n.Pu)}},n.rC=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.jD++,n.next=4,wr.awrap(t);case 4:this.jD--,this.iC||this.eC||(this.GD.length?this.KD():this.lp()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.jD--,this.GD.push(n.t0),this.iC||this.eC||this.KD();case 13:case"end":return n.stop()}},null,this,[[0,8]],G)},at(t,[{key:"uC",get:function(){return this.zD.Pu}},{key:"Rv",get:function(){return this.Sv||(this.Sv=this.sC()),this.Sv}},{key:"eC",get:function(){return this.$D}},{key:"QD",get:function(){return!this.$D}},{key:"iC",get:function(){return this.jD>0}},{key:"kd",get:function(){return this.bd}}]),t}(),CE=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).oC=void 0,r.oC=e,r.tC(),r}dt(n,t),n.cC=function(t,n,i){var e=void 0===t.body?i:t.body;return new Pd({Li:e,Lf:n.Lf,Cf:n.Lf.Cf,Df:t.headers,Of:t.status,Pf:t.statusText,Mf:t.url,xf:!0},n)};var i=n.prototype;return i.sC=function(){return i=bE((t=this).Lf),{get closed(){return!t.QD},get request(){return i},get url(){return t.Bf},get status(){return t.Of},get statusText(){return t.Pf},get headers(){return n||(n=t.Df.ta()),n},get body(){return t.mf},respondWith:function(n){return t.JD(n)},waitUntil:function(n){return t.nC(n)}};var t,n,i},i.ZD=function(t){return n.cC(t,this.YD,this.oC)},at(n,[{key:"mf",get:function(){return this.oC}},{key:"Df",get:function(){return this.YD.Df}},{key:"Lf",get:function(){return this.YD.Lf}},{key:"kd",get:function(){return this.bd}},{key:"Of",get:function(){return this.YD.Of}},{key:"Pf",get:function(){return this.YD.Pf}},{key:"Bf",get:function(){return this.YD.Mf}}]),n}(DE),PE=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).hC=void 0,r.aC=void 0,r.aC=e,r.tC(),r}dt(n,t);var i=n.prototype;return i.sC=function(){return t=this,{get url(){return t.Bf},get method(){return t.td},get headers(){return n||(n=t.Df.ta()),n},get body(){return t.mf},get closed(){return!t.QD},get useCredentials(){return t.ud},get type(){return RE(t._r)},get subType(){return AE(t.ed)},get mediaType(){return OE(t.rd)},get responseType(){return TE(t.Cf)},redirect:function(n){return t.fC(n)},respondWith:function(n){return t.JD(n)},waitUntil:function(n){return t.nC(n)}};var t,n},i.ZD=function(t){var n=this.YD.mf,i=new Pd({Li:n,Df:{},Lf:this.YD,Mf:this.YD.Bf,Cf:this.YD.Cf,Of:200,Pf:"OK"});return CE.cC(t,i,n)},i.fC=function(t){if(!this.QD)throw new f("Cannot redirect, already redirected or has a response");var n;n=xt(t)?{url:t}:t,this.hC=function(t,n){return new xd({Bf:void 0===t.url?n.Bf:t.url,td:void 0!==t.method?EE(t.method):void 0,Df:t.headers,mf:t.body,ud:t.useCredentials,_r:void 0!==t.type?SE(t.type):void 0,ed:void 0!==t.subType?IE(t.subType):void 0,rd:void 0!==t.mediaType?NE(t.mediaType):void 0,Cf:void 0!==t.responseType?kE(t.responseType):void 0},n)}(n,this.YD),this.lp()},at(n,[{key:"mf",get:function(){return this.YD.mf}},{key:"QD",get:function(){return this.aC&&!this.$D}},{key:"Df",get:function(){return this.YD.Df}},{key:"td",get:function(){return this.YD.td}},{key:"dC",get:function(){return this.hC}},{key:"kd",get:function(){return this.bd}},{key:"Cf",get:function(){return this.YD.Cf}},{key:"nd",get:function(){return this.YD.nd}},{key:"$r",get:function(){return this.YD.$r}},{key:"_r",get:function(){return this.YD._r}},{key:"ed",get:function(){return this.YD.ed}},{key:"rd",get:function(){return this.YD.rd}},{key:"Bf",get:function(){return this.YD.Bf}},{key:"ud",get:function(){return this.YD.ud}},{key:"sd",get:function(){return this.YD.sd}}]),n}(DE);var xE,LE=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new ME(n);return(e=t.call(this,r,i)||this).vC=void 0,e.vC=r,e}dt(n,t);var i=n.prototype;return i.lC=function(t){this.vC.lC(t)},i.wC=function(t){this.vC.wC(t)},i.gC=function(t){this.vC.gC(t)},i.yC=function(t){this.vC.yC(t)},i._C=function(t){this.vC._C(t)},n}(Md),ME=function(){function t(t){this.hd=void 0,this.mC=[],this.pC=[],this.hd=t}var n=t.prototype;return n.Lf=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wr.awrap(this.bC(t,t.$r));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof Wd)){i.next=12;break}return i.next=11,wr.awrap(this.kC(i.t0,t.$r));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,wr.awrap(this.TC(n,t.$r));case 15:if(!Ad(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new Gd(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],G)},n.od=function(t){return this.hd.od(t)},n.bC=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:_u(n),i=t,r=0,u=this.mC.slice();case 3:if(!(r<u.length)){c.next=21;break}if(s=u[r],_u(n),(o=new PE(i,s,!e)).eC){c.next=17;break}return c.prev=8,c.next=11,wr.awrap(o.uC);case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(8),c.abrupt("continue",18);case 17:o.dC&&!e?i=o.dC:o.kd&&!e&&(e=o.kd);case 18:r++,c.next=3;break;case 21:if(!e){c.next=23;break}return c.abrupt("return",e);case 23:return c.abrupt("return",this.hd.Lf(i));case 24:case"end":return c.stop()}},null,this,[[8,13]],G)},n.kC=function(t,n){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof Gd?t.kd:new Pd({Li:null,Lf:t.Lf,Of:0,Pf:""}),r.next=3,wr.awrap(this.TC(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!Ad(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new Gd(e);case 13:case"end":return r.stop()}},null,this,null,G)},n.TC=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=t,e=0,r=this.pC.slice();case 2:if(!(e<r.length)){c.next=23;break}return u=r[e],_u(n),c.next=7,wr.awrap(G.resolve(i.Au().Li(n)));case 7:if(s=c.sent,(o=new CE(i,u,s)).eC){c.next=19;break}return c.prev=10,c.next=13,wr.awrap(o.uC);case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(10),c.abrupt("continue",20);case 19:i=o.kd||i;case 20:e++,c.next=2;break;case 23:return c.abrupt("return",i);case 24:case"end":return c.stop()}},null,this,[[10,15]],G)},n.lC=function(t){this.mC.unshift(t)},n.wC=function(t){this.mC.push(t)},n.gC=function(t){hu(this.mC,t)},n.yC=function(t){this.pC.unshift(t)},n._C=function(t){hu(this.pC,t)},n.et=function(){this.hd.et(),vu(this.mC),vu(this.pC)},t}(),BE=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Sv=void 0,r.EC=function(t){r.Jr(t)},r.SC=function(t){r.Jr(t)},r.RC=n,r.lT=i,r.mA=e,r.RC.Qr(Zc.Dh,r.EC),r.RC.Qr(Zc.Oh,r.SC),r}dt(n,t);var i=n.prototype;return i.IC=function(t){this.mA.IC(t)},i.lC=function(t){this.lT.lC(t)},i.gC=function(t){this.lT.gC(t)},i.yC=function(t){this.lT.yC(t)},i._C=function(t){this.lT._C(t)},i.et=function(){this.nu(),this.RC.iu(Zc.Dh,this.EC),this.RC.iu(Zc.Oh,this.SC)},at(n,[{key:"Rv",get:function(){var t;return this.Sv||(this.Sv=(t=this,{get online(){return t.Sg},get estimator(){return n=t.AC,{get bandwidth(){return n.NS},get roundTripTime(){return n.OS}};var n},setEstimator:function(n){t.IC(function(t){if(t)return{get NS(){return Gl(t.bandwidth)},get OS(){return Gl(t.roundTripTime)},AS:function(n){return function(t){if(t)return{NC:function(n){t.markRequestStart(n)},OC:function(n){t.markResponseStart(n)},DC:function(n,i){t.markResponseData(n,i)},CC:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(bE(n)))}}}(n))},addRequestInterceptor:function(n){t.lC(n)},removeRequestInterceptor:function(n){t.gC(n)},addResponseInterceptor:function(n){t.yC(n)},removeResponseInterceptor:function(n){t._C(n)},addEventListener:function(n,i){t.Qr(n,i)},removeEventListener:function(n,i){t.iu(n,i)}})),this.Sv}},{key:"Sg",get:function(){return this.RC.Sg}},{key:"AC",get:function(){return this.mA.AC}}]),n}(Du);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(xE||(xE={}));var FE=30,UE={type:xE.BANDWIDTH},VE=20;function HE(t){var n,i,e,r=Ul(UE);return xt(t)?r.type=qE(t):Ct(t)&&function(t){switch(t){case xE.PERFORMANCE:case xE.QUALITY:case xE.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=qE(t.type)),Ct(t)&&Ct(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=zl(n.bitrate),g(e)||(i.bitrate=e),i)),r}function qE(t){switch(t){case"bandwidth":return xE.BANDWIDTH;case"performance":return xE.PERFORMANCE;case"quality":return xE.QUALITY}}var WE=function(t){function n(n){var i;return(i=t.call(this,"LC")||this).xC=n,i}return dt(n,t),n}(Pu),zE=function(t){function n(n){var i;return(i=t.call(this,"BC")||this).MC=n,i}return dt(n,t),n}(Pu),GE=function(t){function n(n){var i;return(i=t.call(this,"UC")||this).FC=n,i}return dt(n,t),n}(Pu),$E=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(n=t.call.apply(t,[this].concat(r))||this).Sv=(i=On(n),{get strategy(){return{metadata:(t=i.MC).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.MC=HE(t)},get targetBuffer(){return i.xC},set targetBuffer(t){var n=zl(t);g(n)||(i.xC=n)},get bufferLookbackWindow(){return i.FC},set bufferLookbackWindow(t){var n=zl(t);g(n)||(i.FC=n<=0?FE:n)},get maxBufferLength(){return i.VC}}),n.HC=UE,n.qC=VE,n.WC=FE,n.zC=1/0,n.GC=void 0,n.$C=void 0,n}dt(n,t);var i=n.prototype;return i.jC=function(t){this.$C=t},i.IC=function(t){this.GC=t},i.YC=function(t){var n=v.min(t,.8*this.zC);if(n=v.max(10,n),this.zC===n)return!1;var i=this.XC;this.zC=n;var e=this.XC;return e!==i&&this.Jr(new WE(e)),!0},at(n,[{key:"KC",get:function(){switch(this.HC.type){case xE.PERFORMANCE:return 0;case xE.QUALITY:return 1/0;case xE.BANDWIDTH:return this.HC.metadata&&void 0!==this.HC.metadata.bitrate?this.HC.metadata.bitrate:8*lw.Gl();default:return 8*lw.Gl()}}},{key:"Rv",get:function(){return this.Sv}},{key:"MC",get:function(){return this.HC},set:function(t){this.HC=t,this.Jr(new zE(t))}},{key:"xC",get:function(){return this.qC},set:function(t){this.qC=t,this.Jr(new WE(t))}},{key:"XC",get:function(){return v.min(this.qC,this.zC)}},{key:"FC",get:function(){return this.WC},set:function(t){this.WC=t,this.Jr(new GE(t))}},{key:"VC",get:function(){return this.zC}},{key:"AC",get:function(){var t;return null!=(t=this.GC)?t:this.$C.zR}}]),n}(Du),jE=function(t){function n(){return t.call(this,"Vv")||this}return dt(n,t),n.prototype.Iv=function(){return new YE},n}(Tl),YE=function(t){function n(){return t.call(this,"change")||this}return dt(n,t),n}(Pu),XE=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).JC=void 0,r.VO=void 0,r.QC=function(t){El(t)&&Eu(function(){r.Jr(t.Rv)})},r.JC=n,r.VO=i;for(var u=0,s=r.VO;u<s.length;u++){var o=s[u];r.JC.Qr(o,r.QC)}return r}return dt(n,t),n.prototype.et=function(){this.nu();for(var t=0,n=this.VO;t<n.length;t++){var i=n[t];this.JC.iu(i,this.QC)}},n}(Du),KE=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).JC=void 0,e.QC=function(t){El(t)&&Eu(function(){e.Jr(t.Rv)})},e.JC=n,e.JC.tu(e.QC),e}return dt(n,t),n.prototype.et=function(){this.nu(),this.JC.uu(this.QC)},n}(aw),JE=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n}(KE);var QE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Zg=0,n.ty=1/0,n.Sv=void 0,n}dt(n,t);var i=n.prototype;return i.nl=function(){0===this.Zg&&this.ty===1/0||(this.Zg=0,this.ty=1/0,this.Jr(new jE))},i.ZC=function(){return new Jb([this.Kg,this.Jg],[!0,!0])},at(n,[{key:"Kg",get:function(){return this.Zg},set:function(t){if(this.Jg<=t)throw new a("Start time of a clip should be smaller than the end time.");this.Zg!==t&&(this.Zg=t,this.Jr(new jE))}},{key:"Jg",get:function(){return this.ty},set:function(t){if(t<=this.Kg)throw new a("End time of a clip should be larger than the start time.");this.ty!==t&&(this.ty=t,this.Jr(new jE))}},{key:"Rv",get:function(){var t,n,i;return this.Sv||(this.Sv=(i={get startTime(){return t.Kg},set startTime(n){t.Kg=n},get endTime(){return t.Jg},set endTime(n){t.Jg=n},addEventListener:function(t,i){n.Qr(t,i)},removeEventListener:function(t,i){n.iu(t,i)}},n=new KE(t=this,i),i)),this.Sv}}]),n}(aw),ZE=function(t){function n(n){var i;return(i=t.call(this)||this).tP=function(t){i.nP(t)||i.Jr(t)},i.iP=n,i.iP.tu(i.tP),i}dt(n,t);var i=n.prototype;return i.eP=function(){return this.iP.$w},i.cg=function(){return this.iP.cg()},i.rP=function(){return this.iP.lg},i.uP=function(){return this.iP.dg},i.sP=function(){return this.iP.wg},i.oP=function(t){this.iP.wg=t},i.cP=function(){return this.iP.dw},i.hP=function(t){this.iP.dw=t},i.aP=function(){return this.iP.vw},i.fP=function(){return this.iP.gg},i.dP=function(){return this.iP.lw},i.vP=function(){return this.iP.du},i.lP=function(){return this.iP.ww},i.wP=function(){return this.iP.yg},i.gP=function(){return this.iP.gw},i.yP=function(t){this.iP.gw=t},i._P=function(){return this.iP.Sg},i.mP=function(){return this.iP.yw},i.pP=function(){return this.iP._w},i.bP=function(t){this.iP._w=t},i.kP=function(){return this.iP.Rg},i.TP=function(){return this.iP.Ig},i.EP=function(t){this.iP.Ig=t},i.SP=function(){return this.iP.Ol},i.RP=function(){return this.iP.Ag},i.IP=function(){return this.iP.mw},i.Jw=function(){return this.iP.Jw()},i.Qw=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return _u(n),i.next=3,wr.awrap(this.iP.Qw(t,n));case 3:case"end":return i.stop()}},null,this,null,G)},i.AP=function(){return this.iP.Yw},i.NP=function(){return this.iP.pw},i.OP=function(){return this.iP.jw},i.DP=function(){return this.iP.bw},i.CP=function(){return this.iP.kw},i.PP=function(t){this.iP.kw=t},i.og=function(){return this.iP.og()},i.sg=function(){return this.iP.sg()},i.ig=function(t){this.iP.ig(t)},i.eg=function(){this.iP.eg()},i.ug=function(){this.iP.ug()},i.st=function(){this.iP.st()},i.K=function(){this.iP.K()},i.X=function(){this.iP.X()},i.rg=function(){this.iP.rg()},i.Kw=function(){return this.iP.Kw()},i.Zw=function(){return this.iP.Zw()},i.tg=function(){this.iP.tg()},i.ng=function(){this.iP.ng()},i.nl=function(){return this.iP.nl()},i.et=function(){return this.iP.et()},i.vg=function(){this.iP.vg()},i.hg=function(t){return this.iP.hg(t)},i.nP=function(t){return!1},at(n,[{key:"$w",get:function(){return this.eP()}},{key:"lg",get:function(){return this.rP()}},{key:"wg",get:function(){return this.sP()},set:function(t){this.oP(t)}},{key:"dg",get:function(){return this.uP()}},{key:"dw",get:function(){return this.cP()},set:function(t){this.hP(t)}},{key:"vw",get:function(){return this.aP()}},{key:"gg",get:function(){return this.fP()}},{key:"lw",get:function(){return this.dP()}},{key:"du",get:function(){return this.vP()}},{key:"ww",get:function(){return this.lP()}},{key:"Xw",get:function(){return this.iP.Xw}},{key:"yg",get:function(){return this.wP()}},{key:"_g",get:function(){return this.iP._g}},{key:"gw",get:function(){return this.gP()},set:function(t){this.yP(t)}},{key:"Sg",get:function(){return this._P()}},{key:"yw",get:function(){return this.mP()}},{key:"_w",get:function(){return this.pP()},set:function(t){this.bP(t)}},{key:"Rg",get:function(){return this.kP()}},{key:"Ig",get:function(){return this.TP()},set:function(t){this.EP(t)}},{key:"Ol",get:function(){return this.SP()}},{key:"Ag",get:function(){return this.RP()}},{key:"mw",get:function(){return this.IP()}},{key:"Yw",get:function(){return this.AP()}},{key:"pw",get:function(){return this.NP()}},{key:"jw",get:function(){return this.OP()}},{key:"bw",get:function(){return this.DP()}},{key:"kw",get:function(){return this.CP()},set:function(t){this.PP(t)}},{key:"Ng",get:function(){return this.iP.Ng}},{key:"Og",get:function(){return this.iP.Og},set:function(t){this.iP.Og=t}}]),n}(fw),tS=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).xP=void 0,r.LP=!1,r.MP=void 0,r.BP=!1,r.FP=function(){r.UP(),r.VP()},r.sR=function(){r.HP(),r.VP(),r.qP&&r.dw>=r.xP.Jg-n.WP&&!r.lw&&(r.MP=cE(r.sR))},r.zP=function(){r.BP=!0},r.GP=function(){r.BP&&(r.BP=!1,r.VP())},r.xP=e,r.xP.Qr("Vv",r.FP),r.iP.Qr("timeupdate",r.sR),r}dt(n,t);var i=n.prototype;return i.hP=function(n){var i=this.xP.ZC().CI(n);t.prototype.hP.call(this,i),this.VP()},i.dP=function(){return t.prototype.dP.call(this)||this.LP},i.RP=function(){return Jb.eA(t.prototype.RP.call(this)).MI(this.xP.ZC()).UR()},i.X=function(){this.dP()?this.hP(this.$P.start(0)):this.UP(),t.prototype.X.call(this),this.VP()},i.Qw=function(n,i){return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return _u(i),this.LP=!1,this.xP.nl(),e.next=5,wr.awrap(t.prototype.Qw.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,G)},i.et=function(){return this.xP.iu("Vv",this.FP),this.iP.iu("timeupdate",this.sR),this.HP(),t.prototype.et.call(this)},i.nP=function(n){switch(n.type){case"seeking":return this.Jr(n),this.zP(),!0;case"seeked":case"emptied":return this.Jr(n),this.GP(),!0;case"ended":if(this.qP)return!0}return t.prototype.nP.call(this,n)},i.HP=function(){this.MP&&(hE(this.MP),this.MP=void 0)},i.VP=function(){var t=this.dw,i=this.qP&&t>=this.xP.Jg-n.N_;this.LP&&!i?(this.LP=!1,this.yw&&this.X()):this.LP||!i||this.mw||this.BP||(this.LP=!0,this.Jr(new Gw(t)),this.K())},i.UP=function(){if(this.vw!==1/0){var t=this.$P,i=Jb.eA(t).CI(this.dw);En(this.dw,i,n.N_)||this.hP(i)}},at(n,[{key:"$P",get:function(){return this.RP().length?this.RP():this.xP.ZC().UR()}},{key:"qP",get:function(){return this.xP.Jg<this.vw}}]),n}(ZE);tS.WP=1,tS.N_=.001;var nS=function(){function t(){this.jP=void 0,this.jP=!1}return at(t,[{key:"YP",get:function(){return this.jP},set:function(t){this.jP=t}}]),t}(),iS=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).jP=void 0,e.XP=!1,e.KP=!1,e.jP=i,e}dt(n,t);var i=n.prototype;return i.dP=function(){return!this.jP.YP&&t.prototype.dP.call(this)},i.K=function(){this.KP=!0,t.prototype.K.call(this)},i.X=function(){this.KP=!1,t.prototype.X.call(this)},i.nP=function(n){if(this.jP.YP)switch(n.type){case"ended":return this.dw=0,this.KP||(this.mw?this.XP=!0:this.X()),!0;case"seeked":this.XP&&(this.XP=!1,this.X());break;case"pause":if(this.XP||t.prototype.dP.call(this))return!0}return t.prototype.nP.call(this,n)},n}(ZE);var eS=function(){function t(t){var n;this.Sv=(n=this,{get currentBandwidthEstimate(){return n.kg},get corruptedVideoFrames(){return n.pg},get droppedVideoFrames(){return n.mg},get totalBytesLoaded(){return n.Tg},get bufferedSegments(){return n.Eg}}),this.dI=t}return at(t,[{key:"Rv",get:function(){return this.Sv}},{key:"pg",get:function(){return this.dI.JP._g.pg}},{key:"kg",get:function(){return this.dI.JP._g.kg}},{key:"mg",get:function(){return this.dI.JP._g.mg}},{key:"QP",get:function(){throw new a("Not implemented")}},{key:"ZP",get:function(){throw new a("Not implemented")}},{key:"Tg",get:function(){return this.dI.JP._g.Tg}},{key:"bg",get:function(){return this.dI.JP._g.bg}},{key:"Eg",get:function(){return this.dI.JP._g.Eg}}]),t}(),rS=function(t){function n(){return t.call(this,"tx")||this}return dt(n,t),n.prototype.Iv=function(){return new uS},n}(Tl),uS=function(t){function n(){return t.call(this,"castingchange")||this}return dt(n,t),n}(Pu);var sS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).nx=[],n.ix=!1,n.Sv=void 0,n.ex=function(){var t=n.ix,i=n.ux;t!==i&&(n.ix=i,n.Jr(new rS))},n}dt(n,t);var i=n.prototype;return i.sx=function(t){this.nx.push(t),t.Qr("statechange",this.ex)},i.et=function(){for(var t=0,n=this.nx;t<n.length;t++){n[t].iu("statechange",this.ex)}vu(this.nx)},at(n,[{key:"ux",get:function(){return this.nx.some(function(t){return t.ux})}},{key:"Rv",get:function(){var t,n,i;return this.Sv||(this.Sv=(i={get casting(){return t.ux},addEventListener:function(t,i){n.Qr(t,i)},removeEventListener:function(t,i){n.iu(t,i)}},n=new XE(t=this,["tx"],i),i)),this.Sv}}]),n}(Du),oS=function(){function t(){}return t.ox=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,i=new xd({Bf:t,Cf:th.si,td:Nd.GET}),u.next=4,wr.awrap(n.Lf(i));case 4:return e=u.sent,u.next=7,wr.awrap(e.Li());case 7:return r=u.sent,u.abrupt("return",r.trim());case 11:return u.prev=11,u.t0=u.catch(0),yu(u.t0),u.abrupt("return",void 0);case 15:case"end":return u.stop()}},null,null,[[0,11]],G)},t.hx=function(t){try{var i=pT(t);return new RT(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Pc(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.ax=function(t){void 0===t&&(t=VT.um),st.Ne("The baked-in license is used. Please update the configuration with your license.");var n=t.qN(" $'sN:l?_]C-_4DHNjYYCL_YiLdsaHl- ets Ol]CHNg_ODY"),i=["F$(:_L50F|aY",".$U9NLSs.j[6*uC7_4D\"",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.qN(n)}),e=["F$(:_L50F|aY",".$U9NLSs.j[6*uC7_4D\"",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.qN(n)}),r=Number(new Date(Number(t.qN("C:n]aOlSael3Ceo3Co\"\"")))),u=[].map(function(n){return t.qN(n)});return new RT(n,i,e,r,u)},t.convertLicenseToDummyLicense=function(t){return new RT(t.KN,t.JN,t.QN,864e13,t.tO,t.nO,Date.now(),t.eO,t.rO)},t}(),cS=function(){function t(){}return t.vh=function(){return t.ni||(t.ni=hS.Rc()?new hS:new Yc),t.ni},t.Tu=function(n){t.vh().Tu(n)},t.fh=function(){t.vh().fh()},t.pu=function(n){return t.vh().pu(n)},t.dh=function(n,i){t.vh().dh(n,i)},t.vx=function(n){var i=t.pu(n);if(void 0!==i)return w(i)},t.lx=function(n){return"true"===t.pu(n)},t}();cS.ni=void 0;var hS=function(n){function i(){return n.apply(this,arguments)||this}dt(i,n),i.Rc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Tu=function(n){t.localStorage.removeItem(n)},e.fh=function(){t.localStorage.clear()},e.pu=function(n){return t.localStorage[n]},e.dh=function(n,i){t.localStorage[n]=i},i}(cS),aS=v.floor(14399999*v.random()-72e5),fS=function(){function t(t,n,i,e,r,u){this.cO=void 0,this.lT=t,this.wx=n,this.gx=i,this.jO=e,this.yx=r,this.As=u,this.cO=PT(u)}var i=t.prototype;return i._x=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(this.mx(this.yx.license,this.yx.licenseUrl));case 2:t=n.sent,this.jO.bx(t);case 4:case"end":return n.stop()}},null,this,null,G)},i.mx=function(t,i){var e,r,u,s,o,c,h,a,f;return wr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(e=i,t?r=oS.hx(t):e||(r=oS.ax()),e||(e="https://validate.theoplayer.com/1/"+r.KN),u=this.kx(),!r){d.next=14;break}if((s=this.wx.lO(r))!==kT.jN){d.next=14;break}if(!this.Tx(r.ZN)||!this.Tx(null==u?void 0:u.ZN)){d.next=13;break}return d.next=10,wr.awrap(this.Ex(e));case 10:if(!(o=d.sent)){d.next=13;break}return d.abrupt("return",o);case 13:return d.abrupt("return",r);case 14:if(!u){d.next=25;break}if(this.wx.lO(u)!==kT.jN){d.next=24;break}if(!this.Tx(null==u?void 0:u.ZN)){d.next=23;break}return d.next=20,wr.awrap(this.Ex(e));case 20:if(!(c=d.sent)){d.next=23;break}return d.abrupt("return",c);case 23:return d.abrupt("return",u);case 24:cS.Tu("THEOplayer.license");case 25:return d.next=27,wr.awrap(oS.ox(e,this.lT));case 27:if(!(h=d.sent)){d.next=37;break}if(a=oS.hx(h),this.wx.lO(a)!==kT.jN){d.next=34;break}return cS.dh("THEOplayer.license",h),d.abrupt("return",a);case 34:cS.Tu("THEOplayer.license"),d.next=39;break;case 37:if(this.cO||!r||s!==kT.YN||e!=="https://validate.theoplayer.com/1/"+r.KN){d.next=39;break}return d.abrupt("return",oS.convertLicenseToDummyLicense(r));case 39:if(!r&&!a){d.next=43;break}this.Sx(null!=(f=r)?f:a,new Pc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),d.next=44;break;case 43:throw new Pc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return d.stop()}},null,this,null,G)},i.fO=function(t){var n,i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,wr.awrap(this.jO.ZO());case 2:if(n=c.sent,!this.Tx(n.ZN)){c.next=9;break}return e=null!=(i=this.yx.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.KN,c.next=7,wr.awrap(this.Ex(e));case 7:(r=c.sent)&&(this.jO.bx(r),n=r);case 9:if(c.prev=9,(u=this.wx.lO(n))!==kT.XN){c.next=16;break}throw s=ST.uO,new Pc(AT(s),LT.vO(s));case 16:if(u!==kT.YN){c.next=19;break}throw o=ST.YN,new Pc(AT(o),LT.vO(o));case 19:this.wx.fO(t,n),c.next=25;break;case 22:c.prev=22,c.t0=c.catch(9),this.Rx(c.t0);case 25:case"end":return c.stop()}},null,this,[[9,22]],G)},i._O=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.jO.ZO());case 2:n=i.sent;try{this.wx._O(t,n)}catch(t){this.Rx(t)}case 4:case"end":return i.stop()}},null,this,null,G)},i.Ex=function(t){var n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wr.awrap(oS.ox(t,this.lT));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=oS.hx(n),this.wx.lO(i)!==kT.jN){e.next=11;break}return cS.dh("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],G)},i.Tx=function(t){return!t||Number(new Date)+2592e5+aS>=t},i.kx=function(){var t=cS.pu("THEOplayer.license");if(t)return oS.hx(t)},i.Sx=function(t,n){this.jO.bx(t),this.Rx(n)},i.Rx=function(t){throw Yt(t.message),this.gx.iD(t.message),t},t}(),dS=function(){function t(){this.Ix=void 0,this.Ax=new qs}var n=t.prototype;return n.bx=function(t){this.Ix=t,this.Ax.Mu()},n.ZO=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Ix){t.next=2;break}return t.abrupt("return",G.resolve(this.Ix));case 2:return t.next=4,wr.awrap(this.Ax.Pu);case 4:return t.abrupt("return",this.Ix);case 5:case"end":return t.stop()}},null,this,null,G)},at(t,[{key:"Nx",get:function(){return this.Ix}}]),t}(),vS=function(t){function n(){return t.call(this,"Vv")||this}return dt(n,t),n.prototype.Iv=function(){return new lS},n}(Tl),lS=function(t){function n(){return t.call(this,"change")||this}return dt(n,t),n}(Pu);function wS(t){var n,i={get fontFamily(){return t.Ox},set fontFamily(n){t.Ox=n},get fontColor(){return t.Dx},set fontColor(n){t.Dx=n},get fontSize(){return t.Cx},set fontSize(n){t.Cx=n},get backgroundColor(){return t.Px},set backgroundColor(n){t.Px=n},get windowColor(){return t.xx},set windowColor(n){t.xx=n},get edgeStyle(){return t.Lx},set edgeStyle(n){t.Lx=n},get marginTop(){return t.Mx},set marginTop(n){t.Mx=n},get marginBottom(){return t.Bx},set marginBottom(n){t.Bx=n},get marginLeft(){return t.Fx},set marginLeft(n){t.Fx=n},get marginRight(){return t.Ux},set marginRight(n){t.Ux=n},addEventListener:function(t,i){var e=Yl(t,$l);n.Qr(e,i)},removeEventListener:function(t,i){var e=Yl(t,$l);n.iu(e,i)}};return n=new Cu(i),t.Qr(["Vv"],function(t){return n.Jr(t.Rv)}),i}var gS,yS,_S={Ox:void 0,Dx:void 0,Cx:void 0,Px:void 0,xx:void 0,Lx:void 0,Vx:void 0,Mx:void 0,Bx:void 0,Fx:void 0,Ux:void 0},mS="THEOplayer.textTrackStyle.",pS=function(t){function n(){var i;return(i=t.call(this)||this).Hx=void 0,i.Sv=void 0,i.Hx=n.qx(),i}return dt(n,t),n.prototype.cc=function(t){this.Hx=gr({},this.Hx,t),n.Wx(this.Hx),this.Jr(new vS)},n.qx=function(){var t=gr({},_S);return t.Ox=cS.pu(mS+"fontFamily")||t.Ox,t.Dx=cS.pu(mS+"fontColor")||t.Dx,t.Cx=cS.pu(mS+"fontSize")||t.Cx,t.Px=cS.pu(mS+"backgroundColor")||t.Px,t.xx=cS.pu(mS+"windowColor")||t.xx,t.Lx=cS.pu(mS+"edgeStyle")||t.Lx,t},n.Wx=function(t){cS.dh(mS+"fontFamily",t.Ox||""),cS.dh(mS+"fontColor",t.Dx||""),cS.dh(mS+"fontSize",t.Cx||""),cS.dh(mS+"backgroundColor",t.Px||""),cS.dh(mS+"windowColor",t.xx||""),cS.dh(mS+"edgeStyle",t.Lx||"")},at(n,[{key:"zx",get:function(){return this.Hx}},{key:"Ox",get:function(){return this.Hx.Ox},set:function(t){this.cc({Ox:t})}},{key:"Dx",get:function(){return this.Hx.Dx},set:function(t){this.cc({Dx:t})}},{key:"Cx",get:function(){return this.Hx.Cx},set:function(t){this.cc({Cx:t})}},{key:"Px",get:function(){return this.Hx.Px},set:function(t){this.cc({Px:t})}},{key:"xx",get:function(){return this.Hx.xx},set:function(t){this.cc({xx:t})}},{key:"Lx",get:function(){return this.Hx.Lx},set:function(t){this.cc({Lx:t})}},{key:"Vx",get:function(){return this.Hx.Vx}},{key:"Mx",get:function(){return this.Hx.Mx},set:function(t){this.cc({Mx:t})}},{key:"Bx",get:function(){return this.Hx.Bx},set:function(t){this.cc({Bx:t})}},{key:"Ux",get:function(){return this.Hx.Ux},set:function(t){this.cc({Ux:t})}},{key:"Fx",get:function(){return this.Hx.Fx},set:function(t){this.cc({Fx:t})}},{key:"Rv",get:function(){return this.Sv||(this.Sv=wS(this)),this.Sv}}]),n}(Du),bS=function(t){function n(n,i){var e;(e=t.call(this)||this).Gx=void 0,e.gc=void 0,e.JP=void 0,e.$x=void 0,e.pv=void 0,e.xP=void 0,e.jP=void 0,e.jx=void 0,e.Yx=void 0,e.mA=void 0,e.wx=void 0,e.Xx=void 0,e.Kx=void 0,e._A=void 0,e.Jx=!1,e.Uw=!1,e.Mg=void 0,e.Qx=!1,e.Zx=void 0,e.tL=void 0,e.nL=void 0,e.iL=void 0,e.eL=void 0,e.rL=function(t){if(!e.Qx){e.Qx=!0;var n=e.Gx,i=Sg(t);e.JP.fl=new ek(e.gg,i,t),Su(n.et())}},e.uL=function(t){e.Jr(t.Rv)},e.sL=function(t){t.type!==Zc.Dh&&t.type!==Zc.Oh&&e.Jr(t)};var r=zl(i.uid);g(r)?e.Mg=xg++:e.Mg=r,e.gc=i;var u=st.pv,s=new dS;e.$x=new JT("4.6.0",u,s),e.pv=new LE(u,i.allowMixedContent),e.mA=new $E,e.wx=new IT(i.isEmbeddable,"4.6.0",bT()),e.eL=new fS(u,e.wx,e.$x,s,i,bT()),e.eL._x().catch(e.rL),e.Xx=new yE(n),e.Xx.Qr("aD",e.uL),e._A=new pS,e.xP=new QE,e.jP=new nS;var o=new ik(n,i,e.pv,e.mA,e.Xx,e._A);e.mA.jC(o);var c=o;c=new tS(c,e.oL),c=new iS(c,e.YP),e.Gx=c,e.JP=new bg(e.Gx),e.JP.tu(e.sL),e.iL=new eS(On(e)),e.tL=new BE(e.JP,e.pv,e.mA),e.jx=new tE(On(e)),e.Kx=new pE(e.JP,i.allowNativeFullscreen),e.Yx=new bk(e.Kx),e.Xx.mc();var h=new K(e.Xx,e._A,1,[Ig.Qf]);return e.Zx=new J(h),e.nL=new sS,e}dt(n,t);var i=n.prototype;return i.yP=function(t){this.JP.gw=t,t||this.yw||this.st()},i.PP=function(t){this.JP.kw=t},i.cL=function(){rg(this,kk,this)},i.X=function(){this.JP.X()},i.K=function(){this.JP.K()},i.Qw=function(t,n){var i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.eL.fO(t).catch(this.rL),i=kS(t),e.next=5,wr.awrap(this.JP.Qw(i,n));case 5:case"end":return e.stop()}},null,this,null,G)},i.st=function(){this.Uw||(this.JP.st(),this.Zx.st(),this.Uw=!0)},i.cA=function(){return this.Yx.qA()===gk.FULLSCREEN},i.rg=function(){this.JP.rg()},i.ug=function(){this.JP.ug()},i.sg=function(){return this.JP.sg()},i.nl=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.JP.Kw());case 2:return t.next=4,wr.awrap(this.JP.nl());case 4:case"end":return t.stop()}},null,this,null,G)},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nu(),this.nL.et(),this.pv.et(),this.tL.et(),this.Kx.et(),this.Yx.et(),this.Xx.et(),this.$x.et(),this.Zx.et(),t.next=11,wr.awrap(this.JP.et());case 11:case"end":return t.stop()}},null,this,null,G)},at(n,[{key:"hL",get:function(){return this.mA}},{key:"zw",get:function(){return this.Jx},set:function(t){this.Jx=t,this.JP.zw=t}},{key:"aL",get:function(){return this.Zx}},{key:"$w",get:function(){return this.JP.$w}},{key:"fL",get:function(){return this.nL}},{key:"dL",get:function(){return this.Xx}},{key:"Xw",get:function(){return this.JP.Xw}},{key:"_g",get:function(){return this.iL}},{key:"vL",get:function(){return this.tL}},{key:"Yw",get:function(){return this.JP.Yw}},{key:"lL",get:function(){return this._A}},{key:"jw",get:function(){return this.JP.jw}},{key:"lg",get:function(){return this.JP.lg}},{key:"oL",get:function(){return this.xP}},{key:"YP",get:function(){return this.jP}},{key:"dw",get:function(){return this.JP.dw},set:function(t){this.JP.dw=t}},{key:"wg",get:function(){return this.JP.wg},set:function(t){this.JP.wg=t}},{key:"dg",get:function(){return this.JP.dg}},{key:"vw",get:function(){return this.JP.vw}},{key:"gg",get:function(){return this.JP.gg}},{key:"lw",get:function(){return this.JP.lw}},{key:"du",get:function(){return this.JP.du}},{key:"ww",get:function(){return this.JP.ww}},{key:"gw",get:function(){return this.JP.gw},set:function(t){var n=Boolean(t);this.yP(n)}},{key:"yw",get:function(){return this.JP.yw}},{key:"_w",get:function(){return this.JP._w},set:function(t){this.JP._w=t}},{key:"Rg",get:function(){return this.JP.Rg}},{key:"Ig",get:function(){return this.JP.Ig},set:function(t){this.JP.Ig=Gb(t)}},{key:"Ol",get:function(){return this.JP.Ol}},{key:"Ag",get:function(){return this.JP.Ag}},{key:"mw",get:function(){return this.JP.mw}},{key:"gl",get:function(){return this.Mg}},{key:"pw",get:function(){return this.JP.pw}},{key:"bw",get:function(){return this.JP.bw}},{key:"kw",get:function(){return this.JP.kw},set:function(t){var n=Tn(Number(t),0,1)||0;this.PP(n)}},{key:"Ng",get:function(){return this.JP.Ng}}]),n}(fw);function kS(t){t.sources;var n=t.sources.filter(function(t){return Nt(t.integration)});return t.sources=n,t}!function(t){t[t.wL=0]="wL",t[t.gL=1]="gL"}(gS||(gS={})),function(t){t[t.yL=0]="yL"}(yS||(yS={}));var TS={};function ES(t,n){(TS[n]||(TS[n]=[])).push(t)}function SS(t,n){var i=t;if(TS[n])for(var e=0,r=TS[n];e<r.length;e++){i=(0,r[e])(i)}return i}var RS=[];function IS(t){RS.push(t)}var AS=t.CustomEvent;var NS=function(){try{var t=new AS("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},OS=function(){function t(t,n){var i=this;this.dI=void 0,this._L=void 0,this.mL=!1,this.pL=function(t){i._L.nD(t.error,i.dw)},this.bL=function(){i._L.QO(i.kL),i.dI.removeEventListener("playing",i.bL),i.mL=!1},this.TL=function(){i.mL||(i.dI.addEventListener("playing",i.bL),i.mL=!0)},this._L=n,this.dI=t,this.dI.addEventListener("error",this.pL),this.dI.addEventListener("sourcechange",this.TL),this.TL()}return t.prototype.nl=function(){},at(t,[{key:"dw",get:function(){var t=this.dI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"kL",get:function(){return this.dI.src||""}}]),t}();IS(function(t){new OS(t.Rv,t.$x)});var DS="theoplayer-stored-volume",CS="theoplayer-stored-mutedstate";ES(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=cS.vx(DS);(void 0===r||g(r))&&(r=1);var u=cS.lx(CS)||!1;e.kw=r,e.gw=u}return e}dt(n,t);var i=n.prototype;return i.yP=function(n){this.gc.persistVolume&&cS.dh(CS,""+Boolean(n)),t.prototype.yP.call(this,n)},i.PP=function(n){this.gc.persistVolume&&cS.dh(DS,""+Number(n)),t.prototype.PP.call(this,n)},n}(t)},gS.gL);var PS=new(function(){function t(){this.EL=[],this.Sv=void 0}var n=t.prototype;return n.Jv=function(t){return this.EL[t]},n.SL=function(t){this.EL.push(t),this.Rv.push(t.Rv)},n.oc=function(t){var n=this.EL.indexOf(t);n<0||(au(this.EL,n),this.Sv&&au(this.Sv,n))},n.RL=function(t){for(var n=0,i=this.EL;n<i.length;n++){var e=i[n];if(e.gl===t)return e}},at(t,[{key:"ul",get:function(){return this.EL.length}},{key:"Rv",get:function(){return this.Sv||(this.Sv=function(t){for(var n=[],i=0;i<t.ul;i++)n[i]=t.Jv(i).Rv;return n.getPlayerByUID=function(n){var i=t.RL(n);return i&&i.Rv},n}(this)),this.Sv}}]),t}()),xS=function(){function t(t){var n=this;this.IL=[],this.AL=void 0,this.nv=new wu,this.NL=void 0,this.OL=function(){return 0===n.IL.length?n.NL?LS(n.NL,n.nv.$r).then(n.DL,n.DL):n.DL():n.IL.shift()().then(n.OL)},this.DL=function(){if(0!==n.IL.length)return n.OL();n.AL=void 0},this.NL=t}var n=t.prototype;return n.CL=function(t,n){var i=this;return new G(function(e){var r=new wu;r.zr(i.nv.$r),n&&r.zr(n);var u=function(){r.Br()};i.IL.push(function(){var n=LS(t,r.$r);return e(n),n.then(u,u)}),i.AL||(i.AL=i.OL())})},n.Wr=function(){return this.PL(!0)},n.et=function(){return this.NL=void 0,this.PL(!1)},n.PL=function(t){var n=this.AL;return this.nv.Wr(),t&&(this.nv=new wu),G.resolve(n)},t}();function LS(t,n){return new G(function(i){return i(t(n))})}var MS,BS=function(t){function n(n){var i;return(i=t.call(this,Zc.Gh)||this).source=n,i}return dt(n,t),n}(Pu),FS=function(t){function n(){var n;return(n=t.call(this)||this).fA=void 0,n.vA=void 0,n.wA=void 0,n.lA=void 0,n.fA=0,n.vA=!0,n.wA=!1,n.lA=1,n}dt(n,t);var i=n.prototype;return i.X=function(){this.vA&&(this.vA=!1,this.Jr(new Fw(this.dw)),this.Jr(new sm(this.dw)))},i.K=function(){this.vA||(this.vA=!0,this.Jr(new zw(this.dw,this.wg)),this.Jr(new Bw(this.dw)))},i.nl=function(){this.fA=0,this.wA=!1,this.lA=1,this.K(),this.Jr(new Mw(this.fA))},i.et=function(){this.nu()},i.ug=function(){},i.rg=function(){},at(n,[{key:"wg",get:function(){},set:function(t){}},{key:"dw",get:function(){return this.fA},set:function(t){this.wA&&this.fA===t||(this.fA=t,this.wA=!0,this.Jr(new jw(this.dw)))}},{key:"yw",get:function(){return this.vA}},{key:"_w",get:function(){return this.lA},set:function(t){this.lA!==t&&(this.lA=t,this.Jr(new Ww(this.dw,this._w)))}},{key:"Ol",get:function(){return pw.nw}},{key:"mw",get:function(){return this.wA}}]),n}(aw),US=function(t){function n(){return t.call(this,Zc.bh)||this}return dt(n,t),n}(Pu),VS={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},HS={visibility:"hidden"},qS={visibility:"visible"},WS=function(){function t(t){var n,i=this;this.oI=void 0,this.dI=void 0,this.xL=!1,this.LL=void 0,this.ML=void 0,this.BL=function(t){var n;i.xL=!1,i.LL=null==(n=t.source)?void 0:n.poster,i.cc()},this.LT=function(){i.xL=!0,i.ug()},this.dI=t,this.gI(),this.oI=((n=Z&&Z.document&&Z.document.createElement("div")).className="theoplayer-poster",$e(VS,n),n),t.gg.appendChild(this.oI)}var n=t.prototype;return n.cc=function(){var t=this.dI.yw,n=this.xL;this.Bf?this.oI.style.backgroundImage='url("'+this.Bf.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.oI.style.backgroundImage="",t&&this.Bf&&!n?this.rg():this.ug()},n.rg=function(){$e(HS,this.dI.gg),$e(qS,this.oI)},n.ug=function(){$e(HS,this.oI),$e(qS,this.dI.gg)},n.gI=function(){this.dI.Qr("sourcechange",this.BL),this.dI.Qr("play",this.LT)},n.et=function(){this.dI.iu("sourcechange",this.BL),this.dI.iu("play",this.LT),Ge(this.oI)},at(t,[{key:"Bf",get:function(){return void 0!==this.LL?this.LL:void 0!==this.ML?this.ML:void 0}},{key:"FL",set:function(t){this.ML=t,this.cc()}}]),t}();function zS(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).dI=void 0,r.UL=void 0,r.VL=void 0,r.HL=void 0,r.qL=void 0,r.WL=void 0,r.zL=void 0,r.GL=void 0,r.wI=void 0,r.lI=void 0,r.XS=void 0,r.bA=void 0,r.Sv=void 0,r.$L=function(t){t.type!==Zc.Lh&&r.GL.push(t)},r.UL=new t(n,e),r.VL=new FS,r.dI=r.UL,r.HL=new WS(On(r)),r.WL=new xS,r.zL=!1,r.GL=[],r.wI=!0,r.gI(),r}dt(e,i);var r=e.prototype;return r.CL=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.WL.CL(t,n).catch(pu));case 1:case"end":return i.stop()}},null,this,null,G)},r.jL=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return _u(n),this.UL.tu(this.$L),i.next=4,wr.awrap(this.UL.Qw(t,n));case 4:this.UL.uu(this.$L);case 5:case"end":return i.stop()}},null,this,null,G)},r.YL=function(){var t,n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.Jw())&&!Xk(t)&&this.zw&&this.yw){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.gc.mutedAutoplay,e.next=6,wr.awrap(this.aL.ut());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.XL(),e.abrupt("break",14);case 12:return(this.gw||n===Uw.ALL)&&(this.gw=!0,this.X()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,G)},r.Qw=function(t){var i=this,e=this.lI;e&&!Xk(e)&&this.Jr(new Mw(0,0)),this.nl(),this.lI=t,Su(this.CL(function(e){return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return _u(e),r.prev=1,r.next=4,wr.awrap(i.jL(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.lI=void 0,i.uR((u=r.t0,s=n.ErrorCode.SOURCE_NOT_SUPPORTED,u instanceof Pc?u:u instanceof a?new Pc(s,u.message,u):new Pc(s,String(u)))),r.abrupt("return");case 11:return r.next=13,wr.awrap(i.KL());case 13:case"end":return r.stop()}var u,s},null,null,[[1,6]],G)}))},r.KL=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JL(this.UL),this.Jr(new BS(this.Jw())),t.next=4,wr.awrap(this.YL());case 4:case"end":return t.stop()}},null,this,null,G)},r.hP=function(t){this.dI.dw=t},r.vP=function(){var t;return null!=(t=this.bA)?t:this.UL.du},r.lP=function(){var t;return null!=(t=this.XS)?t:this.UL.ww},r.uR=function(t){void 0===this.lP()&&(this.XS=t,this.bA=Sg(t),this.Jr(new Zw(t)))},r.X=function(){this.dI.X()},r.XL=function(){this.gw||this.st(),this.X()},r.st=function(){this.UL.st()},r.K=function(){this.dI.K()},r.Kw=function(){this.Qw(void 0)},r.rg=function(){this.wI=!0,this.dI.rg()},r.ug=function(){this.wI=!1,this.dI.ug()},r.cL=function(){this.UL.cL()},r.PP=function(t){this.UL.PP(t)},r.yP=function(t){this.UL.yP(t)},r.QL=function(t){this.qL=t,t.SL(this)},r.cA=function(){return this.UL.cA()},r.Jw=function(){return this.lI},r.sg=function(){return this.UL.sg()},r.cP=function(){return this.UL.dw},r.aP=function(){return this.UL.vw},r.rP=function(){return this.UL.lg},r.kP=function(){return this.UL.Rg},r.RP=function(){return this.UL.Ag},r.nl=function(){var t=this;this.lI=void 0,this.XS=void 0,this.bA=void 0,vu(this.GL),this.VL.nl(),this.JL(this.VL),this.WL.Wr(),Su(this.WL.CL(function(n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return _u(n),i.next=3,wr.awrap(t.UL.nl());case 3:case"end":return i.stop()}},null,null,null,G)}))},r.et=function(){var t=this;this.Jr(new US),this.HL.et(),this.yI(),this.nl(),Su(this.CL(function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(t.UL.et());case 2:t.qL&&(t.qL.oc(t),t.qL=void 0),t.WL.et();case 4:case"end":return n.stop()}},null,null,null,G)})),this.nu()},r.JL=function(t){if(this.dI!==t){var n=this.dI.yw,i=this.dI.dw,e=this.dI._w,r=this.dI.mw;this.yI(),t===this.UL?((r||t.dw!==i)&&(t.dw=i),t._w!==e&&(t._w=e),n?t.K():t.X()):this.gc.retainPlaybackRateOnSourceChange?t._w=e:1!==e&&this.Jr(new Ww(this.cP(),1)),this.dI=t,this.gI();for(var u=0,s=this.GL;u<s.length;u++){var o=s[u];this.Jr(o)}vu(this.GL),this.wI?t.rg():t.ug()}},r.gI=function(){this.dI.tu(this.Kr)},r.yI=function(){this.dI.uu(this.Kr)},r.Iv=function(){return t=this,e=function(n){i=n;var e=sT(n,t.gc);t.Qw(e)},r={get abr(){return t.hL.Rv},get audioTracks(){return t.$w.Rv},get autoplay(){return t.zw},set autoplay(n){t.zw=Boolean(n)},get buffered(){return t.rP()},get canvas(){return t.jx.Rv},get clip(){return t.oL.Rv},get currentProgramDateTime(){var n;return null!=(n=t.wg)?n:null},set currentProgramDateTime(n){t.wg=null!=n?n:void 0},get currentTime(){return t.cP()},set currentTime(n){t.hP(Number(n))},get duration(){return t.aP()},get element(){return t.gg},get ended(){return t.lw},get error(){return t.vP()},get errorObject(){return t.lP()},get loop(){return t.YP.YP},set loop(n){t.YP.YP=Boolean(n)},get metrics(){return t._g.Rv},get muted(){return t.gw},set muted(n){t.yP(n)},get network(){return t.vL.Rv},get paused(){return t.yw},get playbackRate(){return t._w},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t._w=i},get played(){return t.kP()},get poster(){return t.ZL},set poster(n){t.ZL=$l(n)},get preload(){return t.Ig},set preload(n){t.Ig=n},get presentation(){return t.Yx.Rv},get readyState(){return t.Ol},get seekable(){return t.RP()},get seeking(){return t.mw},get source(){return i},set source(t){e(t)},get src(){return Kk(t.Jw())},set src(t){e({sources:t})},get textTracks(){return t.Yw.Rv},get textTrackStyle(){return t.lL.Rv},get uid(){return t.gl},get videoHeight(){return t.pw},get videoTracks(){return t.jw.Rv},get videoWidth(){return t.bw},get volume(){return t.kw},set volume(n){t.PP(Number(n))},get latency(){return t.Ng.Rv},destroy:function(){t.et(),t=null,i=void 0},play:function(){t.XL()},pause:function(){t.K()},stop:function(){i=void 0,t.Kw()},prepareWithUserAction:function(){t.st()},addEventListener:function(t,i){n.Qr(t,i)},removeEventListener:function(t,i){n.iu(t,i)},setSource:function(t){e(t)}},(n=new mk(r,!0)).AA(t),r;var t,n,i,e,r},at(e,[{key:"$x",get:function(){return this.UL.$x}},{key:"jx",get:function(){return this.UL.jx}},{key:"gc",get:function(){return this.UL.gc}},{key:"Gx",get:function(){return this.UL.Gx}},{key:"pv",get:function(){return this.UL.pv}},{key:"CR",get:function(){return this.UL.Kx}},{key:"Yx",get:function(){return this.UL.Yx}},{key:"Xx",get:function(){return this.UL.Xx}},{key:"JP",get:function(){return this.UL.JP}},{key:"hL",get:function(){return this.UL.hL}},{key:"zw",get:function(){return this.UL.zw},set:function(t){this.UL.zw=t,this.YL()}},{key:"aL",get:function(){return this.UL.aL}},{key:"$w",get:function(){return this.UL.$w}},{key:"fL",get:function(){return this.UL.fL}},{key:"dL",get:function(){return this.UL.Xx}},{key:"Rv",get:function(){return this.Sv||(this.Sv=this.Iv()),this.Sv}},{key:"Xw",get:function(){return this.UL.Xw}},{key:"_g",get:function(){return this.UL._g}},{key:"vL",get:function(){return this.UL.vL}},{key:"Yw",get:function(){return this.UL.Yw}},{key:"lL",get:function(){return this.UL.lL}},{key:"jw",get:function(){return this.UL.jw}},{key:"oL",get:function(){return this.UL.oL}},{key:"YP",get:function(){return this.UL.YP}},{key:"wg",get:function(){return this.dI.wg},set:function(t){this.dI.wg=t}},{key:"dg",get:function(){return this.UL.dg}},{key:"gg",get:function(){return this.UL.gg}},{key:"lw",get:function(){return this.UL.lw}},{key:"gw",get:function(){return this.UL.gw},set:function(t){this.UL.gw=t}},{key:"yw",get:function(){return this.dI.yw}},{key:"ZL",get:function(){return this.HL.Bf||""},set:function(t){this.HL.FL=t}},{key:"_w",get:function(){return this.UL._w},set:function(t){this.dI._w=t}},{key:"Ig",get:function(){return this.UL.Ig},set:function(t){this.UL.Ig=Gb(t)}},{key:"Ol",get:function(){return this.dI.Ol}},{key:"mw",get:function(){return this.dI.mw}},{key:"gl",get:function(){return this.UL.gl}},{key:"pw",get:function(){return this.UL.pw}},{key:"bw",get:function(){return this.UL.bw}},{key:"kw",get:function(){return this.UL.kw},set:function(t){this.UL.kw=t}},{key:"Ng",get:function(){return this.UL.Ng}}]),e}(fw)}Eu(function(){t.dispatchEvent&&t.dispatchEvent(NS("theoplayerready"))});var GS,$S={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Xu(t)},n.decode=function(t){return ju(t)},t}())},jS=PS.Rv,YS=Mm.AE.registerContentProtectionIntegration.bind(Mm.AE);!function(t){t[t.tM=0]="tM",t[t.nM=1]="nM"}(GS||(GS={}));var XS,KS,JS=function(){function t(t){this.iM=_r(),this.eM=_r(),this.rM=t}var n=t.prototype;return n.uM=function(t,n,i,e,r,u,s,o,c,h,a){var f=this;t.XA.forEach(function(t){if(!f.sM(t.oM)){var d=t.cM(n,i,e,r,u,s,o,c,h,a);d&&f.hM(d,i)}})},n.sM=function(t){return this.iM.get(t)},n.hM=function(t,n){this.iM.set(t.aM,t),this.eM.set(t.aM,t.fM),n.Gw(t),this.rM.AA(t.dM)},n.vM=function(t){this.iM.has(t.aM)||(this.eM.set(t.aM,t),this.rM.AA(t.dM))},n.lM=function(t){return this.eM.forEach(t)},n.wM=function(t){this.iM.forEach(function(n){n.wM(t)})},n.et=function(){this.iM.clear(),this.eM.clear()},t}(),QS=function(t){function n(n,i,e,r){var u;return(u=t.call(this,e||i&&ZS[i]||n,r)||this).gM=n,u.yM=i,u._M=e,u}return dt(n,t),at(n,[{key:"mM",get:function(){return this.gM}},{key:"pM",get:function(){var t;return null!=(t=this.yM)?t:KS.UNKNOWN_ERROR}}]),n}(Cn);!function(t){t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general"}(XS||(XS={})),function(t){t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED"}(KS||(KS={}));var ZS={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."},tR=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).bM=void 0,e.bM=i,e}return dt(n,t),n}(Tl),nR=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).ad=i,e}return dt(n,t),n}(Pu),iR=function(t){function n(n,i,e,r){var u;return(u=t.call(this,"kM",null)||this).mM=n,u.hu=i,u.Fu=e,u.eI=r,u}return dt(n,t),n.prototype.Iv=function(){return new eR(this.mM,this.hu,this.Fu,this.eI)},n.TM=function(t){return new n(XS.GENERAL,t.hu,t.pM)},n.EM=function(t,i){return new n(t.mM,t.message,t.pM,i)},n}(tR),eR=function(t){function n(n,i,e,r){var u;return(u=t.call(this,"aderror",null)||this).problemType=n,u.message=i,u.errorCode=e,u.source=r,u}return dt(n,t),n}(nR);var rR=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).SM=void 0,r.RM=void 0,r.SM=n,r.RM=e,r}return dt(n,t),n.prototype.X=function(){this.SM.fl=this.RM,this.SM.X()},n}(ZE),uR=function(t){function i(n,i){var e,r;return(e=t.call(this)||this).Rv=void 0,e.IM=void 0,e.AM=void 0,e.NM=void 0,e.OM=!1,e.DM=!1,e.CM=function(){e.OM&&e.PM("Starting ads was not possible. Turn off your AdBlocker and try again.")},e.xM=function(){e.DM=!0},e.dI=n,e.SM=i,i.Qr("play",e.xM),e.Rv=(r=On(e),{get playing(){return r.LM},get currentAds(){var t=[];return r.MM(function(n){var i=n.BM;i.length&&(t=t.concat(i))}),t},get currentAdBreak(){var t=null;return r.MM(function(n){!t&&n.FM&&(t=n.FM)}),t},get scheduledAds(){var t=[];return r.MM(function(n){t=t.concat(n.UM)}),t},get scheduledAdBreaks(){var t=[];return r.MM(function(n){t=t.concat(n.VM)}),t},skip:function(){r.MM(function(t){t.hp()})},schedule:function(t){var n=iT(t,Ck.ni);n?r.V(n,GS.tM,!1):console.error("Invalid ad description")},addEventListener:function(t,n){r.HM.Qr(t,n)},removeEventListener:function(t,n){r.HM.iu(t,n)}}),e.NM=new JE(On(e),e.Rv),e.AM=new JS(On(e)),e.Qr("kM",e.CM),e}dt(i,t);var e=i.prototype;return e.V=function(t,n,i){try{this.OM=i;var e=Ck.ni.YA(t),r=this.AM.sM(e.oM);if(!r)throw new QS(XS.ADBLOCK);n!==GS.nM&&this.DM||(this.IM=new rR(this.SM,this.SM.fl,r),this.SM.fl=this.IM),e.V(t,n,r,this.OM)}catch(n){0,this.Jr(iR.EM(n,t.sources))}},e.wM=function(t){this.AM.wM(t)},e.PM=function(t){var i,e=new Pc(n.ErrorCode.AD_BLOCKER_DETECTED,t),r=Sg(e);this.SM.fl=new ek(this.dI.gg,r,e),null==(i=this.IM)||i.et(),this.dI.et(),this.et(),this.SM.ag(this.dI)},e.MM=function(t){return this.qM.lM(t)},e.nl=function(){var t;this.DM=!1,this.SM.fl===this.IM&&(this.SM.fl=this.dI),null==(t=this.IM)||t.nl(),this.IM=void 0},e.et=function(){this.nu(),this.SM.iu("play",this.xM),this.iu("kM",this.CM),this.AM.et(),this.NM.et(),this.IM=void 0},at(i,[{key:"qM",get:function(){return this.AM}},{key:"HM",get:function(){return this.NM}},{key:"LM",get:function(){var t=!1;return this.MM(function(n){t=t||n.WM}),t}}]),i}(mk);ES(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).zM=void 0,e.zM=new uR(e.Gx,e.JP),e}dt(n,t);var i=n.prototype;return i.Qw=function(n){this.zM.nl(),t.prototype.Qw.call(this,n)},i.jL=function(n,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return _u(i),o.next=3,wr.awrap(t.prototype.jL.call(this,n,i));case 3:if(_u(i),n&&n.ads){o.next=6;break}return o.abrupt("return");case 6:for(e=Boolean(n.blockContentIfAdError),this.zM.wM(n.playAdsAfterTime),r=0,u=n.ads;r<u.length;r++)s=u[r],this.zM.V(s,GS.nM,e);case 9:case"end":return o.stop()}},null,this,null,G)},i.Iv=function(){var n=this;return Fl(t.prototype.Iv.call(this),{get ads(){return n.zM.Rv}})},i.et=function(){this.zM.et(),t.prototype.et.call(this)},n}(t)},gS.wL),ES(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).zM&&e.zM.qM.uM(Ck.ni,e.Gx,e.JP,e.dL,i,e.aL,e.lL,e.hL,e.pv,n,e.Xx),e}return dt(n,t),n.prototype.et=function(){t.prototype.et.call(this)},n}(t)},gS.wL);var sR,oR,cR,hR,aR,fR,dR=0!==St.qn?St.qn:St.Tn,vR=St.kn&&dR<12,lR=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Hw=void 0,r.Vw=void 0,r.qw=void 0,r.GM=void 0,r.eR=new Lb,r.$M=function(){r.rI.rg()},r.jM=function(){r.doHandleWindowFocus()},r.rI=n,r.YM=i,r.dL=e,r.Hw=new Ag,r.Vw=new Ag,r.qw=new N_,r.GM=new _k,r.rI.Qr("currentsourcechange",r.Kr),r}dt(n,t);var i=n.prototype;return i.ig=function(t){eg(this,t)},i.eg=function(){0},i.og=function(){return tk},i.Jw=function(){return this.YM.Jw()},i.Qw=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return _u(n),i.next=3,wr.awrap(this.rI.Qw(t,n));case 3:case"end":return i.stop()}},null,this,null,G)},i.Zw=function(){return!1},i.tg=function(){},i.ng=function(){},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.nu(),this.Vw.et(),this.Hw.et(),this.qw.et(),this.GM.et(),this.rI.iu("currentsourcechange",this.Kr);case 6:case"end":return t.stop()}},null,this,null,G)},i.XM=function(){vR&&this.addWindowFocusEventListeners(),this.YM.fl=this},i.KM=function(){vR&&this.removeWindowFocusEventListeners(),St.Jn&&this.gg.querySelectorAll("video[src]").forEach(function(t){t.src=""}),this.YM.fl=this.rI},i.addWindowFocusEventListeners=function(){Z.addEventListener("blur",this.$M),Z.addEventListener("focus",this.jM)},i.removeWindowFocusEventListeners=function(){Z.removeEventListener("blur",this.$M),Z.removeEventListener("focus",this.jM)},i.doHandleWindowFocus=function(){var t=this;requestAnimationFrame(function(){return t.rI.ug()})},i.vg=function(){},i.nl=function(){return G.resolve()},at(n,[{key:"fM",get:function(){return this}},{key:"VM",get:function(){return[]}},{key:"Xw",get:function(){}},{key:"Ng",get:function(){return this.eR}},{key:"dM",get:function(){return this.GM}},{key:"$w",get:function(){return this.Vw}},{key:"WM",get:function(){return this.YM.fl===this}},{key:"lg",get:function(){return Jb.sA().UR()}},{key:"wg",get:function(){return null},set:function(t){}},{key:"dg",get:function(){return this.rI.dg}},{key:"yg",get:function(){return!1}},{key:"_g",get:function(){return{mg:0,pg:0,bg:0,kg:0,Tg:0,Eg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Sg",get:function(){return!0}},{key:"_w",get:function(){return 1},set:function(t){}},{key:"Ig",get:function(){return this.rI.Ig},set:function(t){this.rI.Ig=t}},{key:"Rg",get:function(){return new Jb([0,this.dw]).UR()}},{key:"mw",get:function(){return!1}},{key:"Yw",get:function(){return this.qw}},{key:"jw",get:function(){return this.Hw}},{key:"Og",get:function(){return!1},set:function(t){}}]),n}(fw),wR=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function gR(t){if(xt(t)){var n=t.match(wR);if(n)return 3600*l(n[1],10)+60*l(n[2],10)+Number(n[3])+(Number(n[4])||0)/1e3}}function yR(t){if(void 0!==t){var n=t.match(/^([1-9]?\d|100)%$/);if(n)return l(n[1])/100}}!function(t){t.JM="all",t.QM="any",t.hI="none"}(sR||(sR={})),function(t){t.ZM="mute",t.tB="unmute",t.Ch="pause",t.nB="resume",t.iB="rewind",t.eB="skip",t.rB="playerExpand",t.uB="playerCollapse",t.sB="fullscreen",t.oB="exitFullscreen",t.cB="expand",t.COLLAPSE="collapse",t.hB="start",t.aB="firstQuartile",t.fB="thirdQuartile",t.dB="midpoint",t.vB="complete",t.lB="acceptInvitationLinear",t.wB="acceptInvitation",t.gB="timeSpentViewing",t.yB="otherAdInteraction",t.xh="progress",t._B="creativeView",t.mB="adExpand",t.pB="adCollapse",t.bB="minimize",t.kB="close",t.TB="closeLinear",t.EB="overlayViewDuration",t.SB="breakStart",t.RB="breakEnd",t.kl="error"}(oR||(oR={})),oR.ZM,oR.tB,oR.Ch,oR.nB,oR.iB,oR.eB,oR.TB,oR.kB,oR.rB,oR.uB,oR.sB,oR.oB,oR.cB,oR.COLLAPSE,oR._B,oR.hB,oR.aB,oR.dB,oR.fB,oR.vB,oR.lB,oR.wB,oR.gB,oR.yB,oR.xh,oR.hB,oR.aB,oR.dB,oR.fB,oR.vB,oR.ZM,oR.tB,oR.Ch,oR.nB,oR.iB,oR.eB,oR.rB,oR.uB,oR.cB,oR.COLLAPSE,oR.sB,oR.oB,oR._B,oR.wB,oR.mB,oR.pB,oR.bB,oR.kB,oR.EB,oR.yB,oR.xh,oR.ZM,oR.tB,oR.Ch,oR.nB,oR.iB,oR.eB,oR.rB,oR.uB,oR._B,function(t){t.kT="static",t.TT="dynamic"}(cR||(cR={})),function(t){t.IB="progressive",t.AB="interlaced",t.Uf="unknown"}(hR||(hR={})),function(t){t.NB="linear",t.OB="nonlinear",t.DB="companion",t.CB="vmap"}(aR||(aR={})),function(t){t.NB="linear",t.PB="nonlinear",t.xB="display"}(fR||(fR={}));var _R,mR=function(){function t(){}return t.LB=function(t){switch(t){case fR.NB:case fR.PB:case fR.xB:return!0;default:return!1}},t.MB=function(t){},t.BB=function(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0},t.FB=function(t){var n=t.split(":"),i=0;return i+=3600*Number(n[0]),i+=60*Number(n[1]),i+=Number(n[2])},t.UB=function(t){if(t<=0)return"00:00:00.000";var n=v.floor(t),i=t-n;return this.VB(n/3600,2)+":"+this.VB(n/60%60,2)+":"+this.VB(n%60,2)+"."+this.VB(1e3*i,3)},t.VB=function(t,n){return("00"+v.floor(t)).slice(-n)},t.HB=function(t,n){var i=this.qB(t);if(i===_R.WB)switch(t){case"start":return 0;case"end":return-1}else{if(i===_R.zB)return yR(t)*n;if(i===_R.GB)return gR(t);if(i===_R.$B)return this.BB(t);if(i===_R.jB){var e=Number(t);if(!g(e)&&e>=-1)return e}}},t.qB=function(t){return"start"===t||"end"===t?_R.WB:void 0!==gR(t.toString())?_R.GB:void 0!==yR(t.toString())?_R.zB:void 0!==this.MB(t.toString())?_R.$B:g(t)?void 0:_R.jB},t}();function pR(t){return"vmap"===t||"adrule"===t}function bR(t){if(xt(t)){var n=t.toLowerCase();switch(n){case"vast":case"vmap":case"adrule":return n;default:return void jt("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||jt("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function kR(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(n=t,wR.test(n))return mR.FB(t);if(TR(t))return t}var n;return t>=0?+t:void 0}}function TR(t){return new RegExp(/^\d{1,2}%$/).test(t)}!function(t){t[t.WB=0]="WB",t[t.GB=1]="GB",t[t.zB=2]="zB",t[t.$B=3]="$B",t[t.jB=4]="jB"}(_R||(_R={}));var ER,SR='<vmap:AdBreak timeOffset="$TIMEOFFSET$" breakType="linear,nonlinear" breakId="midroll">\n            <vmap:AdSource allowMultipleAds="true" followRedirects="true">\n                <vmap:AdTagURI templateType="vast3"><![CDATA[$TAG$]]></vmap:AdTagURI>\n            </vmap:AdSource>\n        </vmap:AdBreak>',RR=function(){function t(n,i,e,r,u,s){this.YB=void 0,this.XB=void 0,this.KB=NaN,this.JB=!1,this.QB=!1,this.ZB=void 0,this.tF=!1,this.nF=[],this.Jx=!1,this.dA=!1,this.iF=[],this.eF=void 0,this.rF=void 0,this.uF=e,this.dI=r,this.sF=u,this.eF=i,this.YB=t.oF(i),this.cF(),this.iF.push(n),this.rF=s}var n=t.prototype;return n.hF=function(t){var n=this.aF===t.timeOffset;return!this.XB&&n},n.cF=function(){if(g(this.KB)){var t=this.aF;if(void 0===t)return void(this.KB=0);"string"==typeof t&&TR(t)&&(g(this.dI.vw)||this.dI.vw===1/0||(t=yR(t)*this.dI.vw)),g(t)||(this.KB=t)}},n.fF=function(t){this.nF.push(t)},n.dF=function(){if(!this.XB){var t,n,i=this.uF===GS.nM&&void 0===this.eF&&1===this.vF.length;pR(this.vF[0].type)||i?t=this.vF[0].src:n=this.lF(),this.XB={wF:this.dI.gg.offsetWidth,gF:this.dI.gg.offsetHeight,yF:this.dI.gg.offsetWidth,_F:this.dI.gg.offsetHeight,mF:this.Jx,pF:this.dA,bF:t,kF:n,TF:this.rF}}return this.XB},n.lF=function(){var t=this;return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">\n            '+this.vF.map(function(n){return t.EF(n)}).join("\n")+"\n            </vmap:VMAP>"},n.EF=function(t){return SR.replace("$TIMEOFFSET$",this.SF()).replace("$TAG$",t.src)},n.SF=function(){if(0===this.aF)return"start";if(this.aF===1/0)return"end";var t=this.aF;if("string"==typeof t&&TR(t)){var n=yR(t)*this.dI.vw;return mR.UB(n)}return mR.UB(this.aF||0)},n.RF=function(t){this.iF.push(t)},t.oF=function(t){if(void 0!==t)return-1===t?1/0:t},n.IF=function(){this.tF=!0},at(t,[{key:"vF",get:function(){return this.iF}},{key:"AF",get:function(){return this.uF}},{key:"NF",get:function(){return this.sF}},{key:"OF",get:function(){return this.tF}},{key:"DF",get:function(){return TR(this.YB)&&!this.XB}},{key:"aF",get:function(){return this.YB}},{key:"A_",get:function(){return this.KB}},{key:"CF",get:function(){return this.JB},set:function(t){this.JB=t}},{key:"PF",get:function(){return this.QB},set:function(t){this.QB=t,this.ZB=!1}},{key:"xF",get:function(){return this.nF}},{key:"zw",get:function(){return this.Jx},set:function(t){this.Jx=t}},{key:"gw",get:function(){return this.dA},set:function(t){this.dA=t}}]),t}(),IR=function(){function t(t){this.LF=void 0,this.MF=void 0,this.BF=!1,this.LF=t,this.MF=void 0}var n=t.prototype;return n.wM=function(t){this.MF=t},n.FF=function(t){return!this.UF||"nonlinear"===this.HF.VF||this.UF.A_>t.A_&&this.UF.A_!==t.A_},n.qF=function(t){if(t.length)return t.sort(function(t,n){return t.A_-n.A_})[0]},n.WF=function(){if(this.UM.length)return this.qF(this.zF(this.rI.dw))},n.GF=function(){var t=this;if(!(void 0!==this.MF&&this.MF>=0))return this.UM.filter(function(n){return!n.CF&&0===n.A_&&n!==t.UF})[0]},n.zF=function(t){var n=this;if(!this.BF&&(this.BF=!this.UM.some(function(t){return g(t.A_)}),!this.BF))return[];var i=this.UM.filter(function(n){return!n.CF&&!g(n.A_)&&t<=n.A_});return void 0===this.MF?i:i.filter(function(t){return void 0===t.aF||t.A_>n.MF})},at(t,[{key:"UF",get:function(){return this.LF.UF}},{key:"HF",get:function(){return this.LF.HF}},{key:"UM",get:function(){return this.LF.UM}},{key:"rI",get:function(){return this.LF.rI}}]),t}();!function(t){t[t.jF=0]="jF",t[t.YF=1]="YF",t[t.XF=2]="XF"}(ER||(ER={}));var AR,NR,OR,DR,CR=function(){function t(t,n,i,e,r){var u=this;this.KF=void 0,this.JF=void 0,this.QF=void 0,this.Uw=void 0,this.dI=void 0,this.SM=void 0,this.ZF=void 0,this.tU=void 0,this.nU=void 0,this.Zx=void 0,this.iU=ER.jF,this.eU=void 0,this.rU=void 0,this.uU=!1,this.sU=function(){for(var t=u.JF.filter(function(t){return t.DF}),n=0;n<t.length;n++){var i=t[n];i.cF();var e=i.aF;u.rU.oU(e,i.A_)}u.Uw&&u.cU&&u.hU()},this.JF=[],this.KF=t,this.Uw=!1,this.QF=!1,this.dI=n,this.SM=i,this.UF=void 0,this.tU=0,this.nU=new IR(this),this.Zx=e,this.rU=r,this.dI.Qr("durationchange",this.sU)}var n=t.prototype;return n.st=function(){this.Uw=!0,this.QF&&this.hU()},n.aU=function(t,n){this.fU(t,n);var i=ou(this.UM,function(n){return n.hF(t)});if(i)i.RF(t.sources);else{var e=void 0===t.replaceContent||t.replaceContent,r=new RR(t.sources,t.timeOffset,n,this.dI,e,t.omidAccessModeRules);this.JF.push(r),this.dU===ER.XF&&this.rU.vU(r.A_,r,r.aF),this.lU(n,r)}},n.wU=function(){if(hu(this.UM,this.UF),this.UF){for(var t=0,n=this.UF.xF;t<n.length;t++)n[t],this.rU.gU();this.UF=void 0}},n.yU=function(){for(var t=0,n=this.JF;t<n.length;t++)for(var i=0,e=n[t].xF;i<e.length;i++){var r=e[i];this.rU._U(r,!0)}vu(this.JF)},n.mU=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.wU(),this.pU=!0,this.UF=t,this.tU=t.A_,this.eU=this.bU(t),n.next=7,wr.awrap(this.eU);case 7:this.eU=void 0;case 8:case"end":return n.stop()}},null,this,null,G)},n.bU=function(t){var n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.kU(t),n=t.dF(),i=this.KF.TU(n),t.CF=!0,e.prev=4,e.next=7,wr.awrap(i);case 7:if(t.AF!==GS.tM){e.next=10;break}return e.next=10,wr.awrap(this.KF.EU());case 10:e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(4),this.UF=void 0,e.next=18,wr.awrap(this.hU());case 18:case"end":return e.stop()}},null,this,[[4,12]],G)},n.kU=function(t){this.Uw?t.zw=!0:t.zw=this.SM.zw,t.gw=this.SM.gw},n.SU=function(){var t;return null!=(t=this.nU.GF())?t:this.nU.WF()},n.hU=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.UF||this.UF.OF){n.next=2;break}return n.abrupt("return",this.eU);case 2:if(!(t=this.SU())){n.next=6;break}return n.next=6,wr.awrap(this.mU(t));case 6:case"end":return n.stop()}},null,this,null,G)},n.nl=function(){this.wU(),vu(this.JF),this.tU=0,this.UF=void 0,this.eU=void 0,this.pU=!1},n.PF=function(){this.pU=!1,this.UF&&(this.UF.PF=!0)},n.lU=function(t,n){t===GS.tM&&this.Uw&&this.nU.FF(n)&&!this.RU&&"linear"!==this.KF.VF&&(!this.UF||this.UF&&this.UF.CF)&&this.mU(n)},n.IF=function(){this.UF&&this.UF.IF()},n.IU=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.cU){n.next=3;break}return n.abrupt("return");case 3:if(!(t=this.SU())){n.next=7;break}return n.next=7,wr.awrap(this.mU(t));case 7:case"end":return n.stop()}},null,this,null,G)},n.fU=function(t,n){var i=t.sources.type,e=n===GS.nM&&void 0===t.timeOffset,r=pR(i)||e?ER.YF:ER.XF;r!==this.iU&&(this.iU=r,this.yU(),this.KF.AU&&!this.RU&&"linear"!==this.KF.VF&&(this.KF.AU.Br(),this.UF=void 0,this.eU=void 0),this.tU=0,this.QF=!0)},n.wM=function(t){this.nU.wM(t)},n.et=function(){this.dI.iu("durationchange",this.sU)},at(t,[{key:"HF",get:function(){return this.KF}},{key:"UM",get:function(){return this.JF}},{key:"rI",get:function(){return this.dI}},{key:"RU",get:function(){return Boolean(this.eU)}},{key:"dU",get:function(){return this.iU}},{key:"UF",get:function(){return this.ZF},set:function(t){this.ZF=t}},{key:"pU",get:function(){return this.uU},set:function(t){this.uU=t}},{key:"cU",get:function(){var t=this;return!this.RU&&!this.pU&&(!(this.UF&&!this.UF.OF)&&(!!this.JF.filter(function(n){return t.UF!==n}).length&&Boolean(this.SU())))}}]),t}();!function(t){t.NU="contentResumeRequested",t.OU="contentPauseRequested",t.DU="click",t.kh="durationChange",t.CU="expandedChanged",t.PU="start",t.xU="impression",t.Mw="pause",t.LU="resume",t.MU="adProgress",t.BU="adBuffering",t.FU="firstQuartile",t.dB="midpoint",t.UU="thirdQuartile",t.vB="complete",t.VU="userClose",t.HU="linearChanged",t.qU="loaded",t.WU="adCanPlay",t.zU="adMetadata",t.GU="adBreakReady",t.$U="interaction",t.jU="allAdsCompleted",t.YU="skip",t.XU="skippableStateChanged",t.KU="log",t.JU="viewableImpression",t.QU="volumeChange",t.ZU="mute"}(AR||(AR={})),function(t){t.tV="adError"}(NR||(NR={})),function(t){t[t.nV=-1]="nV",t[t.iV=-1]="iV",t[t.eV=-1]="eV",t[t.rV=-1]="rV",t[t.uV=-1]="uV",t[t.sV=-1]="sV",t[t.oV=-1]="oV",t[t.cV=101]="cV",t[t.hV=102]="hV",t[t.aV=200]="aV",t[t.fV=201]="fV",t[t.dV=202]="dV",t[t.vV=300]="vV",t[t.lV=301]="lV",t[t.wV=302]="wV",t[t.gV=303]="gV",t[t.yV=400]="yV",t[t._V=402]="_V",t[t.mV=403]="mV",t[t.pV=403]="pV",t[t.bV=500]="bV",t[t.kV=501]="kV",t[t.TV=503]="TV",t[t.EV=602]="EV",t[t.SV=900]="SV",t[t.RV=900]="RV",t[t.IV=901]="IV",t[t.AV=1005]="AV",t[t.NV=1007]="NV",t[t.OV=1009]="OV",t[t.DV=1010]="DV",t[t.CV=1011]="CV",t[t.PV=1021]="PV",t[t.xV=1101]="xV",t[t.LV=1205]="LV"}(OR||(OR={})),function(t){t.MV="adLoadError",t.BV="adPlayError"}(DR||(DR={}));var PR=function(t){function n(n){var i;return(i=t.call(this,iw.kl)||this).error=n,i}return dt(n,t),n}(Pu);function xR(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return DR.MV;case google.ima.AdError.Type.AD_PLAY:return DR.BV}}function LR(t){return Ct(t)&&"function"==typeof t.getVastErrorCode}function MR(t){var n=t.getInnerError(),i=n&&LR(n)?MR(n):void 0;return{hu:t.getMessage(),pM:t.getErrorCode(),FV:t.getVastErrorCode(),_r:xR(t.getType()),UV:i}}var BR,FR=5,UR=function(t){function n(n,i,e,r){var u;return(u=t.call(this)||this).VV=!1,u.HV=!1,u.qV=void 0,u.WV=void 0,u.zV=void 0,u.GV=0,u.$V=function(t){if(t.bM&&t.bM.jV){var n=t.bM.jV;u.XV.YV(n.KV,n.JV,n.QV)}},u.ZV=function(t){var n,i,e;if(!(u.GV>=FR)){u.GV++;var r=t.tH;if(Ct(s=r)&&void 0!==s.nH&&void 0!==s.JV){var s,o=null==(n=u.zV)?void 0:null==(i=n.iH())?void 0:null==(e=i.jV)?void 0:e.KV;void 0!==o&&u.XV.YV(o,r.JV,r.nH)}}},u.eH=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.tH.rH){n.next=4;break}return n.next=4,wr.awrap(u.uH(t.tH.rH));case 4:case"end":return n.stop()}},null,null,null,G)},u.sH=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.VV){t.next=4;break}return t.next=4,wr.awrap(u.oH());case 4:u.HV=!0;case 5:case"end":return t.stop()}},null,null,null,G)},u.cH=function(t){if(t.bM){0;var n=t.bM;u.KF.hH(n),u.KF.rg(),u.KF.aH(),u.XV.fH(n);var i=n.vw;if(u.dH(i),n.vH){var e=u.KF.dw,r=u.KF.Ol;u.KF.Ol=pw.rw,u.lH(new $w(e,r)),u.lH(new Kw(e,r)),u.lH(new Jw(e,r)),u.KF.yw||u.lH(new om(u.KF.dw)),u.setCountdownTimer(),u.wH(!0)}else u.KF.KM(),u.dI.rg(),u.KF.yw||u.dI.X()}},u.gH=function(t){var n;if(t.bM){0;var i=t.bM;if(u.Le(),u.XV.yH(u.KF.vw,i.vH),u.KF.Ol!==pw.nw){var e=pw.nw;u.KF.Ol=e;var r=u.KF.dw;u.lH(new Mw(r,e)),u.lH(new Qw(r,e))}u.dH(NaN),null==(n=u.zV)||n.PP(u.KF._H()),u.KF.IF()}},u.mH=function(t){t.bM&&(u.gH(t),u.XV.mH(t.bM,u.KF.dw,u.KF.vw))},u.pH=function(t){t.bM&&(u.XV.yH(-1,t.bM.vH),u.KF.IF(),!t.bM.vH&&u.KF.cU()&&u.KF.IU())},u.bH=function(t){t.bM&&(t.bM.vH?u.KF.K():u.dI.K())},u.kH=function(){var t;(u.KF.TH=!0,u.KF.EH)&&(null==(t=u.zV)||t.K(),u.KF.EH=!1)},u.SH=function(t){var n,i;if(t.bM){0,u.KF.RH&&(u.WV=u.dI.dw),u.KF.RH&&null!=(n=u.dI.dg)&&n.contentProtection&&u.dI.vg(),u.VV=!0,u.dI.Og=!0,u.KF.IH=!0;var e=t.bM;u.XV.AH(e);var r=e.vw;u.KF.hH(e),u.dH(r),u.KF.yw=!1,u.KF.rg(),u.KF.XM(),u.KF.RH||u.dI.ug(),u.dI.K(),u.KF.NH(e),0===(null==(i=e.jV)?void 0:i.KV)||u.KF.Jr(new sm(u.KF.dw))}},u.OH=function(t){var n,i,e,r;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(n=t.bM,u.KF.IH=!1,"linear"===u.KF.VF&&u.XV.DH(),n&&n.vw>=0&&u.dH(n.vw),u.dI.vw===1/0&&u.KF.CH(),u.KF.TH=!1,!u.HV){s.next=10;break}return s.next=10,wr.awrap(u.oH());case 10:return u.KF.yw=!0,s.prev=11,s.next=14,wr.awrap(u.PH());case 14:s.next=20;break;case 16:return s.prev=16,s.t0=s.catch(11),yu(s.t0)||u.Jr(new PR(s.t0)),s.abrupt("return");case 20:if(u.KF.KM(),u.KF.ug(),u.dI.lw||u.dI.X(),n&&u.KF.hH(n),u.KF.xH&&(u.KF.RH&&(e=u.dI.sg(),r=null==(i=u.dI.dg)?void 0:i.src,e&&r&&(e.src=r)),u.KF.LH=!0),u.VV=!1,u.dI.Og=!1,!u.KF.cU()){s.next=30;break}return s.next=30,wr.awrap(u.KF.IU());case 30:case"end":return s.stop()}},null,null,[[11,16]],G)},u.KF=n,u.dI=i,u.SM=e,u.XV=r,u}dt(n,t);var i=n.prototype;return i.lH=function(t){this.KF.Jr(t)},i.MH=function(t){var n=this;this.zV=t,this.zV.Qr(NR.tV,this.eH),this.zV.Qr(AR.OU,this.SH),this.zV.Qr(AR.NU,this.OH),this.zV.Qr(AR.jU,this.sH),this.zV.Qr(AR.PU,this.cH),this.zV.Qr(AR.vB,this.gH),this.zV.Qr(AR.YU,this.mH),this.zV.Qr(AR.VU,this.pH),this.zV.Qr(AR.DU,this.bH),this.zV.Qr(AR.WU,this.kH),this.zV.Qr(AR.Mw,function(){n.KF.yw||(n.KF.yw=!0,n.KF.Jr(new Bw(n.KF.dw))),n.wH(!0)}),this.zV.Qr(AR.LU,function(){n.KF.yw&&(n.KF.yw=!1,n.KF.Jr(new Fw(n.KF.dw)))}),this.zV.Qr(AR.ZU,function(){var i=t.CP();i>=0&&n.BH(i)}),this.zV.Qr(AR.QU,function(){var i=t.CP();i>=0&&n.BH(i)}),this.zV.Qr(AR.zU,function(t){n.XV.FH(t.type)}),this.zV.Qr(AR.kh,function(t){t.bM&&n.dH(t.bM.vw)}),this.zV.Qr(AR.KU,function(t){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.tH.adError,e=LR(i)?MR(i):void 0){r.next=5;break}return r.abrupt("return");case 5:if(!n.UH(e)){r.next=10;break}return r.next=8,wr.awrap(n.VH(t));case 8:r.next=16;break;case 10:if(!n.HH(e)){r.next=15;break}return r.next=13,wr.awrap(n.uH(e));case 13:r.next=16;break;case 15:n.qH(e)&&n.WH(e);case 16:case"end":return r.stop()}},null,null,null,G)}),this.zV.Qr(AR.qU,function(t){if(t.bM&&(n.KF.PF(),n.XV.zH(t.bM),n.GV=0,t.bM.vH)){var i,e=n.KF.Ol;n.KF.Ol=pw.nw;var r=n.KF.dw,u=n.KF.Ol;u!==e&&n.lH(new Mw(r,u)),null==(i=n.zV)||i.PP(n.KF._H()),n.lH(new Hw(r,u)),n.lH(new Qw(r,u))}}),this.zV.Qr([AR.BU,AR.xU,AR.FU,AR.dB,AR.UU],function(t){t.bM&&n.XV.GH(t.bM,t.type,n.KF.dw)}),this.zV.Qr(AR.FU,this.$V),this.zV.Qr(AR.MU,this.ZV)},i.switchToPlayerIfNoNextAd=function(){var t,n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.zV){i.next=12;break}if((t=this.zV.iH())&&this.$H(t)){i.next=10;break}if(!this.KF.cU()){i.next=8;break}return i.next=6,wr.awrap(this.KF.IU());case 6:i.next=10;break;case 8:this.KF.jH(),this.SM.yw&&!this.SM.lw&&this.SM.X();case 10:i.next=20;break;case 12:if(!this.KF.cU()){i.next=17;break}return i.next=15,wr.awrap(this.KF.IU());case 15:i.next=20;break;case 17:n=this.SM.yw,this.KF.jH(),n||this.dI.X();case 20:case"end":return i.stop()}},null,this,null,G)},i.$H=function(t){var n=t.jV,i=null==n?void 0:n.JV;return(null==n?void 0:n.YH)!==i},i.Le=function(){this.KF.XH&&(h(this.KF.XH),this.KF.XH=null)},i.qH=function(t){return t._r===DR.MV},i.HH=function(t){return t._r===DR.BV},i.UH=function(t){return t.pM===OR.OV},i.uH=function(t){var n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.KF.KH.pU=!1,this.WH(t),i=[OR.yV,OR.IV,OR.PV,OR.LV],this.KF.JH||fu(i,t.pM)||fu(i,null==(n=t.UV)?void 0:n.pM)){e.next=6;break}return e.next=6,wr.awrap(this.switchToPlayerIfNoNextAd());case 6:case"end":return e.stop()}},null,this,null,G)},i.WH=function(t){this.KF.QH(t)},i.oH=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.XV.gU(),this.KF.IF(),"nonlinear"===this.KF.VF&&(this.XV.yH(-1,!1),this.KF.hH(void 0)),"nonlinear"!==this.KF.VF&&"none"!==this.KF.VF){t.next=7;break}if(!this.KF.cU()){t.next=7;break}return t.next=7,wr.awrap(this.KF.IU());case 7:return t.next=9,wr.awrap(this.KF.ZH());case 9:this.SM.fl===this.KF?this.KF.KM():this.tq()&&this.dI.Jr(new Gw(this.dI.dw));case 10:case"end":return t.stop()}},null,this,null,G)},i.tq=function(){return this.KF.xH&&!this.KF.LH&&this.SM.lw},i.setCountdownTimer=function(){var t=this;this.Le(),this.KF.XH=c(function(){return t.wH()},250)},i.VH=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t.bM){n.next=2;break}return n.abrupt("return");case 2:if(this.KF.KH.pU=!1,this.KF.IF(),!this.KF.cU()){n.next=10;break}return n.next=8,wr.awrap(this.KF.IU());case 8:n.next=11;break;case 10:this.KF.yw=!0;case 11:case"end":return n.stop()}},null,this,null,G)},i.dH=function(t){this.KF.vw!==t&&t>=0&&(this.KF.vw=t,this.lH(new qw(this.KF.vw)))},i.BH=function(t){this.KF._H()!==t&&(0===t?this.KF.nq(t,!0,!1):this.KF.nq(t,!1,!1))},i.PH=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.KF.RH||!this.dI.du){t.next=6;break}return this.qV=new wu,t.next=4,wr.awrap(this.dI.Qw(this.dI.Jw(),this.qV.$r));case 4:this.WV&&(this.dI.dw=this.WV),this.WV=void 0;case 6:case"end":return t.stop()}},null,this,null,G)},i.wH=function(t){if(this.zV){var n=this.zV.iq();n>this.KF.vw&&this.dH(v.round(n))}var i=this.KF.dw;(t||!this.KF.yw&&i!==this.KF.rq)&&(this.KF.Jr(new zw(i,void 0)),this.KF.rq=i)},i.nl=function(){this.qV&&(this.qV.Wr(),this.qV=void 0),this.VV=!1,this.HV=!1,this.GV=0},i.et=function(){this.nl(),this.nu()},n}(Du);!function(t){t.uq="theo",t.sq="google-ima",t.oq="google-dai",t.cq="freewheel"}(BR||(BR={}));var VR=function(t){function n(n,i){var e;return(e=t.call(this,-1,-1,n)||this).hq=i,e}return dt(n,t),at(n,[{key:"aq",get:function(){return BR.sq}},{key:"fq",get:function(){return this.hq}}]),n}(function(){function t(t,n,i){this.Sv=void 0,this.dq=[],this.vq=!1,this.lq=t,this.wq=n,this.gq=i}var n=t.prototype;return n.yq=function(){this.vq=!0},n._q=function(t){this.dq.push(t)},n.mq=function(){var t;return this.Sv||(this.Sv=(t=this,{get ads(){return t.zM.map(function(t){return t.mq()})},get maxDuration(){return t.QV},get maxRemainingDuration(){return t.pq},get timeOffset(){return t.KV},get integration(){return t.aq}})),this.Sv},at(t,[{key:"zM",get:function(){return this.dq}},{key:"QV",get:function(){return this.lq},set:function(t){this.lq=t}},{key:"pq",get:function(){return this.wq},set:function(t){this.wq=t}},{key:"KV",get:function(){return this.gq},set:function(t){this.gq=t}},{key:"Rg",get:function(){return this.vq}}]),t}()),HR=function(){};function qR(t){if(t)return t.mq()}var WR,zR,GR=function(t){function n(n){return t.call(this,"bq",n)||this}return dt(n,t),n.prototype.Iv=function(){return new $R(qR(this.bM))},n}(tR),$R=function(t){function n(n){return t.call(this,"addadbreak",n)||this}return dt(n,t),n}(nR),jR=function(t){function n(n){return t.call(this,"kq",n)||this}return dt(n,t),n.prototype.Iv=function(){return new YR(qR(this.bM))},n}(tR),YR=function(t){function n(n){return t.call(this,"removeadbreak",n)||this}return dt(n,t),n}(nR);!function(t){t.NB="linear",t.OB="nonlinear",t.Uf="unknown"}(WR||(WR={})),function(t){t.NONE="none",t.READY="ready"}(zR||(zR={}));var XR=function(t){function n(n){var i;return(i=t.call(this,n,WR.Uf)||this).Tq=void 0,i.Eq=void 0,i}dt(n,t);var i=n.prototype;return i.Iv=function(){var t;return function(t,n){return Fl(t,{get adSystem(){return n.Sq},get apiFramework(){return n.Rq},get bitrate(){return n.Iq},get contentType(){return n._f},get creativeId(){return n.Aq},get mediaUrl(){return n.Nq},get title(){return n.RR},get traffickingParameters(){return n.Oq},get traffickingParametersString(){return n.Dq},get wrapperAdIds(){return n.Cq},get wrapperAdSystems(){return n.Pq},get wrapperCreativeIds(){return n.xq},get universalAdIds(){return n.Lq}})}((t=this,{adSystem:void 0,creativeId:void 0,universalAdIds:[],get readyState(){return t.Mq},get adBreak(){return t.Bq.mq()},get duration(){return t.vw},get companions(){return t.Fq.map(function(t){return t.mq()})},get clickThrough(){return t.Uq},get width(){return t.by},get type(){return t.VF},get height(){return t.ub},get id(){return t.wl},get skipOffset(){return t.Vq},get integration(){return t.aq}}),this)},i.Hq=function(t){this.Tq=t,this.qq(t.Wq,t.zq,t.Gq,t.vw,[],t.$q),this.jq=t.vH?WR.NB:WR.OB},at(n,[{key:"aq",get:function(){return BR.sq}},{key:"Sq",get:function(){return this.Tq?KR(this.Tq.Sq):void 0}},{key:"Rq",get:function(){return this.Tq?KR(this.Tq.Yq):void 0}},{key:"Iq",get:function(){return this.Tq?this.Tq.Xq:0}},{key:"_f",get:function(){return this.Tq?KR(this.Tq._f):void 0}},{key:"Aq",get:function(){return this.Tq?KR(this.Tq.Aq):void 0}},{key:"Kq",get:function(){return this.Tq?KR(this.Tq.Kq):void 0}},{key:"Nq",get:function(){var t,n=null==(t=this.Tq)?void 0:t.Nq;return At(n)?n:this.Eq},set:function(t){this.Eq=t}},{key:"RR",get:function(){var t;return null==(t=this.Tq)?void 0:t.RR}},{key:"Oq",get:function(){return this.Tq?KR(this.Tq.Oq):void 0}},{key:"Dq",get:function(){return this.Tq?KR(this.Tq.Dq):void 0}},{key:"Cq",get:function(){var t,n;return null!=(t=null==(n=this.Tq)?void 0:n.Cq)?t:[]}},{key:"Pq",get:function(){var t,n;return null!=(t=null==(n=this.Tq)?void 0:n.Pq)?t:[]}},{key:"xq",get:function(){var t,n;return null!=(t=null==(n=this.Tq)?void 0:n.xq)?t:[]}},{key:"Lq",get:function(){var t,n;return null!=(t=null==(n=this.Tq)?void 0:n.Lq.map(function(t){return{adIdRegistry:t.Jq,adIdValue:t.Qq}}))?t:[]}}]),n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).Sv=void 0,e.jo=void 0,e.Zq=void 0,e.Xs=void 0,e.Ks=void 0,e.Ls=void 0,e.tW=[],e.nW=zR.NONE,e.iW=void 0,e.eW=n,e.jq=i,e}dt(n,t);var i=n.prototype;return i.qq=function(t,n,i,e,r,u){this.jo=t,this.Xs=n,this.Ks=i,this.Ls=e,this.tW=r,this.Zq=u,this.nW=zR.READY},i.mq=function(){return this.Sv||(this.Sv=this.Iv()),this.Sv},i.rW=function(){return""},i.uW=function(){return""},i.sW=function(){return""},at(n,[{key:"Mq",get:function(){return this.nW}},{key:"Bq",get:function(){return this.eW}},{key:"Fq",get:function(){return this.tW}},{key:"vw",get:function(){return this.Ls}},{key:"ub",get:function(){return this.Ks}},{key:"wl",get:function(){return this.jo}},{key:"Vq",get:function(){return this.Zq}},{key:"by",get:function(){return this.Xs}},{key:"VF",get:function(){return this.jq}},{key:"Uq",get:function(){}}]),n}(HR));function KR(t){return null===t?void 0:t}var JR=function(){function t(t,n){this.XV=t,this.oW=n}var n=t.prototype;return n.cW=function(t,n,i){0},n.hp=function(){this.XV.hp()},n.et=function(){return G.resolve()},at(t,[{key:"dM",get:function(){return this.XV.dM}},{key:"aM",get:function(){return this.oW}},{key:"WM",get:function(){return this.XV.WM}},{key:"FM",get:function(){var t=this.XV.FM;return t?t.mq():null}},{key:"BM",get:function(){var t=this.XV.hW;return t?[t.mq()]:[]}},{key:"UM",get:function(){return[]}},{key:"VM",get:function(){return this.XV.VM.map(function(t){return t.mq()})}}]),t}(),QR=function(){function t(t,n){this.aW=[],this.fW=void 0,this.dW=void 0,this.vW=!1,this.lW=void 0,this.GM=t,this.lW=new JR(this,n)}return t.prototype.hp=function(){},at(t,[{key:"wW",get:function(){return this.lW}},{key:"dM",get:function(){return this.GM}},{key:"WM",get:function(){return this.vW}},{key:"UM",get:function(){return[]}},{key:"hW",get:function(){return this.fW}},{key:"FM",get:function(){return this.dW}}]),t}(),ZR=function(t){function n(n){return t.call(this,"gW",n)||this}return dt(n,t),n.prototype.Iv=function(){return new tI(qR(this.bM))},n}(tR),tI=function(t){function n(n){return t.call(this,"updatead",n)||this}return dt(n,t),n}(nR),nI=function(t){function n(n){return t.call(this,"yW",n)||this}return dt(n,t),n.prototype.Iv=function(){return new iI(qR(this.bM))},n}(tR),iI=function(t){function n(n){return t.call(this,"addad",n)||this}return dt(n,t),n}(nR),eI=function(t){function n(n,i){var e;return(e=t.call(this,"_W",n)||this).currentTime=void 0,e.currentTime=i,e}return dt(n,t),n.prototype.Iv=function(){return new rI(qR(this.bM),this.currentTime)},n}(tR),rI=function(t){function n(n,i){var e;return(e=t.call(this,"adbegin",n)||this).currentTime=i,e}return dt(n,t),n}(nR),uI=function(t){function n(n){return t.call(this,"mW",n)||this}return dt(n,t),n.prototype.Iv=function(){return new sI(qR(this.bM))},n}(tR),sI=function(t){function n(n){return t.call(this,"adloaded",n)||this}return dt(n,t),n}(nR),oI=function(t){function n(n){return t.call(this,"pW",n)||this}return dt(n,t),n.prototype.Iv=function(){return new cI(qR(this.bM))},n}(tR),cI=function(t){function n(n){return t.call(this,"adimpression",n)||this}return dt(n,t),n}(nR),hI=function(t){function n(n,i){var e;return(e=t.call(this,"bW",n)||this).currentTime=void 0,e.currentTime=i,e}return dt(n,t),n.prototype.Iv=function(){return new aI(qR(this.bM),this.currentTime)},n}(tR),aI=function(t){function n(n,i){var e;return(e=t.call(this,"adfirstquartile",n)||this).currentTime=i,e}return dt(n,t),n}(nR),fI=function(t){function n(n,i){var e;return(e=t.call(this,"kW",n)||this).currentTime=void 0,e.currentTime=i,e}return dt(n,t),n.prototype.Iv=function(){return new dI(qR(this.bM),this.currentTime)},n}(tR),dI=function(t){function n(n,i){var e;return(e=t.call(this,"admidpoint",n)||this).currentTime=i,e}return dt(n,t),n}(nR),vI=function(t){function n(n,i){var e;return(e=t.call(this,"TW",n)||this).currentTime=void 0,e.currentTime=i,e}return dt(n,t),n.prototype.Iv=function(){return new lI(qR(this.bM),this.currentTime)},n}(tR),lI=function(t){function n(n,i){var e;return(e=t.call(this,"adthirdquartile",n)||this).ad=n,e.currentTime=i,e}return dt(n,t),n}(nR),wI=function(t){function n(n,i){var e;return(e=t.call(this,"SW",n)||this).EW=void 0,e.EW=i,e}return dt(n,t),n.prototype.Iv=function(){return new gI(qR(this.bM),this.RW)},at(n,[{key:"RW",get:function(){return this.EW}}]),n}(tR),gI=function(t){function n(n,i){var e;return(e=t.call(this,"adskip",n)||this).playedPercentage=i,e}return dt(n,t),n}(nR),yI=function(t){function n(n,i){var e;return(e=t.call(this,"IW",n)||this).currentTime=void 0,e.currentTime=i,e}return dt(n,t),n.prototype.Iv=function(){return new _I(qR(this.bM),this.currentTime)},n}(tR),_I=function(t){function n(n,i){var e;return(e=t.call(this,"adend",n)||this).currentTime=i,e}return dt(n,t),n}(nR),mI=function(t){function n(n){return t.call(this,"AW",n)||this}return dt(n,t),n.prototype.Iv=function(){return new pI(qR(this.bM))},n}(tR),pI=function(t){function n(n){return t.call(this,"adbreakbegin",n)||this}return dt(n,t),n}(nR),bI=function(t){function n(n){return t.call(this,"NW",n)||this}return dt(n,t),n.prototype.Iv=function(){return new kI(qR(this.bM))},n}(tR),kI=function(t){function n(n){return t.call(this,"adbreakend",n)||this}return dt(n,t),n}(nR),TI=function(t){function n(n){return t.call(this,"OW",n)||this}return dt(n,t),n.prototype.Iv=function(){return new EI(qR(this.bM))},n}(tR),EI=function(t){function n(n){return t.call(this,"updateadbreak",n)||this}return dt(n,t),n}(nR),SI=function(t){function n(n){var i;return(i=t.call(this,"DW")||this).bM=n,i}return dt(n,t),n.prototype.Iv=function(){return new RI(this.bM.mq())},n}(Tl),RI=function(t){function n(n){var i;return(i=t.call(this,"adbuffering")||this).ad=n,i}return dt(n,t),n}(Pu),II=function(t){function n(){return t.call(this,"PW")||this}return dt(n,t),n.prototype.Iv=function(){return new AI},n}(Tl),AI=function(t){function n(){return t.call(this,"admetadata")||this}return dt(n,t),n}(Pu),NI=function(t){function n(n,i){var e;return(e=t.call(this,n,BR.sq)||this).xW=[],e.LW=[],e.MW=i,e}dt(n,t);var i=n.prototype;return i.BW=function(t,n){for(var i=0;i<t;i++){var e=new XR(n);n._q(e),this.dM.Jr(new nI(e))}},i.vU=function(t,n,i){var e=t;e===1/0&&(e=-1);var r=new VR(e,i);this.aW.push(r),n.fF(r),this.dM.Jr(new GR(r))},i.oU=function(t,n){for(var i=0,e=this.aW;i<e.length;i++){var r=e[i];g(r.KV)&&r.fq===t&&(r.KV=n,this.dM.Jr(new TI(r)))}},i._U=function(t,n){void 0===n&&(n=!1),n&&hu(this.aW,t),this.dM.Jr(new jR(t))},i.gU=function(){if(this.FM){this._U(this.FM,!0);var t=Boolean(this.fW&&this.fW.VF===WR.NB);this.FW(void 0,t)}},i.UW=function(t,n){var i=n.jV;if(i){var e=i.YH-1,r=t.zM[e];return r.Mq===zR.READY?r:(r.Hq(n),this.dM.Jr(new ZR(r)),r.Bq.QV=i.QV,r)}},i.VW=function(t){if(!fu(this.LW,t)){if(t){if(this.fW===t)return;this.fW=t,this.dM.Jr(new eI(this.fW,t.Bq.KV));for(var n=0,i=this.xW;n<i.length;n++){var e=i[n];0,this.FH(e,t,this.MW.dw)}}else{if(!this.fW)return;var r=new yI(this.fW,this.fW.Bq.KV);this.LW.push(this.fW),this.fW=void 0,this.GM.Jr(r)}vu(this.xW)}},i.FW=function(t,n){if(t){if(this.dW)return;this.dW=t,n&&this.dM.Jr(new mI(this.dW))}else{if(!this.dW)return;var i=new bI(this.dW);this.dW=void 0,vu(this.LW),n&&this.GM.Jr(i)}},i.HW=function(t){return this.aW.filter(function(n){return En(n.KV,t,.01)})[0]},n.qW=function(t,n){if(n.jV)return t.zM[n.jV.YH-1]},i.AH=function(t){if(t.jV){var n=t.jV,i=this.HW(n.KV);i&&(vu(this.xW),this.FW(i,t.vH))}},i.DH=function(){this.FM&&this.dM.Jr(new bI(this.FM)),vu(this.xW),this.gU()},i.fH=function(t){if(!this.dW&&t.jV){var i=this.HW(t.jV.KV);this.FW(i,t.vH)}if(this.dW){var e=n.qW(this.dW,t);if(!e)return;e.Mq===zR.NONE&&this.UW(this.dW,t);var r=t.Nq;At(r)&&!At(e.Nq)&&(e.Nq=r,this.dM.Jr(new ZR(e))),this.VW(e)}else 0},i.yH=function(t,n){if(this.VW(void 0),!n&&this.FM){var i=this.FM;this.FW(void 0,!1),this._U(i)}},i.zH=function(t){var n=t.jV;if(n){var i=this.HW(n.KV);if(i){this.YV(n.KV,n.JV,n.QV);var e=this.UW(i,t);e&&this.dM.Jr(new uI(e))}}},i.YV=function(t,n,i){var e=this.HW(t);if(e){var r=e.zM.length;if(n>r){var u=n-r;this.BW(u,e),e.QV=i,this.dM.Jr(new TI(e))}}},i.mH=function(t,i,e){if(this.dW){var r=n.qW(this.dW,t);if(r){var u=i/e;this.dM.Jr(new wI(r,u))}}},i.GH=function(t,i,e){if(this.dW){var r=this.fW;if(!r){var u=n.qW(this.dW,t);if(!u||fu(this.LW,u))return void this.xW.push(i);r=u,this.UW(this.dW,t),this.VW(r)}this.FH(i,r,e)}},i.FH=function(t,n,i){t===AR.zU?this.dM.Jr(new II):t===AR.xU&&n?this.dM.Jr(new oI(n)):t===AR.BU&&n?this.dM.Jr(new SI(n)):t===AR.FU&&n&&i?this.dM.Jr(new hI(n,i)):t===AR.dB&&n&&i?this.dM.Jr(new fI(n,i)):t===AR.UU&&n&&i&&this.dM.Jr(new vI(n,i))},i.hp=function(){this.MW.hp()},i.nl=function(){var t=Boolean(this.fW&&this.fW.VF===WR.NB);this.VW(void 0),this.FW(void 0,t);for(var n=0,i=this.aW;n<i.length;n++){var e=i[n];this._U(e)}vu(this.aW),vu(this.xW),vu(this.LW)},i.et=function(){this.nl()},at(n,[{key:"WM",get:function(){return this.MW.WM}},{key:"hW",get:function(){return this.fW}},{key:"FM",get:function(){return this.dW}},{key:"VM",get:function(){return this.aW.filter(function(t){return!t.Rg})}}]),n}(QR);var OI=function(t){function i(n,i,e,r,u,s,o,c){var h;return(h=t.call(this,n,i,e)||this).WW=void 0,h.Uw=!1,h.zW=void 0,h.vA=void 0,h.dA=void 0,h.js=void 0,h.GW=void 0,h.zV=void 0,h.$W=void 0,h.jW=void 0,h.XH=void 0,h.Ls=void 0,h.YW=void 0,h.XW=void 0,h.OM=!1,h.KW=void 0,h.JW=void 0,h.LF=void 0,h.QW=void 0,h.ZW=-1,h.jq="none",h.yx=void 0,h.tz=void 0,h.nz=!1,h.iz=!1,h.rU=void 0,h.ez=!1,h.rz=new wu,h.MF=void 0,h.uz=void 0,h.sz=!1,h.oz=!1,h.cz=function(t){h.dM.Jr(t)},h.hz=function(t){var n;h.KW=new Tg(mg.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),h.JW=(n=h.KW,new Pc(Rg(n.code),n.message,n))},h.rq=NaN,h.az=function(){h.Uw||h.st()},h.yx=r,h.vA=!0,h.Ls=NaN,h.GW=pw.nw,h.YW=!1,h.XW=!1,h.dA=h.rI.gw,h.js=h.rI.kw,h.rU=new NI(h.dM,On(h)),h.QW=new UR(On(h),h.rI,h.YM,h.rU),h.QW.Qr(iw.kl,h.hz),h.rI.Qr("play",h.az),h.LF=new CR(On(h),h.rI,h.YM,u,h.rU),h.zW=c,h.$W=o,h.jW=s,h.ug(),h.$W.Qr("fz",h.cz),h}dt(i,t);var e=i.prototype;return e.cW=function(t,n,i){n===GS.nM&&void 0!==i&&(this.OM=i),this.LF.aU(t,n)},e.cg=function(){return[]},e.wM=function(t){this.MF=t,this.LF.wM(t)},e.EU=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ez||!this.AU){t.next=4;break}return t.next=3,wr.awrap(this.AU.kI());case 3:this.ez=!0;case 4:case"end":return t.stop()}},null,this,null,G)},e.hH=function(t){this.VF=t?t.vH?"linear":"nonlinear":"none"},e._H=function(){return this.dA?0:this.rI.kw},e.nq=function(t,n,i){this.js=t,this.dA=n,this.rI.kw=t,this.rI.gw=n,this.AU&&i&&this.AU.PP(this._H()),this.Jr(new Xw(this.dw,this.kw))},e.st=function(){this.rI.iu("play",this.az),this.Uw||(this.Uw=!0,this.LF.st(),this.aH())},e.dz=function(){return this.WW||(this.WW=this.jW.jC()),this.WW},e.X=function(){var t,n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.tz){i.next=2;break}return i.abrupt("return");case 2:return this.rz.Wr(),this.rz=new wu,t=this.yw,this.yw=!1,this.Jr(new Fw(this.dw)),this.vz()||(this.RH||this.rI.ug(),this.Jr(new sm(this.dw))),this.TH||(this.EH=!1),n=Boolean(this.AU),this.tz=this.LF.hU(),i.prev=11,i.next=14,wr.awrap(this.tz);case 14:return i.prev=14,this.tz=void 0,i.finish(14);case 17:i.prev=17,_u(this.rz.$r),i.next=24;break;case 21:return i.prev=21,i.t0=i.catch(17),i.abrupt("return");case 24:if(this.Uw||this.az(),!this.KW||!this.OM){i.next=27;break}return i.abrupt("return");case 27:if(!this.AU){i.next=45;break}if(!t){i.next=43;break}if(!n){i.next=41;break}return i.prev=30,i.next=33,wr.awrap(bu(this.AU.lz(),this.rz.$r));case 33:this.Jr(new om(this.dw)),i.next=39;break;case 36:return i.prev=36,i.t1=i.catch(30),i.abrupt("return");case 39:i.next=43;break;case 41:return i.next=43,wr.awrap(this.EU());case 43:i.next=46;break;case 45:this.OM||(this.KM(),this.YM.X());case 46:case"end":return i.stop()}},null,this,[[11,,14,17],[17,21],[30,36]],G)},e.K=function(){var t;this.yw||(this.yw=!0,this.Jr(new Bw(this.dw))),this.rz.Wr(),this.TH?null==(t=this.AU)||t.K():this.EH=!0},e.hp=function(){var t;null==(t=this.AU)||t.hp()},e.ZH=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.AU){t.next=10;break}return t.next=3,wr.awrap(this.$W.wz());case 3:return t.next=5,wr.awrap(this.AU.Kw());case 5:return t.next=7,wr.awrap(this.AU.Br());case 7:this.AU=void 0,this.VF="none",this.ez=!1;case 10:case"end":return t.stop()}},null,this,null,G)},e.Kw=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.WW=void 0,n.next=3,wr.awrap(this.jW.Br());case 3:return this.rq=0,this.LF.nl(),this.rz.Wr(),this.yw=!0,this.YW=!1,this.XW=!1,this.TH=!1,this.rU.nl(),n.next=13,wr.awrap(this.ZH());case 13:this.jH(),null==(t=this.zW)||t.nl(),this.EH=!1;case 16:case"end":return n.stop()}},null,this,null,G)},e.rg=function(){this.gz()},e.gz=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.dz());case 2:return t.next=4,wr.awrap(this.jW.rg());case 4:case"end":return t.stop()}},null,this,null,G)},e.ug=function(){this.jW.ug()},e.yz=function(){return Boolean(this.AU)&&fu(this.AU._z(),-1)&&!this.YW},e.PF=function(){this.LF.PF()},e.cU=function(){return this.LF.cU},e.IF=function(){this.LF.IF()},e.IU=function(){return this.LF.IU()},e.hg=function(t){if(this.yz()){if("pause"===t.type&&this.rI.lw)return!0;if("ended"===t.type)return this.YW=!0,this.$W.wz(),!0}return!1},e.vz=function(){return Boolean(this.AU&&this.AU.iH())},e.TU=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wr.awrap(this.ZH());case 3:return n=this.mz(),i.next=6,wr.awrap(this.dz());case 6:return i.next=8,wr.awrap(this.$W.TU(t,this.zW,n));case 8:return this.AU=i.sent,i.next=11,wr.awrap(this.pz(this.AU));case 11:i.next=16;break;case 13:i.prev=13,i.t0=i.catch(0),this.QW.uH(i.t0);case 16:case"end":return i.stop()}},null,this,[[0,13]],G)},e.pz=function(t){var n,i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,wr.awrap(t.PP(this._H()));case 2:if(this.LF.dU===ER.YF)if((n=t._z()).length)for(i=0;i<n.length;i++)e=n[i],this.rU.vU(e,this.LF.UF);else this.rU.vU(this.LF.UF.A_,this.LF.UF);this.QW.nl(),this.QW.MH(t);case 5:case"end":return r.stop()}},null,this,null,G)},e.sg=function(){if(this.zV&&this.RH&&this.vz())return this.rI.sg()},e.og=function(){return this.RH&&this.YM.fl===this?this.rI.og():tk},e.mz=function(){var t,n,i=this.LF.dU===ER.YF,e=!(!this.iz||!i)&&this.bz;return this.yx.ads.showCountdown||(t=[]),void 0!==this.yx.ads.allowedMimeTypes&&(n=this.yx.ads.allowedMimeTypes),{kz:n,Tz:t,Ez:e,Iq:this.yx.ads.googleIma.bitrate,Sz:void 0,Rz:this.MF}},e.aH=function(){if(!this.iz&&!this.gw&&(this.iz=!0,this.zV)){var t=this.mz();this.zV.Iz(t)}},e.QH=function(t){this.KW=new Tg(mg.ADVERTISEMENT_ERROR,t.hu),this.JW=new Pc(n.ErrorCode.AD_ERROR,"There was a problem playing ads.",this.KW),this.dM.Jr(iR.TM(t)),this.OM&&this.Jr(new Zw(this.JW))},e.jH=function(){this.YM.fl===this&&(this.rI.rg(),this.KM(),this.ug())},e.CH=function(){var t;this.rI.dw!==1/0&&this.rI.Ag.length&&((null==(t=this.LF.UF)?void 0:t.NF)&&-1!==this.ZW&&(this.rI.dw+=this.ZW,this.ZW=-1))},e.NH=function(t){var n,i;this.ZW=null!=(n=null==(i=t.jV)?void 0:i.QV)?n:-1},e.XM=function(){this.RH&&(this.uz=ig(this.rI)),t.prototype.XM.call(this)},e.KM=function(){this.restorePlayerState(),t.prototype.KM.call(this),this.rI.rg(),this.RH&&!this.rI.lw&&this.rI.X()},e.restorePlayerState=function(){this.uz&&(this.rI._w=this.uz._w,this.rI.kw=this.uz.kw,this.rI.gw=this.uz.gw),this.uz=void 0},e.doHandleWindowFocus=function(){this.RH||t.prototype.doHandleWindowFocus.call(this)},e.et=function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.QW.iu(iw.kl,this.hz),n.next=3,wr.awrap(t.prototype.et.call(this));case 3:return this.YM.ag(this),n.next=6,wr.awrap(this.ZH());case 6:return this.$W.iu("fz",this.cz),n.next=9,wr.awrap(this.$W.Br());case 9:return n.next=11,wr.awrap(this.jW.Br());case 11:this.LF.et(),this.QW.et();case 13:case"end":return n.stop()}},null,this,null,G)},at(i,[{key:"fM",get:function(){return this.rU.wW}},{key:"Az",get:function(){return this.rU}},{key:"KH",get:function(){return this.LF}},{key:"RH",get:function(){return t=this.yx,St.kn&&t.allowNativeFullscreen;var t}},{key:"aM",get:function(){return i.aM}},{key:"bz",get:function(){return this.yx.ads.preload===mw.MIDROLL_AND_POSTROLL}},{key:"UM",get:function(){return[]}},{key:"BM",get:function(){return[]}},{key:"FM",get:function(){return null}},{key:"VF",get:function(){return this.jq},set:function(t){this.jq=t}},{key:"AU",get:function(){return this.zV},set:function(t){this.zV=t,this.ez=!1}},{key:"dw",get:function(){if(!this.AU)return 0;var t=this.AU.iq();return g(this.vw)||t<0?0:this.vw-t},set:function(t){}},{key:"vw",get:function(){return this.Ls||NaN},set:function(t){this.Ls=t}},{key:"gw",get:function(){return this.dA},set:function(t){this.dA!==t&&this.nq(this.kw,t,!0)}},{key:"Sg",get:function(){return!0}},{key:"yw",get:function(){return this.vA},set:function(t){this.vA=t}},{key:"TH",get:function(){return this.sz},set:function(t){this.sz=t}},{key:"JH",get:function(){return this.OM}},{key:"xH",get:function(){return this.YW}},{key:"EH",get:function(){return this.oz},set:function(t){this.oz=t}},{key:"LH",get:function(){return this.XW},set:function(t){this.XW=t}},{key:"pw",get:function(){return 0}},{key:"bw",get:function(){return 0}},{key:"Ag",get:function(){return new Jb([0,this.vw]).UR()}},{key:"kw",get:function(){return this.js},set:function(t){this.js!==t&&this.nq(t,this.gw,!0)}},{key:"gg",get:function(){return this.rI.gg}},{key:"lw",get:function(){return!1}},{key:"du",get:function(){if(this.KW&&this.OM)return this.KW}},{key:"ww",get:function(){if(this.JW&&this.OM)return this.JW}},{key:"Ol",get:function(){return this.GW},set:function(t){this.GW=t}},{key:"IH",get:function(){return this.nz},set:function(t){this.nz=t}}],[{key:"aM",get:function(){return BR.sq}}]),i}(lR),DI=function(){function t(){this.Nz=void 0,this.Oz=void 0}var n=t.prototype;return n.registerWebImaAdPlayerConstructor=function(t){this.Nz=t},n.registerNativeImaAdPlayerConstructor=function(t){this.Oz=t},n.createAdPlayer=function(t,n,i,e,r){var u,s;return null!=(u=null==(s=e.ads.googleIma)?void 0:s.useNativeIma)&&u&&this.Oz?this.Oz(t,n,i,e,r):function(){if(Boolean(Z.google&&Z.google.ima)){var t=1===d.keys(Z.google.ima).length&&Z.google.ima.dai;return!t}return!1}()&&this.Nz?this.Nz(t,n,i,e,r):void 0},t}();DI.ni=new DI;var CI=function(){function t(){}var n=t.prototype;return n.KA=function(t){return t&&t.integration===pk.GOOGLE_IMA},n.cM=function(t,n,i,e,r){return DI.ni.createAdPlayer(t,n,i,e,r)},n.V=function(t,n,i,e){i.cW(t,n,e)},n.VN=function(t){var n=function(t){if(t)return xt(t)?{src:$l(t),type:void 0}:Ct(t)&&t.src?{src:$l((t=t).src),type:bR(t.type)}:void 0}(t.sources);if(n){var i={integration:pk.GOOGLE_IMA,sources:n,omidAccessModeRules:t.omidAccessModeRules?Gk(t.omidAccessModeRules):void 0},e=kR(t.timeOffset);return void 0!==e&&(i.timeOffset=e),i}},at(t,[{key:"oM",get:function(){return OI.aM}}]),t}();Ck.ni.JA(new CI);var PI=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},xI=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),LI={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?e.splice(s,1/0,r):e.push(r),~i.indexOf(u)&&(u=n.call(this,r,u))}else i.push(u);return null==t?u:t.call(this,r,u)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(LI,LI.exports);var MI=LI.exports;function BI(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function FI(t){return JSON.stringify(t,LI.exports.getSerialize(BI))}var UI={},VI={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=u,t.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(VI);var HI={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=u,t.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(HI);var qI={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(qI),d.defineProperty(UI,"__esModule",{value:!0});var WI=VI.isS,zI=VI.isChar,GI=VI.isNameStartChar,$I=VI.isNameChar,jI=VI.S_LIST,YI=VI.NAME_RE,XI=HI.isChar,KI=qI.isNCNameStartChar,JI=qI.isNCNameChar,QI=qI.NC_NAME_RE;const ZI="http://www.w3.org/XML/1998/namespace",tA="http://www.w3.org/2000/xmlns/",nA={__proto__:null,xml:ZI,xmlns:tA},iA={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},eA=-1,rA=-2,uA=0,sA=1,oA=2,cA=3,hA=4,aA=5,fA=6,dA=7,vA=8,lA=9,wA=10,gA=11,yA=12,_A=13,mA=14,pA=15,bA=16,kA=17,TA=18,EA=19,SA=20,RA=21,IA=22,AA=23,NA=24,OA=25,DA=26,CA=27,PA=28,xA=29,LA=30,MA=31,BA=32,FA=33,UA=34,VA=35,HA=36,qA=37,WA=38,zA=39,GA=40,$A=41,jA=42,YA=43,XA=44,KA=9,JA=10,QA=13,ZA=32,tN=33,nN=38,iN=45,eN=47,rN=59,uN=60,sN=61,oN=62,cN=63,hN=91,aN=93,fN=133,dN=8232,vN=t=>34===t||39===t,lN=[34,39],wN=[...lN,hN,oN],gN=[...lN,uN,aN],yN=[sN,cN,...jI],_N=[...jI,oN,nN,uN];function mN(t,n,i){switch(n){case"xml":i!==ZI&&t.fail(`xml prefix must be bound to ${ZI}.`);break;case"xmlns":i!==tA&&t.fail(`xmlns prefix must be bound to ${tA}.`)}switch(i){case tA:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${tA}.`);break;case ZI:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const pN=t=>QI.test(t),bN=t=>YI.test(t),kN=0,TN=1,EN=2;UI.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const SN={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var RN=UI.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=KI,this.nameCheck=JI,this.isName=pN,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},nA);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))mN(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=GI,this.nameCheck=$I,this.isName=bN,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Yu}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=kN,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?_A:uA,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new a("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Yu=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(iA),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[SN[t]]=n}off(t){this[SN[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new a(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===QA||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return eA;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=ZA||i===KA)return i;switch(i){case JA:return this.line++,this.column=0,this.positionAtNewLine=this.position,JA;case QA:return t.charCodeAt(n+1)===JA&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,rA;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return eA;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==dN||i===KA)return i;switch(i){case JA:return this.line++,this.column=0,this.positionAtNewLine=this.position,JA;case QA:{const i=t.charCodeAt(n+1);i!==JA&&i!==fN||(this.i=n+2)}case fN:case dN:return this.line++,this.column=0,this.positionAtNewLine=this.position,rA;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===rA?JA:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===rA,u=r?JA:e;if(u===eA||t.includes(u))return this.text+=i.slice(n,this.prevI),u;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case rA:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=JA;break;case eA:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===eA)return this.name+=t.slice(n),eA;if(!$I(i))return this.name+=t.slice(n,this.prevI),i===rA?JA:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===eA||!WI(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=zI,this.getCode=this.getCode10):(this.isChar=XI,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=sA}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case uN:if(this.state=pA,0!==this.text.length)throw new a("no-empty text at start");break;case eA:break;default:this.unget(),this.state=_A,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(wN);switch(n){case oN:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=_A,this.doctype=!0;break;case eA:break;default:this.text+=String.fromCodePoint(n),n===hN?this.state=hA:vN(n)&&(this.state=cA,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=oA)}sDTD(){const t=this.captureTo(gN);t!==eA&&(this.text+=String.fromCodePoint(t),t===aN?this.state=oA:t===uN?this.state=fA:vN(t)&&(this.state=aA,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=hA,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case tN:this.state=dA,this.openWakaBang="";break;case cN:this.state=gA;break;default:this.state=hA}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?vA:hA,this.openWakaBang="")}sDTDComment(){this.captureToChar(iN)&&(this.text+="-",this.state=lA)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===iN?wA:vA}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===oN?this.state=hA:(this.fail("malformed comment."),this.state=vA)}sDTDPI(){this.captureToChar(cN)&&(this.text+="?",this.state=yA)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===oN&&(this.state=hA)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case rA:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case rN:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===_A&&void 0===this.textHandler||(this.text+=r);break t}case eA:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(GI(t))this.state=UA,this.unget(),this.xmlDeclPossible=!1;else switch(t){case eN:this.state=YA,this.xmlDeclPossible=!1;break;case tN:this.state=bA,this.openWakaBang="",this.xmlDeclPossible=!1;break;case cN:this.state=AA;break;default:this.fail("disallowed character in tag name"),this.state=_A,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=SA,this.openWakaBang="";break;case"--":this.state=kA,this.openWakaBang="";break;case"DOCTYPE":this.state=oA,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(iN)&&(this.state=TA)}sCommentEnding(){var t;const n=this.getCodeNorm();n===iN?(this.state=EA,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=kA)}sCommentEnded(){const t=this.getCodeNorm();t!==oN?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=kA):this.state=_A}sCData(){this.captureToChar(aN)&&(this.state=RA)}sCDataEnding(){const t=this.getCodeNorm();t===aN?this.state=IA:(this.text+=`]${String.fromCodePoint(t)}`,this.state=SA)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case oN:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=_A;break;case aN:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=SA}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=NA):t===cN||WI(t)?(this.fail("processing instruction without a target."),this.state=t===cN?DA:OA):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=NA)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===eA)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===cN;e||WI(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?FA:CA):this.state=e?DA:OA:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===cN?this.state=DA:WI(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(cN)&&(this.state=DA)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===oN){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=_A}else n===cN?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=OA);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==cN?t!==eA&&(this.state=PA,this.name=String.fromCodePoint(t)):this.state=FA}sXMLDeclName(){const t=this.captureTo(yN);if(t===cN)return this.state=FA,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(WI(t)||t===sN){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===sN?LA:xA}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===cN)return this.state=FA,void this.fail("XML declaration is incomplete.");WI(t)||(t!==sN&&this.fail("value required."),this.state=LA)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===cN)return this.state=FA,void this.fail("XML declaration is incomplete.");WI(t)||(vN(t)?this.q=t:(this.fail("value must be quoted."),this.q=ZA),this.state=MA)}sXMLDeclValue(){const t=this.captureTo([this.q,cN]);if(t===cN)return this.state=FA,this.text="",void this.fail("XML declaration is incomplete.");if(t===eA)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=BA}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==cN?(WI(t)||(this.fail("whitespace required."),this.unget()),this.state=CA):this.state=FA}sXMLDeclEnding(){var t;this.getCodeNorm()===oN?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=_A):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===eA)return;const i=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case oN:this.openTag();break;case eN:this.state=VA;break;default:WI(n)||this.fail("disallowed character in tag name."),this.state=HA}}sOpenTagSlash(){this.getCode()===oN?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=HA)}sAttrib(){const t=this.skipSpaces();t!==eA&&(GI(t)?(this.unget(),this.state=qA):t===oN?this.openTag():t===eN?this.state=VA:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===sN?this.state=zA:WI(t)?this.state=WA:t===oN?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==eA&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case eA:return;case sN:this.state=zA;break;default:this.fail("attribute without value."),this.text="",this.name="",t===oN?this.openTag():GI(t)?(this.unget(),this.state=qA):(this.fail("disallowed character in attribute name."),this.state=HA)}}sAttribValue(){const t=this.getCodeNorm();vN(t)?(this.q=t,this.state=GA):WI(t)||(this.fail("unquoted attribute value."),this.state=jA,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=$A);case nN:return this.text+=n.slice(i,this.prevI),this.state=mA,void(this.entityReturnState=GA);case JA:case rA:case KA:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case uN:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case eA:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();WI(t)?this.state=HA:t===oN?this.openTag():t===eN?this.state=VA:GI(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=qA):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(_N);switch(t){case nN:this.state=mA,this.entityReturnState=jA;break;case uN:this.fail("disallowed character.");break;case eA:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===oN?this.openTag():this.state=HA}}sCloseTag(){const t=this.captureNameChars();t===oN?this.closeTag():WI(t)?this.state=XA:t!==eA&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case oN:this.closeTag();break;case eA:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case uN:if(this.state=pA,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=kN;break t;case nN:this.state=mA,this.entityReturnState=_A,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=kN;break t;case aN:switch(n){case kN:n=TN;break;case TN:n=EN;break;case EN:break;default:throw new a("impossible state")}break;case oN:n===EN&&this.fail('the string "]]>" is disallowed in char data.'),n=kN;break;case rA:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=kN;break;case eA:void 0!==e&&(this.text+=i.slice(t));break t;default:n=kN}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case uN:if(this.state=pA,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case nN:this.state=mA,this.entityReturnState=_A,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case rA:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case eA:void 0!==i&&(this.text+=n.slice(t));break t;default:WI(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),u={name:t,prefix:e,local:r,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,mN(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,mN(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==uA&&this.state!==_A&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Yu=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?tA:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=s,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=_A,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=_A,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=_A,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=l(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},IN=function(){function t(){}return t.prototype.hi=function(t){var n=new RN({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new xN,e=[i];function r(t){e[e.length-1].Ei(t)}return n.on("text",function(t){e.length>1&&r(new CN(t))}),n.on("cdata",function(t){r(new PN(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new ON({vi:n,wi:""===i?void 0:i,Dz:""===u?void 0:u}),o=t.attributes,c=0,h=d.keys(o);c<h.length;c++){var a=o[h[c]],f=a.prefix,v=a.local,l=a.uri,w=a.value,g=new AN({vi:v,yi:w,wi:""===l?void 0:l,Dz:""===f?void 0:f});s.Cz(g)}r(s),e.push(s)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new Pn(t)}),n.write(t).close(),i},t}(),AN=function(){function t(t){this.Pz=void 0,this.xz=void 0,this.Lz=void 0,this.g=void 0,this.Pz=t.vi,this.g=t.yi,this.xz=t.wi,this.Lz=t.Dz}var n=t.prototype;return n.fi=function(t){return this===t||!!MN(this,t)&&(this.Pz===t.Pz&&this.xz===t.xz&&this.Lz===t.Lz&&this.g===t.g)},n.di=function(){return new t({vi:this.vi,yi:this.yi,wi:this.wi,Dz:this.gi})},at(t,[{key:"ei",get:function(){return An.ui}},{key:"vi",get:function(){return this.Pz}},{key:"li",get:function(){return void 0===this.Lz?this.Pz:this.Lz+":"+this.Pz}},{key:"wi",get:function(){return this.xz}},{key:"gi",get:function(){return this.Lz}},{key:"yi",get:function(){return this.g}}]),t}(),NN=function(){function t(){this.mi=[]}var n=t.prototype;return n.pi=function(t){return this.mi.filter(function(n){return LN(n)&&n.ki===t})},n.Ti=function(t,n){return this.mi.filter(function(i){return LN(i)&&i.vi===n&&i.wi===t})},n.Ei=function(t){this.mi.push(t)},at(t,[{key:"bi",get:function(){return this.mi}},{key:"Ri",get:function(){return this.mi.filter(LN)}}]),t}(),ON=function(t){function n(n){var i;return(i=t.call(this)||this).Pz=void 0,i.xz=void 0,i.Lz=void 0,i.Mz=[],i.Pz=n.vi,i.xz=n.wi,i.Lz=n.Dz,i}dt(n,t);var i=n.prototype;return i.Bz=function(t){for(var n=0,i=this.bi;n<i.length;n++){var e=i[n];LN(e)?e.Bz(t):t.push(e.Li)}},i.Ai=function(t,n){for(var i=0,e=this.Mz;i<e.length;i++){var r=e[i];if(r.vi===n&&r.wi===t)return r.yi}},i.Ii=function(t){for(var n=0,i=this.Mz;n<i.length;n++){var e=i[n];if(e.li===t)return e.yi}},i.Cz=function(t){this.Mz.push(t)},i.Ni=function(t){for(var n=0;n<this.Mz.length;n++)if(this.Mz[n].li===t)return void this.Mz.splice(n,1)},i.Oi=function(t,n){for(var i=0;i<this.Mz.length;i++)if(this.Mz[i].vi===n&&this.Mz[i].wi===t)return void this.Mz.splice(i,1)},i.Di=function(t,n){this.Ni(t),this.Cz(new AN({vi:t,yi:n}))},i.Ci=function(t,n,i){this.Ni(n);var e=n.split(":");this.Cz(new AN({vi:e[e.length-1],yi:i,wi:t,Dz:e.length>1?e[0]:void 0}))},i.di=function(t){var i=new n({vi:this.vi,wi:this.wi,Dz:this.gi});return this.Pi.forEach(function(t){return i.Cz(t.di())}),t&&this.bi.forEach(function(n){return i.Ei(n.di(t))}),i},i.fi=function(t){return this===t||!!MN(this,t)&&(this.Pz===t.Pz&&this.Lz===t.Lz&&this.xz===t.xz&&(BN(this.Pi,t.Pi)&&BN(this.bi,t.bi)))},at(n,[{key:"ei",get:function(){return An.ri}},{key:"Pi",get:function(){return this.Mz}},{key:"vi",get:function(){return this.Pz}},{key:"wi",get:function(){return this.xz}},{key:"gi",get:function(){return this.Lz}},{key:"ki",get:function(){return void 0===this.Lz?this.Pz:this.Lz+":"+this.Pz}},{key:"xi",get:function(){var t=[];return this.Bz(t),t.join("")}}]),n}(NN),DN=function(){function t(t){this.P=void 0,this.P=t}return at(t,[{key:"Li",get:function(){return this.P}}]),t}(),CN=function(t){function n(n){return t.call(this,n)||this}dt(n,t);var i=n.prototype;return i.di=function(){return new n(this.Li)},i.fi=function(t){return this===t||!!MN(this,t)&&this.Li===t.Li},at(n,[{key:"ei",get:function(){return An.si}}]),n}(DN),PN=function(t){function n(n){return t.call(this,n)||this}dt(n,t);var i=n.prototype;return i.di=function(){return new n(this.Li)},i.fi=function(t){return this===t||!!MN(this,t)&&this.Li===t.Li},at(n,[{key:"ei",get:function(){return An.oi}}]),n}(DN),xN=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.di=function(t){var i=new n;return t&&this.bi.forEach(function(n){return i.Ei(n.di(t))}),i},i.fi=function(t){return this===t||!!MN(this,t)&&BN(this.bi,t.bi)},at(n,[{key:"ei",get:function(){return An.ci}},{key:"Mi",get:function(){return this.Ri[0]}}]),n}(NN);function LN(t){return Nn(t)}function MN(t,n){return t.ei===n.ei}function BN(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].fi(n[i]))return!1;return!0}var FN,UN=["adBreak"],VN=["adBreak"];function HN(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:gr({},t,{adBreak:gr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,Om(t,UN)})})})}function qN(t){return void 0===t.ads?t:gr({},t,{ads:t.ads.map(function(t){return t.adBreak,Om(t,VN)})})}function WN(t){return"string"==typeof t.date?new Date(t.date):t.date}function zN(t){var n;return t.cue.track?(n=$N(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=$N(t.cue,""),n}function GN(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&d.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=d.entries(i);return d.fromEntries(e.map(function(i){var e=i[0],r=i[1],u=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==u&&n.pop(r),[e,u]}))}return i}(t)}function $N(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new IN).hi(e.firstChild.outerHTML).Mi.Pi.forEach(function(t){r[t.vi]=t.yi}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(h=o)&&null!==h){var c=jN(o);u[s]={type:FN.Fz,value:c}}else XN(o)?u[s]={type:FN.jB,value:o}:u[s]={type:FN.WB,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=jN(t.scte35Cmd),i.scte35Out=jN(t.scte35Out),i.scte35In=jN(t.scte35In),i.customAttributes=u}var h}(),i}function jN(t){if(void 0!==t)return Xu(t)}function YN(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push($N(r,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push($N(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function XN(t){return"number"==typeof t}!function(t){t.WB="daterange-ca-type_string",t.jB="daterange-ca-type_number",t.Fz="daterange-ca-type_arraybuffer"}(FN||(FN={}));var KN={cue:function(t){var n={};switch(n.date=WN(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=zN(t)}return n},textTrack:function(t){var n={};switch(n.date=WN(t),n.type=t.type,t.type){case"addcue":var i=t.cue;tO().register(i);var e=ZN()[nO()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=zN(t);break;case"cuechange":for(var r=[],u=0;u<t.track.activeCues.length;u++){var s=t.track.activeCues[u];r.push($N(s,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:YN(t.track),date:WN(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=tO();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=WN(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Zc.jh:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=gr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=YN(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=qN(t.ad);break;case"adloaded":case"adimpression":n.ad=HN(t.ad);break;case"adskip":n.ad=HN(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t._M&&(n._M=t._M),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=HN(t.ad)}return GN(n)},minimizeCueHelper:function(t){var n={};return n.date=WN(t),n.type=t.type,n.cue=zN(t),n.track={uid:t.cue.track.uid},n},adReplacer:HN,adBreakReplacer:qN,removeCircularReferences:GN},JN=function(){this.stringify=FI,this.minimize=KN};function QN(){return Z.self}function ZN(){return QN().THEOplayerBridge}function tO(){return QN().THEOCueMirrorMap}function nO(){return QN().THEOplayerGlobalID}function iO(){var t=QN();if(t.THEOplayerBridge){var n=new PI;t.THEOplayerBridge=Fl(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new PI;t.THEOplayerUtils||(t.THEOplayerUtils=new JN),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new xI)}iO();var eO=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.hi=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Pn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Pn;return new rO(n)},n}(xn),rO=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.di=function(t){return new n(this._i.cloneNode(t))},at(n,[{key:"bi",get:function(){return void 0===this.mi&&(this.mi=oO(this._i.childNodes)),this.mi}},{key:"Mi",get:function(){return new uO(this._i.documentElement)}}]),n}(Hn),uO=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.di=function(t){var i=new n(this._i.cloneNode(t));return i.Pi.length<1&&this.Pi.length>0&&this.Pi.forEach(function(t){i.Di(t.li,t.yi)}),i},at(n,[{key:"bi",get:function(){return void 0===this.mi&&(this.mi=oO(this._i.childNodes)),this.mi}}]),n}(Bn);function sO(t){switch(t.nodeType){case An.ri:return new uO(t)}return Wn(t)}function oO(t){for(var n=[],i=0;i<t.length;i++){var e=sO(t.item(i));e&&n.push(e)}return n}vt(new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Uz=new eO,n}return dt(n,t),n.prototype.hi=function(t){return this.Uz.hi(t)},n}(kl)));var cO=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return dt(n,t),n}(Pu),hO=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Jr(new cO(t,n))},i.addEventListener=function(t,n){this.Qr(t,n)},i.removeEventListener=function(t,n){this.iu(t,n)},n}(fw);function aO(t,n){return t.Kg<=n&&t.Jg>n}function fO(t,n){return function(t,n){return uu(t.Kg,n.Kg,Jg)}(t,n)||function(t,n){return uu(t.Jg,n.Jg,Jg)}(t,n)}function dO(t,n){var i=function(t,n,i,e,r,u,s){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,c=s-1;o<=c;){var h=o+(c-o>>1),a=e(i(t[h]),n);if(a<0)o=h+1;else if(a>0)c=h-1;else{if(!(r&&h>u&&0===e(i(t[h-1]),n)))return h;c=h-1}}return~o}(t,n,Ut,fO,!0);if(i<0)return i;for(;i<t.length&&fO(n,t[i])===Zr.Nr;i++)if(t[i].oy(n))return i;return-(i+1)}function vO(t){var n=t.Av;if(!n)return-1;if(t instanceof Qg)return n.Vz(t);var i=n.Dl;if(!i)return-1;var e=dO(i.il,t);return e>=0?e:-1}var lO=function(t){function n(n,i){var e;return(e=t.call(this,qg.Gg,n)||this).p_=i,e}return dt(n,t),n.prototype.Iv=function(){return new wO(this.Xg.Rv)},n}(Gg),wO=function(t){function n(n){return t.call(this,"enter",n)||this}return dt(n,t),n}($g),gO=function(t){function n(n,i){var e;return(e=t.call(this,qg.jg,n)||this).p_=i,e}return dt(n,t),n.prototype.Iv=function(){return new yO(this.Xg.Rv)},n}(Gg),yO=function(t){function n(n){return t.call(this,"exit",n)||this}return dt(n,t),n}($g),_O=function(t){function n(n){var i;return(i=t.call(this,Sl.Pv)||this).Xg=n,i}return dt(n,t),n.prototype.Iv=function(){return new mO(this.Xg.Rv)},n}(Rl),mO=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return dt(n,t),n}(Il),pO=function(t){function n(n){var i;return(i=t.call(this,Sl.Lv)||this).Xg=n,i}return dt(n,t),n.prototype.Iv=function(){return new bO(this.Xg.Rv)},n}(Rl),bO=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return dt(n,t),n}(Il),kO=function(t){function n(n){var i;return(i=t.call(this,Sl.Bv)||this).Av=n,i}return dt(n,t),n.prototype.Iv=function(){return new TO(this.Av.Rv)},n}(Rl),TO=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return dt(n,t),n}(Il);function EO(t,n){return ru(t.p_,n.p_)||function(t,n){return t.Av===n.Av?eu(vO(t),vO(n)):M_(t.Av,n.Av)}(t.Xg,n.Xg)||function(t,n){return t===n?Zr.Nr:t===qg.Gg?Zr.Dr:Zr.Or}(t.type,n.type)}var SO=function(){function t(t,n){var i=this;this.dI=void 0,this.Hz=void 0,this.qw=[],this.qz=0,this.Wz=0,this.zz=[],this.Gz=[],this.$z=!1,this.jz=!1,this.Yz=void 0,this.Xz=function(){i.qz=0,i.Kz(),i.Jz()},this.Qz=function(){i.Kz(),i.Jz()},this.Zz=function(){i.jz=!0,i.Yz=i.dI.dw,i.tG()},this.nG=function(){i.Kz(),i.Jz()},this.iG=function(){i.eG(),i.Kz(),i.Jz()},this.rG=function(t){fu(i.Gz,t.Xg)||i.Gz.push(t.Xg),i.uG()},this.sG=function(t){hu(i.zz,t.Xg),hu(i.Gz,t.Xg),i.uG()},this.Hz=n,this.dI=t,t.Qr(Zc.$h,this.Qz),t.Qr(Zc.Ph,this.Qz),t.Qr(Lw.fw,this.Qz),t.Qr(Zc.Ch,this.Qz),t.Qr(Zc.Uh,this.Zz),t.Qr(Zc.Fh,this.nG),this.uG()}var n=t.prototype;return n.nl=function(){vu(this.zz);for(var t=0,n=this.qw.slice();t<n.length;t++){var i=n[t];this.Zv(i)}this.tG(),this.qz=0,this.Wz=0,this.$z=!1,this.jz=!1,this.Yz=void 0},n.Qv=function(t){if(!fu(this.qw,t)){if(this.qw.push(t),t.Qr(Sl.Nv,this.rG),t.Qr(Sl.Dv,this.sG),t.Qr(Sl.Uv,this.iG),t.Dl.ul>0){for(var n=0,i=t.Dl.il;n<i.length;n++){var e=i[n];this.Gz.push(e)}this.uG()}this.eG()}},n.Zv=function(t){if(hu(this.qw,t)){if(t.iu(Sl.Nv,this.rG),t.iu(Sl.Dv,this.sG),t.iu(Sl.Uv,this.iG),t.Dl.ul>0){for(var n=0,i=t.Dl.il;n<i.length;n++){var e=i[n];hu(this.zz,e),hu(this.Gz,e)}this.uG()}this.eG()}},n.eG=function(){this.$z=this.qw.some(function(t){return t.El!==nw.Il})},n.Jz=function(){this.dI.mw||this.dI.yw?this.tG():this.uG()},n.uG=function(){this.$z&&(this.qz||(this.qz=this.Hz.V(this.Xz)))},n.tG=function(){this.qz&&(this.Hz.oG(this.qz),this.qz=0)},n.Kz=function(){var t;if(this.$z&&!this.dI.mw){var n=this.qw,i=this.Wz,e=null!=(t=this.Yz)?t:this.dI.dw,r=e-i<-.1,u=this.jz||r;u&&e>i&&e-i<.1&&(u=!1),this.jz=!1,this.Yz=void 0;for(var s,o=[],c=0;c<n.length;c++){var h=n[c];if(h.El!==nw.Il){h.cG(e,u);for(var a=0,f=h.Cl.il;a<f.length;a++){var d=f[a];o.push(d)}}}if(u)s=this.zz;else{s=[];for(var l=0;l<n.length;l++){var w=n[l];w.El!==nw.Il&&L_(w,i-1/6,e,s)}}for(var g=s.length-1;g>=0;g--)fu(o,s[g])&&au(s,g);var y=[];if(!u)for(var _=s.length-1;_>=0;_--){var m=s[_];m.Kg>i&&m.Jg<=e&&(y.push(m),au(s,_))}for(var p=0,b=this.Gz;p<b.length;p++){hu(y,b[p])}vu(this.Gz);for(var k=[],T=[],E=0;E<y.length;E++){var S=y[E];S.hy||k.push(new lO(S,S.Kg)),k.push(new gO(S,v.max(S.Kg,S.Jg))),S.hy=!1}for(var R=0,I=s;R<I.length;R++){var A=I[R];A.hy&&(k.push(new gO(A,v.max(A.Kg,A.Jg))),A.hy=!1)}for(var N=0;N<o.length;N++){var O=o[N];O.hy||(k.push(new lO(O,O.Kg)),O.hy=!0)}k.sort(EO);for(var D=0;D<k.length;D++){var C=k[D],P=C.Xg;P.Jr(C);var x=P.Av;x&&(C.type===qg.Gg?x.Jr(new _O(P)):x.Jr(new pO(P)),fu(T,x)||T.push(x))}T.sort(M_);for(var L=0;L<T.length;L++){var M=T[L];M.Jr(new kO(M))}this.Wz=e,this.zz=o}},n.et=function(){this.nl(),this.dI.iu(Zc.$h,this.Qz),this.dI.iu(Zc.Ph,this.Qz),this.dI.iu(Lw.fw,this.Qz),this.dI.iu(Zc.Ch,this.Qz),this.dI.iu(Zc.Uh,this.Zz),this.dI.iu(Zc.Fh,this.nG)},t}(),RO=function(){function t(){}var n=t.prototype;return n.V=function(t){return cE(t)},n.oG=function(t){hE(t)},t}(),IO=new RO,AO=function(t){function n(n,i){return void 0===i&&(i=IO),t.call(this,n,i)||this}return dt(n,t),n}(SO),NO=function(t){function n(){return t.call(this,Zc.Ih)||this}return dt(n,t),n}(Pu),OO=function(t){function n(n){var i;return(i=t.call(this,Zc.xh)||this).currentTime=n,i}return dt(n,t),n}(Pu),DO=function(t){function n(n,i){var e;return(e=t.call(this)||this).hG=void 0,e.aG=void 0,e.fG=function(t){e.hG.dG("THEOplayerABRSetTargetBuffer",t.xC),e.Jr(t)},e.vG=function(t){e.hG.dG("THEOplayerABRSetStrategy",t.MC),e.Jr(t)},e.hG=n,e.aG=i,e.aG.Qr("LC",e.fG),e.aG.Qr("BC",e.vG),e}return dt(n,t),n.prototype.YC=function(t){return this.aG.YC(t)},at(n,[{key:"KC",get:function(){var t;switch(this.MC.type){case xE.PERFORMANCE:return 1;case xE.QUALITY:return 0;case xE.BANDWIDTH:return null!=(t=this.MC.metadata)&&t.bitrate&&!g(this.MC.metadata.bitrate)?this.MC.metadata.bitrate:0;default:return 0}}},{key:"Rv",get:function(){return this.aG.Rv}},{key:"MC",get:function(){return this.aG.MC},set:function(t){this.aG.MC=t}},{key:"xC",get:function(){return this.aG.xC},set:function(t){this.aG.xC=t}},{key:"XC",get:function(){return this.aG.XC}},{key:"FC",get:function(){return this.aG.FC},set:function(t){this.aG.FC=t}},{key:"VC",get:function(){return this.aG.VC}},{key:"AC",get:function(){return this.aG.AC}}]),n}(Du),CO=function(){function t(t){this.lG=void 0,this.Sv=void 0,this.lG=t}var n=t.prototype;return n.Iv=function(){return function(t){for(var n=[],i=0;i<t.ul;i++)n[i]=t.pu(i).Rv;return n.item=function(n){var i=0|n,e=t.pu(i);return e&&e.Rv||void 0},d.defineProperty(n,"constructor",{value:Yg}),n}(this)},n.Pg=function(t){for(var n=this.lG,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.oy(e))return!0}return!1},n.pu=function(t){return this.lG[t]},at(t,[{key:"il",get:function(){return this.lG}},{key:"ul",get:function(){return this.lG.length}},{key:"Rv",get:function(){if(this.Sv){var t=this.lG;this.Sv.length=t.length;for(var n=0;n<t.length;n++)this.Sv[n]=t[n].Rv}else this.Sv=this.Iv();return this.Sv}}]),t}(),PO=function(t){function n(n,i){var e;return(e=t.call(this,Sl.Hv)||this).Av=n,e.Ol=i,e}return dt(n,t),n.prototype.Iv=function(){return new xO(this.Av.Rv,cw(this.Ol))},n}(Rl),xO=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return dt(n,t),n}(Il),LO=function(t){function n(n){var i;return(i=t.call(this,Sl.Wv)||this).Av=n,i}return dt(n,t),n.prototype.Iv=function(){return new MO(this.Av.Rv)},n}(Rl),MO=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return dt(n,t),n}(Il),BO=function(t){function n(n){var i;return(i=t.call(this,Sl.Nv)||this).Xg=n,i}return dt(n,t),n.prototype.Iv=function(){return new FO(this.Xg.Rv)},n}(Rl),FO=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return dt(n,t),n}(Il),UO=function(t){function n(n){var i;return(i=t.call(this,Sl.Dv)||this).Xg=n,i}return dt(n,t),n.prototype.Iv=function(){return new VO(this.Xg.Rv)},n}(Rl),VO=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return dt(n,t),n}(Il),HO=function(t){function n(n,i,e,r,u,s,o,c){var h;return(h=t.call(this)||this).Sv=void 0,h.jo=void 0,h.Mg=Pg(),h.wG=!1,h.gG=void 0,h.yG=void 0,h.Lg=void 0,h.Ms=void 0,h.OA=nw.Il,h.GW=Ug.NONE,h._G=void 0,h.Bi=void 0,h.mG=void 0,h.lG=[],h.pG=[],h.bG=void 0,h.kG=void 0,h.TG=0,h.EG=0,h.jo=i||"",h.gG=c||"",h.yG=n,h.Ms=r||"",h.wG=Boolean(u),h.mG=Boolean(o),h.Bi=s||Vg.DEFAULT,h.Lg=e||"",h.bG=new CO(h.lG),h.kG=new CO(h.pG),h}dt(n,t);var i=n.prototype;return i.SG=function(t){return ou(this.bG.il,function(n){return n.wl===t})},i.Iv=function(){return uw(this)},i.GA=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case nw.Il:case nw.Rl:case nw.Sl:return n}}else if("number"==typeof t)switch(t){case 0:return nw.Il;case 1:return nw.Rl;case 2:return nw.Sl}return nw.Il}(t);n!==this.El&&(this.OA=n,n===nw.Il&&(this.pG.forEach(function(t){t.hy=!1}),vu(this.pG),this.EG=0),this.Jr(new Pl(this)))},i.mT=function(t){if(t&&!t.Av){var n=dO(this.Dl.il,t);if(!(n>=0)){t.Av=this;var i=-(n+1);this.lG.splice(i,0,t),this.RG(i),t.sy=i,i<this.EG&&(this.EG=i),this.Jr(new BO(t))}}},i.rT=function(t){if(t&&t.Av===this){var n=this.Vz(t);if(!(n<0)){t.hy=!1;var i=this.pG,e=dO(i,t);e>=0&&au(i,e),au(this.lG,n),this.RG(n),t.sy=-1,this.EG>n&&--this.EG,this.Jr(new UO(t))}}},i.cG=function(t,n){var i=this.pG,e=this.lG,r=this.EG,u=!1;n&&(r=0);for(var s=i.length-1;s>=0;s--){aO(i[s],t)||(u=!0,au(i,s))}for(;r<e.length&&e[r].Kg<=t;){var o=e[r];if(0===t)break;aO(o,t)&&!fu(i,o)&&(u=!0,i.push(o)),r++}u&&nu(i,fO),this.EG=r},i.Vz=function(t){return(-1===t.sy||t.sy>=this.TG)&&this.IG(),t.sy},i.IG=function(){for(var t=this.lG,n=this.TG;n<t.length;n++)t[n].sy=n;this.TG=t.length},i.RG=function(t){t<this.TG&&(this.TG=t)},i.Al=function(t){this.Nl||(this.El=t)},i.et=function(){this.nu();for(var t=this.lG.slice(),n=0;n<t.length;n++){t[n].et()}vu(this.lG),vu(this.pG)},at(n,[{key:"Cl",get:function(){return this.kG}},{key:"Dl",get:function(){return this.bG}},{key:"bT",get:function(){return this.wG},set:function(t){this.wG=t}},{key:"Nl",get:function(){return this.mG}},{key:"Rv",get:function(){return this.Sv||(this.Sv=this.Iv()),this.Sv}},{key:"wl",get:function(){return this.jo}},{key:"gl",get:function(){return this.Mg}},{key:"Tl",get:function(){return this.gG},set:function(t){this.gG=t}},{key:"yl",get:function(){return this.yG}},{key:"_l",get:function(){return this.Lg},set:function(t){t!==this.Lg&&(this.Lg=t,this.Jr(new Og(this)))}},{key:"ml",get:function(){return this.Ms}},{key:"El",get:function(){return this.OA},set:function(t){this.GA(t)}},{key:"Ol",get:function(){return this.GW},set:function(t){this.GW!==t&&(this.GW=t,this.Jr(new PO(this,this.GW)))}},{key:"Pl",get:function(){return this._G},set:function(t){this._G=t}},{key:"_r",get:function(){return this.Bi},set:function(t){this.Bi!==t&&(this.Bi=t,this.Jr(new LO(this)))}}]),n}(Du);function qO(t,n,i){for(var e=t[n].Kg,r=n;r>=0&&t[r].Kg===e;r--)t[r].Jg=i}var WO=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return dt(n,t),n.prototype.oy=function(n){return this===n||Hl(this,n)&&t.prototype.oy.call(this,n)&&(i=n,this.Qg===i.Qg);var i},at(n,[{key:"Rv",get:function(){return this.Sv||(this.Sv=jg(this)),this.Sv}}]),n}(Qg),zO=function(t){function n(n,i,e){return void 0===e&&(e=Vg.DEFAULT),t.call(this,A_.Xm,"",i||"","",!1,e,!1,n)||this}return dt(n,t),n}(HO),GO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this)._r=Vg.ID3,e}dt(n,t);var i=n.prototype;return i.mT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Kg<t.Kg)qO(n,i,t.Kg);else{var e=n[0];if(e.Kg>t.Kg)t.Jg=e.Kg;else{var r=dO(n,t);if(!(r>=0)){var u=-(r+1),s=u-1;if(s>=0&&n[s].Kg<t.Kg&&qO(n,s,t.Kg),u<n.length){var o=n[u];t.Jg=o.Kg}}}}}}(n,this.lG),t.prototype.mT.call(this,n)},i.Iv=function(){return uw(this)},n}(zO);Zc.Ph,Zc.Ch,Lw.fw,Zc.$h,Zc.xh,Zc.Ih,Zc.Uh,Zc.Fh,Zc.Eh,Zc.Lh,Zc.jh,Zc.kh,Lw.Hv,Zc.Bh,iw.kl,Ou.vu,Ou.wu,Zc.mh,Zc._h,Zc.Yh;var $O,jO={AG:!1},YO=function(){function t(t,n,i){this.Vc=void 0,this.Er=void 0,this.Jc=void 0,this.lc=void 0,this.Vc=t,this.Er=i,this.Jc=n}var n=t.prototype;return n.pT=function(t){throw new a("Not implemented yet.")},n.NG=function(t,n){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,wr.awrap(this.Er.Ir(t.mr,n));case 2:return i=r.sent,r.next=5,wr.awrap(i.Tc());case 5:return e=r.sent,r.next=8,wr.awrap(this.OG(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,G)},n.DG=function(t){return!1},n.CG=function(t){return G.resolve(void 0)},n.Br=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.OG(void 0));case 2:case"end":return t.stop()}},null,this,null,G)},n.OG=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.PG(t),i.next=3,wr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,G)},n.PG=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.lc)){i.next=5;break}return i.next=4,wr.awrap(n.pc(this.Jc));case 4:this.lc=void 0;case 5:if(!t){i.next=9;break}return i.next=8,wr.awrap(t.mc(this.Jc));case 8:this.lc=t;case 9:case"end":return i.stop()}},null,this,null,G)},n.yT=function(t,n,i){throw new a("Not implemented yet.")},at(t,[{key:"gc",get:function(){return this.Vc}},{key:"Ig",get:function(){throw new a("Not implemented yet.")},set:function(t){throw new a("Not implemented yet.")}},{key:"Ag",get:function(){return new Jb([0,1/0])}},{key:"Yw",get:function(){throw new a("Not implemented yet.")}},{key:"xG",get:function(){throw new a("Not implemented yet")}},{key:"jw",get:function(){throw new a("Not implemented yet.")}},{key:"LG",get:function(){throw new a("Not implemented yet")}},{key:"MG",get:function(){throw new a("Not implemented yet")}}]),t}();!function(t){t.BG="webkitneedkey",t.FG="webkitkeymessage",t.UG="webkitkeyerror",t.VG="webkitkeyflowdone"}($O||($O={}));var XO,KO,JO,QO,ZO,tD,nD,iD,eD,rD,uD,sD=function(t){function n(n,i){var e;return(e=t.call(this,$O.BG)||this).initData=n,e.sessionId=i,e}return dt(n,t),n}(Pu),oD=function(t){function n(n,i){var e;return(e=t.call(this,$O.FG)||this).message=n,e.destinationURL=i,e}return dt(n,t),n}(Pu),cD=function(t){function n(){return t.call(this,$O.UG)||this}return dt(n,t),n}(Pu),hD=function(t){function n(){return t.call(this,$O.VG)||this}return dt(n,t),n}(Pu),aD=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).Ic=new qs,s.Hc=void 0,s.Oc=new Hu,s.Wc=new qs,s.HG=function(t){s.Hc?(s.Hc.Bu(void 0),s.Hc=void 0):s.Lc("internal-error"),s.Jr(new Fu)},s.qG=function(t){s.Jr(new Bu(On(s),"license-request",Us(t.message).buffer,t.destinationURL||void 0))},s.WG=function(t){s.Hc&&(s.Hc.Mu(void 0),s.Hc=void 0)},s.Bc=n,s.nc=i,s.zG=e,s.Xc=r,s.Gc=u,s}dt(n,t);var i=n.prototype;return i.uc=function(t,n,i){var e;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.$c){t.next=3;break}throw new f("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,wr.awrap(this.GG(Bs(n),e));case 5:this.Lc("usable"),this.Wc.Mu(),this.Wc=new qs;case 8:case"end":return t.stop()}},null,this,null,G)},i.sc=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,G)},i.cc=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Bs(t)).byteLength){i.next=3;break}throw new f("Cannot call update with an empty response.");case 3:return this.Hc=new qs,this.zG.cc(this.Xc,n),i.abrupt("return",this.Hc.Pu);case 6:case"end":return i.stop()}},null,this,null,G)},i.rc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.Wc);case 2:return this.zG.iu($O.FG,this.qG),this.zG.iu($O.UG,this.HG),this.zG.iu($O.VG,this.WG),this.Wc.Wr(),this.Ic.Mu(void 0),t.abrupt("return",this.Ic.Pu);case 8:case"end":return t.stop()}},null,this,null,G)},i.oc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,G)},i.GG=function(t,n){var i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=Cc(t,n,this.Gc),this.zG.Qr($O.FG,this.qG),this.zG.Qr($O.UG,this.HG),this.zG.Qr($O.VG,this.WG),this.zG.$G(this.Xc,i);case 5:case"end":return e.stop()}},null,this,null,G)},i.Lc=function(t){this.Oc.Tu(),this.Oc.ku(Vu,t),this.Jr(new Mu(this))},at(n,[{key:"vc",get:function(){return this.Xc}},{key:"fc",get:function(){return NaN}},{key:"ac",get:function(){return this.Ic.Pu}},{key:"dc",get:function(){return this.Oc}}]),n}(Du),fD=function(){function t(t,n,i){this.jG=void 0,this.Xc=void 0,this.Gc=void 0,this.zG=void 0,this.nc=void 0,this.Vc=void 0,this.Bc=void 0,this.zG=t,this.nc=n,this.Vc=i;var e=yc(i)||"video/mp4";this.Bc=lc(e)}var i=t.prototype;return i.yc=function(t){var i;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Gc){t.next=2;break}throw new Pc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new aD(this.Bc,this.nc,this.zG,this.Xc,this.Gc),this.jG=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,G)},i._c=function(t){return this.Gc=Bs(t),G.resolve(!0)},i.mc=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,G)},i.pc=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,G)},i.createSession=function(){throw new a("Whoops.")},at(t,[{key:"wc",get:function(){return this.nc}},{key:"gc",get:function(){return this.Vc}},{key:"sessionId",set:function(t){this.Xc=t}}]),t}(),dD=function(){function t(t,n,i){this.YG=t,this.nc=n,this.Vc=i}var n=t.prototype;return n.Ec=function(){return this.Vc},n.Tc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new fD(this.YG,this.nc,this.Vc));case 1:case"end":return t.stop()}},null,this,null,G)},at(t,[{key:"wc",get:function(){return this.nc}}]),t}(),vD=function(){function t(t){this.YG=void 0,this.YG=t}return t.prototype.Ir=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0;case 1:if(!(i<n.length)){u.next=9;break}if(e=n[i],!(r=wc(lD,Lu,t,e))){u.next=6;break}return u.abrupt("return",new dD(this.YG,t,r));case 6:i++,u.next=1;break;case 9:throw new f("Unsupported key system configuration for "+t);case 10:case"end":return u.stop()}},null,this,null,G)},t}();function lD(t,n){return t===Fr}!function(t){t.PN="XG"}(XO||(XO={})),function(t){t.KG="JG"}(KO||(KO={})),KO.KG,function(t){t[t.QG=0]="QG",t[t.Zh=1]="Zh",t[t.ZG=2]="ZG"}(JO||(JO={})),function(t){t.t$="n$"}(QO||(QO={})),function(t){t[t.i$=0]="i$",t[t.e$=1]="e$",t[t.r$=2]="r$"}(ZO||(ZO={})),function(t){t[t.u$=3]="u$",t[t.s$=4]="s$",t[t.o$=5]="o$"}(tD||(tD={})),function(t){t[t.c$=64]="c$",t[t.h$=103]="h$",t[t.a$=107]="a$"}(nD||(nD={})),function(t){t[t.f$=0]="f$",t[t.d$=1]="d$",t[t.h$=2]="h$",t[t.v$=5]="v$",t[t.l$=34]="l$"}(iD||(iD={})),St.Hn,Zc.Ph,Zc.Ch,Zc.Uh,Zc.Fh,Zc.Eh,Zc.Lh,Lw.Hv,iw.kl,St.Ln||St.Mn,function(t){t.w$="closed",t.yd="open",t.Eh="ended"}(eD||(eD={})),Zc.jh,Zc.Lh,Zc.Uh,Zc.Ph,Zc.Ch,Lw.Hv,Zc.Ph,Zc.Ch,Zc.Uh,Zc.Fh,Zc.Eh,iw.kl,function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(rD||(rD={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(uD||(uD={}));var wD=function(t){function n(n,i){var e;return(e=t.call(this)||this).g$=new Er,e.BS=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Av)._r){i.next=4;break}return i.next=4,wr.awrap(n.su(Sl.Wv));case 4:if(n._r===Vg.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Dl.ul){i.next=11;break}return i.next=9,wr.awrap(n.su(Sl.Nv));case 9:i.next=6;break;case 11:e.y$(n);case 12:case"end":return i.stop()}},null,null,null,G)},e.FS=function(t){var n=t.Av;if(n._r===Vg.ID3&&e.g$.has(n.gl)){var i=e.g$.get(n.gl);e.Zv(i),e.vT.pT(i),n.iu(Sl.Nv,e._$)}},e._$=function(t){gD(t.Xg)&&e.m$(t.Xg)},e.vT=n,e.p$=i,e.b$(),e}dt(n,t);var i=n.prototype;return i.b$=function(){this.p$.Qr(pl.bv,this.BS),this.p$.Qr(pl.Tv,this.FS)},i.k$=function(){this.p$.iu(pl.bv,this.BS),this.p$.iu(pl.Tv,this.FS)},i.y$=function(t){var n=t.Dl.il[0];if(gD(n)){var i=function(t){var n=t.match(ED);if(!n)return;return{Av:n[1],ml:n[2]}}(n.Qg.description),e=i.Av,r=i.ml;if(!this.T$(e,r)){var u=this.vT.yT(A_.jm,t.wl,e,r,!1,Vg.TTML);this.Qv(u),this.g$.set(t.gl,u);for(var s=0,o=t.Dl.il;s<o.length;s++){var c=o[s];gD(c)&&this.m$(c)}t.Qr(Sl.Nv,this._$)}}},i.T$=function(t,n){return this.qp.il.some(function(i){return i._l===t&&i.ml===n})},i.m$=function(t){if(t.Av)for(var n=this.g$.get(t.Av.gl),i=__(t.Qg.text,0,{J_:0,Q_:1/0,Z_:t.Kg}),e=0;e<i.length;e++){var r=i[e];n.mT(r)}},i.nl=function(){var n,i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:for(n=0,i=this.p$.il;n<i.length;n++)i[n].iu(Sl.Nv,this._$);for(e=0,r=this.qp.il;e<r.length;e++)u=r[e],this.vT.pT(u);return this.g$.clear(),s.next=5,wr.awrap(t.prototype.nl.call(this));case 5:case"end":return s.stop()}},null,this,null,G)},i.et=function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.k$(),n.next=3,wr.awrap(t.prototype.et.call(this));case 3:case"end":return n.stop()}},null,this,null,G)},n}(H_);function gD(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Qg)&&ED.test(n.description);var n}var yD,_D,mD,pD,bD,kD,TD,ED=/^Track:(.+),Lang:(.+)$/;new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Sv=void 0,n}return dt(n,t),at(n,[{key:"Rv",get:function(){return this.Sv||(this.Sv=wS(this)),this.Sv}},{key:"Ox",get:function(){}},{key:"Dx",get:function(){}},{key:"Cx",get:function(){}},{key:"Px",get:function(){}},{key:"xx",get:function(){}},{key:"Lx",get:function(){}},{key:"Vx",get:function(){}},{key:"Mx",get:function(){}},{key:"Bx",get:function(){}},{key:"Fx",get:function(){}},{key:"Ux",get:function(){}}]),n}(Du)),function(t){t.E$='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.S$='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.R$='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.I$='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(yD||(yD={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(_D||(_D={})),function(t){var n=_r();for(var i in t)Rt.call(t,i)&&n.set(i,t[i])}({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),_D.WHITE,_D.TRANSPARENT,_D.TRANSPARENT,function(t){t.A$="Data",t.N$="Tag",t.O$="StartTag",t.D$="StartTagClass",t.C$="StartTagAnnotation",t.P$="CharRefInAnnotation",t.x$="EndTag",t.L$="TimestampTag"}(mD||(mD={})),function(t){t.WB="string",t.M$="starttag",t.B$="endtag",t.F$="timestamp"}(pD||(pD={})),_D.WHITE,_D.TRANSPARENT,function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(bD||(bD={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(kD||(kD={})),_D.WHITE,yD.R$,_D.BLACK,kD.FONT_REGULAR,_D.WHITE,kD.FONT_REGULAR,_D.WHITE,kD.FONT_UNDERLINE,_D.GREEN,kD.FONT_REGULAR,_D.GREEN,kD.FONT_UNDERLINE,_D.BLUE,kD.FONT_REGULAR,_D.BLUE,kD.FONT_UNDERLINE,_D.CYAN,kD.FONT_REGULAR,_D.CYAN,kD.FONT_UNDERLINE,_D.RED,kD.FONT_REGULAR,_D.RED,kD.FONT_UNDERLINE,_D.YELLOW,kD.FONT_REGULAR,_D.YELLOW,kD.FONT_UNDERLINE,_D.MAGENTA,kD.FONT_REGULAR,_D.MAGENTA,kD.FONT_UNDERLINE,_D.WHITE,kD.FONT_ITALICS,_D.WHITE,kD.FONT_UNDERLINE_ITALICS,_D.WHITE,kD.FONT_REGULAR,_D.WHITE,kD.FONT_UNDERLINE,_D.WHITE,kD.FONT_REGULAR,_D.WHITE,kD.FONT_UNDERLINE,_D.WHITE,kD.FONT_REGULAR,_D.WHITE,kD.FONT_UNDERLINE,_D.WHITE,kD.FONT_REGULAR,_D.WHITE,kD.FONT_UNDERLINE,_D.WHITE,kD.FONT_REGULAR,_D.WHITE,kD.FONT_UNDERLINE,_D.WHITE,kD.FONT_REGULAR,_D.WHITE,kD.FONT_UNDERLINE,_D.WHITE,kD.FONT_REGULAR,_D.WHITE,kD.FONT_UNDERLINE,_D.WHITE,kD.FONT_REGULAR,_D.WHITE,kD.FONT_UNDERLINE,function(t){t.U$="HELLO",t.V$="HI_THERE",t.H$="INITIALIZE",t.q$="APPEND_INIT",t.W$="APPEND_DATA",t.z$="ACK",t.G$="REMOVE",t.j$="DESTROY_SESSION"}(TD||(TD={}));var SD=ry.Xy,RD=new ry(-1/0),ID=ry.O_,AD=new(function(t){function n(n,i){return t.call(this,n,i)||this}dt(n,t);var i=n.prototype;return i.Dy=function(t,n){return t.My(n)?Zr.Dr:t.oy(n)?Zr.Nr:Zr.Or},i.Cg=function(t,n){return t.Cg(n)},i.Vy=function(t,n){return t.Vy(n)},i.Ly=function(t,n){return t.Ly(n)},i.xI=function(){return SD},i.LI=function(){return ID},i.UI=function(){return RD},n.eA=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new ry(t.start(e)),new ry(t.end(e)));return new n(i)},n.Y$=function(t){for(var i=[],e=[],r=0;r<t.ul;r++)i.push(new ry(t.kI(r))),i.push(new ry(t.EI(r))),e.push(t.TI(r)),e.push(t.SI(r));return new n(i,e)},n.uA=function(t){return new n([t,t],[!0,!0])},i.DI=function(t,i){return new n(t,i)},i.NI=function(t){return t.A_},n.sA=function(){return AD},n}(Kb))([]);Ig.Jf,Ig.Qf;var ND=function(t){function n(n){var i;return(i=t.call(this,Zc._h)||this).errorObject=void 0,i.errorObject=n,i}return dt(n,t),at(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Pu),OD=function(t){function n(){return t.call(this,Zc.mh)||this}return dt(n,t),n}(Pu),DD=function(t){function n(n){var i;return(i=t.call(this,"Xh")||this).X$=n,i}return dt(n,t),n}(Pu),CD=new xS,PD=function(t){function n(n){var i;return(i=t.call(this,"rc")||this).session=n,i}return dt(n,t),n}(Pu),xD=function(t){function i(i,e,r){var u;return(u=t.call(this)||this).K$=!1,u.J$=!1,u.nv=new wu,u.Q$=void 0,u.tc=function(t){if(!u.nv.$r.Cr)switch(t.au){case"license-request":case"license-renewal":u.eE(t.hu,t.fu).catch(function(t){return u.Pc(t)});break;default:u.Pc(new kg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.au))}},u.Z$=function(t){u.tj.dc.bu(function(t,n){switch(t){case"usable":st.Ce(function(){u.J$=!0,u.Jr(new OD)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Jr(new DD(n))}})},u.nj=function(t){u.Pc(new kg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.tj=i,u.ij=e,u.ej=r,i.Qr("hu",u.tc),i.Qr("cu",u.Z$),i.Qr("du",u.nj),i.ac.then(function(){return u.rj()}),u}dt(i,t);var e=i.prototype;return e.uc=function(){var t=this;return this.K$=!0,CD.CL(function(n){return t.uj(n)},this.nv.$r)},e.uj=function(t){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,_u(t),u.next=4,wr.awrap(this.ij.KT(t));case 4:return u.next=6,wr.awrap(this.ij.JT(this.ej.pr,this.ej.yu,t));case 6:return i=u.sent,u.next=9,wr.awrap(this.tj.uc(this.ej.pr,this.ej.yu,i));case 9:u.next=18;break;case 11:throw u.prev=11,u.t0=u.catch(0),mu(u.t0),e=u.t0 instanceof js?u.t0.Uu:void 0,r=new kg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",u.t0,void 0,void 0,void 0,void 0,e),this.Pc(r),r;case 18:case"end":return u.stop()}},null,this,[[0,11]],G)},e.eE=function(t,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!zs(t)){o.next=7;break}return o.next=4,wr.awrap(this.ij.fE(new y(t),this.nv.$r));case 4:e=o.sent,o.next=10;break;case 7:return o.next=9,wr.awrap(this.ij.dE(new y(t),i,this.nv.$r));case 9:e=o.sent;case 10:o.next=17;break;case 12:if(o.prev=12,o.t0=o.catch(0),!yu(o.t0)){o.next=16;break}return o.abrupt("return");case 16:throw o.t0;case 17:if(!this.nv.$r.Cr){o.next=19;break}return o.abrupt("return");case 19:return r=this.Q$,u=new qs,this.Q$=u,o.prev=22,o.next=25,wr.awrap(this.tj.cc(e));case 25:return o.next=27,wr.awrap(Iu(100));case 27:o.next=33;break;case 29:throw o.prev=29,o.t1=o.catch(22),s=o.t1 instanceof js?o.t1.Uu:void 0,new kg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o.t1,void 0,void 0,void 0,void 0,s);case 33:if(o.prev=33,void 0===r){o.next=37;break}return o.next=37,wr.awrap(r.Pu);case 37:return u.Mu(),this.Q$===u&&(this.Q$=void 0),o.finish(33);case 40:case"end":return o.stop()}},null,this,[[0,12],[22,29,33,40]],G)},e.Pc=function(t){var i=t instanceof kg?t:new kg(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Jr(new ND(i)),this.rc()},e.rj=function(){this.tj.iu("hu",this.tc),this.tj.iu("cu",this.Z$),this.tj.iu("du",this.nj),this.J$=!1,this.nv.Wr(),this.Jr(new PD(this))},e.rc=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.nu();case 1:if(void 0===(t=this.Q$)){n.next=5;break}return n.next=5,wr.awrap(t.Pu);case 5:if(this.Q$!==t){n.next=1;break}case 6:return this.rj(),n.next=9,wr.awrap(this.tj.rc().catch(Ft));case 9:case"end":return n.stop()}},null,this,null,G)},i}(Du),LD=[Zc.mh,Zc._h,Zc.Yh],MD=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).nc=void 0,r.lc=void 0,r.sj=void 0,r.oj=[],r.cj=void 0,r.hj=[],r.aj=function(t){t.session.iu(LD,r.Kr),t.session.iu("rc",r.aj),hu(r.oj,t.session)},r.nc=n,r.lc=i,r.sj=e,r}dt(n,t);var i=n.prototype;return i.aE=function(){return this.sj.aE()},i.fj=function(t){return this.cj||(this.cj=this.dj(t)),this.cj},i.dj=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return _u(t),i.next=3,wr.awrap(this.sj.fE(new y(Ws()),t));case 3:if(n=i.sent,_u(t),this.lc){i.next=7;break}throw new a("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,wr.awrap(this.lc._c(n.buffer));case 9:case"end":return i.stop()}},null,this,null,G)},i.$G=function(t){var n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.lc){e.next=2;break}throw new a("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.hj.push(t),e.next=6,wr.awrap(this.lc.yc("temporary"));case 6:return n=e.sent,i=new xD(n,this.sj,t),this.oj.push(i),i.Qr(LD,this.Kr),i.Qr("rc",this.aj),e.abrupt("return",i);case 12:return e.prev=12,hu(this.hj,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],G)},i.vj=function(t){if(t.lj)return!1;for(var n=0,i=this.oj;n<i.length;n++){if(BD(i[n].ej,t))return!0}for(var e=0,r=this.hj;e<r.length;e++){if(BD(r[e],t))return!0}return!1},i.et=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.lc=void 0,this.nu(),t=this.oj.slice(),vu(this.oj),n.next=6,wr.awrap(G.all(t.map(function(t){return t.rc()})));case 6:this.sj.Br();case 7:case"end":return n.stop()}},null,this,null,G)},at(n,[{key:"wc",get:function(){return this.nc}}]),n}(Du);function BD(t,n){return!t.lj&&t.pr===n.pr&&Qu(t.yu,n.yu)}var FD=function(t){function i(n){var i;return(i=t.call(this)||this).jS=void 0,i.nv=new wu,i.WL=new xS,i.Vc=void 0,i.sj=void 0,i.YS=void 0,i.nc=void 0,i.wj=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,wr.awrap(i.gj(t.pr,t.yu,i.nv.$r));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),yu(n.t0)||i.Pc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],G)},i.jS=n,i.jS.Qr(Ou.vu,i.wj),i}dt(i,t);var e=i.prototype;return e.sc=function(t,n){this.YS=t,this.CG(n)},e.CG=function(t){this.Vc=t,this.yj(this.nv.$r).catch(pu)},e.yj=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!st.je.fe){n.next=5;break}return n.next=3,wr.awrap(this._j(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Vc||!this.Vc.mj){n.next=9;break}return n.next=8,wr.awrap(this.pj(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,G)},e._j=function(t){var n,i,e,r,u,s,o,c,h,a,f;return wr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(null==(n=this.Vc)?void 0:n.TR){d.next=3;break}return d.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(u=null==(s=this.Vc)?void 0:s.TR)?u:[];case 5:if(!(e<r.length)){d.next=27;break}o=r[e],c=0,h=null!=(a=o.xS)?a:[];case 8:if(!(c<h.length)){d.next=22;break}return f=h[c],d.prev=10,d.next=13,wr.awrap(this.gj(o.wc.pr,f,t));case 13:i=!0,d.next=19;break;case 16:d.prev=16,d.t0=d.catch(10),mu(d.t0);case 19:c++,d.next=8;break;case 22:if(!i){d.next=24;break}return d.abrupt("return",!0);case 24:e++,d.next=5;break;case 27:return d.abrupt("return",!1);case 28:case"end":return d.stop()}},null,this,[[10,16]],G)},e.gj=function(t,i,e){var r,u,s,o,c,h,a,f,d,v;return wr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(_u(e),i.byteLength){l.next=3;break}return l.abrupt("return");case 3:if(this.Vc&&this.Vc.TR.length){l.next=5;break}throw new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Rr||t===Ar||t===Ir){l.next=8;break}return l.abrupt("return");case 8:r=ip(t,i),u=this.Vc.TR,o=0;case 11:if(!(o<u.length)){l.next=42;break}if(c=u[o],_u(e),(h=r[c.wc.br])&&c.wc.pr===t){l.next=17;break}return l.abrupt("continue",39);case 17:return l.prev=17,l.next=20,wr.awrap(this.bj(c,e));case 20:if(!(a=l.sent).aE()){l.next=24;break}return l.next=24,wr.awrap(a.fj());case 24:if(f=this.jS.yg,d={pr:c.wc.pr,yu:h,lj:f},!this.kj(a,d)){l.next=32;break}return l.next=29,wr.awrap(a.$G(d));case 29:return v=l.sent,l.next=32,wr.awrap(v.uc());case 32:return l.abrupt("return");case 35:l.prev=35,l.t0=l.catch(17),mu(l.t0),s=l.t0;case 39:o++,l.next=11;break;case 42:return l.next=44,wr.awrap(st.Me());case 44:if(!l.sent){l.next=48;break}throw new kg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new kg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return l.stop()}},null,this,[[17,35]],G)},e.pj=function(t){var n,i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=null==(n=this.Vc)?void 0:n.TR){s.next=3;break}return s.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){s.next=23;break}return r=i[e],_u(t),s.prev=7,s.next=10,wr.awrap(this.bj(r,t));case 10:if(!(u=s.sent).aE()){s.next=14;break}return s.next=14,wr.awrap(u.fj());case 14:return s.abrupt("return");case 17:s.prev=17,s.t0=s.catch(7),mu(s.t0);case 20:e++,s.next=4;break;case 23:case"end":return s.stop()}},null,this,[[7,17]],G)},e.kj=function(t,n){return st.je.ae||!t.vj(n)},e.bj=function(t,n){var i=this;return this.WL.CL(function(n){return i.Tj(t,n)},n)},e.Tj=function(t,n){var i,e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(_u(n),this.Vc&&this.sj&&this.YS){o.next=3;break}throw new a("Not initialized");case 3:if(!this.nc){o.next=7;break}if(this.nc.wc===t.wc){o.next=6;break}throw new a("Internal key system error");case 6:return o.abrupt("return",this.nc);case 7:return i=this.sj,e=gr({},t,{MR:t.MR.map(function(n){var e;return gr({},n,{persistentState:null!=(e=n.persistentState)?e:i.CE(t.wc),Sc:n.Sc||i.Sc(t.wc)})})}),o.next=11,wr.awrap(this.YS.NG(e.wc,e.MR));case 11:return r=o.sent,u=i.PS(e),(s=new MD(e.wc,r,u)).Qr([Zc.mh,Zc._h,Zc.Yh],this.Kr),this.nc=s,o.abrupt("return",s);case 17:case"end":return o.stop()}},null,this,null,G)},e.Pc=function(t){var i=t instanceof kg?t:new kg(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Jr(new ND(i))},e.nl=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.YS=void 0,this.Vc=void 0,this.nv.Wr(),this.nv=new wu,t.next=6,wr.awrap(this.Ej());case 6:case"end":return t.stop()}},null,this,null,G)},e.Ej=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(this.WL.Wr());case 2:if(!(t=this.nc)){n.next=8;break}return t.iu(Zc.Yh,this.Kr),this.nc=void 0,n.next=8,wr.awrap(t.et());case 8:case"end":return n.stop()}},null,this,null,G)},e.Br=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nu(),this.jS.iu(Ou.vu,this.wj),t.next=4,wr.awrap(this.nl());case 4:return t.next=6,wr.awrap(this.WL.et());case 6:case"end":return t.stop()}},null,this,null,G)},at(i,[{key:"Sj",get:function(){var t;return null==(t=this.nc)?void 0:t.wc}},{key:"pR",get:function(){return this.sj},set:function(t){this.sj=t}}]),i}(Du);St.Ln||St.Mn,St.ti,St.Hn;var UD=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.kj=function(t,n){return!0},n}(FD),VD=function(t){function n(n,i,e){var r;return void 0===e&&(e=new vD(i)),(r=t.call(this)||this).YS=void 0,r.Er=void 0,r.Rj=void 0,r.Ij=new xS,r.Aj=void 0,r.YG=void 0,r.Nj=!1,r.Xc=void 0,r.zc=null,r.Oj={mg:0,pg:0,bg:0,kg:0,Tg:0,Eg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.Dj=function(t){"boolean"==typeof t.detail.casting&&(r.Nj=t.detail.casting,r.Jr(new zg(r.Nj)))},r.Cj=function(t){r.Xc=t.sessionId,r.zc&&(r.zc.sessionId=r.Xc);var n=t.initData;if(n){var i=function(t){try{var n=xs(t),i=new Hs;return Is(As(vs(n,i,ys(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;r.Jr(new Uu(Ar,i))}else r.Jr(new Uu(Ar,new ArrayBuffer(0)))},r.Aj=n,r.YG=i,r.YG.Qr($O.BG,r.Cj),r.Er=e,r.Rj=new UD(On(r)),r.Pj(),r}dt(n,t);var i=n.prototype;return i.xj=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i._r===X_.kT)return i}},i.Br=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.nl());case 2:return this.nu(),this.Lj(),this.YG.iu($O.BG,this.Cj),t.next=7,wr.awrap(this.Rj.Br());case 7:case"end":return t.stop()}},null,this,null,G)},i.ug=function(){throw new a("Not implemented yet")},i.yT=function(t,n,i,e,r,u,s,o){throw new a("Not implemented yet")},i.AR=function(){return!1},i.OR=function(t,n,i,e){throw new a("Not implemented yet")},i.pT=function(t){throw new a("Not implemented yet")},i.PR=function(){throw new a("Not implemented yet")},i.sc=function(t){var n=this;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.Ij.CL(function(i){var e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t._r!==X_.kT){r.next=8;break}return _u(i),e=new YO(t,n,n.Er),n.YS=e,n.Rj.sc(e,t),r.abrupt("return",e);case 8:throw new a("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,G)}));case 1:case"end":return i.stop()}},null,this,null,G)},i.K=function(){throw new a("Not implemented yet")},i.X=function(){throw new a("Not implemented yet")},i.nl=function(){var t=this;return this.Ij.Wr(),this.Ij.CL(function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.YS){n.next=4;break}return n.next=3,wr.awrap(t.YS.Br());case 3:t.YS=void 0;case 4:return n.next=6,wr.awrap(t.Rj.nl());case 6:case"end":return n.stop()}},null,null,null,G)})},i.Iu=function(t,n){throw new a("Not implemented yet")},i.HR=function(t){throw new a("Not implemented yet")},i.rg=function(){throw new a("Not implemented yet")},i.qR=function(){return this.Oj},i.Pj=function(){this.Aj.addEventListener("airPlayIsCasting",this.Dj)},i.Lj=function(){this.Aj.removeEventListener("airPlayIsCasting",this.Dj)},i.webkitSetMediaKeys=function(t){this.zc=t||null,this.zc&&(this.zc.sessionId=this.Xc)},i.Mj=function(){},i.Bj=function(){throw new a("Not implemented yet")},i.Fj=function(){throw new a("Not implemented yet")},at(n,[{key:"wg",get:function(){throw new a("Not implemented yet")}},{key:"lg",get:function(){throw new a("Not implemented yet")}},{key:"dw",get:function(){throw new a("Not implemented yet")}},{key:"dL",get:function(){throw new a("Not implemented yet")}},{key:"vw",get:function(){throw new a("Not implemented yet")}},{key:"lw",get:function(){throw new a("Not implemented yet")}},{key:"du",get:function(){throw new a("Not implemented yet")}},{key:"ub",get:function(){throw new a("Not implemented yet")}},{key:"yg",get:function(){return this.Nj}},{key:"gw",get:function(){throw new a("Not implemented yet")}},{key:"yw",get:function(){throw new a("Not implemented yet")}},{key:"_w",get:function(){throw new a("Not implemented yet")}},{key:"Rg",get:function(){throw new a("Not implemented yet")}},{key:"Ol",get:function(){throw new a("Not implemented yet")}},{key:"Ag",get:function(){throw new a("Not implemented yet")}},{key:"mw",get:function(){throw new a("Not implemented yet")}},{key:"Uj",get:function(){throw new a("Not implemented yet")}},{key:"kw",get:function(){throw new a("Not implemented yet")},set:function(t){throw new a("Not implemented yet")}},{key:"by",get:function(){throw new a("Not implemented yet")}},{key:"CR",get:function(){throw new a("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.zc}},{key:"Vj",get:function(){return jO}},{key:"Yw",get:function(){throw new a("Not implemented yet")}},{key:"lL",get:function(){throw new a("Not implemented yet")}},{key:"WR",get:function(){throw new a("Not implemented yet")}},{key:"Hj",get:function(){return!0}},{key:"pR",get:function(){return this.Rj.pR},set:function(t){this.Rj.pR=t}},{key:"qj",get:function(){},set:function(t){}},{key:"Sj",get:function(){return this.Rj.Sj}}]),n}(aw),HD=function(t){function n(n){var i;return(i=t.call(this,Zc.Kh)||this).Oj=n,i}return dt(n,t),n}(Pu);var qD=function(t){function n(n,i){var e,r=WD(i,n.vw,n.WR,n.Wj);return(e=t.call(this,i,r,void 0,!1,n.wl)||this).zj=void 0,e.Gj=void 0,e.$j=void 0,e.Ls=void 0,e.jj=void 0,e.Yj=void 0,e.Xj=void 0,e.Kj=void 0,e.Jj=void 0,e.Qj=void 0,e.zj=n.Zj,e.Gj=n.WR,e.$j=n.Wj,e.Ls=n.vw,e.jj=n.tY,e.Yj=Boolean(n.nY),e.Xj=n.iY||{},e.Kj=n.eY,e.Jj=n.rY,e.Qj=n.uY,e.sY(),e.oY(),e}dt(n,t);var i=n.prototype;return i.cc=function(t){var n=!1;void 0===this.zj&&void 0!==t.Zj&&(n=!0,this.zj=t.Zj),void 0===this.$j&&void 0!==t.Wj&&(n=!0,this.$j=t.Wj),void 0===this.Ls&&void 0!==t.vw&&(n=!0,this.Ls=t.vw),void 0===this.jj&&void 0!==t.tY&&(n=!0,this.jj=t.tY),!this.Yj&&t.nY&&(n=!0,this.Yj=t.nY),n=this.updateCustomAttributes(t,n),void 0===this.Kj&&void 0!==t.eY&&(n=!0,this.Kj=t.eY),void 0===this.Jj&&void 0!==t.rY&&(n=!0,this.Jj=t.rY),void 0===this.Qj&&void 0!==t.uY&&(n=!0,this.Qj=t.uY),this.sY(),this.oY(),this.cY(),n&&this.Jr(new Xg(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.iY)for(var e=0,r=d.keys(t.iY);e<r.length;e++){var u=r[e];void 0===this.Xj[u]&&(i=!0,this.Xj[u]=t.iY[u])}return i},i.sY=function(){this.Ls&&!this.$j&&(this.$j=new Date(this.Gj.getTime()+1e3*this.Ls))},i.oY=function(){this.$j&&!this.Ls&&(this.Ls=In(this.$j.getTime()-this.Gj.getTime()))},i.cY=function(){this.ty===1/0&&(this.$j||this.Ls)&&(this.ty=WD(this.Zg,this.Ls,this.Gj,this.$j))},at(n,[{key:"Rv",get:function(){var t;return this.Sv||(this.Sv=Fl(jg(t=this),{get content(){return t.Qg},get class(){return t.Zj},get startDate(){return t.WR},get endDate(){return t.Wj},get duration(){return t.vw},get plannedDuration(){return t.tY},get endOnNext(){return t.nY},get scte35Cmd(){return t.eY},get scte35Out(){return t.rY},get scte35In(){return t.uY},get customAttributes(){return t.iY}})),this.Sv}},{key:"Zj",get:function(){return this.zj}},{key:"WR",get:function(){return this.Gj}},{key:"Wj",get:function(){return this.$j}},{key:"vw",get:function(){return this.Ls}},{key:"tY",get:function(){return this.jj}},{key:"nY",get:function(){return this.Yj}},{key:"eY",get:function(){return this.Kj}},{key:"rY",get:function(){return this.Jj}},{key:"uY",get:function(){return this.Qj}},{key:"iY",get:function(){return this.Xj}}]),n}(Qg);function WD(t,n,i,e){return At(n)?t+n:e?t+(In(e.getTime())-In(i.getTime())):1/0}var zD,GD=function(t){function n(){return t.call(this,void 0,void 0,Vg.DATE_RANGE)||this}dt(n,t);var i=n.prototype;return i.cc=function(t,n){!function(t,n,i){for(var e=t.Dl.il,r=function(i){var r=e[i],u=ou(n,function(t){return t.wl===r.wl});u?r.cc(u):t.rT(r)},u=e.length-1;u>=0;u--)r(u);for(var s=0;s<n.length;s++){var o=n[s],c=o.WR;if(void 0!==c&&!t.SG(o.wl)){var h=i(c);t.mT(new qD(o,h))}}}(this,function(t){for(var n=_r(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.wl)){var u=n.get(r.wl),s=gr({},u,ql(r),{iY:gr({},u.iY,r.iY)});n.set(r.wl,s)}else n.set(r.wl,r),i.push(r.wl)}return i.map(function(t){return n.get(t)})}(t),n)},i.mT=function(n){var i,e,r;i=this.Dl.il,e=n,(r=cu(i,function(t){return t.Zj===e.Zj}))&&r.nY&&r.cc({wl:r.wl,Wj:e.WR}),t.prototype.mT.call(this,n)},n}(zO);function $D(t){switch(t.type){case zD.WB:return t.value;case zD.jB:return zl(t.value);case zD.Fz:return ju(t.value);default:return}}function jD(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.WB="daterange-ca-type_string",t.jB="daterange-ca-type_number",t.Fz="daterange-ca-type_arraybuffer"}(zD||(zD={}));var YD,XD,KD,JD=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,r,i,e)||this).oS=void 0,s.hY=void 0,s.oS=n,s.hY=u,s}return dt(n,t),at(n,[{key:"name",get:function(){return this.oS}},{key:"timestamp",get:function(){return this.hY}}]),n}(Pc),QD=function(t){function n(n,i,e,r,u,s,o,c){var h;return(h=t.call(this,n,i,e,r,c)||this).url=void 0,h.status=void 0,h.errorComment=void 0,h.url=u,h.status=s,h.errorComment=o,h}return dt(n,t),n}(JD),ZD=function(){function t(t,n){this.qw=void 0,this.aY=void 0,this.qw=new N_,this.aY=new SO(t,n)}var n=t.prototype;return n.yT=function(t,n,i,e,r,u,s){var o=new HO(t,n,i,e,r,u,s);return this.qw.Qv(o),this.aY.Qv(o),o},n.pT=function(t){this.qw.Zv(t),this.aY.Zv(t),t.et()},n.nl=function(){for(var t=0,n=this.qw.il.slice();t<n.length;t++){n[t].et()}this.qw.nl(),this.aY.nl()},n.et=function(){this.nl(),this.qw.et(),this.aY.et()},at(t,[{key:"Yw",get:function(){return this.qw}}]),t}(),tC=function(t){function n(n,i,e,r,u){var s;(s=t.call(this)||this).fA=0,s.fY=!1,s.XS=void 0,s.KS=void 0,s.dY=void 0,s.vA=!0,s.lA=1,s.Vw=void 0,s.Hw=void 0,s.vY=void 0,s.lY=void 0,s.qw=void 0,s.vT=void 0,s.Ls=void 0,s.wY=Jb.sA(),s.gY=Jb.sA(),s.dA=!1,s.yY=Jb.sA(),s.wA=void 0,s._Y=void 0,s.mY=void 0,s.GW=pw.nw,s.ET=pw.nw,s.Aj=void 0,s.aY=void 0,s.ZS=void 0,s.hG=void 0,s.pY=void 0,s.mA=void 0,s.jS=void 0,s.tR=void 0,s.YG=void 0,s.Oj={mg:0,pg:0,bg:0,kg:0,Tg:0,Eg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.YS=void 0,s.bY=void 0,s.iR=new Nb,s.eR=new Lb,s.setCurrentTime=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Ag.length){n.next=4;break}return s.fA=t,n.next=4,wr.awrap(s.Aj.su("seekablechange"));case 4:s.fA=s.updateCurrentTime(t),s.hG.dG("THEOplayerSetCurrentTime",s.fA),s.wA=!0,s.Jr(new jw(s.fA));case 8:case"end":return n.stop()}},null,null,null,G)},s.kY=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.wY=new Jb(i),s.Jr(new OO(s.dw))}},s.TY=function(t){s.GW=t.detail.readyState,s.Jr(new Kw(+t.detail.currentTime,s.Ol)),s.EY()},s.SY=function(t){s.GW=t.detail.readyState,s.Jr(new Jw(+t.detail.currentTime,s.Ol)),s.EY()},s.RY=function(t){if(t.detail){var n=+t.detail.duration;s.Ls=n,s.Jr(new qw(s.vw))}},s.IY=function(t){t.detail&&(s.fY=!0,s.Jr(new Gw(+t.detail.currentTime)))},s.rR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);jD(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.KS=new QD(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.XS=Sg(s.KS),s.Jr(new Zw(s.KS))):jD(i)&&(s.KS=new JD(i.name,i.message,void 0,i.code,i.timestamp),s.XS=Sg(s.KS),s.Jr(new Zw(s.KS)))}},s.AY=function(t){s.Jr(new NO)},s.NY=function(t){s.GW=t.detail.readyState,s.Jr(new $w(+t.detail.currentTime,s.Ol)),s.EY()},s.OY=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Ag.length){n.next=3;break}return n.next=3,wr.awrap(s.Aj.su("seekablechange"));case 3:s.GW=t.detail.readyState,s.Jr(new Hw(+t.detail.currentTime,s.Ol)),s.EY();case 6:case"end":return n.stop()}},null,null,null,G)},s.DY=function(t){t.detail&&s.vA&&(s.vA=!1,s.Jr(new Fw(+t.detail.currentTime)))},s.CY=function(t){t.detail&&(s.vA||(s.vA=!0,s.Jr(new Bw(+t.detail.currentTime))))},s.PY=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.yY=new Jb(i)}},s.xY=function(t){t.detail&&s.Jr(new om(+t.detail.currentTime))},s.LY=function(t){t.detail&&(s.lA=t.detail.playbackRate,s.Jr(new Ww(+t.detail.currentTime,s.lA)))},s.MY=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.gY=new Jb(i)}},s.BY=function(t){t.detail&&(s.fA=+t.detail.currentTime,s.wA=!1,s.Jr(new zw(s.fA,s.dY)),s.Jr(new Yw(s.fA)))},s.FY=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.Ls&&(s.fY=!1),s.wA=!0,s.Jr(new jw(n))}},s.UY=function(t){t.detail&&(t.detail.currentDate&&(s.dY=new Date(1e3*t.detail.currentDate)),s.fA=+t.detail.currentTime,s.Jr(new zw(s.fA,s.dY)))},s.VY=function(t){s._Y=t.detail.height,s.mY=t.detail.width},s.HY=function(t){t.detail&&s.Jr(new sm(+t.detail.currentTime))},s.qY=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.$w.Qv(new Bg(n))},s.WY=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,u=0;u<s.Vw.ul;u++){var o=s.$w.Jv(u);o.ml==e&&o._l==r?i=s.Vw.Jv(u):1==o.ll&&(n=s.Vw.Jv(u))}i&&n&&(i.ll=!0,n.ll=!1)},s.zY=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.jw.Qv(new Wg(n))},s.GY=function(t){var n,i=t.detail.kind,e=t.detail.type;i===A_.Xm&&e===Vg.ID3?(n=new GO("",t.detail.label)).El=nw.Rl:i===A_.Xm&&e===Vg.DATE_RANGE?(n=new GD,s.bY=n):n=new HO(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),s.vY.Qv(n),s.aY.Qv(n)},s.$Y=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,u={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(u.description=e.Id3FrameDescription);var o=new WO(zl(e.startTime),u,e.uid),c=s.jY();c&&c.mT(o)}},s.YY=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],u=new Zg(zl(r.startTime),zl(r.endTime),r.content,!1),o=null!=(e=s.XY(A_.jm))?e:s.XY(A_.tT);o&&(o._r=Vg.WEBVTT,o.mT(u))}},s.KY=function(t){t.type===Zc._h&&(s.XS=Sg(t.errorObject)),s.Kr(t)},s.JY=function(t){t.detail&&(s.Oj.pg=t.detail.corruptedVideoFrames,s.Oj.mg=t.detail.droppedVideoFrames,s.Jr(new HD(s._g)))},s.QY=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={wl:t.id};if(void 0!==t.startDate&&(n.WR=new Date(t.startDate)),void 0!==t.endDate&&(n.Wj=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var u=$D(t.customAttributes[r]);void 0!==u&&(e[r]=u)}n.iY=e}void 0!==t.scte35Cmd&&(n.eY=ju(t.scte35Cmd)),void 0!==t.scte35In&&(n.uY=ju(t.scte35In)),void 0!==t.scte35Out&&(n.rY=ju(t.scte35Out)),void 0!==t.startTime&&(n.Kg=t.startTime),n.Zj=t.class,n.vw=zl(t.duration),n.tY=zl(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Kg?t.Kg:(new Date).getTime(),e=new qD(t,i);s.bY.mT(e),s.bY.cc(n,i)})};var o=r.uid;s.hG=s.getSdkBridge(o),s.Aj=new hO,ZN()[o].sdkEventBus=s.Aj,s.Vw=new Ag,s.Hw=new Ag;var c=s.ZY(e);return s.vT=new ZD(On(s),new RO),s.aY=new AO(On(s)),s.ZS=new W_(s.vT,c),s.vY=new N_,s.lY=new wD(s.vT,s.vY),s.qw=new Cb([s.vY,s.ZS.qp,s.lY.qp]),s.YG=s.getFairPlayControllerBridge(s.hG),s.jS=new VD(s.Aj,s.YG),s.tR=new Ob(c),s.jS.pR=s.tR,s.observeMediaElement(),s.kR(),s.mA=new DO(s.hG,u),s.mA.Qr("LC",function(){s.hG.dG("THEOplayerSetPreferredForwardBufferDuration",s.mA.xC)}),s}dt(n,t);var i=n.prototype;return i.og=function(){return tk},i.rg=function(){this.hG.dG("THEOplayerShow",{})},i.ug=function(){this.hG.dG("THEOplayerHide",{})},i.tX=function(){var t=this;this.hG.dG("THEOplayerSetInitialPreferredPeakBitRate",this.mA.KC);this.Qr("playing",function n(){t.hG.dG("THEOplayerSetInitialPreferredPeakBitRate",0),t.iu("playing",n)})},i.Qw=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return this.pY=t,i=gr({},n,{sources:{src:t.src,type:yw.Yl,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.hG.dG("THEOplayerSourceChange",i),e={_r:X_.kT,Pl:t.src,_f:t.type,TR:this.ER(t),SR:t.crossOrigin,RR:n.metadata&&n.metadata.title},this.tR.CS(t.contentProtection),u.next=7,wr.awrap(this.jS.sc(e));case 7:this.YS=u.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==Vg.WEBVTT})).length>0&&this.IR(r),Y_(this.Yw),this.tX();case 11:case"end":return u.stop()}},null,this,null,G)},i.ER=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{wc:Hr,MR:[{initDataTypes:[Hr.pr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.X=function(){this.vA=!1,this.Jr(new Fw(this.dw)),this.hG.dG("THEOplayerPlay",{})},i.K=function(){this.vA=!0,this.Jr(new Bw(this.dw)),this.hG.dG("THEOplayerPause",{})},i.sg=function(){},i.nl=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fA=0,this.fY=!1,this.XS=void 0,this.KS=void 0,this.vA=!0,this.lA=1,this.Ls=void 0,this.gY=Jb.sA(),this.wY=Jb.sA(),this._Y=void 0,this.mY=void 0,this.GW=pw.nw,this.ET=pw.nw,this.Vw.nl(),this.Hw.nl(),this.vY.nl(),this.qw.nl(),t.next=19,wr.awrap(this.lY.nl());case 19:return t.next=21,wr.awrap(this.ZS.nl());case 21:return this.vT.nl(),this.aY.nl(),this.pY=void 0,t.next=26,wr.awrap(this.jS.nl());case 26:case"end":return t.stop()}},null,this,null,G)},i.tg=function(){this.hG.dG("THEOplayerShowAirPlayPicker",{})},i.ng=function(){this.hG.dG("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this._g.pg=t.pg,this._g.mg=t.mg},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.nl());case 2:return this.nu(),this.unobserveMediaElement(),this.LR(),this.jS.pR=void 0,t.next=8,wr.awrap(this.jS.Br());case 8:return this.Vw.et(),this.Hw.et(),this.vY.et(),this.qw.et(),t.next=14,wr.awrap(this.lY.et());case 14:return t.next=16,wr.awrap(this.ZS.et());case 16:this.vT.et(),this.aY.et();case 18:case"end":return t.stop()}},null,this,null,G)},i.IR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.ZS.gT(i)}},i.EY=function(){var t=this.ET,n=this.GW;t!==n&&(this.ET=n,this.Jr(new Qw(this.dw,n)))},i.observeMediaElement=function(){this.jS.Qr(Zc.lh,this.Kr),this.jS.Qr([Zc.mh,Zc._h],this.KY),this.Aj.addEventListener("play",this.DY),this.Aj.addEventListener("pause",this.CY),this.Aj.addEventListener("seeking",this.FY),this.Aj.addEventListener("seeked",this.BY),this.Aj.addEventListener("ratechange",this.LY),this.Aj.addEventListener("durationchange",this.RY),this.Aj.addEventListener("timeupdate",this.UY),this.Aj.addEventListener("waiting",this.HY),this.Aj.addEventListener("playing",this.xY),this.Aj.addEventListener("ended",this.IY),this.Aj.addEventListener("loadedmetadata",this.OY),this.Aj.addEventListener("loadeddata",this.NY),this.Aj.addEventListener("loadstart",this.AY),this.Aj.addEventListener("canplay",this.TY),this.Aj.addEventListener("canplaythrough",this.SY),this.Aj.addEventListener("error",this.rR),this.Aj.addEventListener("seekablechange",this.MY),this.Aj.addEventListener("videosizechange",this.VY),this.Aj.addEventListener("bufferedchange",this.kY),this.Aj.addEventListener("playedchange",this.PY),this.Aj.addEventListener("metricschange",this.JY),this.Aj.addEventListener("addDateRangeCues",this.QY)},i.unobserveMediaElement=function(){this.jS.iu(Zc.lh,this.Kr),this.jS.iu([Zc.mh,Zc._h],this.KY),this.Aj.removeEventListener("play",this.DY),this.Aj.removeEventListener("pause",this.CY),this.Aj.removeEventListener("seeking",this.FY),this.Aj.removeEventListener("seeked",this.BY),this.Aj.removeEventListener("ratechange",this.LY),this.Aj.removeEventListener("durationchange",this.RY),this.Aj.removeEventListener("timeupdate",this.UY),this.Aj.removeEventListener("waiting",this.HY),this.Aj.removeEventListener("playing",this.xY),this.Aj.removeEventListener("ended",this.IY),this.Aj.removeEventListener("loadedmetadata",this.OY),this.Aj.removeEventListener("loadeddata",this.NY),this.Aj.removeEventListener("loadstart",this.AY),this.Aj.removeEventListener("canplay",this.TY),this.Aj.removeEventListener("canplaythrough",this.SY),this.Aj.removeEventListener("error",this.rR),this.Aj.removeEventListener("seekablechange",this.MY),this.Aj.removeEventListener("videosizechange",this.VY),this.Aj.removeEventListener("bufferedchange",this.kY),this.Aj.removeEventListener("playedchange",this.PY),this.Aj.removeEventListener("metricschange",this.JY),this.Aj.removeEventListener("addDateRangeCues",this.QY)},i.updateCurrentTime=function(t){var n=this.Ag.start(0),i=this.Ag.end(0);return v.min(v.max(t,n),i)},i.jY=function(){for(var t=0,n=this.qw.il;t<n.length;t++){var i=n[t];if(i.yl===A_.Xm&&i._r===Vg.ID3)return i}},i.XY=function(t){for(var n=0,i=this.qw.il;n<i.length;n++){var e=i[n],r=e.El===nw.Sl,u=e.yl===t;if(r&&u)return e}},i.kR=function(){this.Aj.addEventListener("addaudiotrack",this.qY),this.Aj.addEventListener("enableaudiotrack",this.WY),this.Aj.addEventListener("addvideotrack",this.zY),this.Aj.addEventListener("addtexttrack",this.GY),this.Aj.addEventListener("addtexttrackid3cues",this.$Y),this.Aj.addEventListener("addtexttrackcues",this.YY)},i.LR=function(){this.Aj.removeEventListener("addaudiotrack",this.qY),this.Aj.removeEventListener("enableaudiotrack",this.WY),this.Aj.removeEventListener("addvideotrack",this.zY),this.Aj.removeEventListener("addtexttrack",this.GY),this.Aj.removeEventListener("addtexttrackid3cues",this.$Y),this.Aj.removeEventListener("addtexttrackcues",this.YY)},i.vg=function(){},at(n,[{key:"$w",get:function(){return this.Vw}},{key:"lg",get:function(){return this.wY.UR()}},{key:"wg",get:function(){return this.dY?this.dY:null},set:function(t){this.hG.dG("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.dY=t}},{key:"dw",get:function(){return this.fA},set:function(t){this.setCurrentTime(t)}},{key:"vw",get:function(){return this.Ls}},{key:"lw",get:function(){return this.fY}},{key:"du",get:function(){return this.XS}},{key:"ww",get:function(){return this.KS}},{key:"Xw",get:function(){}},{key:"yg",get:function(){return this.jS.yg}},{key:"_g",get:function(){return this.Oj}},{key:"gw",get:function(){return this.dA},set:function(t){this.dA!==t&&(this.hG.dG("THEOplayerSetMuted",t),this.dA=t,this.Jr(new Xw(this.dw,t?0:1)))}},{key:"yw",get:function(){return this.vA}},{key:"_w",get:function(){return this.lA},set:function(t){this.hG.dG("THEOplayerSetPlaybackRate",t),this.lA=t}},{key:"Rg",get:function(){return this.yY.UR()}},{key:"Ig",get:function(){return Wb.hI},set:function(t){}},{key:"Ol",get:function(){return this.GW}},{key:"Ag",get:function(){return this.gY.UR()}},{key:"mw",get:function(){return this.wA}},{key:"WR",get:function(){}},{key:"Yw",get:function(){return this.qw}},{key:"pw",get:function(){return this._Y}},{key:"bw",get:function(){return this.mY}},{key:"kw",get:function(){return 1},set:function(t){}},{key:"Ng",get:function(){return this.eR}},{key:"jw",get:function(){return this.Hw}},{key:"zR",get:function(){return this.iR}},{key:"Og",get:function(){return!1},set:function(t){}},{key:"Sg",get:function(){return!0}}]),n}(aw),nC=function(){function t(){this.GR=Eb.SS}var n=t.prototype;return n.$R=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if((e=n.type)&&Gr(e.toLowerCase(),yw.jl))return!1;var e,r=n.contentProtection;if(r&&!zm(r)){if(!jm(r))return!1;if(!t.nX(r))return!1}return!0},t.nX=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.jR=function(){return!1},t}(),iC=function(){function n(t){this.playerID=t}return n.prototype.dG=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),eC=function(t){function n(n){var i;return(i=t.call(this)||this).hG=void 0,i.Aj=void 0,i.iX=function(t){var n=ju(t.detail.initData),e=t.detail.sessionId;i.Jr(new sD(n,e))},i.eX=function(t){var n=new y(ts(t.detail.message)),e=t.detail.destinationURL;i.Jr(new oD(n,e))},i.rX=function(t){i.Jr(new cD)},i.forwardKeyFlowDone=function(t){i.Jr(new hD)},i.hG=n,i.Aj=new hO,ZN().fairplayController={sdkEventBus:i.Aj},i.uX(),i}dt(n,t);var i=n.prototype;return i.uX=function(){this.Aj.addEventListener($O.BG,this.iX),this.Aj.addEventListener($O.FG,this.eX),this.Aj.addEventListener($O.UG,this.rX),this.Aj.addEventListener($O.VG,this.forwardKeyFlowDone)},i.$G=function(t,n){var i={playerId:nO(),data:ns(n.buffer),sessionId:t};this.hG.dG("THEOplayerCreateKeySession",i)},i.cc=function(t,n){var i={playerId:nO(),data:ns(n.buffer),sessionId:t};this.hG.dG("THEOplayerUpdateKey",i)},n}(aw),rC=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.Lf=function(n){if(Ms(n.mf)){var i=Bs(n.mf);n.mf=Rs(i)}return t.prototype.Lf.call(this,n)},n}(function(){function t(t){this.lT=void 0,this.lT=t}var n=t.prototype;return n.Lf=function(t){return this.lT.Lf(t)},n.od=function(t){this.lT.od(t)},n.et=function(){this.lT.et()},t}()),uC=function(t){function n(n,i,e,r,u){return t.call(this,n,i,e,r,u)||this}dt(n,t);var i=n.prototype;return i.Zw=function(){return!1},i.getSdkBridge=function(t){return new iC(t)},i.getFairPlayControllerBridge=function(t){return XD||(XD=new eC(t)),XD},i.ZY=function(t){return new rC(t)},n}(tC);YD=new(function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.bE=function(t,n,i,e,r,u){return new uC(t,n,i,e,r)},n}(nC)),qb.ni.ZR(YD),function(t){t.bv="addtrack",t.Tv="removetrack",t.Uv="change",t.Gv="update"}(KD||(KD={}));var sC=function(t,n,i){this.type=KD.Uv,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},oC=function(t,n){this.type=KD.bv,this.mediaType=t,this.mediaTrack=n},cC=function(t,n){this.type=KD.Tv,this.mediaType=t,this.mediaTrack=n},hC=function(t,n){this.type=KD.Gv,this.mediaType=t,this.mediaTrack=n},aC=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.sX=function(t){var n=new sC(e.type,t.track,e.mediaTracks);e.messageDispatcher.oX(n)},this.cX=function(t){var n=new oC(e.type,t.track);e.messageDispatcher.oX(n),t.track.addEventListener("update",e.hX)},this.aX=function(t){var n=new cC(e.type,t.track);e.messageDispatcher.oX(n)},this.hX=function(t){var n=new hC(e.type,t.track);e.messageDispatcher.oX(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.uX()}return t.prototype.uX=function(){this.mediaTracks.addEventListener("change",this.sX),this.mediaTracks.addEventListener("addtrack",this.cX),this.mediaTracks.addEventListener("removetrack",this.aX)},t}(),fC=function(){function t(t){this.fX=void 0,this.fX=new iC(t)}return t.prototype.oX=function(t){this.fX.dG(t.type,FI(t))},t}();IS(function(t){if(t.Rv.audioTracks){var n=new fC(t.gl);new aC("audio",t.Rv.audioTracks,n)}if(t.Rv.videoTracks){var i=new fC(t.gl);new aC("video",t.Rv.videoTracks,i)}});var dC,vC=function(){function t(){this.dX=i.webkit}return t.prototype.dG=function(t,n){this.dX.messageHandlers[t]&&this.dX.messageHandlers[t].postMessage(n)},t}(),lC="nativePromiseCallback",wC=function(t){function n(n){var i;return(i=t.call(this,lC)||this).detail=n,i}return dt(n,t),n}(Pu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(dC||(dC={}));var gC=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Jr(new wC(n))},i.addEventListener=function(t,n){this.Qr(t,n)},i.removeEventListener=function(t,n){this.iu(t,n)},n}(hO),yC=function(){function t(){var t=this;this.fX=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new a("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case dC.RESOLVE:i.Mu(n.detail.data);break;case dC.REJECT:i.Bu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new gC;ZN().nativePromise={sdkEventBus:n},n.addEventListener(lC,this.handleNativePromiseEvent)}return t.prototype.vX=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=gr({},n,{promiseId:e}),u=new qs;return this.promisesMap[e]=u,null==(i=this.fX)||i.dG(n.type,MI(r)),u.Pu},t}();yC.messageIdTracker=-1;var _C,mC=function(t){function n(){var n;return(n=t.call(this)||this).fX=new vC,n}return dt(n,t),n}(yC),pC=function(t){function n(n){var i;return(i=t.call(this)||this).fX=new iC(n),i}return dt(n,t),n}(yC);!function(t){t.bv="TextTrackListAddTrack",t.Tv="TextTrackListRemoveTrack",t.Uv="TextTrackListChange"}(_C||(_C={}));var bC,kC=function(t){this.type=_C.bv,this.textTrack=t},TC=function(t){this.type=_C.Tv,this.textTrack=t},EC=function(t){this.type=_C.Uv,this.textTrack=t};!function(t){t.Nv="TextTrackAddCue",t.Dv="TextTrackRemoveCue",t.Pv="TextTrackEnterCue",t.Lv="TextTrackExitCue",t.Bv="TextTrackCueChange"}(bC||(bC={}));var SC,RC=function(t,n){this.type=bC.Nv,this.textTrackCue=t,this.textTrackUid=n},IC=function(t,n){this.type=bC.Dv,this.textTrackCue=t,this.textTrackUid=n},AC=function(t,n){this.type=bC.Pv,this.textTrackCue=t,this.textTrackUid=n},NC=function(t,n){this.type=bC.Lv,this.textTrackCue=t,this.textTrackUid=n},OC=function(t){this.type=bC.Bv,this.textTrackUid=t};!function(t){t.Gg="TextTrackCueEnter",t.jg="TextTrackCueExit",t.Gv="TextTrackCueUpdate"}(SC||(SC={}));var DC=function(t){this.type=SC.Gg,this.textTrackCue=t},CC=function(t){this.type=SC.jg,this.textTrackCue=t},PC=function(t){this.type=SC.Gv,this.textTrackCue=t},xC=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.lX=function(t){var i=LC(t.cue),e=new DC(i);n.messageDispatcher.vX(e).then()},this.wX=function(t){var i=LC(t.cue),e=new CC(i);n.messageDispatcher.vX(e).then()},this.gX=function(t){var i=LC(t.cue),e=new PC(i);n.messageDispatcher.vX(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.uX=function(t){t.addEventListener("enter",this.lX),t.addEventListener("exit",this.wX),t.addEventListener("update",this.gX)},n.ru=function(t){t.removeEventListener("enter",this.lX),t.removeEventListener("exit",this.wX),t.removeEventListener("update",this.gX)},t}();function LC(t){var n=$N(t,t.track.type);return delete n.track,n}var MC=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.yX=function(t){var n,e=LC(t.cue),r=new RC(e,t.cue.track.uid);i.messageDispatcher.vX(r).then(),null==(n=i.textTrackCueBridge)||n.uX(t.cue)},this._X=function(t){var n,e=LC(t.cue),r=new IC(e,t.cue.track.uid);i.messageDispatcher.vX(r).then(),null==(n=i.textTrackCueBridge)||n.ru(t.cue)},this.lX=function(t){var n=LC(t.cue),e=new AC(n,t.cue.track.uid);i.messageDispatcher.vX(e).then()},this.wX=function(t){var n=LC(t.cue),e=new NC(n,t.cue.track.uid);i.messageDispatcher.vX(e).then()},this.mX=function(t){var n=new OC(t.track.uid);i.messageDispatcher.vX(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new xC(e))}var n=t.prototype;return n.uX=function(t){t.addEventListener("addcue",this.yX),t.addEventListener("removecue",this._X),t.addEventListener("entercue",this.lX),t.addEventListener("exitcue",this.wX),t.addEventListener("cuechange",this.mX)},n.ru=function(t){t.removeEventListener("addcue",this.yX),t.removeEventListener("removecue",this._X),t.removeEventListener("entercue",this.lX),t.removeEventListener("exitcue",this.wX),t.removeEventListener("cuechange",this.mX)},n.initMessageDispatcher=function(t){return St.Jn?new mC:St.Qn&&void 0!==t?new pC(t):void 0},t}(),BC=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.cX=function(t){var n,i=new kC(t.track);e.messageDispatcher.vX(i).then(),null==(n=e.textTrackBridge)||n.uX(t.track)},this.aX=function(t){var n,i=new TC(t.track);e.messageDispatcher.vX(i).then(),null==(n=e.textTrackBridge)||n.ru(t.track)},this.pX=function(t){var n=new EC(t.track);e.messageDispatcher.vX(n).then()},this.bX=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.kX(i);r&&(this.textTrackBridge=new MC(r,i)),this.uX(),this.sdkEventBus=new hO,ZN().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.bX)}var n=t.prototype;return n.uX=function(){this.textTracks.addEventListener("addtrack",this.cX),this.textTracks.addEventListener("removetrack",this.aX),this.textTracks.addEventListener("change",this.pX)},n.kX=function(t){return St.Jn?new mC:St.Qn&&void 0!==t?new pC(t):void 0},t}();IS(function(t){if(t.Rv.textTracks){var n=new pC(t.gl);new BC(t.Rv.textTracks,n,t.gl)}});var FC,UC,VC=function(t){function n(){return t.apply(this,arguments)||this}return dt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case FC.TX:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Jr(new HC(i));break;default:0}},n}(hO),HC=function(t){function n(n){var i;return(i=t.call(this,FC.TX)||this).detail=n,i}return dt(n,t),n}(Pu);!function(t){t.TX="registerContentProtectionIntegration"}(FC||(FC={})),function(t){t.EX="certifiateRequest",t.SX="certifiateResponse",t.RX="licenseRequest",t.IX="licenseResponse",t.AX="extractFairplayContentId",t.NX="buildContentProtection",t.OX="registerContentProtectionCallback"}(UC||(UC={}));var qC,WC,zC=function(t,n){this.type=UC.OX,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(qC||(qC={})),function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(WC||(WC={}));var GC,$C,jC,YC,XC=function(t,n){this.type=UC.NX,this.value=t,this.integrationId=n},KC=function(t,n){this.type=UC.EX,this.value=t,this.integrationId=n},JC=function(t,n){this.type=UC.SX,this.value=t,this.integrationId=n},QC=function(t,n){this.type=UC.AX,this.value=t,this.integrationId=n},ZC=function(t,n){this.type=UC.RX,this.value=t,this.integrationId=n},tP=function(t,n){this.type=UC.IX,this.value=t,this.integrationId=n},nP=function(){function t(t,n){this.DX=void 0,this.kE=void 0,this.DX=t,this.kE=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t),e=new KC(i,this.kE),c.prev=2,c.next=5,wr.awrap(this.DX.vX(e));case 5:if(!(r=c.sent)){c.next=16;break}if(u=JSON.parse(r),!this.CX(u)){c.next=13;break}return s=gr({},u),c.abrupt("return",s);case 13:if(!this.PX(u)){c.next=16;break}return o=new y(u),c.abrupt("return",o);case 16:throw new kg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw c.prev=19,c.t0=c.catch(2),new kg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,c.t0);case 22:case"end":return c.stop()}},null,this,[[2,19]],G)},i.onCertificateResponse=function(t){var i,e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new JC(e,this.kE),o.next=5,wr.awrap(this.DX.vX(r));case 5:if(!(u=o.sent)){o.next=11;break}return s=JSON.parse(u),o.abrupt("return",new y(s));case 11:throw new kg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,G)},i.onLicenseRequest=function(t){var i,e,r,u,s,o,c;return wr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new ZC(e,this.kE),h.prev=3,h.next=6,wr.awrap(this.DX.vX(r));case 6:if(!(u=h.sent)){h.next=17;break}if(s=JSON.parse(u),!this.CX(s)){h.next=14;break}return o={url:s.url,method:s.method,headers:s.headers,body:s.body?new y(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},h.abrupt("return",o);case 14:if(!this.PX(s)){h.next=17;break}return c=new y(s),h.abrupt("return",c);case 17:throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw h.prev=20,h.t0=h.catch(3),new kg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 23:case"end":return h.stop()}},null,this,[[3,20]],G)},i.onLicenseResponse=function(t){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=gr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new tP(r,this.kE),c.next=6,wr.awrap(this.DX.vX(u));case 6:if(!(s=c.sent)){c.next=12;break}return o=JSON.parse(s),c.abrupt("return",new y(o));case 12:throw new kg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return c.stop()}},null,this,null,G)},i.extractFairplayContentId=function(t){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new QC(t,this.kE),r.next=3,wr.awrap(this.DX.vX(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",G.reject(new kg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,G)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.CX=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.PX=function(t){return!!new y(t)},t}(),iP=function(){function t(t){this.DX=void 0,this.DX=t}return t.prototype.build=function(t){if(!t.integration)throw new a("integrationId is undefined");var n=new nP(this.DX,t.integration),i=new XC({drmConfiguration:t},t.integration);return this.DX.vX(i),n},t}(),eP=function(t){function n(n){var i;return(i=t.call(this)||this).DX=void 0,i.DX=new pC(n),i}return dt(n,t),at(n,[{key:"messageDispatcher",get:function(){return this.DX}}]),n}(function(){var t=this;this.Aj=void 0,this.xX=function(n){var i=new iP(t.messageDispatcher),e=n.detail,r=e.integrationId,u=e.keySystem,s={state:Mm.AE.EE(r,u,i)};t.messageDispatcher.vX(new zC(s,r))},this.Aj=new VC,ZN().contentProtectionIntegration={sdkEventBus:this.Aj},this.Aj.addEventListener(FC.TX,this.xX)});IS(function(t){new eP(t.Rv.uid)}),function(t){t.SET_VOLUME="IMA_ADSMANAGER_SET_VOLUME",t.DESTROY="IMA_ADSMANAGER_DESTROY",t.START="IMA_ADSMANAGER_START",t.RESUME="IMA_ADSMANAGER_RESUME",t.PAUSE="IMA_ADSMANAGER_PAUSE",t.SKIP="IMA_ADSMANAGER_SKIP",t.STOP="IMA_ADSMANAGER_STOP"}(GC||(GC={})),function(t){t.VOLUME_UPDATE="IMA_VOLUME_UPDATE",t.REMAINING_TIME_UPDATE="IMA_REMAINING_TIME_UPDATE",t.CURRENT_AD_UPDATE="IMA_CURRENT_AD_UPDATE",t.CUE_POINTS_UPDATE="IMA_CUE_POINTS_UPDATE"}($C||($C={})),function(t){t.CONTENT_COMPLETE="IMA_ADSLOADER_CONTENT_COMPLETE",t.REQUEST_ADS="IMA_ADSLOADER_REQUEST_ADS",t.DESTROY="IMA_ADSLOADER_DESTROY"}(jC||(jC={})),function(t){t.INITIALIZE="IMA_DISPLAY_CONTAINER_INITIALIZE",t.SHOW="IMA_DISPLAY_CONTAINER_SHOW",t.HIDE="IMA_DISPLAY_CONTAINER_HIDE",t.DESTROY="IMA_DISPLAY_CONTAINER_DESTROY"}(YC||(YC={}));var rP,uP=function(){this.type=YC.INITIALIZE},sP=function(){this.type=YC.SHOW},oP=function(){this.type=YC.HIDE},cP=function(){this.type=YC.DESTROY},hP=function(t){function n(){return t.apply(this,arguments)||this}dt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){switch(t){case rP.AD_EVENT_RECEIVED:this.Jr(new dP({type:n.type,ad:n.ad,adData:n.adData}));break;case rP.ERROR:this.Jr(new vP(n));break;case rP.UPDATE_NATIVE_PROPERTY:var i=this.getNativePropertyUpdateEvent(n);i&&this.Jr(i);break;case rP.ADS_LOADER_STATUS:this.Jr(new aP(n));break;case rP.AD_DISPLAY_CONTAINER_CREATED:this.Jr(new fP)}},i.getNativePropertyUpdateEvent=function(t){switch(t.type){case $C.REMAINING_TIME_UPDATE:return new lP(t);case $C.CURRENT_AD_UPDATE:return new wP(t);case $C.CUE_POINTS_UPDATE:return new gP(t)}},n}(hO),aP=function(t){function n(n){var i;return(i=t.call(this,rP.ADS_LOADER_STATUS)||this).detail=n,i}return dt(n,t),n}(Pu),fP=function(t){function n(n){var i;return void 0===n&&(n=void 0),(i=t.call(this,rP.AD_DISPLAY_CONTAINER_CREATED)||this).detail=n,i}return dt(n,t),n}(Pu),dP=function(t){function n(n){var i;return(i=t.call(this,rP.AD_EVENT_RECEIVED)||this).detail=n,i}return dt(n,t),n}(Pu),vP=function(t){function n(n){var i;return(i=t.call(this,rP.ERROR)||this).detail=n,i}return dt(n,t),n}(Pu),lP=function(t){function n(n){var i;return(i=t.call(this,$C.REMAINING_TIME_UPDATE)||this).detail=n,i}return dt(n,t),n}(Pu),wP=function(t){function n(n){var i;return(i=t.call(this,$C.CURRENT_AD_UPDATE)||this).detail=n,i}return dt(n,t),n}(Pu),gP=function(t){function n(n){var i;return(i=t.call(this,$C.CUE_POINTS_UPDATE)||this).detail=n,i}return dt(n,t),n}(Pu);!function(t){t.AD_EVENT_RECEIVED="adEventReceived",t.ERROR="error",t.UPDATE_NATIVE_PROPERTY="updateNativeProperty",t.ADS_LOADER_STATUS="adsLoaderStatus",t.AD_DISPLAY_CONTAINER_CREATED="adDisplayContainerCreated"}(rP||(rP={}));var yP=function(){function t(t,n){var i=this;this.Aj=void 0,this.DX=void 0,this.WW=void 0,this.LX=function(t){var n;null==(n=i.WW)||n.Mu(),i.WW=void 0},this.Aj=t,this.DX=n,this.Aj.addEventListener(rP.AD_DISPLAY_CONTAINER_CREATED,this.LX)}var n=t.prototype;return n.rg=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DX.oX(new sP);case 1:case"end":return t.stop()}},null,this,null,G)},n.ug=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DX.oX(new oP);case 1:case"end":return t.stop()}},null,this,null,G)},n.jC=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.WW=new qs,this.DX.oX(new uP),t.abrupt("return",this.WW.Pu);case 3:case"end":return t.stop()}},null,this,null,G)},n.Br=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DX.oX(new cP),this.WW=void 0;case 2:case"end":return t.stop()}},null,this,null,G)},t}(),_P=function(t){this.type=GC.SET_VOLUME,this.value=t},mP=function(){this.type=GC.DESTROY},pP=function(){this.type=GC.START},bP=function(){this.type=GC.RESUME},kP=function(){this.type=GC.PAUSE},TP=function(){this.type=GC.SKIP},EP=function(){this.type=GC.STOP};function SP(t){if(t){var n=void 0;t.adPodInfo&&(n={YH:t.adPodInfo.adPosition,QV:t.adPodInfo.maxDuration,MX:t.adPodInfo.podIndex,KV:t.adPodInfo.timeOffset,JV:t.adPodInfo.totalAds,BX:t.adPodInfo.isBumper});var i=t.companionAds&&t.companionAds.map(function(t){return{FX:t.adSlotId,Qg:t.content,_f:t.contentType,ub:t.height,by:t.width}})||[],e=t.universalAdIds&&t.universalAdIds.map(function(t){return{Jq:t.adIdRegistry,Qq:t.adIdValue}})||[],r={};try{r=JSON.parse(t.traffickingParametersString)}catch(t){}return{Wq:t.adId,jV:n,Sq:t.adSystem,UX:t.advertiserName,Yq:t.apiFramework,VX:i,_f:t.contentType,Aq:t.creativeId,Kq:t.creativeAdId,HX:t.dealId,gb:t.description,vw:t.duration,by:t.width,ub:t.height,Nq:t.mediaUrl,qX:t.minSuggestedDuration,$q:t.skipTimeOffset,WX:t.surveyUrl,RR:t.title,Oq:r,Dq:t.traffickingParametersString,Tz:t.uiElements,Lq:e,Xq:t.vastMediaBitrate,Gq:t.vastMediaHeight,zq:t.vastMediaWidth,Cq:t.wrapperAdIds,Pq:t.wrapperAdSystems,xq:t.wrapperCreativeIds,vH:t.isLinear}}}var RP=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Aj=void 0,r.DX=void 0,r.zX=void 0,r.GX=function(t){r.zX.remainingTime=t.detail.time},r.$X=function(t){r.zX.currentAd=t.detail.ad},r.jX=function(t){r.zX.cuePoints=t.detail.cuePoints},r.YX=function(t){var n=SP(t.detail.ad),i={type:t.detail.type,date:new Date,bM:n,tH:t.detail.adData};r.Jr(i)},r.eH=function(t){r.Jr({date:new Date,bM:void 0,type:NR.tV,tH:{rH:{hu:t.detail.message,FV:t.detail.vastErrorCode,pM:t.detail.errorCode,_r:t.detail.type,UV:void 0}}})},r.Aj=n,r.DX=i,r.zX={volume:void 0,remainingTime:void 0,currentAd:void 0,cuePoints:e},r.Aj.addEventListener($C.REMAINING_TIME_UPDATE,r.GX),r.Aj.addEventListener($C.CURRENT_AD_UPDATE,r.$X),r.Aj.addEventListener($C.CUE_POINTS_UPDATE,r.jX),r.Aj.addEventListener(rP.AD_EVENT_RECEIVED,r.YX),r.Aj.addEventListener(rP.ERROR,r.eH),r}dt(n,t);var i=n.prototype;return i.PP=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.DX.oX(new _P(t));case 1:case"end":return n.stop()}},null,this,null,G)},i.CP=function(){var t;return null!=(t=this.zX.volume)?t:-1},i.iq=function(){var t;return null!=(t=this.zX.remainingTime)?t:-1},i.Br=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DX.oX(new mP),this.Aj.removeEventListener($C.REMAINING_TIME_UPDATE,this.GX),this.Aj.removeEventListener($C.CURRENT_AD_UPDATE,this.$X),this.Aj.removeEventListener($C.CUE_POINTS_UPDATE,this.jX),this.Aj.removeEventListener(rP.AD_EVENT_RECEIVED,this.YX),this.Aj.removeEventListener(rP.ERROR,this.eH);case 6:case"end":return t.stop()}},null,this,null,G)},i.kI=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DX.oX(new pP);case 1:case"end":return t.stop()}},null,this,null,G)},i.lz=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DX.oX(new bP);case 1:case"end":return t.stop()}},null,this,null,G)},i.K=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DX.oX(new kP);case 1:case"end":return t.stop()}},null,this,null,G)},i.hp=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DX.oX(new TP);case 1:case"end":return t.stop()}},null,this,null,G)},i.Kw=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DX.oX(new EP);case 1:case"end":return t.stop()}},null,this,null,G)},i.Iz=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:G.resolve();case 1:case"end":return t.stop()}},null,null,null,G)},i.iH=function(){return SP(this.zX.currentAd)},i._z=function(){var t;return null!=(t=this.zX.cuePoints)?t:[]},n}(Du),IP=function(t){this.adsResponse=void 0,this.adTagUrl=void 0,this.adWillAutoPlay=void 0,this.adWillPlayMuted=void 0,this.adsResponse=t.kF,this.adTagUrl=t.bF,this.adWillAutoPlay=t.mF,this.adWillPlayMuted=t.pF},AP=function(t){this.enablePreloading=void 0,this.mimeTypes=void 0,this.playAdsAfterTime=void 0,this.loadVideoTimeout=void 0,this.bitrate=void 0,this.enablePreloading=t.Ez,this.mimeTypes=t.kz,this.playAdsAfterTime=t.Rz,this.loadVideoTimeout=t.Sz,this.bitrate=t.Iq},NP=function(){this.type=jC.CONTENT_COMPLETE},OP=function(t,n){this.type=jC.REQUEST_ADS,this.adsRequest=t,this.adsRenderingSettings=n},DP=function(){this.type=jC.DESTROY},CP=function(t){function n(n,i){var e;return(e=t.call(this)||this).XX=void 0,e.DX=void 0,e.Aj=void 0,e.KX=function(t){if(e.XX){if(t.detail.isLoaded){var n,i=new RP(e.Aj,e.DX,t.detail.initialCuePoints);null==(n=e.XX)||n.Mu(i)}else{var r,u={hu:t.detail.error.message,FV:t.detail.error.vastErrorCode,pM:t.detail.error.errorCode,_r:t.detail.error.type,UV:void 0};null==(r=e.XX)||r.Bu(u)}e.XX=void 0}},e.DX=i,e.Aj=n,e.Aj.addEventListener(rP.ADS_LOADER_STATUS,e.KX),e}dt(n,t);var i=n.prototype;return i.wz=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.DX.oX(new NP);case 1:case"end":return t.stop()}},null,this,null,G)},i.TU=function(t,n,i){var e,r;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.XX){n.next=2;break}throw new a("Only one ImaAdsRequest can be made at a time.");case 2:return this.XX=new qs,e=new IP(t),r=new AP(i),this.DX.oX(new OP(e,r)),n.abrupt("return",this.XX.Pu);case 8:case"end":return n.stop()}},null,this,null,G)},i.Br=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Aj.removeEventListener(rP.ADS_LOADER_STATUS,this.KX),this.DX.oX(new DP);case 2:case"end":return t.stop()}},null,this,null,G)},n}(Du),PP=function(){function t(){this.fX=void 0,this.fX=new vC}return t.prototype.oX=function(t){this.fX.dG(t.type,FI(t))},t}();DI.ni.registerNativeImaAdPlayerConstructor(function(t,n,i,e,r){var u=new hP;ZN().ima={sdkEventBus:u};var s=St.Qn?new fC(e.uid):new PP,o=new yP(u,s),c=new CP(u,s);return new OI(t,n,i,e,r,o,c)}),n.ChromelessPlayer=function t(n,i){var e=ng(i),r=new(MS||(MS=SS(MS=zS(bS),gS.wL),MS=SS(MS,gS.gL)),MS)(n,e),u=r.Rv;return r.cL(),r.QL(PS),d.defineProperty(u,"constructor",{value:t}),u=Ml(u),function(t){for(var n=0;n<RS.length;n++)(0,RS[n])(t)}(r),u},n.createGlobals=iO,n.features=["ads"],n.getCueMirrorMap=tO,n.getGlobalId=nO,n.getSdkEventBridge=ZN,n.playerSuiteVersion="2023.1.0",n.players=jS,n.registerContentProtectionIntegration=YS,n.utils=$S,n.version="4.6.0",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
